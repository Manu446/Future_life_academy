;/*FB_PKG_DELIM*/

__d("ClickToWhatsAppAdsPhoneNumberUtils",["PhoneCodesMap"],(function(a,b,c,d,e,f,g){"use strict";var h=/^([17]|2[07]|3[0123469]|4[013456789]|5[12345678]|6[0123456]|8[1246]|9[0123458]|\d{3})\d*?(\d{4,6})$/;function i(a){if(a==null)return null;a=a.replace(/[-+()\s]/g,"");a=h.exec(a);return a&&a[1]?a[1]:null}function j(a){if(a==null)return null;a=a.replace(/[-+()\s]/g,"");var b=i(a)||"";return a.substring(b.length)}function a(a){var b=i(a),c=j(a);return b==null||c==null?a:"+"+b+" "+c}function b(a){return a==null||d("PhoneCodesMap").PhoneCodes[a]==null?null:String(d("PhoneCodesMap").PhoneCodes[a].phone_code)}g.getCountryCodeFromWhatsAppNumber=i;g.getPhoneNumberFromWhatsAppNumber=j;g.getFormattedWhatsAppNumber=a;g.getCountryCodeNumberFromCountryCode=b}),98);
__d("CometComposerFooterPopoverTriggerButton.react",["fbt","ix","FDSButton.react","FDSLazyPopoverTrigger.react","JSResourceForInteraction","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=c("JSResourceForInteraction")("CometComposerAuxiliaryFooterButtonsPopover.react").__setRef("CometComposerFooterPopoverTriggerButton.react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.popoverButtonProps;var e;b[0]!==a?(e=k.jsx(c("FDSLazyPopoverTrigger.react"),{align:"end",popoverProps:{auxiliaryFooterButtonProps:a},popoverResource:l,position:"above",children:m}),b[0]=a,b[1]=e):e=b[1];return e}function m(a,b,e,f,g,j,l,m){return k.jsx(c("FDSButton.react"),{icon:m?d("fbicon")._(i("511153"),16):d("fbicon")._(i("481882"),16),label:h._(/*BTDS*/"__JHASH__vsPR1PMxOLr__JHASH__"),labelIsHidden:!0,onPress:b,ref:a,testid:void 0,type:"secondary"})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometComposerAuxiliaryFooterButtons.react",["CometComposerFooterButton.react","CometComposerFooterPopoverTriggerButton.react","CometRowItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=2;function a(a){var b=d("react-compiler-runtime").c(7);a=a.auxiliaryFooterButtonProps;var e;if(b[0]!==a){e=a.slice(0,j).map(k);if(a.length>j){var f="secondary-icon-"+(e.length-1),g=a.slice(j-1),h;b[2]!==g?(h=i.jsx(c("CometComposerFooterPopoverTriggerButton.react"),{popoverButtonProps:g}),b[2]=g,b[3]=h):h=b[3];b[4]!==f||b[5]!==h?(g=i.jsx(c("CometRowItem.react"),{children:h},f),b[4]=f,b[5]=h,b[6]=g):g=b[6];e[e.length-1]=g}b[0]=a;b[1]=e}else e=b[1];return e}function k(a,b){return i.jsx(c("CometRowItem.react"),{children:i.jsx(c("CometComposerFooterButton.react"),{buttonProps:babelHelpers["extends"]({},a,{labelIsHidden:!0})})},"secondary-icon-"+b)}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("EventCometComposerInterceptionPreviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7440059159438725"}),null);
__d("EventCometComposerInterceptionPreviewDialogQuery$Parameters",["EventCometComposerInterceptionPreviewDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("EventCometComposerInterceptionPreviewDialogQuery_facebookRelayOperation"),metadata:{},name:"EventCometComposerInterceptionPreviewDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("EventCometComposerInterceptionPreviewDialog.entrypoint",["EventCometComposerInterceptionPreviewDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.routeParams;a=a.routeProps;return{queries:{query$key:{parameters:c("EventCometComposerInterceptionPreviewDialogQuery$Parameters"),variables:{postText:a.postText,themePhotoID:b.default_theme_photo_id||""}}}}},root:c("JSResourceForInteraction")("EventCometComposerInterceptionPreviewDialog.react").__setRef("EventCometComposerInterceptionPreviewDialog.entrypoint")};g["default"]=a}),98);
__d("EventCometComposerTaggingInterceptionDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6706232869500276"}),null);
__d("EventCometComposerTaggingInterceptionDialogQuery$Parameters",["EventCometComposerTaggingInterceptionDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("EventCometComposerTaggingInterceptionDialogQuery_facebookRelayOperation"),metadata:{},name:"EventCometComposerTaggingInterceptionDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("EventCometComposerTaggingInterceptionDialog.entrypoint",["EventCometComposerTaggingInterceptionDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{queryReference:{parameters:c("EventCometComposerTaggingInterceptionDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("EventCometComposerTaggingInterceptionDialog.react").__setRef("EventCometComposerTaggingInterceptionDialog.entrypoint")};g["default"]=a}),98);
__d("composerActivityViewStateReducer",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){return babelHelpers["extends"]({},a,{activityMinutiae:void 0})}function h(a,b){return babelHelpers["extends"]({},a,{activityMinutiae:{activityIconURI:b.iconURI,activityID:b.id,activityLegacyID:b.legacyID,activityName:b.activityName,activityPrompt:b.activityPrompt}})}function i(a,b){return babelHelpers["extends"]({},a,{activityMinutiae:{activityID:b.activityID,activityLegacyID:b.activityLegacyID,activityProfileImage:b.profileImage,activitySubtext:b.subtext,activityVerificationBadge:b.verificationBadge,iconURI:b.iconURI,objectID:b.objectID,objectName:b.objectName,source:b.source}})}function a(a,b){switch(b.type){case"REMOVE_ACTIVITY":return g(a,b);case"SELECT_ACTIVITY":return h(a,b);case"SELECT_ACTIVITY_OBJECT":return i(a,b)}return a}f["default"]=a}),66);
__d("EventCometLightweightEditRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9257518470947776"}),null);
__d("EventCometLightweightEditRootQuery$Parameters",["EventCometLightweightEditRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("EventCometLightweightEditRootQuery_facebookRelayOperation"),metadata:{},name:"EventCometLightweightEditRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("EventCometLightweightEditRoot.entrypoint",["EventCometLightweightEditRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.routeParams;return{queries:{query$key:{parameters:b("EventCometLightweightEditRootQuery$Parameters"),variables:{eventID:a.event_id,groupID:a.group_id,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("EventCometLightweightEditRoot.react").__setRef("EventCometLightweightEditRoot.entrypoint")};g["default"]=a}),98);
__d("useCometComposerPushCreateEventPage",["fbt","CometComposerAttachmentPluginTypes","CometComposerPushPageGlimmer.react","CometPlaceholder.react","EventCometLightweightCreateRoot.entrypoint","EventCometLightweightEditRoot.entrypoint","RelayHooks","react","react-compiler-runtime","useCometComposerPushPageWithReducer","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(){var a=d("react-compiler-runtime").c(3),b=c("useCometComposerPushPageWithReducer")(),e=c("useCometRelayEntrypointContextualEnvironmentProvider")(),f;a[0]!==e||a[1]!==b?(f=function(a){var f=a.createEventCallback,g=a.eventID,i=a.extractedEventData;a=a.postText;if(g!=null){var k=d("RelayHooks").loadEntryPoint(e,c("EventCometLightweightEditRoot.entrypoint"),{routeParams:{event_id:g,group_id:null},routeProps:{}});b(h._(/*BTDS*/"__JHASH__cX3-hX3S4AF__JHASH__"),function(a){var b=a.onReturn;return j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("CometComposerPushPageGlimmer.react"),{withPopover:!1}),children:j.jsx(d("RelayHooks").EntryPointContainer,{entryPointReference:k,props:{isComposerSprout:!0,onClose:function(){b()},routeProps:{isDuplicate:!1}}})})},c("CometComposerAttachmentPluginTypes").PUBLISH_EVENT);return}var l=d("RelayHooks").loadEntryPoint(e,c("EventCometLightweightCreateRoot.entrypoint"),{routeParams:{default_location_id:i.locationID,default_theme_photo_id:i.themePhotoID,group_id:null},routeProps:{postText:a}});b(h._(/*BTDS*/"__JHASH__dIfLxdRdSPn__JHASH__"),function(a){var b=a.onReturn;return j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("CometComposerPushPageGlimmer.react"),{withPopover:!1}),children:j.jsx(d("RelayHooks").EntryPointContainer,{entryPointReference:l,props:{createEventCallback:f,entryPoint:"page_composer_interception",extractedEventData:i,isComposerSprout:!0,onClose:function(){b()}}})})},c("CometComposerAttachmentPluginTypes").PUBLISH_EVENT)},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}g.useCometComposerPushCreateEventPage=a}),226);
__d("EventCometLightweightCreatePreviewDialogRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8621764811274619"}),null);
__d("EventCometLightweightCreatePreviewDialogRootQuery$Parameters",["EventCometLightweightCreatePreviewDialogRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("EventCometLightweightCreatePreviewDialogRootQuery_facebookRelayOperation"),metadata:{},name:"EventCometLightweightCreatePreviewDialogRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("EventCometLightweightCreatePreviewDialogRoot.entrypoint",["EventCometLightweightCreatePreviewDialogRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.routeParams;a=a.routeProps;return{queries:{query$key:{parameters:b("EventCometLightweightCreatePreviewDialogRootQuery$Parameters"),variables:{dialogEntryPoint:c.dialog_entry_point,groupID:c.group_id,llmResponseID:c.llm_response_id,locationID:c.default_location_id||"",postText:a.postText,scale:d("WebPixelRatio").get(),themePhotoID:c.default_theme_photo_id||""}}}}},root:c("JSResourceForInteraction")("EventCometLightweightCreatePreviewDialogRoot.react").__setRef("EventCometLightweightCreatePreviewDialogRoot.entrypoint")};g["default"]=a}),98);
__d("useCometComposerPushCreatePreviewEventPage",["fbt","CometComposerAttachmentPluginTypes","CometComposerPushPageGlimmer.react","CometPlaceholder.react","EventCometLightweightCreatePreviewDialogRoot.entrypoint","RelayHooks","react","react-compiler-runtime","useCometComposerPushPageWithReducer","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(){var a=d("react-compiler-runtime").c(3),b=c("useCometComposerPushPageWithReducer")(),e=c("useCometRelayEntrypointContextualEnvironmentProvider")(),f;a[0]!==e||a[1]!==b?(f=function(a){var f=a.createEventCallback,g=a.extractedEventData,i=a.postText,k=d("RelayHooks").loadEntryPoint(e,c("EventCometLightweightCreatePreviewDialogRoot.entrypoint"),{routeParams:{default_location_id:g.locationID,default_theme_photo_id:g.themePhotoID,group_id:null},routeProps:{postText:i}});b(h._(/*BTDS*/"__JHASH__M7G2Xxr2Lld__JHASH__"),function(a){var b=a.onReturn;return j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("CometComposerPushPageGlimmer.react"),{withPopover:!1}),children:j.jsx(d("RelayHooks").EntryPointContainer,{entryPointReference:k,props:{createEventCallback:f,entryPoint:"page_composer_interception",extractedEventData:g,isComposerPage:!0,onClose:function(){b()},postText:i}})})},c("CometComposerAttachmentPluginTypes").PUBLISH_EVENT)},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}g.useCometComposerPushCreatePreviewEventPage=a}),226);
__d("useEventCometComposerInterceptTrigger",["CometComposerFooterAttachmentPluginTypes","CometComposerTaggerPluginTypes","EventCometComposerInterceptionPreviewDialog.entrypoint","EventCometComposerTaggingInterceptionDialog.entrypoint","JSResourceForInteraction","composerActivityStateChecker","composerActivityViewStateReducer","composerTaggerReducer","qex","react-compiler-runtime","useCometComposerPushCreateEventPage","useCometComposerPushCreatePreviewEventPage","useCometDynamicEntryPointDialog","useCometEntryPointDialog","useCometLazyDialog","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("EventCometComposerInterceptionDialog.react").__setRef("useEventCometComposerInterceptTrigger");function a(a){var b=d("react-compiler-runtime").c(9),e=a.sessionID,f=a.targetID,g=d("useCometComposerPushCreateEventPage").useCometComposerPushCreateEventPage(),i=d("useCometComposerPushCreatePreviewEventPage").useCometComposerPushCreatePreviewEventPage();a=c("useCometLazyDialog")(h);var j=a[0],k=c("useCometDynamicEntryPointDialog")(c("EventCometComposerInterceptionPreviewDialog.entrypoint"));b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useCometEntryPointDialog")(c("EventCometComposerTaggingInterceptionDialog.entrypoint"),a);var l=a[0];c("useComposerViewStateReducer")(c("composerActivityViewStateReducer"),c("composerActivityStateChecker"));c("useComposerViewStateReducer")(c("composerTaggerReducer"));b[1]!==j||b[2]!==k||b[3]!==l||b[4]!==g||b[5]!==i||b[6]!==e||b[7]!==f?(a=function(a){var b=a.onContinue,h=a.onHalt,m=a.postText,n=a.response,o=a.viewStateDispatcher;n=(a=n.unified_interception)==null?void 0:a.decision;if(n==null||n.product_type!=="EVENT"){b();return}a=(n==null?void 0:n.auxiliary_data)||{};n=a.address;var p=a.description,q=a.end_time,r=a.external_image_url,s=a.has_data_from_url,t=a.location_id,u=a.photo_id,v=a.should_extract_with_llm,w=a.should_invoke_tagging_intercept,x=a.start_time;a=a.title;var y={description:p,endtime:q,externalImageUrl:r,hasDataFromURL:s,location:t!=null||n!=null?"IN_PERSON":void 0,locationID:t,startTime:x,themePhotoID:u,title:a};p=function(a){h();var b=m!=null&&m.trim()!=="";b=b||y.hasDataFromURL===!0;if(v===!0&&b){i({createEventCallback:function(){return a==null?void 0:a(!0)},extractedEventData:y,postText:m});return}g({createEventCallback:function(){return a==null?void 0:a(!1)},extractedEventData:y,postText:v===!0?m:null})};q=function(a,b,e){h(),o({activityID:b,activityLegacyID:e,objectID:a,source:c("CometComposerTaggerPluginTypes").EVENT,type:"SELECT_ACTIVITY_OBJECT"}),o({taggerType:c("CometComposerTaggerPluginTypes").EVENT,type:"ACTIVATE_TAGGER"}),o({footerAttachmentType:d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.EVENT,type:"ACTIVATE_FOOTER_ATTACHMENT_TYPE"})};if(w===!0){l({handleEventTagging:q,onAgree:p,publishPostHandler:b});return}if(v===!0&&c("qex")._("1471")===!0){k({routeParams:{default_theme_photo_id:y.themePhotoID},routeProps:{postText:m}},{extractedEventData:y,interceptionEntryPoint:"profile_plus_feed",onAgree:p,onHalt:h,pageID:f,postText:v===!0?m:null,publishPostHandler:b,sessionID:e});return}j({extractedEventData:y,interceptionEntryPoint:"profile_plus_feed",onAgree:p,onHalt:h,pageID:f,postText:v===!0?m:null,publishPostHandler:b,sessionID:e})},b[1]=j,b[2]=k,b[3]=l,b[4]=g,b[5]=i,b[6]=e,b[7]=f,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("CometComposerEventsInterceptDefinition",["useEventCometComposerInterceptTrigger"],(function(a,b,c,d,e,f,g){"use strict";a={getIsEligible:function(a){return!0},interceptHandler:c("useEventCometComposerInterceptTrigger"),serverName:"EVENT",sproutName:"EVENT"};g["default"]=a}),98);
__d("CometComposerFooterAddOnFilterer.react",["react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4);a=a.children;var e;b[0]!==a?(e=i.Children.toArray(a),b[0]=a,b[1]=e):e=b[1];a=e;a.length>1&&c("recoverableViolation")("Conditions to render multiple footer add-ons were met!","comet_composer");e=a.length===0?null:a[0];b[2]!==e?(a=i.jsx(i.Fragment,{children:e}),b[2]=e,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("CometComposerLocalAlertStrings",["fbt","CometLink.react","FDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(){return"/business/help/626587208260920"}function a(){return h._(/*BTDS*/"__JHASH__Y6ArvwgmI4e__JHASH__",[h._param("learn_more_link",j.jsx(c("CometLink.react"),{href:"/business/help/1064049677089136?id=1549080658590154",target:"_blank",children:j.jsx(c("FDSText.react"),{color:"blueLink",type:"bodyLink3",children:h._(/*BTDS*/"__JHASH__QInZf6NMv6J__JHASH__")})}))])}a.displayName=a.name+" [from "+f.id+"]";function b(a){switch(a){case"default":return h._(/*BTDS*/"__JHASH__nNaknf3Ltw4__JHASH__");case"weather":return h._(/*BTDS*/"__JHASH__02PF_STMhLL__JHASH__");case"transit":return h._(/*BTDS*/"__JHASH__HLn_Q6rwa_V__JHASH__");case"public_safety":return h._(/*BTDS*/"__JHASH__kbSf9iQpCpp__JHASH__");case"missing_person":return h._(/*BTDS*/"__JHASH__Qk5SBp9ewZv__JHASH__");case"service_interruption":return h._(/*BTDS*/"__JHASH__EryJJktUYxv__JHASH__");case"voting":return h._(/*BTDS*/"__JHASH__dQeEJTtSYSe__JHASH__");case"covid":return h._(/*BTDS*/"__JHASH__orknx93I1Kj__JHASH__");default:return""}}function e(a){switch(a){case"default":return h._(/*BTDS*/"__JHASH__x8aBFEro8ir__JHASH__");case"weather":return h._(/*BTDS*/"__JHASH__3AmYCUO6kwq__JHASH__");case"transit":return h._(/*BTDS*/"__JHASH__zV91_V4-tWT__JHASH__");case"public_safety":return h._(/*BTDS*/"__JHASH__4aYzhoi2KnT__JHASH__");case"missing_person":return h._(/*BTDS*/"__JHASH__tCv8B0MVykj__JHASH__");case"service_interruption":return h._(/*BTDS*/"__JHASH__oSamy0zFMk9__JHASH__");default:return""}}function l(a){switch(a){case"default":return null;case"weather":return h._(/*BTDS*/"__JHASH__a8f0PgZd0-G__JHASH__");case"transit":return h._(/*BTDS*/"__JHASH__icsrBqQNesO__JHASH__");case"public_safety":return h._(/*BTDS*/"__JHASH__P5tDa2R_ZCA__JHASH__");case"missing_person":return h._(/*BTDS*/"__JHASH__eB5-EQwf2GC__JHASH__");case"service_interruption":return h._(/*BTDS*/"__JHASH__elibJTcLci0__JHASH__");default:return""}}function m(){return h._(/*BTDS*/"__JHASH__rWDl5oBO6UI__JHASH__")}m.displayName=m.name+" [from "+f.id+"]";function n(){return h._(/*BTDS*/"__JHASH__5Y-XhX-Hsj5__JHASH__")}n.displayName=n.name+" [from "+f.id+"]";function o(){return h._(/*BTDS*/"__JHASH__Sou6QDIeczR__JHASH__")}o.displayName=o.name+" [from "+f.id+"]";function p(a){switch(a){case"voting":return h._(/*BTDS*/"__JHASH__nT8iw57uw2r__JHASH__");default:return h._(/*BTDS*/"__JHASH__QJ1tmiTuomL__JHASH__")}}function q(){return h._(/*BTDS*/"__JHASH__TjgjN883bk1__JHASH__")}q.displayName=q.name+" [from "+f.id+"]";function r(){return h._(/*BTDS*/"__JHASH__rlE6M_QwlYI__JHASH__")}r.displayName=r.name+" [from "+f.id+"]";function s(a){switch(a){case"voting":return h._(/*BTDS*/"__JHASH__JOq8jq4ScPC__JHASH__",[h._param("learn_more_link",j.jsx(c("CometLink.react"),{href:k(),target:"_blank",children:j.jsx(c("FDSText.react"),{color:"blueLink",type:"bodyLink3",children:h._(/*BTDS*/"__JHASH__w-18htciIo6__JHASH__")})}))]);default:return h._(/*BTDS*/"__JHASH__QbDZubkkSP6__JHASH__",[h._param("learn_more_link",j.jsx(c("CometLink.react"),{href:"/business/help/347939405788447?id=1549080658590154",target:"_blank",children:j.jsx(c("FDSText.react"),{color:"blueLink",type:"bodyLink3",children:h._(/*BTDS*/"__JHASH__vXWic_aOT2e__JHASH__")})}))])}}function t(a,b){switch(a){case"voting":return h._(/*BTDS*/"__JHASH__kIjuA3ihH5c__JHASH__");default:return h._(/*BTDS*/"__JHASH__-oYGC9qfu21__JHASH__")}}function u(a){switch(a){case"voting":return h._(/*BTDS*/"__JHASH__ZvVyMHP2-V0__JHASH__");default:return h._(/*BTDS*/"__JHASH__DeMZcLadO4Q__JHASH__")}}function v(){return h._(/*BTDS*/"__JHASH__wrJzeTMWFOZ__JHASH__")}v.displayName=v.name+" [from "+f.id+"]";function w(){return h._(/*BTDS*/"__JHASH__EnruzUFsTKi__JHASH__")}w.displayName=w.name+" [from "+f.id+"]";function x(){return h._(/*BTDS*/"__JHASH__qHIByHBzd05__JHASH__")}x.displayName=x.name+" [from "+f.id+"]";function y(){return h._(/*BTDS*/"__JHASH__qiL6Vjk54Ge__JHASH__")}y.displayName=y.name+" [from "+f.id+"]";function z(a,b,c,d,e){switch(b){case"country":return h._(/*BTDS*/"__JHASH__OCPx28ZTPvM__JHASH__",[h._param("location",c)]);case"region":if(a==="country")return h._(/*BTDS*/"__JHASH__dpmDZMOlUvZ__JHASH__",[h._param("location",c)]);if(a==="region")if(e)return h._(/*BTDS*/"__JHASH__HJbPHJwdbbZ__JHASH__",[h._param("location",c)]);else return h._(/*BTDS*/"__JHASH__OCPx28ZTPvM__JHASH__",[h._param("location",c)]);break;case"county":if(a==="county")return h._(/*BTDS*/"__JHASH__OCPx28ZTPvM__JHASH__",[h._param("location",c)]);else if(a==="region"||a==="country")switch(d){case"parish":return h._(/*BTDS*/"__JHASH__25RlY5ocwYk__JHASH__",[h._param("location",c)]);case"county":return h._(/*BTDS*/"__JHASH__jdv2fSnJRbv__JHASH__",[h._param("location",c)]);case"district":return h._(/*BTDS*/"__JHASH__9DewDcYUPQJ__JHASH__",[h._param("location",c)])}break;case"city":if(a==="region"||a==="county"||a==="country")if(e)return h._(/*BTDS*/"__JHASH__0ofcr4IrC6d__JHASH__",[h._param("location",c)]);else return h._(/*BTDS*/"__JHASH__fq30Wpm3ZJX__JHASH__",[h._param("location",c)]);else if(a==="city")return h._(/*BTDS*/"__JHASH__a4KtEv6fJP8__JHASH__",[h._param("location",c)]);break;case"area":return h._(/*BTDS*/"__JHASH__W2ou9KgjgR9__JHASH__",[h._param("location",c)])}return null}function A(a){switch(a){case"voting":return h._(/*BTDS*/"__JHASH__4-SEb9cyECc__JHASH__");default:return h._(/*BTDS*/"__JHASH__gwSahVFW8Oi__JHASH__")}}function B(){return h._(/*BTDS*/"__JHASH__KInSj4Q2EAI__JHASH__")}B.displayName=B.name+" [from "+f.id+"]";function C(a,b,c,d,e){switch(b){case"region":return h._(/*BTDS*/"__JHASH__AVPCU3uRmdR__JHASH__",[h._enum(e?"placeholder":"label",{label:"Selected states",placeholder:"Select states"})]);case"city":if(a==="region"||a==="county"||a==="country")if(d)return h._(/*BTDS*/"__JHASH__79AKOdD3AtT__JHASH__",[h._enum(e?"placeholder":"label",{label:"Selected cities",placeholder:"Select cities"})]);else return h._(/*BTDS*/"__JHASH__LbJYbSw-dmO__JHASH__",[h._enum(e?"placeholder":"label",{label:"Selected local areas",placeholder:"Select local areas"})]);else if(a==="city")if(d)return h._(/*BTDS*/"__JHASH__jgGySosLTBH__JHASH__",[h._enum(e?"placeholder":"label",{label:"Selected city",placeholder:"Select city"})]);else return h._(/*BTDS*/"__JHASH__ui2-bpC-Cpu__JHASH__",[h._enum(e?"placeholder":"label",{label:"Selected local area",placeholder:"Select local area"})]);break;case"county":if(a==="region"||a==="country")switch(c){case"parish":return h._(/*BTDS*/"__JHASH__MD5TJ_E24gE__JHASH__",[h._enum(e?"placeholder":"label",{label:"Selected parishes",placeholder:"Select parishes"})]);case"county":return h._(/*BTDS*/"__JHASH__IkbuGXZU6oU__JHASH__",[h._enum(e?"placeholder":"label",{label:"Selected counties",placeholder:"Select counties"})]);case"district":return h._(/*BTDS*/"__JHASH__sHgA8wKoAmE__JHASH__",[h._enum(e?"placeholder":"label",{label:"Selected districts",placeholder:"Select districts"})])}break}return null}function D(a,b,c,d){switch(b){case"city":if(a==="region"||a==="county")if(d)return h._(/*BTDS*/"__JHASH___BaOoNYiIrM__JHASH__");else return h._(/*BTDS*/"__JHASH__JtnLcfGGrBr__JHASH__");else if(a==="city")if(d)return h._(/*BTDS*/"__JHASH__JFXnsbTtSV0__JHASH__");else return h._(/*BTDS*/"__JHASH__SSF4a6_iu-p__JHASH__");break;case"county":if(a==="region")switch(c){case"parish":return h._(/*BTDS*/"__JHASH__i4DxhF_da9B__JHASH__");case"county":return h._(/*BTDS*/"__JHASH__DKHipj2InSZ__JHASH__");case"district":return h._(/*BTDS*/"__JHASH__cCoLjzf52bE__JHASH__")}break}return null}function E(a){a=Math.floor(a/60);var b=Math.floor(a/60);a%=60;if(b>0&&a>0)return h._(/*BTDS*/"__JHASH__U-kvOGzjdMB__JHASH__",[h._plural(b,"hour"),h._plural(a,"min")]);else if(b>0)return h._(/*BTDS*/"__JHASH__ZkZxEYCn820__JHASH__",[h._plural(b,"number")]);return h._(/*BTDS*/"__JHASH__YJCGCLO3zNy__JHASH__",[h._plural(a,"number")])}E.displayName=E.name+" [from "+f.id+"]";function F(a){switch(a){case"voting":return h._(/*BTDS*/"__JHASH__QGuQJL0gTAy__JHASH__");default:return h._(/*BTDS*/"__JHASH__RIM6NQSNZd5__JHASH__")}}function G(){return h._(/*BTDS*/"__JHASH__o7dmXeen6Nt__JHASH__")}function H(){return h._(/*BTDS*/"__JHASH__nk4OxMBPJBc__JHASH__",[h._param("see_guidelines_link",j.jsx(c("CometLink.react"),{href:k(),target:"_blank",children:j.jsx(c("FDSText.react"),{color:"blueLink",type:"bodyLink4",children:h._(/*BTDS*/"__JHASH__rwnz5HIXF8r__JHASH__")})}))])}H.displayName=H.name+" [from "+f.id+"]";g.votingAlertsHelpPage=k;g.composerAlertTypeBody=a;g.composerAlertTypeInlineName=b;g.composerAlertTypeName=e;g.composerAlertTypeListCellBody=l;g.composerAlertTypePlaceholderLabel=m;g.composerAlertTypeTitle=n;g.composerCancelButtonTitle=o;g.composerDurationBody=p;g.composerDurationPlaceholderLabel=q;g.composerDurationTitle=r;g.composerHeaderBody=s;g.composerHeaderTitle=t;g.composerNavigationHeaderTitle=u;g.composerNextButtonTitle=v;g.composerSaveButtonTitle=w;g.composerAlertElectionDateTitle=x;g.composerAlertElectionDateBody=y;g.composerScopeTargetingLabel=z;g.composerScopeSubtitle=A;g.composerScopeTitle=B;g.composerTypeaheadLabel=C;g.composerTypeaheadPlaceholder=D;g.getFBTForSeconds=E;g.getComposerHeader=F;g.getVotingTargetingWarningHeader=G;g.getVotingTargetingWarningBody=H}),226);
__d("getProductVariantForAlertType",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case"voting":return"voting";default:return"default"}}f["default"]=a}),66);
__d("useCometComposerPushLocalAlertPage",["CometComposerLocalAlertStrings","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime","useCometComposerPushPage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerLocalAlertContainer.react").__setRef("useCometComposerPushLocalAlertPage"));function a(a,b,e){var f=d("react-compiler-runtime").c(5),g=c("useCometComposerPushPage")(),h;f[0]!==a||f[1]!==e||f[2]!==g||f[3]!==b?(h=function(){a!=null&&g(d("CometComposerLocalAlertStrings").getComposerHeader(e),function(c){c=c.onReturn;return i.jsx(j,{entryPoint:"sprout",onReturn:c,pageId:a,productVariant:e,sessionID:b})},{hasCustomHeader:!0})},f[0]=a,f[1]=e,f[2]=g,f[3]=b,f[4]=h):h=f[4];return h}g["default"]=a}),98);
__d("CometComposerLocalAlertAttachmentFooter.react",["fbt","CometComposerLocalAlertStrings","CometPressable.react","FDSText.react","getProductVariantForAlertType","intlList","react","react-compiler-runtime","useCometComposerPushLocalAlertPage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.localAlert;a=a.sessionID;e=e;var f;b[0]!==e.alertType?(f=c("getProductVariantForAlertType")(e.alertType),b[0]=e.alertType,b[1]=f):f=b[1];f=f;a=c("useCometComposerPushLocalAlertPage")(e.pageID,a,f);f=e.expirationTime/3600;var g;b[2]!==e.geoAreas?(g=c("intlList")(e.geoAreas.map(k)),b[2]=e.geoAreas,b[3]=g):g=b[3];g=g;var i;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x1d52u69 xktsk01 xz9dl7a"},b[4]=i):i=b[4];b[5]!==f||b[6]!==e.alertType||b[7]!==g||b[8]!==a?(i=j.jsx("div",babelHelpers["extends"]({},i,{children:j.jsx(c("FDSText.react"),{align:"center",color:"secondary",type:"body4",children:h._(/*BTDS*/"__JHASH__BkMImbk89YG__JHASH__",[h._plural(f),h._param("alert type",d("CometComposerLocalAlertStrings").composerAlertTypeInlineName(e.alertType)),h._param("expiration_time",f),h._param("locations",g),h._param("edit_link",j.jsx(c("CometPressable.react"),{onPress:a,children:j.jsx(c("FDSText.react"),{color:"blueLink",type:"bodyLink4",children:h._(/*BTDS*/"__JHASH__DuoFLqKmH8e__JHASH__")})}))])})})),b[5]=f,b[6]=e.alertType,b[7]=g,b[8]=a,b[9]=i):i=b[9];return i}function k(a){a=a.rawData;return a.title}g["default"]=a}),226);
__d("CometComposerFooterAddOn.react",["CometComposerFooterAddOnFilterer.react","CometComposerLocalAlertAttachmentFooter.react","react","react-compiler-runtime","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.localAlert;a=a.sessionID;var f;b[0]!==e||b[1]!==a?(f=c("CometComposerLocalAlertAttachmentFooter.react")!=null&&e&&i.jsx(c("CometComposerLocalAlertAttachmentFooter.react"),{localAlert:e,sessionID:a}),b[0]=e,b[1]=a,b[2]=f):f=b[2];b[3]!==f?(e=i.jsx(c("CometComposerFooterAddOnFilterer.react"),{children:f}),b[3]=f,b[4]=e):e=b[4];return e}b=c("withComposerViewStatePart")(a,function(a){return{localAlert:(a=a.localAlert)==null?void 0:a.newAlert}});g["default"]=b}),98);
__d("CometComposerFooterButtonType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SCHEDULE","STARS"]);c=a;f["default"]=c}),66);
__d("CometComposerFooterButtons_composer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerFooterButtons_composer",selections:[{args:null,kind:"FragmentSpread",name:"useCometComposerAuxiliaryFooterButtonsFromRelay_composer"},{args:null,kind:"FragmentSpread",name:"CometComposerPrimaryFooterButton_composer"}],type:"ICometComposer",abstractKey:"__isICometComposer"};e.exports=a}),null);
__d("CometComposerPrimaryFooterButton_composer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerPrimaryFooterButton_composer",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"PabO6"}],concreteType:null,kind:"LinkedField",name:"footer_primary_button",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometComposerPrimaryFooterButton_composer",fragmentName:"FeedCometComposerFooterTwoStepAdminXPostingNextButton_footer",fragmentPropName:"footer",kind:"ModuleImport"}],type:"FeedCometComposerFooterPostAndNextSubmitButton",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometComposerPrimaryFooterButton_composer",fragmentName:"FeedCometComposerFooterTwoStepCreatorComposerNextButton_footer",fragmentPropName:"footer",kind:"ModuleImport"}],type:"FeedCometComposerFooterCreatorComposerNextButton",abstractKey:null}],storageKey:'footer_primary_button(supported:"PabO6")'}],type:"ICometComposer",abstractKey:"__isICometComposer"};e.exports=a}),null);
__d("CometComposerPrimaryFooterButton.react",["CometComposerFooterButton.react","CometComposerPrimaryFooterButton_composer.graphql","CometRelay","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react"),k=h!==void 0?h:h=b("CometComposerPrimaryFooterButton_composer.graphql");function a(a){var b=d("react-compiler-runtime").c(6),e=a.composer$key,f=a.isPostButtonDisabled,g=a.onPressPost;a=a.postButtonLabel;e=d("CometRelay").useFragment(k,e);var h=e.footer_primary_button,i;b[0]!==e.footer_primary_button||b[1]!==h||b[2]!==f||b[3]!==g||b[4]!==a?(i=h!=null?j.jsx(d("CometRelay").MatchContainer,{match:e.footer_primary_button,props:{footerPrimaryButton:h,isPostButtonDisabled:f,onPressPost:g,postButtonLabel:a}}):j.jsx(c("CometComposerFooterButton.react"),{buttonProps:{disabled:f,label:a,onPress:g,testid:"comet-composer-post-button",type:"primary"}}),b[0]=e.footer_primary_button,b[1]=h,b[2]=f,b[3]=g,b[4]=a,b[5]=i):i=b[5];return i}g["default"]=a}),98);
__d("useCometComposerAuxiliaryFooterButtonsFromRelay_composer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometComposerAuxiliaryFooterButtonsFromRelay_composer",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1Uo1Qq"}],concreteType:null,kind:"LinkedField",name:"auxiliary_footer_buttons",plural:!0,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"useCometComposerAuxiliaryFooterButtonsFromRelay_composer",fragmentName:"useFeedCometComposerScheduleButtonProps_auxiliaryButton",fragmentPropName:"auxiliaryButton",kind:"ModuleImport"}],type:"FeedCometComposerFooterScheduleButton",abstractKey:null}],storageKey:'auxiliary_footer_buttons(supported:"1Uo1Qq")'}],type:"ICometComposer",abstractKey:"__isICometComposer"};e.exports=a}),null);
__d("useCometComposerAuxiliaryFooterButtonsFromRelay",["CometRelay","FBLogger","react-compiler-runtime","useCometComposerAuxiliaryFooterButtonsFromRelay_composer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useCometComposerAuxiliaryFooterButtonsFromRelay_composer.graphql");function a(a){var b=d("react-compiler-runtime").c(4),e=a.composer$key,f=a.onPressPost;a=d("CometRelay").useFragment(i,e);var g=a.auxiliary_footer_buttons;if(g==null){c("FBLogger")("comet_composer").mustfix("footerButtons must be an array of footer button hooks");b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=[],b[0]=e):e=b[0];return e}b[1]!==g||b[2]!==f?(a=d("CometRelay").ModuleResource.readAll(g).filter(Boolean).map(function(a,b){return a({auxiliaryFooterButtonProp:g[b],onPressPost:f})}),b[1]=g,b[2]=f,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useIsContentIneligibleForPosting",["useComposerValidationErrors"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useComposerValidationErrors")();return Object.keys(a).length>0}g["default"]=a}),98);
__d("CometComposerFooterButtons.react",["CometComposerAuxiliaryFooterButtons.react","CometComposerFooterButtons_composer.graphql","CometComposerOnSubmitContext","CometComposerPrimaryFooterButton.react","CometRelay","CometRow.react","CometRowItem.react","react","react-compiler-runtime","useCometComposerAuxiliaryFooterButtonsFromRelay","useIsContentIneligibleForPosting","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l=h!==void 0?h:h=b("CometComposerFooterButtons_composer.graphql");function a(a){var b=d("react-compiler-runtime").c(13),e=a.composer$key,f=a.isDirty,g=a.isEmpty,h=a.onPressPost;a=a.postButtonLabel;var i=c("useIsContentIneligibleForPosting")(),m=k(c("CometComposerOnSubmitContext"));m=m.isSaving;m=m===!0||g===!0||f===!1||i;g=d("CometRelay").useFragment(l,e);b[0]!==g||b[1]!==h?(f={composer$key:g,onPressPost:h},b[0]=g,b[1]=h,b[2]=f):f=b[2];i=c("useCometComposerAuxiliaryFooterButtonsFromRelay")(f);b[3]!==g||b[4]!==m||b[5]!==h||b[6]!==a?(e=j.jsx(c("CometRowItem.react"),{expanding:!0,children:j.jsx(c("CometComposerPrimaryFooterButton.react"),{composer$key:g,isPostButtonDisabled:m,onPressPost:h,postButtonLabel:a})},"primary"),b[3]=g,b[4]=m,b[5]=h,b[6]=a,b[7]=e):e=b[7];b[8]!==i?(f=j.jsx(c("CometComposerAuxiliaryFooterButtons.react"),{auxiliaryFooterButtonProps:i}),b[8]=i,b[9]=f):f=b[9];b[10]!==e||b[11]!==f?(g=j.jsxs(c("CometRow.react"),{align:"justify",expanding:!0,paddingHorizontal:16,paddingTop:16,paddingVertical:0,spacing:8,verticalAlign:"center",wrap:"none",children:[e,f]}),b[10]=e,b[11]=f,b[12]=g):g=b[12];return g}e=c("withComposerViewStatePart")(a,function(a){return{isDirty:a.isDirty,isEmpty:(a=a.isEmptyMetaData)==null?void 0:a.isEmpty}});g["default"]=e}),98);
__d("CometComposerPostButtonTextConstants",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*BTDS*/"__JHASH__MjcsxwXUGOF__JHASH__");b=h._(/*BTDS*/"__JHASH__61JyjET0nHN__JHASH__");g.POST_TEXT=a;g.SAVE_TEXT=b}),226);
__d("getPostButtonText",["CometComposerPostButtonTextConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.postButtonLabelOverride;a=a.storyID;if(b!=null)return b;return a!=null?d("CometComposerPostButtonTextConstants").SAVE_TEXT:d("CometComposerPostButtonTextConstants").POST_TEXT}g["default"]=a}),98);
__d("CometComposerFooterFallback.react",["CometComposerOnSubmitContext","CometRow.react","CometRowItem.react","FDSButton.react","getPostButtonText","react","react-compiler-runtime","useIsContentIneligibleForPosting","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=d("react-compiler-runtime").c(7),e=a.isDirty,f=a.isEmpty,g=a.onPressPost,h=a.postButtonLabelOverride;a=a.storyID;var k=c("useIsContentIneligibleForPosting")(),l=j(c("CometComposerOnSubmitContext"));l=l.isSaving;var m;b[0]!==h||b[1]!==a?(m=c("getPostButtonText")({postButtonLabelOverride:h,storyID:a}),b[0]=h,b[1]=a,b[2]=m):m=b[2];h=m;a=l===!0||f===!0||e===!1||k;b[3]!==g||b[4]!==h||b[5]!==a?(m=i.jsx(c("CometRow.react"),{align:"justify",expanding:!0,paddingHorizontal:16,paddingTop:16,paddingVertical:0,spacing:8,verticalAlign:"center",wrap:"none",children:i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsx(c("FDSButton.react"),{disabled:a,label:h,onPress:g,testid:void 0,type:"primary"})})}),b[3]=g,b[4]=h,b[5]=a,b[6]=m):m=b[6];return m}b=c("withComposerViewStatePart")(a,function(a){var b;return{isDirty:a.isDirty,isEmpty:(b=a.isEmptyMetaData)==null?void 0:b.isEmpty,postButtonLabelOverride:a==null?void 0:a.submitText}});g["default"]=b}),98);
__d("useGetMessagesCometComposerInterceptTrigger",["CometComposerFooterAttachmentPluginTypes","JSResourceForInteraction","composerFooterAttachmentAreaChecker","composerFooterAttachmentAreaReducer","composerGetMessagesChecker","composerGetMessagesReducer","react-compiler-runtime","useCometLazyDialog","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("MessagingCometPagesComposerInterceptionDialog.react").__setRef("useGetMessagesCometComposerInterceptTrigger");function a(a){var b=d("react-compiler-runtime").c(4),e=a.sessionID,f=a.targetID;a=c("useCometLazyDialog")(h);var g=a[0];c("useComposerViewStateReducer")(d("composerFooterAttachmentAreaReducer").composerFooterAttachmentAreaReducer,c("composerFooterAttachmentAreaChecker"));c("useComposerViewStateReducer")(c("composerGetMessagesReducer"),c("composerGetMessagesChecker"));b[0]!==g||b[1]!==e||b[2]!==f?(a=function(a){var b=a.onContinue,c=a.onHalt,h=a.viewState,i=a.viewStateDispatcher;if(h.isGetMessagesPost===!0){b();return}a=function(){i({isGetMessagesPostAttachmentOptional:!0,type:"MESSAGING_ADD_GET_MESSAGES_BUTTON"}),i({footerAttachmentType:d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_MESSAGES,type:"ACTIVATE_FOOTER_ATTACHMENT_TYPE"}),window.setTimeout(function(){return c()},0)};g({interceptionEntryPoint:"profile_plus_feed",onAgree:a,onContinue:b,pageID:f,sessionID:e})},b[0]=g,b[1]=e,b[2]=f,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("CometComposerGetMessagesInterceptDefinition",["useGetMessagesCometComposerInterceptTrigger"],(function(a,b,c,d,e,f,g){"use strict";a={getIsEligible:function(a){return!0},interceptHandler:c("useGetMessagesCometComposerInterceptTrigger"),serverName:"MESSAGEPAGE",sproutName:"GET_MESSAGES"};g["default"]=a}),98);
__d("CometComposerGetWhatsAppMessagesVerificationFlowQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6315184625264773"}),null);
__d("CometComposerGetWhatsAppMessagesVerificationFlowQuery.graphql",["CometComposerGetWhatsAppMessagesVerificationFlowQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID"}],c=[{alias:null,args:null,concreteType:"ClickToWhatsAppAdsInfo",kind:"LinkedField",name:"click_to_whatsapp_ads_info",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"page_id",variableName:"pageID"}],concreteType:"DefaultWhatsAppNumberDetails",kind:"LinkedField",name:"default_whatsapp_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"phone_number",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometComposerGetWhatsAppMessagesVerificationFlowQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometComposerGetWhatsAppMessagesVerificationFlowQuery",selections:c},params:{id:b("CometComposerGetWhatsAppMessagesVerificationFlowQuery_facebookRelayOperation"),metadata:{},name:"CometComposerGetWhatsAppMessagesVerificationFlowQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometLeadGenNativeFormSingleSelect.react",["fbt","ix","ARIA_LABEL_PLACEHOLDER_FIXME","BasePopoverTrigger.react","CometMenuItemSelectable_DEPRECATED.react","CometPressable.react","CometTextInputWithIcon_DEPRECATED.react","FDSIcon.react","FDSMenu.react","FDSTextPairing.react","fbicon","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useRef,n=b.useState,o={button:{alignItems:"x6s0dn4",appearance:"xjyslct",backgroundColor:"x443n21",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",cursor:"x1ypdohk",display:"x3nfvp2",fontSize:"x1lkfr7t",height:"xwa7hi",justifyContent:"x1qughib",lineHeight:"xosjp9g",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingBottom:"x1a8lsjc",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",paddingTop:"x889kno",position:"x1n2onr6",textAlign:"x1yc453h",zIndex:"x1ja2u2z",$$css:!0},buttonExpanded:{minWidth:"xgqtt45",$$css:!0}};function p(a){var b=d("react-compiler-runtime").c(20),e=a.onChange,f=a.onQueryChange,g=a.selectableOptions,j=a.selectedValue,o;b[0]!==f?(a=function(){f&&f("")},o=[f],b[0]=f,b[1]=a,b[2]=o):(a=b[1],o=b[2]);l(a,o);var p=m(null);a=n(0);o=a[0];var q=a[1],r;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){if(p.current==null||!c("gkx")("5279"))return;var a=p.current.getBoundingClientRect();a=a.bottom-a.top;q(a*-1)},r=[],b[3]=a,b[4]=r):(a=b[3],r=b[4]);l(a,r);b[5]!==f?(a=f&&k.jsx(c("CometTextInputWithIcon_DEPRECATED.react"),{"aria-label":h._(/*BTDS*/"__JHASH__uEwDRMzHY-a__JHASH__"),icon:d("fbicon")._(i("491282"),16),iconColor:"tertiary",onChange:function(a){return f(a.target.value)},ref:p}),b[5]=f,b[6]=a):a=b[6];if(b[7]!==e||b[8]!==g||b[9]!==j){b[11]!==e||b[12]!==j?(r=function(a){return k.jsx(c("CometMenuItemSelectable_DEPRECATED.react"),{isSelected:a.value===j,onClick:function(){return e(a.value)},primaryText:a.primaryText,role:"menuitemradio",secondaryText:a.secondaryText},a.value)},b[11]=e,b[12]=j,b[13]=r):r=b[13];r=g.map(r);b[7]=e;b[8]=g;b[9]=j;b[10]=r}else r=b[10];b[14]!==o||b[15]!==r?(g=k.jsx(c("FDSMenu.react"),{"aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),maxHeightOffset:o,truncate:!0,children:r}),b[14]=o,b[15]=r,b[16]=g):g=b[16];b[17]!==a||b[18]!==g?(o=k.jsxs(k.Fragment,{children:[a,g]}),b[17]=a,b[18]=g,b[19]=o):o=b[19];return o}function q(a,b){return k.jsx(c("FDSTextPairing.react"),{body:(a=a==null?void 0:a.primaryText)!=null?a:b,bodyColor:"tertiary",level:3})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(22),e=a.defaultButtonLabel,f=a.disabled,g=a.isExpanded,h=a.onChange,j=a.onQueryChange,l=a.options,m=a.renderButtonLabel,r=a.selectableOptions,s=a.selectedValue,t=a.testid,u=a.xstyle,v=f===void 0?!1:f,w=g===void 0?!0:g,x=m===void 0?q:m;a=n(!1);var y=a[0];f=a[1];if(b[0]!==l||b[1]!==s){b[3]!==s?(g=function(a){return a.value===s},b[3]=s,b[4]=g):g=b[4];m=l.find(g);b[0]=l;b[1]=s;b[2]=m}else m=b[2];var z=m;g=(a=r)!=null?a:l;b[5]!==h||b[6]!==j||b[7]!==g||b[8]!==s?(m={onChange:h,onQueryChange:j,selectableOptions:g,selectedValue:s},b[5]=h,b[6]=j,b[7]=g,b[8]=s,b[9]=m):m=b[9];b[10]!==e||b[11]!==v||b[12]!==w||b[13]!==y||b[14]!==x||b[15]!==z||b[16]!==t||b[17]!==u?(r=function(a,b){return k.jsxs(c("CometPressable.react"),{"aria-expanded":y,"aria-haspopup":"menu",disabled:v,display:"inline",onPress:b,overlayDisabled:!0,ref:a,testid:void 0,xstyle:[o.button,u,w&&o.buttonExpanded],children:[x(z,(b=e)!=null?b:""),k.jsx("div",babelHelpers["extends"]({className:"xurb0ha"},{children:k.jsx(c("FDSIcon.react"),{color:"primary",icon:d("fbicon")._(i("481882"),16)})}))]})},b[10]=e,b[11]=v,b[12]=w,b[13]=y,b[14]=x,b[15]=z,b[16]=t,b[17]=u,b[18]=r):r=b[18];b[19]!==m||b[20]!==r?(a=k.jsx(c("BasePopoverTrigger.react"),{onVisibilityChange:f,popover:p,popoverProps:m,children:r}),b[19]=m,b[20]=r,b[21]=a):a=b[21];return a}g["default"]=a}),226);
__d("CometPhoneCountrySelect.react",["CometLeadGenNativeFormSingleSelect.react","FDSTextPairing.react","PhoneCodes","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useMemo,k=b.useState,l={condensed:{height:"xc9qbxq",$$css:!0}};function m(a){var b=new Set();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.add(e.toLowerCase())}return b}function n(){return Object.keys(c("PhoneCodes")).map(function(a){var b=c("PhoneCodes")[a];return{primaryText:b.country_name,secondaryText:a+"+"+b.phone_code,value:a}})}function o(a,b){return a.filter(function(a){return!b.has(a.primaryText.toString().toLowerCase())})}function p(a,b){var d=b.replace("+","").trim().toLowerCase(),e=parseInt(d,10);return a.filter(function(a){if(isNaN(e))return a.primaryText.toString().toLowerCase().startsWith(d);else return c("PhoneCodes")[a.value].phone_code===e})}function q(a,b){var d;a=(d=(d=a==null?void 0:a.secondaryText)!=null?d:a==null?void 0:a.primaryText)!=null?d:b;return i.jsx(c("FDSTextPairing.react"),{body:a,level:3})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.buttonLabel;b=b===void 0?"-":b;var d=a.hasError;d=d===void 0?!1:d;var e=a.isCondensed;e=e===void 0?!1:e;var f=a.isDisabled;f=f===void 0?!1:f;var g=a.isExpanded;g=g===void 0?!1:g;var h=a.onChange,r=a.unsupportedCountries;a=a.value;var s=k(""),t=s[0];s=s[1];var u=j(function(){return n()},[]),v=j(function(){return r?m(r):r},[r]),w=j(function(){return v?o(u,v):u},[u,v]);t=t!==""?p(w,t):w;return i.jsx("div",{className:d?"xmrkho8 xa6p843 xfz9iyh xy4nld6 xhk9q7s x1otrzb0 x1i1ezom x1o6z2jb x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv":void 0,children:i.jsx(c("CometLeadGenNativeFormSingleSelect.react"),{defaultButtonLabel:b,disabled:f,isExpanded:g,onChange:h,onQueryChange:s,options:u,renderButtonLabel:q,selectableOptions:t,selectedValue:a,xstyle:e?l.condensed:void 0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LWICometPhoneNumberUtils",["PhoneCodes","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=/^([17]|2[07]|3[0123469]|4[013456789]|5[12345678]|6[0123456]|8[1246]|9[0123458]|\d{3})\d*?(\d{4,6})$/;function a(a,b){if(!Object.prototype.hasOwnProperty.call(c("PhoneCodes"),a))throw c("unrecoverableViolation")("Invalid country code "+a+" is passed","pages_lwi");b=b.replace(/[-+()\s]/g,"");return c("PhoneCodes")[a].phone_code+b}function b(a,b){if(!Object.prototype.hasOwnProperty.call(c("PhoneCodes"),a))throw c("unrecoverableViolation")("Invalid country code "+a+" is passed","pages_lwi");return c("PhoneCodes")[a].phone_code+b}function d(a){return a==null?null:Object.keys(c("PhoneCodes")).find(function(b){return c("PhoneCodes")[b].phone_code.toString()===a})}function e(a){if(a==null)return null;a=j(a).replace(/[-+()\s]/g,"");var b=i(a)||"";return a.substring(b.length)}function i(a){if(a==null)return null;a=j(a).replace(/[-+()\s]/g,"");a=h.exec(a);return a&&a[1]?a[1]:null}function j(a){return a.includes("tel:")?a.substring(4):a}function f(a){return a.includes("tel:")?a:"tel:"+a}function k(a){return"\u200e"+(a.startsWith("+")?a:"+".concat(a))}g.getInternationalNumber=a;g.getPhoneNumberWithCountryCode=b;g.getCountryCodeFromCountryCodeNumber=d;g.getPhoneNumberFromPhone=e;g.getCountryCodeFromPhone=i;g.getMinifiedValue=j;g.getFullValue=f;g.getDisplayPhoneNumberWithPlus=k}),98);
__d("LWICometWhatsAppConstants",["fbt","LWICometCommonStrings","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;a=i||d("react");b=10;c=h._(/*BTDS*/"__JHASH__dk31yT3L0sl__JHASH__");e=h._(/*BTDS*/"__JHASH__tbzZM0HR7Te__JHASH__");f=h._(/*BTDS*/"__JHASH__6_Q6flTZ06d__JHASH__");var j=h._(/*BTDS*/"__JHASH__q7ogLVyM8jI__JHASH__"),k=h._(/*BTDS*/"__JHASH__oZ62Z8qJVLV__JHASH__"),l=h._(/*BTDS*/"__JHASH__q6DxIeuWgRQ__JHASH__"),m=h._(/*BTDS*/"__JHASH__myQ7dp2Qjd4__JHASH__"),n=h._(/*BTDS*/"__JHASH__CXTpuT40Vdo__JHASH__"),o=h._(/*BTDS*/"__JHASH__DiKB9cV6P5Q__JHASH__"),p=h._(/*BTDS*/"__JHASH__NVOjAvtvRgo__JHASH__"),q=h._(/*BTDS*/"__JHASH__JV8fripc8U8__JHASH__"),r=h._(/*BTDS*/"__JHASH__lpXUxeLma2d__JHASH__"),s=h._(/*BTDS*/"__JHASH__P95GTPgzczu__JHASH__");d=h._(/*BTDS*/"__JHASH__tdIJse5zGTI__JHASH__",[h._param("link to our people metrics explanation",d("LWICometCommonStrings").PEOPLE_HYPER_LINK)]);var t=h._(/*BTDS*/"__JHASH__sYfNGvpj9iX__JHASH__"),u=h._(/*BTDS*/"__JHASH__vljmjgyB8FR__JHASH__"),v=h._(/*BTDS*/"__JHASH__SNBnOnl09eK__JHASH__"),w=h._(/*BTDS*/"__JHASH__SU94Rs8BBtQ__JHASH__"),x=h._(/*BTDS*/"__JHASH__ZDsX2_U8H_B__JHASH__"),y=h._(/*BTDS*/"__JHASH__CiVKGIbSJk8__JHASH__"),z=h._(/*BTDS*/"__JHASH__XUZhhL0Wp9Q__JHASH__"),A=h._(/*BTDS*/"__JHASH__Ane2KyTX8Kp__JHASH__"),B="lwi_whatsapp_messages_objectives_notices_upsell",C="can_view_messages_objective_upsell";a={body:h._(/*BTDS*/"__JHASH__Rnb2vsaJBPL__JHASH__",[h._implicitParam("=m1",a.jsx("strong",{children:h._(/*BTDS*/"__JHASH__1x5Sae6woy6__JHASH__")}))]),cta:h._(/*BTDS*/"__JHASH__tBFaMPrp1MO__JHASH__"),title:h._(/*BTDS*/"__JHASH__SFrj2apbfOA__JHASH__")};g.CATALOG_SELECTED_ITEMS_MAXIMUM=b;g.CONFIRM_WHATSAPP_NUMBER=c;g.DEFAULT_HELPER_TEXT=e;g.DEFAULT_BIZ_HELPER_TEXT=f;g.GENERIC_ERROR_MESSAGE=j;g.CONFIRMATION_ERROR_MESSAGE=k;g.PAGE_LINK_ERROR_MESSAGE=l;g.NUMBER_INPUT_LABEL=m;g.BIZ_NUMBER_INPUT_LABEL=n;g.BIZ_NUMBER_ERROR_LABEL=o;g.RESEND_CODE_LINK_TEXT=p;g.VERIFICATION_CODE_INPUT=q;g.VERIFICATION_HELP_TEXT=r;g.WHATSAPP_GOAL_UPSELL_NOTICE_BODY_TEXT=s;g.WHATSAPP_LINK_NOTICE_BODY_TEXT_POST_ENGAGEMENT_GOAL=d;g.WHATSAPP_LINK_NOTICE_BODY_TEXT_VIDEO_GOAL=t;g.WHATSAPP_LINK_NOTICE_BODY_TEXT_MESSAGE_GOAL=u;g.WHATSAPP_LINK_NOTICE_BUTTON_TEXT_MESSAGE_GOAL=v;g.WHATSAPP_GOAL_UPSELL_NOTICE_BUTTON_TEXT=w;g.WHATSAPP_LINK_NOTICE_BUTTON_TEXT_POST_ENGAGEMENT_GOAL=x;g.WHATSAPP_LINK_NOTICE_BUTTON_TEXT_VIDEO_VIEW_GOAL=y;g.WHATSAPP_GOAL_UPSELL_NOTICE_HEADER_TEXT=z;g.WHATSAPP_LINK_ERROR_NOTICE_HEADER_TEXT=A;g.QE_LWI_WHATSAPP_MESSAGES_OBJECTIVES_NOTICES_UPSELL=B;g.PARAM_CAN_VIEW_MESSAGES_OBJECTIVE_UPSELL=C;g.MESSAGES_OBJECTIVE_UPSELL_NOTICE_CONTENT=a}),226);
__d("CometWhatsAppVerificationFlowNumberInput.react",["fbt","CometPhoneCountrySelect.react","CometRow.react","CometRowItem.react","FDSButton.react","FDSFormTextInput.react","FDSTextPairing.react","LWICometPhoneNumberUtils","LWICometWhatsAppConstants","WhatsappAdsUnsupportedCountryCodesSitevarConfig","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useState;function a(a){var b=d("react-compiler-runtime").c(47),e=a.hideError,f=a.isErrorShown,g=a.isValidating,i=a.log,l=a.validationError,m=a.verifyNumber,n=a.whatsAppDefaultCountryCode;a=a.whatsAppDefaultNumber;a=k(a);var o=a[0],p=a[1];a=k(n);var q=a[0],r=a[1];b[0]!==q||b[1]!==o?(n=d("LWICometPhoneNumberUtils").getInternationalNumber(q,o),b[0]=q,b[1]=o,b[2]=n):n=b[2];var s=n;b[3]!==m||b[4]!==s?(a=function(){m(s)},b[3]=m,b[4]=s,b[5]=a):a=b[5];n=a;var t,u;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x1htk8sl"},t={className:"xktsk01 x1d52u69"},u={className:"xw7yly9 x1yztbdb"},b[6]=a,b[7]=t,b[8]=u):(a=b[6],t=b[7],u=b[8]);var v,w;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(u=j.jsx("div",babelHelpers["extends"]({},u,{children:j.jsx(c("FDSTextPairing.react"),{body:h._(/*BTDS*/"__JHASH___-CAYrOc-1O__JHASH__"),level:2,metaColor:"secondary"})})),v={className:"x78zum5"},w={className:"x2lah0s"},b[9]=u,b[10]=v,b[11]=w):(u=b[9],v=b[10],w=b[11]);var x;b[12]!==e||b[13]!==i||b[14]!==o?(x=function(a){r(a),i("whatsapp_number_country_code_change",d("LWICometPhoneNumberUtils").getInternationalNumber(a,o)),e()},b[12]=e,b[13]=i,b[14]=o,b[15]=x):x=b[15];var y;b[16]===Symbol["for"]("react.memo_cache_sentinel")?(y=new Set(c("WhatsappAdsUnsupportedCountryCodesSitevarConfig").WHATSAPP_ADS_UNSUPPORTED_COUNTRY_CODES.values()),b[16]=y):y=b[16];b[17]!==q||b[18]!==g||b[19]!==x?(w=j.jsx("div",babelHelpers["extends"]({},w,{children:j.jsx(c("CometPhoneCountrySelect.react"),{isDisabled:g,onChange:x,unsupportedCountries:y,value:q})})),b[17]=q,b[18]=g,b[19]=x,b[20]=w):w=b[20];b[21]===Symbol["for"]("react.memo_cache_sentinel")?(y={className:"x1iyjqo2 x16n37ib"},b[21]=y):y=b[21];b[22]!==q||b[23]!==e||b[24]!==i?(x=function(a){p(a),i("whatsapp_number_phone_number_change",d("LWICometPhoneNumberUtils").getInternationalNumber(q,a)),e()},b[22]=q,b[23]=e,b[24]=i,b[25]=x):x=b[25];var z=g===!0?"LOADING":f&&l!=null?"ERROR":null;b[26]!==g||b[27]!==x||b[28]!==z||b[29]!==o?(y=j.jsx("div",babelHelpers["extends"]({},y,{children:j.jsx(c("FDSFormTextInput.react"),{disabled:g,label:d("LWICometWhatsAppConstants").NUMBER_INPUT_LABEL,onValueChange:x,testid:void 0,validationState:z,value:o})})),b[26]=g,b[27]=x,b[28]=z,b[29]=o,b[30]=y):y=b[30];b[31]!==w||b[32]!==y?(x=j.jsxs("div",babelHelpers["extends"]({},v,{children:[w,y]})),b[31]=w,b[32]=y,b[33]=x):x=b[33];b[34]!==f||b[35]!==l?(z=f&&l!=null?j.jsx("div",babelHelpers["extends"]({className:"xw7yly9"},{children:j.jsx(c("FDSTextPairing.react"),{level:4,meta:l,metaColor:"negative"})})):null,b[34]=f,b[35]=l,b[36]=z):z=b[36];b[37]!==x||b[38]!==z?(v=j.jsxs("div",babelHelpers["extends"]({},t,{children:[u,x,z]})),b[37]=x,b[38]=z,b[39]=v):v=b[39];b[40]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._(/*BTDS*/"__JHASH__0IHZXV9Jscx__JHASH__"),b[40]=w):w=b[40];b[41]!==g||b[42]!==n?(y=j.jsx(c("CometRow.react"),{expanding:!0,paddingVertical:16,verticalAlign:"center",children:j.jsx(c("CometRowItem.react"),{expanding:!0,children:j.jsx(c("FDSButton.react"),{disabled:g,label:w,onPress:n,testid:void 0,type:"secondary"})})}),b[41]=g,b[42]=n,b[43]=y):y=b[43];b[44]!==v||b[45]!==y?(f=j.jsxs("div",babelHelpers["extends"]({},a,{children:[v,y]})),b[44]=v,b[45]=y,b[46]=f):f=b[46];return f}e=j.memo(a);g["default"]=e}),226);
__d("LWICometWhatsAppAccountUtilsSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7715537681829167"}),null);
__d("LWICometWhatsAppAccountUtilsSubscription.graphql",["LWICometWhatsAppAccountUtilsSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"connected_whatsapp_number",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"connected_whatsapp_number_type",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"linked_whatsapp_display_phone_number",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h=[g],i={alias:null,args:null,concreteType:"AdBusiness",kind:"LinkedField",name:"owner_business",plural:!1,selections:h,storageKey:null},j={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"if_viewer_can_see_mixed_permissions_forward_fix_page_wa_link_invite_modal_mbs",plural:!1,selections:h,storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"is_page_in_mixed_permissions_state",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LWICometWhatsAppAccountUtilsSubscription",selections:[{alias:null,args:c,concreteType:"PageWhatsappVerifyCompleteSubscribeResponsePayload",kind:"LinkedField",name:"page_whatsapp_verify_complete_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[d,e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"coalesced_linked_bizlink_instagram_account",plural:!1,selections:[f],storageKey:null},i,j,k],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LWICometWhatsAppAccountUtilsSubscription",selections:[{alias:null,args:c,concreteType:"PageWhatsappVerifyCompleteSubscribeResponsePayload",kind:"LinkedField",name:"page_whatsapp_verify_complete_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[d,e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"coalesced_linked_bizlink_instagram_account",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f,{kind:"InlineFragment",selections:h,type:"Node",abstractKey:"__isNode"}],storageKey:null},i,j,k,g],storageKey:null}],storageKey:null}]},params:{id:b("LWICometWhatsAppAccountUtilsSubscription_facebookRelayOperation"),metadata:{subscriptionName:"page_whatsapp_verify_complete_subscribe"},name:"LWICometWhatsAppAccountUtilsSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("LWICometWhatsAppAccountUtils",["CometRelay","LWICometWhatsAppAccountUtilsSubscription.graphql","WhatsAppNumberType","castToEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("LWICometWhatsAppAccountUtilsSubscription.graphql");function a(a,b,e,f){return d("CometRelay").requestSubscription(a,{onNext:function(a){var b;if((a==null?void 0:(b=a.page_whatsapp_verify_complete_subscribe)==null?void 0:(b=b.page)==null?void 0:b.connected_whatsapp_number)===e){var d,g;b=a==null?void 0:(b=a.page_whatsapp_verify_complete_subscribe)==null?void 0:(b=b.page)==null?void 0:b.connected_whatsapp_number_type;b=b!==null?c("castToEnum")(Number(b),c("WhatsAppNumberType"),0):0;d=a==null?void 0:(d=a.page_whatsapp_verify_complete_subscribe)==null?void 0:(d=d.page)==null?void 0:(d=d.owner_business)==null?void 0:d.id;g=Boolean(a==null?void 0:(g=a.page_whatsapp_verify_complete_subscribe)==null?void 0:(g=g.page)==null?void 0:g.is_page_in_mixed_permissions_state);a=Boolean(a==null?void 0:(a=a.page_whatsapp_verify_complete_subscribe)==null?void 0:(a=a.page)==null?void 0:a.if_viewer_can_see_mixed_permissions_forward_fix_page_wa_link_invite_modal_mbs);f(b,d,a,g)}},subscription:i,variables:{input:{page_id:b}}})}g.subscribeForWhatsAppAccountLinking=a}),98);
__d("CometWhatsAppVerificationFlowVerificationCodeInput.react",["fbt","CometPageAdminCTWAEventLoggingUtils","CometPressable.react","CometRow.react","CometRowItem.react","FDSButton.react","FDSFormTextInput.react","FDSText.react","FDSTextPairing.react","LWICometPhoneNumberUtils","LWICometWhatsAppAccountUtils","LWICometWhatsAppConstants","RelayHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useEffect,l=b.useState,m=5;function a(a){var b=d("react-compiler-runtime").c(52),e=a.confirmError,f=a.isValidating,g=a.log,i=a.navigateBack,n=a.pageID,o=a.resendCode,p=a.verificationTechniqueSuccess,q=a.verifyCode,r=a.whatsAppNumber;a=l("");var s=a[0],t=a[1];a=l(!1);var u=a[0],v=a[1],w=d("RelayHooks").useRelayEnvironment(),x;b[0]!==w||b[1]!==n||b[2]!==p||b[3]!==r?(a=function(){var a=d("LWICometWhatsAppAccountUtils").subscribeForWhatsAppAccountLinking(w,n,r,function(){p()});return function(){return a.dispose()}},x=[n,r,p,w],b[0]=w,b[1]=n,b[2]=p,b[3]=r,b[4]=a,b[5]=x):(a=b[4],x=b[5]);k(a,x);b[6]!==n||b[7]!==s||b[8]!==q?(a=function(){if(s!==""){var a;d("CometPageAdminCTWAEventLoggingUtils").logCTWAEvent((a=n)!=null?a:"","ui_link_enter_verification_code_render","click_confirm_verification_code","page_comet_composer");v(!0);q(s)}},b[6]=n,b[7]=s,b[8]=q,b[9]=a):a=b[9];x=a;b[10]!==g||b[11]!==o||b[12]!==s||b[13]!==r?(a=function(){g("verification_code_resend_request",r,s),o()},b[10]=g,b[11]=o,b[12]=s,b[13]=r,b[14]=a):a=b[14];a=a;var y;b[15]!==g||b[16]!==i||b[17]!==s||b[18]!==r?(y=function(){g("navigate_back_click",r,s),i()},b[15]=g,b[16]=i,b[17]=s,b[18]=r,b[19]=y):y=b[19];y=y;var z,A;b[20]===Symbol["for"]("react.memo_cache_sentinel")?(z={className:"x1d52u69 xktsk01 x1htk8sl"},A={className:"x1yztbdb xw7yly9"},b[20]=z,b[21]=A):(z=b[20],A=b[21]);b[22]!==f||b[23]!==y||b[24]!==r?(A=j.jsx("div",babelHelpers["extends"]({},A,{children:j.jsx(c("FDSTextPairing.react"),{body:h._(/*BTDS*/"__JHASH__cW6VvEpcP_9__JHASH__",[h._param("edit button",j.jsx(c("CometPressable.react"),{disabled:f,display:"inline",onPress:y,children:j.jsx(c("FDSText.react"),{color:f?"disabled":"highlight",type:"body2",children:h._(/*BTDS*/"__JHASH__TBJ8P1j4GSE__JHASH__")})})),h._implicitParam("=m2",j.jsx("strong",{children:h._(/*BTDS*/"__JHASH__lQjtefU_-qc__JHASH__",[h._param("number",d("LWICometPhoneNumberUtils").getDisplayPhoneNumberWithPlus(r))])}))]),level:2})})),b[22]=f,b[23]=y,b[24]=r,b[25]=A):A=b[25];y=e!=null?e:d("LWICometWhatsAppConstants").VERIFICATION_HELP_TEXT;var B;b[26]!==g||b[27]!==n||b[28]!==r?(B=function(a){t(a);v(!1);g("verification_code_change",r,a);d("CometPageAdminCTWAEventLoggingUtils").logCTWAEvent((a=n)!=null?a:"","ui_link_enter_verification_code_render","input_verification_code","page_comet_composer")},b[26]=g,b[27]=n,b[28]=r,b[29]=B):B=b[29];u=u&&e!=null?"ERROR":null;b[30]!==f||b[31]!==B||b[32]!==u||b[33]!==y||b[34]!==s?(e=j.jsx(c("FDSFormTextInput.react"),{disabled:f,helperText:y,label:d("LWICometWhatsAppConstants").VERIFICATION_CODE_INPUT,onValueChange:B,testid:void 0,validationState:u,value:s}),b[30]=f,b[31]=B,b[32]=u,b[33]=y,b[34]=s,b[35]=e):e=b[35];B=f?"disabled":"highlight";b[36]===Symbol["for"]("react.memo_cache_sentinel")?(u=h._(/*BTDS*/"__JHASH__-pCWluit1Oj__JHASH__"),b[36]=u):u=b[36];b[37]!==B?(y=j.jsx(c("FDSText.react"),{color:B,type:"body2",children:u}),b[37]=B,b[38]=y):y=b[38];b[39]!==f||b[40]!==a||b[41]!==y?(u=j.jsx(c("CometRow.react"),{paddingHorizontal:0,children:j.jsx(c("CometRowItem.react"),{children:j.jsx(c("CometPressable.react"),{disabled:f,display:"inline",onPress:a,children:y})})}),b[39]=f,b[40]=a,b[41]=y,b[42]=u):u=b[42];B=f||s.length!==m;b[43]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"__JHASH__q_D5OjGOn2f__JHASH__"),b[43]=a):a=b[43];b[44]!==x||b[45]!==B?(y=j.jsx(c("CometRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:16,verticalAlign:"center",children:j.jsx(c("CometRowItem.react"),{expanding:!0,children:j.jsx(c("FDSButton.react"),{disabled:B,label:a,onPress:x,testid:void 0})})}),b[44]=x,b[45]=B,b[46]=y):y=b[46];b[47]!==e||b[48]!==u||b[49]!==y||b[50]!==A?(f=j.jsxs("div",babelHelpers["extends"]({},z,{children:[A,e,u,y]})),b[47]=e,b[48]=u,b[49]=y,b[50]=A,b[51]=f):f=b[51];return f}e=j.memo(a);g["default"]=e}),226);
__d("LWICometPageWhatsAppNumberStartVerifyMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7452680221498555"}),null);
__d("LWICometPageWhatsAppNumberStartVerifyMutation.graphql",["LWICometPageWhatsAppNumberStartVerifyMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"client_params"},c={defaultValue:null,kind:"LocalArgument",name:"instagram_actor_id"},d={defaultValue:null,kind:"LocalArgument",name:"page_id"},e={defaultValue:null,kind:"LocalArgument",name:"product_flow"},f={defaultValue:null,kind:"LocalArgument",name:"require_business_number"},g={defaultValue:null,kind:"LocalArgument",name:"source"},h={defaultValue:null,kind:"LocalArgument",name:"whatsapp_number"},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};i=[{alias:null,args:[{kind:"Variable",name:"client_params",variableName:"client_params"},{kind:"Variable",name:"instagram_actor_id",variableName:"instagram_actor_id"},{kind:"Variable",name:"page_id",variableName:"page_id"},{kind:"Variable",name:"product_flow",variableName:"product_flow"},{kind:"Variable",name:"require_business_number",variableName:"require_business_number"},{kind:"Variable",name:"source",variableName:"source"},{kind:"Variable",name:"whatsapp_number",variableName:"whatsapp_number"}],concreteType:"StartVerifyPageWhatsappNumberResponsePayload",kind:"LinkedField",name:"start_verify_page_whatsapp_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"error_msg",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"result",storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[i,{alias:null,args:null,concreteType:"PageWhatsAppNumberFromPageConnection",kind:"LinkedField",name:"verified_whatsapp_numbers",plural:!1,selections:[{alias:null,args:null,concreteType:"PageWhatsAppNumber",kind:"LinkedField",name:"nodes",plural:!0,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"raw_whatsapp_number",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"whatsapp_number_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"normalised_whatsapp_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"whatsapp_display_number",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h],kind:"Fragment",metadata:null,name:"LWICometPageWhatsAppNumberStartVerifyMutation",selections:i,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[h,d,g,f,c,e,a],kind:"Operation",name:"LWICometPageWhatsAppNumberStartVerifyMutation",selections:i},params:{id:b("LWICometPageWhatsAppNumberStartVerifyMutation_facebookRelayOperation"),metadata:{},name:"LWICometPageWhatsAppNumberStartVerifyMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PageFamilyOfAppsLinkEntryPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({IG_PROMOTE_PAGE_NOT_CREATED:"ig_promote_page_not_created",IG_PROMOTE_PAGE_NOT_CONNECTED:"ig_promote_page_not_connected",IG_SETTINGS_BUSINESS_TAB:"ig_settings_business_tab",IG_SETTINGS_SEARCH_BAR:"ig_settings_search_bar",IG_EDIT_PROFILE:"ig_edit_profile",EDIT_PROFILE:"edit_profile",INSTAGRAM_SELF_PROFILE:"instagram_self_profile",IG_EDIT_PROFILE_LINK_CONFIRMATION:"ig_edit_profile_link_confirmation",IG_PERSONAL_TO_BUSINESS_CONVERSION:"ig_personal_to_business_conversion",IG_CLAIM_PAGE_UPSELL:"ig_claim_page_upsell",IG_CLAIM_LOCATION:"ig_claim_location",IG_CCP_TO_FB_ACCOUNT_SETUP:"ig_ccp_to_fb_account_setup",IG_CCP_LINK_TO_EXISTING_PAGE:"ig_ccp_link_to_existing_page",IG_CCP_LINK_TO_EXISTING_PAGE_CREATE_NEW_PAGE:"ig_ccp_link_to_existing_page_create_new_page",IG_CCP_TO_FB_CONSOLIDATED_FLOW:"ig_ccp_to_fb_consolidated_flow",IG_CCP_ACCOUNT_SETUP_INTEGRITY_SCREEN_REDIRECT:"ig_ccp_account_setup_integrity_screen_redirect",IG_CCP_ACTIVITY_FEED_NOTIF_IMPERSONATION:"ig_ccp_activity_feed_notif_impersonation",IG_SHARE_TO_FB:"ig_share_to_fb",IG_CROSSPOST_POST:"ig_crosspost_post",IG_CROSSPOST_VIDEO:"ig_crosspost_video",IG_CROSSPOST_PANAVISION:"ig_crosspost_panavision",IG_FB_BADGE:"ig_fb_badge",IG_SETTINGS_SHARE_TO_FB:"ig_settings_share_to_fb",IG_BPL_PROACTIVE_MIGRATION:"ig_bpl_proactive_migration",IG_SERVICES:"ig_services",IG_APP_SHOPPING:"ig_app_shopping",UNKNOWN_IG_ENTRYPOINT_DO_NOT_USE:"unknown_ig_entrypoint_do_not_use",IG_XAR_TO_CCP_MIGRATION_V3_IN_M6_EXP:"ig_xar_to_ccp_migration_v3_in_m6_exp",IG_WA_IG_EDIT_PROFILE:"ig_wa_ig_edit_profile",IG_WA_IG_PERSONAL_TO_BUSINESS_ONBOARDING:"ig_wa_ig_personal_to_business_onboarding",IG_BOOST_POST_UNIFIED:"ig_boost_post_unified",IG_WA_LINKING_QP:"ig_wa_linking_qp",IG_PHONE_NUMBER_CONTACT_OPTION_WA_UPSELL:"ig_phone_number_contact_option_wa_upsell",IG_SHARING_TO_OTHER_APPS_TAB:"ig_sharing_to_other_apps_tab",IG_WA_HACKY_ADS_ADD_URL_UPSELL:"ig_wa_hacky_ads_add_url_upsell",IG_WA_HACKY_ADS_SWITCH_AD_GOAL_UPSELL:"ig_wa_hacky_ads_switch_ad_goal_upsell",IG_STORIES_STICKER_TRAY:"ig_stories_sticker_tray",IG_WA_LINKING_IG_APP_UNKNOWN:"ig_wa_linking_ig_app_unknown",PAGE_SETTINGS:"page_settings",PAGE_SETTINGS_LINK_CONFIRMATION:"PAGE_SETTINGS_LINK_CONFIRMATION",PAGE_SETTINGS_LINK_OVERRIDE:"PAGE_SETTINGS_LINK_OVERRIDE",PAGE_SETTINGS_LINK_OVERRIDE_COMET:"PAGE_SETTINGS_LINK_OVERRIDE_COMET",PAGE_SETTINGS_INSTAGRAM_CONVERSION:"PAGE_SETTINGS_INSTAGRAM_CONVERSION",PAGE_SETTINGS_SYNC_INFO:"PAGE_SETTINGS_SYNC_INFO",PAGE_SETTINGS_COMET:"page_settings_comet",PAGE_SETTINGS_COMET_LINK_CONFIRMATION:"page_settings_comet_link_confirmation",PAYOUT_ONBOARDING_V2:"payout_onboarding_v2",PAGE_INFO:"page_info",PROFILE_PLUS_SETTINGS:"profile_plus_settings",PROFILE_PLUS_EDIT_LINKS_SETTING:"profile_plus_edit_links_setting",PROFILE_PLUS_SETTINGS_WITH_LINK_CONFIRMATION_V2:"profile_plus_settings_with_link_confirmation_v2",PROFILE_PLUS_SETTINGS_LINK_OVERRIDE:"profile_plus_settings_link_override",PAGE_SELF_VIEW:"page_self_view",UNIFIED_INBOX:"unified_inbox",UNIFIED_INBOX_ALL_MESSAGES:"unified_inbox_all_messages",UNIFIED_INBOX_IG_DIRECT:"unified_inbox_ig_direct",UNIFIED_INBOX_IG_DIRECT_V2:"unified_inbox_ig_direct_v2",UNIFIED_INBOX_IG_COMMENTS:"unified_inbox_ig_comments",UNIFIED_INBOX_IG_COMMENTS_V2:"unified_inbox_ig_comments_v2",UNIFIED_INBOX_BOTTOMSHEET:"unified_inbox_bottomsheet",UNIFIED_INBOX_NUX:"UNIFIED_INBOX_NUX",UNIFIED_INBOX_THREAD_LIST_UPSELL:"UNIFIED_INBOX_THREAD_LIST_UPSELL",UNIFIED_INBOX_FB_MESSENGER:"unified_inbox_fb_messenger",UNIFIED_INBOX_FB_COMMENTS:"unified_inbox_fb_comments",UNIFIED_INBOX_REAUTH:"unified_inbox_reauth",UNIFIED_INBOX_THREAD_LIST:"unified_inbox_thread_list",UNIFIED_INBOX_IG_ONLY_THREAD_LIST:"unified_inbox_ig_only_thread_list",BIZWEB_AD_CENTER:"bizweb_ad_center",BIZWEB_CONTENT_MANAGER:"BIZWEB_CONTENT_MANAGER",BIZWEB_CONTENT_MANAGER_IG_GRID_VIEW:"BIZWEB_CONTENT_MANAGER_IG_GRID_VIEW",BIZWEB_CONTENT_FEED_AND_GRID:"bizweb_content_feed_and_grid",BIZWEB_HOME_HEADER:"bizweb_home_header",BIZWEB_WELCOME_TOUR:"bizweb_welcome_tour",BIZWEB_WELCOME_TOUR_LINK_CONFIRMATION:"bizweb_welcome_tour_link_confirmation",BIZWEB_ALERT_CARD:"bizweb_alert_card",BIZWEB_ALERT_CARD_LINK_CONFIRMATION:"bizweb_alert_card_link_confirmation",BIZWEB_ALERT_CARD_FEATURE_CONFIRMATION:"bizweb_alert_card_feature_confirmation",BIZWEB_PROGRESSIVE_ONBOARDING:"bizweb_progressive_onboarding",BIZWEB_PROGRESSIVE_ONBOARDING_HOME_CARD:"bizweb_progressive_onboarding_home_card",BUSINESS_PROFILE_COMPLETION_METER:"business_profile_completion_meter",BIZWEB_COMPOSER:"bizweb_composer",BIZWEB_COMPOSER_IG_PLACEMENT_BANNER:"bizweb_composer_ig_placement_banner",BIZWEB_SIMPLIFIED_COMPOSER:"bizweb_simplified_composer",BIZWEB_POST_COMPLETION_UPSELL:"bizweb_post_completion_upsell",BIZWEB_SELF_VIEW_IG_TAB:"bizweb_self_view_ig_tab",BIZWEB_IG_LOGIN_REELS_COMPOSER:"bizweb_ig_login_reels_composer",BIZWEB_IG_LOGIN_ONBOARDING:"bizweb_ig_login_onboarding",BIZWEB_IG_LOGIN_STORIES_COMPOSER:"bizweb_ig_login_stories_composer",BIZWEB_POST_COMPOSER_LINK_PAGE_TO_IG_AFTERPARTY:"bizweb_post_composer_link_page_to_ig_afterparty",BIZWEB_HOME_ONBOARDING:"bizweb_home_onboarding",BIZWEB_HOME_GUIDANCE_CARD:"bizweb_home_guidance_card",BIZWEB_INSIGHTS_PLAN_TAB:"bizweb_insights_plan_tab",BIZWEB_CREATOR_MARKETPLACE_PAID_PARTNERSHIP:"bizweb_creator_marketplace_paid_partnership",BIZWEB_IG_LOGIN_FTUX_REAUTH:"bizweb_ig_login_ftux_reauth",BIZWEB_STEPPER_ONBOARDING_REAUTH:"bizweb_stepper_onboarding_reauth",BIZWEB_PROFILE_MANAGEMENT_REAUTH:"bizweb_profile_management_reauth",BIZWEB_IG_LOGIN_POST_COMPOSER:"bizweb_ig_login_post_composer",BIZWEB_SETTINGS_ERROR_DISCLOSURE_MODAL:"bizweb_settings_error_disclosure_modal",BIZWEB_BUSINESS_ACCOUNT_SETUP:"bizweb_business_account_setup",BIZWEB_BUSINESS_ACCOUNT_SETUP_ALL_SUGGESTIONS:"bizweb_business_account_setup_all_suggestions",BIZWEB_BUSINESS_ACCOUNT_SETUP_SETTINGS_BANNER:"bizweb_business_account_setup_settings_banner",BIZWEB_BUSINESS_ACCOUNT_SETUP_BCM_ITEM:"bizweb_business_account_setup_bcm_item",BIZWEB_BUSINESS_ACCOUNT_SETUP_EMAIL:"bizweb_business_account_setup_email",BIZWEB_SETTINGS_LINKING_MANAGEMENT:"bizweb_settings_linking_management",BIZWEB_SETTINGS_LINKING_MANAGEMENT_FB_LOGIN_ON_INSTAGRAM_ASSET:"bizweb_settings_linking_management_fb_login_on_instagram_asset",BIZWEB_SETTINGS_LINKING_MANAGEMENT_FB_LOGIN_ON_PAGE_ASSET:"bizweb_settings_linking_management_fb_login_on_page_asset",BIZWEB_NON_BUSINESS_ACCOUNT_SETTINGS_CONNECTED_ASSETS:"bizweb_non_business_account_settings_connected_assets",BIZWEB_SETTINGS_REQUESTS:"bizweb_settings_requests",BIZWEB_SETTINGS_INFO:"bizweb_settings_info",BIZAPP_CONFIG_QUERY:"bizapp_config_query",BIZAPP_WELCOME_TOUR:"bizapp_welcome_tour",BIZAPP_SETTINGS:"bizapp_settings",BIZAPP_PAGE_COMPLETION_METER:"bizapp_page_completion_meter",BIZAPP_HOME_LINK_CONFIRMATION:"bizapp_home_link_confirmation",BIZAPP_SETTINGS_LINK_CONFIRMATION:"bizapp_settings_link_confirmation",BIZAPP_FTUX_ONBOARDING_TOOL_READINESS:"bizapp_ftux_onboarding_tool_readiness",BIZAPP_PROGRESSIVE_ONBOARDING:"bizapp_progressive_onboarding",BIZAPP_COMPOSER:"bizapp_composer",BIZAPP_POST_AFTER_PARTY:"bizapp_post_after_party",BIZAPP_PUSH_NOTIFICATION_UPSELL:"bizapp_push_notification_upsell",BIZAPP_HOME_IG_NULL_STATE:"bizapp_home_ig_null_state",IG_GENERAL:"ig_general",IG_LINK_CONFIRMATION:"ig_link_confirmation",ADS_MANAGER_CLICK_TO_MESSAGE:"ads_manager_click_to_message",ADS_MANAGER_UNIFIED_PROFILE_VISITS:"ads_manager_unified_profile_visits",ADS_MANAGER_REACH_AND_FREQUENCY_PAGE_IG_SECTION:"ads_manager_reach_and_frequency_page_ig_section",ADS_MANAGER_IDENTITY_SECTION:"ads_manager_identity_section",ADS_MANAGER_PARTNERSHIP_AD_IDENTITY_SECTION:"ads_manager_partnership_ad_identity_section",ADS_MANAGER_GUIDED_ONBOARDING:"ads_manager_guided_onboarding",ADS_MANAGER_CREATOR_DISCOVERY_PAGE:"ads_manager_creator_discovery_page",AMA_PAC_COMPOSER:"ama_pac_composer",AMA_INSTAGRAM_ACCOUNTS:"ama_instagram_accounts",AMA_STORIES_COMPOSER_EDITOR:"ama_stories_composer_editor",AMA_EDIT_POST:"ama_edit_post",AMA_AD_INSTAGRAM_ACCOUNT_EDITOR:"ama_ad_instagarm_account_editor",AMA_IMAGE_EDITOR:"ama_image_editor",AMA_IMAGE_EDITOR_BOTTOM_SHEET:"ama_image_editor_bottom_sheet",AMA_POST_ENGAGEMENT_INSTAGRAM_TAB:"ama_post_engagement_instagram_tab",AMA_CLICK_TO_MESSAGE:"ama_click_to_message",AMA_LOGO_PICKER:"ama_logo_picker",PAGE_IG_UPSELL_BOTTOM_SHEET:"page_ig_upsell_bottom_sheet",LAX_AD_CENTER_UNIFIED_TASK_LIST:"lax_ad_center_unified_task_list",LAX_AD_CENTER_UNIFIED_TASK_LIST_NT:"lax_ad_center_unified_task_list_nt",LAX_QUESTIONNAIRE:"lax_questionnaire",LAX_BOOST_POST_UNIFIED:"lax_boost_post_unified",LAX_BOOST_POST_UNIFIED_NT:"lax_boost_post_unified_nt",LAX_BOOST_POST_NON_UNIFIED:"lax_boost_post_non_unified",LAX_BOOST_POST_UNIFIED_EDIT:"lax_boost_post_unified_edit",LAX_BOOST_POST_NON_UNIFIED_EDIT:"lax_boost_post_non_unified_edit",LAX_BOOST_POST_SMART_PACKAGE:"lax_boost_post_smart_package",IG_SHOPPING_FBE:"ig_shopping_fbe",IG_SHOPPING_SHOPIFY_META_APP:"ig_shopping_shopify_meta_app",IG_SHOPPING_COMMERCE_MANAGER:"ig_shopping_commerce_manager",IG_SHOPPING_COMMERCE_MANAGER_ADD_TO_IG_CHANNEL:"ig_shopping_commerce_manager_add_to_ig_channel",IG_SHOPPING_COMMERCE_MANAGER_ADD_IG_ACCOUNT:"ig_shopping_commerce_manager_add_ig_account",IG_SHOPPING_COMMERCE_MANAGER_CHECKOUT:"ig_shopping_commerce_manager_checkout",IG_SHOPPING_GENERAL:"ig_shopping_general",SOCIAL_WIFI_SETTINGS:"social_wifi_settings",SOCIAL_WIFI_ONBOARDING:"social_wifi_onboarding",SOCIAL_WIFI_AYMT:"social_wifi_aymt",BUSINESS_CENTRAL_IDENTITY_CREATION:"BUSINESS_CENTRAL_IDENTITY_CREATION",FBE_INCONSISTENCY_FIX_FLOW:"fbe_inconsistency_fix_flow",FBE_IG_BUSINESS_ONBOARDING:"fbe_ig_business_onboarding",MEDIA_MANAGER_INBOX:"media_manager_inbox",AYMT_BIZAPP_GUIDANCE_CARD:"aymt_bizapp_guidance_card",AYMT_INCOMPLETE_TR_NOTIFICATION:"aymt_incomplete_tr_notification",AYMT_LINK_CONFIRMATION_MOBILE:"aymt_link_confirmation_mobile",AYMT_FLYTRAP_LINK_CONFIRMATION_MOBILE:"aymt_flytrap_link_confirmation_mobile",AYMT_COMET_PAGE_MEGAPHONE:"aymt_comet_page_megaphone",AYMT_PAGE_MEGAPHONE:"aymt_page_megaphone",LINK_IG_TO_FB_NOTIFICATION:"link_ig_to_fb_notification",CENTRA_SUA_ACTION:"centra_sua_action",IG_TEST_USER_TOOL:"ig_test_user_tool",INTEGRATION_TEST:"INTEGRATION_TEST",EXAMPLE:"example",BA_AUTO_CLAIMING_WITHOUT_LINKING:"ba_auto_claiming_without_linking",ALERT_CARD:"ALERT_CARD",WELCOME_TOUR:"WELCOME_TOUR",HOME:"HOME",HOME_BOTTOMSHEET:"home_bottomsheet",COMPOSER:"COMPOSER",FB_APPOINTMENTS_ONBOARDING_DEPRECATED:"fb_appointments_onboarding_deprecated",PAGE_INBOX_NUX_DEPRECATED:"page_inbox_nux_deprecated",PAGE_INBOX_IG_DIRECT_DEPRECATED:"page_inbox_ig_direct_deprecated",PAGE_INBOX_IG_COMMENTS_DEPRECATED:"page_inbox_ig_comments_deprecated",COMMERCE_MANAGER_IG_SANDBOX_ONBOARDING_FLOW_DEPRECATED:"commerce_manager_ig_sandbox_onboarding_flow_deprecated",CANVAS_DEPRECATED:"canvas_deprecated",BIZWEB_SETTINGS_PROFILE_SCOPE_DEPRECATED:"bizweb_settings_profile_scope_deprecated",ENT_PAGE_INSTAGRAM_BUSINESS_PRESENCE_EDGE_CONSISTENCY:"ent_page_instagram_business_presence_edge_consistency",IG_PAGE_BACKWARD_FIX_QP:"Ig_page_backward_fix_qp",CLAIM_PAGE_AND_IG_TO_BUSINESS_DO_NOT_USE:"claim_page_and_ig_to_business_do_not_use",CONNECT_IG_TO_EXISTING_BUSINESS_DO_NOT_USE:"connect_ig_to_existing_business_do_not_use",UNKNOWN_LINK_DO_NOT_USE:"unknown_link_do_not_use",UNKNOWN_RECONFIRMATION_DO_NOT_USE:"unknown_reconfirmation_do_not_use",UNKNOWN_LINK_OVERRIDE_DO_NOT_USE:"unknown_link_override_do_not_use",UNKNOWN_UNLINK_DO_NOT_USE:"unknown_unlink_do_not_use",UNKNOWN_WHATSAPP_INBOX_DO_NOT_USE:"unknown_whatsapp_inbox_do_not_use",UNKNOWN_PAGE_WA_LINK_DO_NOT_USE:"unknown_page_wa_link_do_not_use",UNKNOWN_X_PAGE_LINK_INSTAGRAM_ACCOUNT_OAUTH_CONTROLLER_DO_NOT_USE:"unknown_x_page_link_instagram_account_oauth_controller_do_not_use",UNKNOWN_GRAPHQL_PRESMA_IG_OAUTH_CONNECT_MUTATION_DO_NOT_USE:"unknown_graphql_presma_ig_oauth_connect_mutation_do_not_use",UNKNOWN_GRAPHQL_PAGE_UNLINK_INSTAGRAM_ACCOUNT_MUTATION_DO_NOT_USE:"unknown_graphql_page_unlink_instagram_account_mutation_do_not_use",UNKNOWN_GRAPHQL_FBE_INSTAGRAM_SHOP_ENTITY_DO_NOT_USE:"unknown_graphql_fbe_instagram_shop_entity_do_not_use",UNKNOWN_GRAPHQL_CREATE_AND_CLAIM_INSTAGRAM_BUSINESS_PAGE_DO_NOT_USE:"unknown_graphql_create_and_claim_instagram_business_page_do_not_use",UNKNOWN_GRAPHQL_CHANGE_INSTAGRAM_BUSINESS_PAGE_DO_NOT_USE:"unknown_graphql_change_instagram_business_page_do_not_use",UNKNOWN_GRAPHQL_LWI_QUESTIONNAIRE_INSTAGRAM_LOGIN_URI_DO_NOT_USE:"unknown_graphql_lwi_questionnaire_instagram_login_uri_do_not_use",UNKNOWN_GRAPHQL_IG_PRESENCE_ACCOUNT_INFO_DO_NOT_USE:"unknown_graphql_ig_presence_account_info_do_not_use",UNKNOWN_GRAPHQL_PAGE_INSTAGRAM_LINKING_INTENT_DO_NOT_USE:"unknown_graphql_page_instagram_linking_intent_do_not_use",UNKNOWN_IG_GRAPHQL_SWITCH_TO_BUSINESS_ACCOUNT_DO_NOT_USE:"unknown_ig_graphql_switch_to_business_account_do_not_use",UNKNOWN_IG_GRAPHQL_MAKE_CONSISTENT_PAGE_CONNECTION_DO_NOT_USE:"unknown_ig_graphql_make_consistent_page_connection_do_not_use",UNKNOWN_GRAPHQL_CLAIM_INSTAGRAM_BUSINESS_UNOWNED_PAGE_DO_NOT_USE:"unknown_graphql_claim_instagram_business_unowned_page_do_not_use",UNKNOWN_GRAPHQL_PAGE_MAKE_IG_CONNECTION_CONSISTENT_DO_NOT_USE:"unknown_graphql_page_make_ig_connection_consistent_do_not_use",UNKNOWN_GRAPHQL_PAGE_CONNECT_INSTAGRAM_ACCOUNT_MUTATION_CALL_DO_NOT_USE:"unknown_graphql_page_connect_instagram_account_mutation_call_do_not_use",UNKNOWN_GRAPHQL_PRESMA_IG_CROSSPOST_PERMISSION_MUTATION_CALL_DO_NOT_USE:"unknown_graphql_presma_ig_crosspost_permission_mutation_call_do_not_use",UNKNOWN_GRAPHQL_CREATE_INSTAGRAM_BUSINESS_DO_NOT_USE:"unknown_graphql_create_instagram_business_do_not_use",UNKNOWN_GRAPHQL_FEATURE_CONFIRMATION_IG_MUTATION_DO_NOT_USE:"unknown_graphql_feature_confirmation_ig_mutation_do_not_use",PAGE_IG_UNLINK_ADS_ASSOC_INTERNAL_TOOL:"page_ig_unlink_ads_assoc_internal_tool",IG_PROFESSIONAL_TO_PERSONAL_CONVERSION:"ig_professional_to_personal_conversion",PAGE_COMPOSER:"page_composer",PAGE_AUTOMATED_ADS:"page_automated_ads",PAGE_CREATION:"page_creation",PAGE_ADD_CTA:"page_add_cta",BMX_CTWA_ADOPTION_PAGE_WA_LINKING_INTERNAL_TOOL:"bmx_ctwa_adoption_page_wa_linking_internal_tool",PAGE_WA_LINKING_PLACEHOLDER:"page_wa_linking_placeholder",CL_DEBUG_DOGFOODING_ACCOUNTS_TOOL:"cl_debug_dogfooding_accounts_tool",BIZWEB_META_AI_BIZ_AGENT_WA_ONBOARDING:"bizweb_meta_ai_biz_agent_wa_onboarding",CMDF_INTERNAL_TOOL:"cmdf_internal_tool",META_CREATOR_ACCELERATOR:"meta_creator_accelerator"});f["default"]=a}),66);
__d("PageFamilyOfAppsLinkEntryPointUtils.facebook",["$InternalEnumUtils","PageFamilyOfAppsLinkEntryPoint"],(function(a,b,c,d,e,f,g){a=d("$InternalEnumUtils").createToJSEnum(c("PageFamilyOfAppsLinkEntryPoint"));b=d("$InternalEnumUtils").createFromJSEnum(c("PageFamilyOfAppsLinkEntryPoint"));g.toJSEnum=a;g.fromJSEnum=b}),98);
__d("PageFamilyOfAppsLinkEventLocation",[],(function(a,b,c,d,e,f){a=Object.freeze({ALERT_CARD:"alert_card",IGDM_TOGGLE_SECTION:"igdm_toggle_section",BIZWEB_IG_INBOX:"bizweb_ig_inbox",BIZWEB_SETTINGS_REQUEST_DETAIL:"bizweb_settings_request_detail",BIZWEB_SIMPLIFIED_COMPOSER:"bizweb_simplified_composer",BIZWEB_SETTINGS_IG_WA_LINKING_SCREEN:"bizweb_settings_ig_wa_linking_screen",INITIAL_EDUCATION_SCREEN:"initial_education_screen",MANAGE_IG_FROM_FB_SCREEN:"manage_ig_from_fb_screen",MANAGE_FB_FROM_IG_SCREEN:"manage_fb_from_ig_screen",LEARN_MORE_FEATURES_SCREEN:"learn_more_features_screen",CONFIRM_ACCOUNT_SCREEN:"confirm_account_screen",DISCONNECT_ACCOUNT_SCREEN:"disconnect_account_screen",REVIEW_CONNECTION_BANNER:"review_connection_banner",CONNECT_TO_IG_DISCLOSURE_SCREEN:"connect_to_ig_disclosure_screen",PRE_IG_AUTH_LINKING_ERROR_DISCLOSURE_SCREEN:"pre_ig_auth_linking_error_disclosure_screen",POST_IG_AUTH_LINKING_ERROR_DISCLOSURE_SCREEN:"post_ig_auth_linking_error_disclosure_screen",PRE_PHONE_NUMBER_VERIFICATION_ERROR_DISCLOSURE_SCREEN:"pre_phone_number_verification_error_disclosure_screen",POST_PHONE_NUMBER_VERIFICATION_ERROR_DISCLOSURE_SCREEN:"post_phone_number_verification_error_disclosure_screen",CONNECT_TO_IG_UPSELL_SCREEN:"connect_to_ig_upsell_screen",IGDM_TOGGLE_DISCLOSURE_SCREEN:"igdm_toggle_disclosure_screen",CONNECTED_IG_ACCOUNT_SCREEN:"connected_ig_account_screen",COMET_CONNECT_TO_IG_UPSELL_SCREEN:"comet_connect_to_ig_upsell_screen",COMET_CONNECT_TO_IG_DISCLOSURE_SCREEN:"comet_connect_to_ig_disclosure_screen",COMET_IGDM_TOGGLE_DISCLOSURE_SCREEN:"comet_igdm_toggle_disclosure_screen",COMET_CONNECT_TO_IG_ADMIN_APPROVAL_SCREEN:"comet_connect_to_ig_admin_approval_screen",COMET_CANCEL_IG_LINK_ADMIN_APPROVAL_SCREEN:"comet_cancel_ig_link_admin_approval_screen",COMET_IG_LINK_ADMIN_APPROVAL_PENDING_SCREEN:"comet_ig_link_admin_approval_pending_screen",COMET_PAGE_SETTINGS_PAGE_INFO_SCREEN:"comet_page_settings_page_info_screen",COMET_PAGE_SETTINGS_EDIT_NUMBER_SCREEN:"comet_page_settings_edit_number_screen",COMET_PAGE_SETTINGS_WA_LINKED_ACCOUNTS_SCREEN:"comet_page_settings_wa_linked_accounts_screen",COMET_PAGE_SETTINGS_WA_LINK_ONE_TAP_SCREEN:"comet_page_settings_wa_link_one_tap_screen",COMET_PAGE_SETTINGS_MULTI_NUMBER_DIALOG_SCREEN:"comet_page_settings_multi_number_dialog_screen",COMET_PAGE_WA_LINK_AUTOMATED_ADS_DIALOG_SCREEN:"comet_page_wa_link_automated_ads_dialog_screen",COMET_PAGE_WA_LINK_LAX_BOOST_POST_UNIFIED_DIALOG_SCREEN:"comet_page_wa_link_lax_boost_post_unified_dialog_screen",COMET_PAGE_WA_LINK_LAX_BOOST_POST_NON_UNIFIED_DIALOG_SCREEN:"comet_page_wa_link_lax_boost_post_non_unified_dialog_screen",COMET_PAGE_WA_LINK_PAGE_COMPOSER_DIALOG_SCREEN:"comet_page_wa_link_page_composer_dialog_screen",COMET_PAGE_WA_LINK_LAX_BOOST_POST_COUPON_DIALOG_SCREEN:"comet_page_wa_link_lax_boost_post_coupon_dialog_screen",COMET_PAGE_WA_LINK_LAX_BOOST_POST_MULTI_NUMBER_DIALOG_SCREEN:"comet_page_wa_link_lax_boost_post_multi_number_dialog_screen",COMET_PAGE_WA_LINK_PAGE_CREATION_DIALOG_SCREEN:"comet_page_wa_link_page_creation_dialog_screen",COMET_PAGE_WA_LINK_ADD_WA_CTA_TO_PAGE_DIALOG_SCREEN:"comet_page_wa_link_add_wa_cta_to_page_dialog_screen",COMET_PAGE_WA_LINK_LAX_BOOST_POST_INSTALL_WA_DIALOG_SCREEN:"comet_page_wa_link_lax_boost_post_install_wa_dialog_screen",COMET_PAGE_WA_LINK_WA_INTERSTITIAL_DIALOG_SCREEN:"comet_page_wa_link_wa_interstitial_dialog_screen",COMET_MIXED_PERMISSIONS_V2_FORWARD_FIX_BPL_PAGE_IG_INVITATION_SCREEN:"comet_mixed_permissions_v2_forward_fix_bpl_page_ig_invitation_screen",COMET_MIXED_PERMISSIONS_V2_FORWARD_FIX_BPL_PAGE_IG_CONFIRMATION_SCREEN:"comet_mixed_permissions_v2_forward_fix_bpl_page_ig_confirmation_screen",COMET_MIXED_PERMISSIONS_V2_FORWARD_FIX_BPL_PAGE_WA_INVITATION_SCREEN:"comet_mixed_permissions_v2_forward_fix_bpl_page_wa_invitation_screen",COMET_MIXED_PERMISSIONS_V2_FORWARD_FIX_BPL_PAGE_WA_NOT_NOW_SCREEN:"comet_mixed_permissions_v2_forward_fix_bpl_page_wa_not_now_screen",COMET_MIXED_PERMISSIONS_V2_FORWARD_FIX_BPL_PAGE_WA_RESPONSE_SCREEN:"comet_mixed_permissions_v2_forward_fix_bpl_page_wa_response_screen",COMET_LINK_CONFIRMATION_REVIEW_CONNECTION_BANNER:"comet_link_confirmation_review_connection_banner",COMET_LINK_CONFIRMATION_DISCLOSURE_SCREEN:"comet_link_confirmation_disclosure_screen",COMET_LINK_CONFIRMATION_CONFIRM_ACCOUNT_SCREEN:"comet_link_confirmation_confirm_account_screen",COMET_LINK_CONFIRMATION_IGDM_TOGGLE_DISCLOSURE_SCREEN:"comet_link_confirmation_igdm_toggle_disclosure_screen",COMET_LINK_CONFIRMATION_DISCLOSURE_SCREEN_V2:"comet_link_confirmation_disclosure_screen_v2",NT_AP_PLUS_CONNECT_TO_IG_UPSELL_SCREEN:"nt_ap_plus_connect_to_ig_upsell_screen",NT_AP_PLUS_CONNECT_TO_IG_DISCLOSURE_SCREEN:"nt_ap_plus_connect_to_ig_disclosure_screen",NT_CONNECT_TO_IG_DISCLOSURE_SCREEN:"nt_connect_to_ig_disclosure_screen",NT_REQUEST_CONNECT_TO_IG_DISCLOSURE_SCREEN:"nt_request_connect_to_ig_disclosure_screen",NT_IGDM_TOGGLE_DISCLOSURE_SCREEN:"nt_igdm_toggle_disclosure_screen",NT_LINK_OVERRIDE_CONFIRM_SCREEN:"nt_link_override_confirm_screen",NT_MSITE_LINK_SUCCESS_SCREEN:"nt_msite_link_success_screen",NT_MSITE_LINK_FAILURE_SCREEN:"nt_msite_link_failure_screen",NT_MSITE_LINK_CONFIRMATION_SUCCESS_SCREEN:"nt_msite_link_confirmation_success_screen",NT_MSITE_LINK_CONFIRMATION_FAILURE_SCREEN:"nt_msite_link_confirmation_failure_screen",NT_PAGE_IG_UPSELL_DISCLOSURE_SCREEN:"nt_page_ig_upsell_disclosure_screen",NT_LINK_CONFIRMATION_REVIEW_CONNECTION_BANNER:"nt_link_confirmation_review_connection_banner",NT_LINK_CONFIRMATION_INITIAL_EDUCATION_SCREEN:"nt_link_confirmation_initial_education_screen",NT_LINK_CONFIRMATION_MANAGE_IG_FROM_FB_SCREEN:"nt_link_confirmation_manage_ig_from_fb_screen",NT_LINK_CONFIRMATION_MANAGE_FB_FROM_IG_SCREEN:"nt_link_confirmation_manage_fb_from_ig_screen",NT_LINK_CONFIRMATION_CONFIRM_ACCOUNT_SCREEN:"nt_link_confirmation_confirm_account_screen",NT_LINK_CONFIRMATION_DISCONNECT_ACCOUNT_SCREEN:"nt_link_confirmation_disconnect_account_screen",NT_PAGE_SETTINGS_PAGE_WA_LINK_SCREEN:"nt_page_settings_page_wa_link_screen",NTFBLITE_PAGE_SETTINGS_PAGE_WA_LINK_SCREEN:"ntfblite_page_settings_page_wa_link_screen",NT_PAGE_COMPOSER_PAGE_WA_LINK_SCREEN:"nt_page_composer_page_wa_link_screen",NTFBLITE_ADD_CTA_PAGE_WA_LINK_SCREEN:"ntfblite_add_cta_page_wa_link_screen",NTFBLITE_BOOST_POST_PAGE_WA_LINK_SCREEN:"ntfblite_boost_post_page_wa_link_screen",NT_WA_BUSINESS_CONNECT_PAGE_WA_LINK_SCREEN:"nt_wa_business_connect_page_wa_link_screen",NT_PAGE_ONBOARDING_PAGE_WA_LINK_SCREEN:"nt_page_onboarding_page_wa_link_screen",NT_PAGE_SELF_VIEW_PAGE_WA_LINK_SCREEN:"nt_page_self_view_page_wa_link_screen",BIZAPP_IG_LINKING_BOTTOM_SHEET:"bizapp_ig_linking_bottom_sheet",BIZAPP_NATIVE_IG_SSO_AUTH_SCREEN:"bizapp_native_ig_sso_auth_screen",BIZAPP_NATIVE_IG_SSO_PERSONAL_ACCOUNT_SCREEN:"bizapp_native_ig_sso_personal_account_screen",BIZAPP_WEBVIEW_IG_AUTH_SCREEN:"bizapp_webview_ig_auth_screen",BIZAPP_HOME_HEADER_IG_NULL_STATE_PROFILE_PICTURE:"bizapp_home_header_ig_null_state_profile_picture",BIZAPP_HOME_HEADER_IG_NULL_STATE_INSIGHTS:"bizapp_home_header_ig_null_state_insights",BIZAPP_HOME_HEADER_IG_NULL_STATE_BOTTOM_SHEET:"bizapp_home_header_ig_null_state_bottom_sheet",FB_BLOKS_CONNECT_TO_IG_DISCLOSURE_SCREEN:"fb_bloks_connect_to_ig_disclosure_screen",FB_BLOKS_IGDM_TOGGLE_DISCLOSURE_SCREEN:"fb_bloks_igdm_toggle_disclosure_screen",FB_BLOKS_MIXED_PERMISSIONS_V2_FORWARD_FIX_BPL_PAGE_IG_INVITATION_SCREEN:"fb_bloks_mixed_permissions_v2_forward_fix_bpl_page_ig_invitation_screen",FB_BLOKS_MIXED_PERMISSIONS_V2_FORWARD_FIX_BPL_PAGE_IG_CONFIRMATION_SCREEN:"fb_bloks_mixed_permissions_v2_forward_fix_bpl_page_ig_confirmation_screen",FB_BLOKS_LINK_FAILURE_SCREEN:"fb_bloks_link_failure_screen",FB_BLOKS_MIXED_PERMISSIONS_V2_FORWARD_FIX_BPL_PAGE_WA_INVITATION_SCREEN:"fb_bloks_mixed_permissions_v2_forward_fix_bpl_page_wa_invitation_screen",FB_BLOKS_MIXED_PERMISSIONS_V2_FORWARD_FIX_BPL_PAGE_WA_NOT_NOW_BOTTOM_SHEET:"fb_bloks_mixed_permissions_v2_forward_fix_bpl_page_wa_not_now_bottom_sheet",FB_BLOKS_LINK_OVERRIDE_SCREEN:"fb_bloks_link_override_screen",FB_BLOKS_LINK_OVERRIDE_CONFIRMATION_SCREEN:"fb_bloks_link_override_confirmation_screen",BLOKS_ADD_CTA_PAGE_WA_LINK_SCREEN:"bloks_add_cta_page_wa_link_screen",BLOKS_PAGE_CREATION_PAGE_WA_LINK_SCREEN:"bloks_page_creation_page_wa_link_screen",BLOKS_BOOST_POST_PAGE_WA_LINK_SCREEN:"bloks_boost_post_page_wa_link_screen",BLOKS_PAGE_SETTINGS_PAGE_WA_LINK_SCREEN:"bloks_page_settings_page_wa_link_screen",BLOKS_SMART_PACKAGE_PAGE_WA_LINK_SCREEN:"bloks_smart_package_page_wa_link_screen",FB_BLOKS_LINK_CONFIRMATION_REVIEW_CONNECTION_BANNER:"fb_bloks_link_confirmation_review_connection_banner",FB_BLOKS_LINK_CONFIRMATION_DISCLOSURE_SCREEN:"fb_bloks_link_confirmation_disclosure_screen",FB_BLOKS_LINK_CONFIRMATION_DISCLOSURE_V2_SCREEN:"fb_bloks_link_confirmation_disclosure_v2_screen",FB_BLOKS_LINK_CONFIRMATION_CONFIRM_ACCOUNT_SCREEN:"fb_bloks_link_confirmation_confirm_account_screen",FB_BLOKS_LINK_CONFIRMATION_CONNECT_SUCCESS_SCREEN:"fb_bloks_link_confirmation_connect_success_screen",FB_BLOKS_LINK_CONFIRMATION_CONNECT_FAILURE_SCREEN:"fb_bloks_link_confirmation_connect_failure_screen",FB_BLOKS_LINK_CONFIRMATION_DISCONNECT_ACCOUNT_SCREEN:"fb_bloks_link_confirmation_disconnect_account_screen",CONNECT_TO_FB_DISCLOSURE_SCREEN:"connect_to_fb_disclosure_screen",PAGE_SELECTION_LINKING_SCREEN:"page_selection_linking_screen",PAGE_LINK_SUCCESS_SCREEN:"page_link_success_screen",PAGE_LINK_FAILURE_SCREEN:"page_link_failure_screen",DISCONNECT_TO_FB_DISCLOSURE_SCREEN:"disconnect_to_fb_disclosure_screen",PAGE_UNLINK_SUCCESS_SCREEN:"page_unlink_success_screen",PAGE_UNLINK_FAILURE_SCREEN:"page_unlink_failure_screen",PAGE_IG_LINK_APPROVAL_CONFIRMATION_SCREEN:"page_ig_link_approval_confirmation_screen",MBS_MIXED_PERMISSIONS_V2_FORWARD_FIX_BPL_PAGE_IG_INVITATION_SCREEN:"mbs_mixed_permissions_v2_forward_fix_bpl_page_ig_invitation_screen",MBS_MIXED_PERMISSIONS_V2_FORWARD_FIX_BPL_PAGE_IG_CONFIRMATION_SCREEN:"mbs_mixed_permissions_v2_forward_fix_bpl_page_ig_confirmation_screen",MBS_MIXED_PERMISSIONS_V2_FORWARD_FIX_BPL_PAGE_WA_INVITATION_SCREEN:"mbs_mixed_permissions_v2_forward_fix_bpl_page_wa_invitation_screen",MBS_MIXED_PERMISSIONS_V2_FORWARD_FIX_BPL_PAGE_WA_NOT_NOW_SCREEN:"mbs_mixed_permissions_v2_forward_fix_bpl_page_wa_not_now_screen",MBS_MIXED_PERMISSIONS_V2_FORWARD_FIX_BPL_PAGE_WA_RESPONSE_SCREEN:"mbs_mixed_permissions_v2_forward_fix_bpl_page_wa_response_screen",MBS_LM_FB_LOGIN_ON_PAGE_ASSET_PAGE_IG_UNLINK_SCREEN:"linking_management_fb_login_on_page_asset_page_ig_unlink_screen",MBS_LM_FB_LOGIN_ON_INSTAGRAM_ASSET_PAGE_IG_UNLINK_SCREEN:"linking_management_fb_login_on_instagram_asset_page_ig_unlink_screen",CONFIRM_ACCESS_SCREEN:"confirm_access_screen",ADS_LEGOS_BOOST_POST_SCREEN:"ads_legos_boost_post_screen",LWI_COMET_CONNECT_IG_BUTTON:"lwi_comet_connect_ig_button",IG_BLOKS_PAGE_SELECTION_SCREEN:"ig_bloks_page_selection_screen",IG_BLOKS_PAGE_CREATION_SCREEN:"ig_bloks_page_creation_screen",IG_BLOKS_PAGE_CATEGORY_SCREEN:"ig_bloks_page_category_screen",IG_BLOKS_PAGE_CATEGORY_SEARCH_SCREEN:"ig_bloks_page_category_search_screen",IG_BLOKS_CLAIM_LOCATION_SCREEN:"ig_bloks_claim_location_screen",IG_BLOKS_PRO2PRO_FRAMEWORK:"ig_bloks_pro2pro_framework",IG_BLOKS_FB_AUTH_SCREEN:"ig_bloks_fb_auth_screen",FB_AUTH_SCREEN:"fb_auth_screen",IG_AUTH_SCREEN:"ig_auth_screen",IG_SSO_AUTH_SCREEN:"ig_sso_auth_screen",IG_BLOKS_LINK_CONFIRMATION_REVIEW_CONNECTION:"ig_bloks_link_confirmation_review_connection",IG_BLOKS_LINK_CONFIRMATION_MANAGE_FACEBOOK:"ig_bloks_link_confirmation_manage_facebook",IG_BLOKS_LINK_CONFIRMATION_MANAGE_INSTAGRAM:"ig_bloks_link_confirmation_manage_instagram",IG_BLOKS_LINK_CONFIRMATION_CONFIRM_CONNECTION:"ig_bloks_link_confirmation_confirm_connection",IG_BLOKS_LINK_CONFIRMATION_CHOOSE_PAGE:"ig_bloks_link_confirmation_choose_page",IG_BLOKS_LINK_CONFIRMATION_CONFIRM_DISCONNECT:"ig_bloks_link_confirmation_confirm_disconnect",SUCCESS_SCREEN:"success_screen",FAILURE_SCREEN:"failure_screen",DISCONNECT_SUCCESS_SCREEN:"disconnect_success_screen",DISCONNECT_FAILURE_SCREEN:"disconnect_failure_screen",IG_LINK_OVERRIDE_SCREEN:"ig_link_override_screen",IG_LINK_OVERRIDE_CONFIRM_SCREEN:"ig_link_override_confirm_screen",IG_LINK_OVERRIDE_CONFIRM_SCREEN_V2:"ig_link_override_confirm_screen_v2",IG_SETTINGS_CONTACT_OPTIONS_SCREEN:"ig_settings_contact_options_screen",IG_SETTINGS_PROFESSIONAL_ACCOUNTS_TAB:"ig_settings_professional_accounts_tab",IG_BOOST_INSTAGRAM_POST_SCREEN:"ig_boost_instagram_post_screen",IG_WA_LINKING_IG_APP_UNIFIED_LINKING_SCREEN:"ig_wa_linking_ig_app_unified_linking_screen",PAGE_IG_UNLINK_SCREEN:"page_ig_unlink_screen",ADS_MANAGER_WWW_EDITOR_IG_ACCOUNT_SELECTOR:"ads_manager_www_editor_ig_account_selector",ADS_MANAGER_WWW_IG_CLICK_TO_DIRECT_PAGE_CONNECT_MODAL:"ads_manager_www_ig_click_to_direct_page_connect_modal",UNKNOWN_DO_NOT_USE:"unknown_do_not_use",MID_LIGHTWEIGHT_USER_AWARENESS_MODAL:"mid_lightweight_user_awareness_modal",VISUAL_TREATMENT_INDEPENDENT_MODAL:"visual_treatment_independent_modal",SELECTABLE_PORTFOLIO_VISUAL_TREATMENT_INDEPENDENT_MODAL:"selectable_portfolio_visual_treatment_independent_modal",IG_CREATION_AND_LOGIN_SIGNUP_FORM:"ig_creation_and_login_signup_form",IG_CREATION_AND_LOGIN_USER_VERIFICATION_SCREEN:"ig_creation_and_login_user_verification_screen",IG_CREATION_AND_LOGIN_PRO_TYPE_SCREEN:"ig_creation_and_login_pro_type_screen",IG_CREATION_AND_LOGIN_PRO_CATEGORY_SCREEN:"ig_creation_and_login_pro_category_screen",IG_CREATION_AND_LOGIN_WAVERLY_TOGGLE_SCREEN:"ig_creation_and_login_waverly_toggle_screen",IG_CREATION_AND_LOGIN_ERROR_SCREEN:"ig_creation_and_login_error_screen",IG_CREATION_AND_LOGIN_LINKING_MUTATION_REQUEST:"ig_creation_and_login_linking_mutation_request",IG_CREATION_AND_LOGIN_LOADING_SCREEN:"ig_creation_and_login_loading_screen",IG_CREATION_AND_LOGIN_CREATE_MUTATION_REQUEST:"ig_creation_and_login_create_ig_mutation_request",IG_CREATION_AND_LOGIN_CONVERT_TO_PRO_MUTATION_REQUEST:"ig_creation_and_login_convert_to_pro_mutation_request",NT_BUSINESS_PORTFOLIO_TRANSPARENCY_DISCLOSURE_SCREEN:"nt_business_portfolio_transparency_disclosure_screen",NT_BUSINESS_PORTFOLIO_TRANSPARENCY_WA_DISCLOSURE_SCREEN:"nt_business_portfolio_transparency_wa_disclosure_screen",NT_BUSINESS_PORTFOLIO_TRANSPARENCY_WA_SMB_DISCLOSURE_SCREEN:"nt_business_portfolio_transparency_wa_smb_disclosure_screen",COMET_BUSINESS_PORTFOLIO_TRANSPARENCY_DISCLOSURE_SCREEN:"comet_business_portfolio_transparency_disclosure_screen",BIZWEB_BUSINESS_PORTFOLIO_TRANSPARENCY_DISCLOSURE_SCREEN:"bizweb_business_portfolio_transparency_disclosure_screen",NT_BUSINESS_PORTFOLIO_TRANSPARENCY_WA_CANCEL_ALERT_DIALOGUE:"nt_business_portfolio_transparency_wa_cancel_alert_dialogue",NT_BUSINESS_PORTFOLIO_TRANSPARENCY_META_VERIFIED_WARNING_ALERT_DIALOGUE:"nt_business_portfolio_transparency_meta_verified_warning_alert_dialogue",CTWA_BMX_ADOPTION_PAGE_WA_PROFILE_PLUS_INTERNAL_TOOL:"ctwa_bmx_adoption_page_wa_profile_plus_internal_tool",CTWA_BMX_ADOPTION_PAGE_WA_PAGE_INTERNAL_TOOL:"ctwa_bmx_adoption_page_wa_page_internal_tool",ADS_MANAGER_PAGE_WA_LINK_DIALOG_SCREEN:"ads_manager_page_wa_link_dialog_screen",FBSOURCE_ADS_MANAGER_PAGE_WA_LINK_DIALOG_SCREEN:"fbsource_ads_manager_page_wa_link_dialog_screen",FBSOURCE_ADD_CTA_PAGE_WA_LINK_DIALOG_SCREEN:"fbsource_add_cta_page_wa_link_dialog_screen",FBSOURCE_BOOST_POST_PAGE_WA_LINK_DIALOG_SCREEN:"fbsource_boost_post_page_wa_link_dialog_screen",X_PAGE_WA_LINK_PAGE_SETTINGS_SCREEN:"x_page_wa_link_page_settings_screen",ACCOUNT_SETUP_PAGE_CREATION_ASYNC_JOB:"account_setup_page_creation_async_job",WHATSAPP_SMB_FB_AND_IG_FACEBOOK_ADD:"whatsapp_smb_fb_and_ig_facebook_add",INTEGRATION_TEST:"integration_test",BIZWEB_META_AI_BIZ_AGENT_WA_ONBOARDING:"bizweb_meta_ai_biz_agent_wa_onboarding",PAGE_WA_LINKING_PLACEHOLDER:"page_wa_linking_placeholder"});f["default"]=a}),66);
__d("PageFamilyOfAppsLinkEventLocationUtils.facebook",["$InternalEnumUtils","PageFamilyOfAppsLinkEventLocation"],(function(a,b,c,d,e,f,g){a=d("$InternalEnumUtils").createToJSEnum(c("PageFamilyOfAppsLinkEventLocation"));b=d("$InternalEnumUtils").createFromJSEnum(c("PageFamilyOfAppsLinkEventLocation"));g.toJSEnum=a;g.fromJSEnum=b}),98);
__d("PageFamilyOfAppsLinkFlowSource",[],(function(a,b,c,d,e,f){a=Object.freeze({PAGE_SETTINGS:"page_settings",UNIFIED_INBOX:"unified_inbox",PAGES_MANAGER_APP:"pages_manager_app",BIZ_APP:"biz_app",BIZ_WEB:"biz_web",BIZ_MANAGER:"biz_manager",ADS_MANAGER_APP:"ads_manager_app",ADS_MANAGER:"ads_manager",FB_APP:"fb_app",MSITE:"msite",AYMT_LINK_CONFIRMATION_MOBILE:"aymt_link_confirmation_mobile",AYMT_LINK_CONFIRMATION_WWW:"aymt_link_confirmation_www",PROFILE_PLUS_ON_COMET:"profile_plus_on_comet",INSTAGRAM:"instagram",FB_WWW:"fb_www",COMET:"comet",INTEGRATION_TEST:"INTEGRATION_TEST",MEDIA_MANAGER_WWW:"media_manager_www",BUSINESS_CENTRAL_IDENTITY_CREATION:"BUSINESS_CENTRAL_IDENTITY_CREATION",SHOPIFY_META_APP:"shopify_meta_app",COMMERCE:"commerce",WHATSAPP_SMB:"whatsapp_smb",IG_APP:"ig_app",IG_WEB:"ig_web",INTERNAL_TOOL:"internal_tool",ENT_INTEGRITY:"ent_integrity",EXAMPLE:"example",PAGE_WA_LINKING_PLACEHOLDER:"page_wa_linking_placeholder",UNKNOWN_DO_NOT_USE:"unknown_do_not_use"});f["default"]=a}),66);
__d("PageFamilyOfAppsLinkFlowSourceUtils.facebook",["$InternalEnumUtils","PageFamilyOfAppsLinkFlowSource"],(function(a,b,c,d,e,f,g){a=d("$InternalEnumUtils").createToJSEnum(c("PageFamilyOfAppsLinkFlowSource"));b=d("$InternalEnumUtils").createFromJSEnum(c("PageFamilyOfAppsLinkFlowSource"));g.toJSEnum=a;g.fromJSEnum=b}),98);
__d("LWICometPageWhatsAppNumberStartVerifyMutation",["CometRelay","LWICometPageWhatsAppNumberStartVerifyMutation.graphql","PageFamilyOfAppsLinkEntryPointUtils.facebook","PageFamilyOfAppsLinkEventLocationUtils.facebook","PageFamilyOfAppsLinkFlowSourceUtils.facebook","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("LWICometPageWhatsAppNumberStartVerifyMutation.graphql");function a(a,b,e,f){var g=d("PageFamilyOfAppsLinkEntryPointUtils.facebook").fromJSEnum(a.entryPoint),h=d("PageFamilyOfAppsLinkEventLocationUtils.facebook").fromJSEnum(a.eventLocation),j=d("PageFamilyOfAppsLinkFlowSourceUtils.facebook").fromJSEnum(a.linkFlowSource);if(g==null||h==null||j==null)throw c("unrecoverableViolation")("either entryPoint or eventLocation or linkFlowSource is null","pages_lwi");return d("CometRelay").commitMutation(b,{mutation:i,onCompleted:e,onError:f,variables:{client_params:{entry_point:g,event_location:h,link_flow_source:j,linking_direction:a.linkingDirection},instagram_actor_id:a.instagramActorID,page_id:a.pageID,product_flow:a.productFlow,require_business_number:a.requireBusinessNumber,source:"ADS_LWI",whatsapp_number:a.whatsappNumber}})}g.sendVerificationCode=a}),98);
__d("LWICometPageWhatsAppVerificationCodeVerifyMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="27369780142621560"}),null);
__d("LWICometPageWhatsAppVerificationCodeVerifyMutation.graphql",["LWICometPageWhatsAppVerificationCodeVerifyMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"client_params"},c={defaultValue:null,kind:"LocalArgument",name:"disclosure_auth_data"},d={defaultValue:null,kind:"LocalArgument",name:"instagram_actor_id"},e={defaultValue:null,kind:"LocalArgument",name:"page_id"},f={defaultValue:null,kind:"LocalArgument",name:"product_flow"},g={defaultValue:null,kind:"LocalArgument",name:"register_wa_to_page"},h={defaultValue:null,kind:"LocalArgument",name:"require_business_number"},i={defaultValue:null,kind:"LocalArgument",name:"source"},j={defaultValue:null,kind:"LocalArgument",name:"verification_code"},k={defaultValue:null,kind:"LocalArgument",name:"whatsapp_number"},l=[{kind:"Variable",name:"client_params",variableName:"client_params"},{kind:"Variable",name:"disclosure_auth_data",variableName:"disclosure_auth_data"},{kind:"Variable",name:"instagram_actor_id",variableName:"instagram_actor_id"},{kind:"Variable",name:"page_id",variableName:"page_id"},{kind:"Variable",name:"product_flow",variableName:"product_flow"},{kind:"Variable",name:"register_wa_to_page",variableName:"register_wa_to_page"},{kind:"Variable",name:"require_business_number",variableName:"require_business_number"},{kind:"Variable",name:"source",variableName:"source"},{kind:"Variable",name:"verification_code",variableName:"verification_code"},{kind:"Variable",name:"whatsapp_number",variableName:"whatsapp_number"}],m={alias:null,args:null,kind:"ScalarField",name:"error_msg",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"result",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"whatsapp_number_type",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"connected_whatsapp_number",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"connected_whatsapp_number_type",storageKey:null},s=[p],t={alias:null,args:null,concreteType:"PageWhatsAppNumberFromPageConnection",kind:"LinkedField",name:"verified_whatsapp_numbers",plural:!1,selections:[{alias:null,args:null,concreteType:"PageWhatsAppNumber",kind:"LinkedField",name:"nodes",plural:!0,selections:s,storageKey:null}],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"whatsapp_display_number",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"linked_whatsapp_display_phone_number",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"is_page_in_mixed_permissions_state",storageKey:null},x={alias:null,args:null,concreteType:"AdBusiness",kind:"LinkedField",name:"owner_business",plural:!1,selections:s,storageKey:null},y={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"if_viewer_can_see_mixed_permissions_forward_fix_page_wa_link_invite_modal_mbs",plural:!1,selections:s,storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i,j,k],kind:"Fragment",metadata:null,name:"LWICometPageWhatsAppVerificationCodeVerifyMutation",selections:[{alias:null,args:l,concreteType:"VerifyPageWhatsappNumberResponsePayload",kind:"LinkedField",name:"verify_page_whatsapp_number",plural:!1,selections:[m,n,o,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[p,q,r,t,u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"coalesced_linked_bizlink_instagram_account",plural:!1,selections:[v],storageKey:null},w,x,y],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[k,e,i,h,j,g,c,d,f,a],kind:"Operation",name:"LWICometPageWhatsAppVerificationCodeVerifyMutation",selections:[{alias:null,args:l,concreteType:"VerifyPageWhatsappNumberResponsePayload",kind:"LinkedField",name:"verify_page_whatsapp_number",plural:!1,selections:[m,n,o,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[p,q,r,t,u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"coalesced_linked_bizlink_instagram_account",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},v,{kind:"InlineFragment",selections:s,type:"Node",abstractKey:"__isNode"}],storageKey:null},w,x,y],storageKey:null}],storageKey:null}]},params:{id:b("LWICometPageWhatsAppVerificationCodeVerifyMutation_facebookRelayOperation"),metadata:{},name:"LWICometPageWhatsAppVerificationCodeVerifyMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("LWICometPageWhatsAppVerificationCodeVerifyMutation",["CometRelay","LWICometPageWhatsAppVerificationCodeVerifyMutation.graphql","PageFamilyOfAppsLinkEntryPointUtils.facebook","PageFamilyOfAppsLinkEventLocationUtils.facebook","PageFamilyOfAppsLinkFlowSourceUtils.facebook","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("LWICometPageWhatsAppVerificationCodeVerifyMutation.graphql");function a(a,b,e,f){var g=d("PageFamilyOfAppsLinkEntryPointUtils.facebook").fromJSEnum(a.entryPoint),h=d("PageFamilyOfAppsLinkEventLocationUtils.facebook").fromJSEnum(a.eventLocation),j=d("PageFamilyOfAppsLinkFlowSourceUtils.facebook").fromJSEnum(a.linkFlowSource);if(g==null||h==null||j==null)throw c("unrecoverableViolation")("either entryPoint or eventLocation or linkFlowSource is null","pages_lwi");return d("CometRelay").commitMutation(b,{mutation:i,onCompleted:e,onError:f,variables:{client_params:{entry_point:g,event_location:h,link_flow_source:j,linking_direction:a.linkingDirection},disclosure_auth_data:a.disclosureAuthData,instagram_actor_id:a.instagramActorID,page_id:a.pageID,product_flow:a.productFlow,require_business_number:a.requireBusinessNumber,source:"ADS_LWI",verification_code:a.verificationCode,whatsapp_number:a.whatsappNumber}})}g.verifyCode=a}),98);
__d("PageFamilyOfAppsLinkFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744098");b=d("FalcoLoggerInternal").create("page_family_of_apps_link",a);e=b;g["default"]=e}),98);
__d("logPageFamilyOfAppsLinksJSUI",["PageFamilyOfAppsLinkFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g){c("PageFamilyOfAppsLinkFalcoEvent").log(function(){return{entry_point:e,event_data:{event_location:f,event_name:d,event_type:"ui",flow_type:"page_whatsapp_linking"},flow_source:b,linking_direction:"page_to_wa",page_id:a,whatsapp_number:g}})}g["default"]=a}),98);
__d("LWICometCTWALoggerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("useLWICometCTWALoggerContext",["LWICometCTWALoggerContext","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("LWICometCTWALoggerContext"));if(a==null)throw c("unrecoverableViolation")("LWI CTWA logger context must be set for WhatsApp CTA flows","pages_lwi");return a}g["default"]=a}),98);
__d("CometComposerGetWhatsAppMessagesVerificationFlow.react",["ClickToWhatsAppAdsPhoneNumberUtils","ClickToWhatsAppAdsUnifiedEventsTypedLoggerLite","CometComposerGetWhatsAppMessagesVerificationFlowQuery.graphql","CometPageAdminCTWAEventLoggingUtils","CometRelay","CometWhatsAppVerificationFlowNumberInput.react","CometWhatsAppVerificationFlowVerificationCodeInput.react","LWICometPageWhatsAppNumberStartVerifyMutation","LWICometPageWhatsAppVerificationCodeVerifyMutation","LWICometWhatsAppConstants","RelayHooks","WhatsAppNumberType","getJSEnumSafe","logPageFamilyOfAppsLinksJSUI","react","useLWICometCTWALoggerContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useEffect,m=e.useMemo,n=e.useRef,o=e.useState,p=h!==void 0?h:h=b("CometComposerGetWhatsAppMessagesVerificationFlowQuery.graphql");function a(a){var b=a.onClose,e=a.onSuccess,f=a.pageID;a=d("RelayHooks").useLazyLoadQuery(p,{pageID:f});a=a.click_to_whatsapp_ads_info;var g="page_composer",h="comet_page_wa_link_page_composer_dialog_screen",i=o(null),q=i[0],r=i[1];i=o(!1);var s=i[0],t=i[1];i=o(!1);var u=i[0],v=i[1];i=o(!1);var w=i[0],x=i[1];i=o(null);var y=i[0],z=i[1];i=o("");var A=i[0],B=i[1],C=d("CometRelay").useRelayEnvironment(),D=n(!0),E=n(!0),F=c("useLWICometCTWALoggerContext")(),G=m(function(){return babelHelpers["extends"]({},F,{whatsapp_number_type:null})},[F]),H=k(function(a,b,e){c("ClickToWhatsAppAdsUnifiedEventsTypedLoggerLite").log(babelHelpers["extends"]({},G,{event:a,verification_code:e,whatsapp_country_code:d("ClickToWhatsAppAdsPhoneNumberUtils").getCountryCodeFromWhatsAppNumber(b),whatsapp_number:b,whatsapp_phone_number:d("ClickToWhatsAppAdsPhoneNumberUtils").getPhoneNumberFromWhatsAppNumber(b)}))},[G]);l(function(){w?E.current&&(c("logPageFamilyOfAppsLinksJSUI")(f,"comet","page_whatsapp_ui_confirm_code_impression",g,h),E.current=!1):D.current&&(c("logPageFamilyOfAppsLinksJSUI")(f,"comet","page_whatsapp_ui_send_code_impression",g,h),D.current=!1)},[f,w,g,h]);var I=k(function(a){c("logPageFamilyOfAppsLinksJSUI")(f,"comet","page_whatsapp_ui_send_code_clicked",g,h,a),t(!1),v(!0),H("verification_code_send_request",a),d("LWICometPageWhatsAppNumberStartVerifyMutation").sendVerificationCode({entryPoint:g,eventLocation:h,linkFlowSource:"comet",linkingDirection:"PAGE_TO_WA",pageID:f,requireBusinessNumber:!1,whatsappNumber:a},C,function(e){d("CometPageAdminCTWAEventLoggingUtils").logCTWAEvent(f,"ui_link_enter_wa_number_with_value_prop_render","click_send_code","page_comet_composer");v(!1);if(!w){var i,j;i=e==null?void 0:(i=e.start_verify_page_whatsapp_number)==null?void 0:i.error_msg;j=e==null?void 0:(j=e.start_verify_page_whatsapp_number)==null?void 0:j.result;G.whatsapp_number_type=(e=c("getJSEnumSafe")(c("WhatsAppNumberType"),e==null?void 0:(e=e.start_verify_page_whatsapp_number)==null?void 0:e.whatsapp_number_type))!=null?e:null;i!=null?(c("logPageFamilyOfAppsLinksJSUI")(f,"comet","page_whatsapp_ui_send_code_failure",g,h,a),t(!0),z(i)):(c("logPageFamilyOfAppsLinksJSUI")(f,"comet","page_whatsapp_ui_send_code_success",g,h,a),d("CometPageAdminCTWAEventLoggingUtils").logCTWAEvent(f,"ui_link_enter_wa_number_with_value_prop_render","send_code_success","page_comet_composer"),t(!1),z(null),B(a),j==="VERIFIED"||j==="AUTO_VERIFIED_ENTERPRISE_NUMBER_DIRECT"||j==="AUTO_VERIFIED_ENTERPRISE_NUMBER_ON_BEHALF_OF"?(H("whatsapp_number_verification_success",a),b()):x(!0))}else c("logPageFamilyOfAppsLinksJSUI")(f,"comet","page_whatsapp_ui_send_code_failure",g,h,a)},function(b){c("logPageFamilyOfAppsLinksJSUI")(f,"comet","page_whatsapp_ui_send_code_failure",g,h,a),v(!1),z(d("LWICometWhatsAppConstants").GENERIC_ERROR_MESSAGE)})},[H,g,C,h,w,G,b,f]);i=k(function(a){c("logPageFamilyOfAppsLinksJSUI")(f,"comet","page_whatsapp_ui_confirm_code_clicked",g,h,A),t(!1),v(!0),H("validate_whatsapp_verification_code_click",A,a),d("LWICometPageWhatsAppVerificationCodeVerifyMutation").verifyCode({entryPoint:g,eventLocation:h,linkFlowSource:"comet",linkingDirection:"PAGE_TO_WA",pageID:f,requireBusinessNumber:!1,verificationCode:a,whatsappNumber:A},C,function(b){v(!1);b=b==null?void 0:(b=b.verify_page_whatsapp_number)==null?void 0:b.error_msg;if(b!=null){c("logPageFamilyOfAppsLinksJSUI")(f,"comet","page_whatsapp_ui_confirm_code_failure",g,h,A);H("whatsapp_number_verification_code_incorrect",A,a);t(!0);r(b);d("CometPageAdminCTWAEventLoggingUtils").logCTWAEvent((b=f)!=null?b:"","ui_link_enter_verification_code_render","verification_code_error","page_comet_composer")}else{c("logPageFamilyOfAppsLinksJSUI")(f,"comet","page_whatsapp_ui_confirm_code_success",g,h,A);H("whatsapp_number_verification_success",A,a);t(!1);r(null);e();d("CometPageAdminCTWAEventLoggingUtils").logCTWAEvent((b=f)!=null?b:"","ui_link_enter_verification_code_render","verification_code_success","page_comet_composer")}},function(a){c("logPageFamilyOfAppsLinksJSUI")(f,"comet","page_whatsapp_ui_confirm_code_failure",g,h,A),v(!1)})},[H,g,C,h,e,f,A]);var J=function(){x(!1)},K=function(){I(A)},L=function(){t(!1)},M=function(){x(!1),e()};return w?j.jsx(c("CometWhatsAppVerificationFlowVerificationCodeInput.react"),{confirmError:q,isValidating:u,log:H,navigateBack:J,pageID:f,resendCode:K,verificationTechniqueSuccess:M,verifyCode:i,whatsAppNumber:A}):j.jsx(c("CometWhatsAppVerificationFlowNumberInput.react"),{hideError:L,isErrorShown:s,isValidating:u,log:H,validationError:y,verifyNumber:I,whatsAppDefaultCountryCode:(J=a==null?void 0:(q=a.default_whatsapp_number)==null?void 0:q.country_code)!=null?J:"US",whatsAppDefaultNumber:(M=a==null?void 0:(K=a.default_whatsapp_number)==null?void 0:K.phone_number)!=null?M:""})}a.displayName=a.name+" [from "+f.id+"]";e=j.memo(a);g["default"]=e}),98);
__d("CometComposerGetWhatsAppMessagesVerificationFlowContainer.react",["CometComposerGetWhatsAppMessagesVerificationFlow.react","LWICometCTWALoggerContext","composerGetWhatsAppMessagesReducer","react","react-compiler-runtime","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(12),e=a.addAttachment,f=a.onClose;a=a.pageID;c("useComposerViewStateReducer")(c("composerGetWhatsAppMessagesReducer"));var g;b[0]!==e||b[1]!==f?(g=function(){e(),f()},b[0]=e,b[1]=f,b[2]=g):g=b[2];g=g;var h;b[3]!==a?(h={ad_account_id:null,ads_lwi_goal:null,objective:null,page_id:a,post_id:null,product_flow:"page_composer",source_app_id:String(1042244359201256)},b[3]=a,b[4]=h):h=b[4];h=h;h=h;var j;b[5]!==f||b[6]!==g||b[7]!==a?(j=i.jsx(c("CometComposerGetWhatsAppMessagesVerificationFlow.react"),{onClose:f,onSuccess:g,pageID:a}),b[5]=f,b[6]=g,b[7]=a,b[8]=j):j=b[8];b[9]!==h||b[10]!==j?(g=i.jsx(c("LWICometCTWALoggerContext").Provider,{value:h,children:j}),b[9]=h,b[10]=j,b[11]=g):g=b[11];return g}e=c("withComposerViewStatePart")(a,function(a){return{}});g["default"]=e}),98);
__d("CometComposerInterceptionCallNowHandler",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){a=a.callNowHandler;e=(e=e.unified_interception)==null?void 0:e.decision;if(e==null||e.product_type!=="CALL_NOW")return;a(b,c,d)}f.handleCallNowInterceptionResponse=a}),66);
__d("CometComposerInterceptionEventsHandler",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){a=a.eventsHandler;d=(d=d.unified_interception)==null?void 0:d.decision;if(d==null||d.product_type!=="EVENT")return;d=(d==null?void 0:d.auxiliary_data)||{};var f=d.address,g=d.description,h=d.end_time,i=d.external_image_url,j=d.has_data_from_url,k=d.location_id,l=d.photo_id,m=d.should_extract_with_llm,n=d.start_time;d=d.title;a({extractedEventData:{address:f,description:g,endtime:h,externalImageUrl:i,hasDataFromURL:j,location:k!=null||f!=null?"IN_PERSON":void 0,locationID:k,startTime:n,themePhotoID:l,title:d},onHalt:b,postText:m===!0?e:null,publishPostHandler:c})}f.handleEventsInterceptionResponse=a}),66);
__d("CometComposerInterceptionFundraisingHandler",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){a=a.fundraisingHandler;d=(d=d.unified_interception)==null?void 0:d.decision;if(d==null||d.product_type!=="FUNDRAISER_DONATE_BUTTON")return;a({onClose:b,publishPostHandler:c})}f.handleFundraisingInterceptionResponse=a}),66);
__d("CometComposerInterceptionGetMessagesHandler",["JSResourceForInteraction","react-compiler-runtime","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("MessagingCometPagesComposerInterceptionDialog.react").__setRef("CometComposerInterceptionGetMessagesHandler");function a(a,b,e,f,g){var i=d("react-compiler-runtime").c(7),j=c("useCometLazyDialog")(h),k=j[0];i[0]!==a||i[1]!==b||i[2]!==k||i[3]!==e||i[4]!==f||i[5]!==g?(j=function(c){if(b===!0){c();return}var d=function(){a({isGetMessagesPostAttachmentOptional:!0,type:"MESSAGING_ADD_GET_MESSAGES_BUTTON"}),a({attachmentType:"GET_MESSAGES",type:"ACTIVATE_ATTACHMENT_TYPE"}),window.setTimeout(g,0)};k({interceptionEntryPoint:"profile_plus_feed",onAgree:d,onContinue:c,pageID:e,sessionID:f})},i[0]=a,i[1]=b,i[2]=k,i[3]=e,i[4]=f,i[5]=g,i[6]=j):j=i[6];return j}function b(a,b,c){a=a.getMessagesHandler;c=(c=c.unified_interception)==null?void 0:c.decision;if(c==null||c.product_type!=="MESSAGEPAGE")return;a(b);return}g.useGetMessagesCometComposerInterceptionHandler=a;g.handleGetMessagesInterceptionResponse=b}),98);
__d("CometComposerInterceptionPluginUtilsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8018313941624105"}),null);
__d("CometComposerInterceptionPluginUtilsQuery.graphql",["CometComposerInterceptionPluginUtilsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"params"},c={defaultValue:null,kind:"LocalArgument",name:"target_id"},d={defaultValue:null,kind:"LocalArgument",name:"target_type"},e={alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null},h={alias:null,args:null,concreteType:"UnifiedInterceptionLocation",kind:"LinkedField",name:"location",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null};h=[{alias:null,args:[{kind:"Variable",name:"target_id",variableName:"target_id"},{kind:"Variable",name:"target_type",variableName:"target_type"}],concreteType:"UnifiedInterceptionQuery",kind:"LinkedField",name:"unified_interception",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"request_param",variableName:"params"}],concreteType:"UnifiedInterceptionResponse",kind:"LinkedField",name:"decision",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"flow_type",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"should_perform_interception",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"auxiliary_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[f,{alias:null,args:null,kind:"ScalarField",name:"job_type",storageKey:null},h,i,{alias:null,args:null,concreteType:"Wage",kind:"LinkedField",name:"wage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"max",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],type:"UnifiedInterceptionJobAuxiliaryData",abstractKey:null},{kind:"InlineFragment",selections:[i,{alias:null,args:null,kind:"ScalarField",name:"activity_title",storageKey:null},f,h,j,k,{alias:null,args:null,kind:"ScalarField",name:"location_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_type",storageKey:null},e],type:"XFBUnifiedInterceptionVolunteeringAuxiliaryData",abstractKey:null},{kind:"InlineFragment",selections:[g,f,k,{alias:null,args:null,kind:"ScalarField",name:"external_image_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_data_from_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"photo_id",storageKey:null},j,i,{alias:null,args:null,kind:"ScalarField",name:"should_extract_with_llm",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_invoke_tagging_intercept",storageKey:null}],type:"UnifiedInterceptionEventAuxiliaryData",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"CometComposerInterceptionPluginUtilsQuery",selections:h,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,c,a],kind:"Operation",name:"CometComposerInterceptionPluginUtilsQuery",selections:h},params:{id:b("CometComposerInterceptionPluginUtilsQuery_facebookRelayOperation"),metadata:{},name:"CometComposerInterceptionPluginUtilsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("UnifiedInterceptionFlowTypeEnum.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["AUTO_CONVERT","DIALOG","INLINE","ONE_CLICK_CREATION","UNKNOWN"]);c=a;f["default"]=c}),66);
__d("UnifiedInterceptionInterceptAcceptFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744453");b=d("FalcoLoggerInternal").create("unified_interception_intercept_accept",a);e=b;g["default"]=e}),98);
__d("UnifiedInterceptionInterceptRejectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744455");b=d("FalcoLoggerInternal").create("unified_interception_intercept_reject",a);e=b;g["default"]=e}),98);
__d("VolunteeringOneClickCreationDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5390866184341330"}),null);
__d("VolunteeringOneClickCreationDialogQuery$Parameters",["VolunteeringOneClickCreationDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("VolunteeringOneClickCreationDialogQuery_facebookRelayOperation"),metadata:{},name:"VolunteeringOneClickCreationDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("VolunteeringOneClickCreationDialog.entrypoint",["JSResourceForInteraction","VolunteeringOneClickCreationDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.pageID;return{queries:{dialogQueryReference:{parameters:c("VolunteeringOneClickCreationDialogQuery$Parameters"),variables:{pageID:a}}}}},root:c("JSResourceForInteraction")("VolunteeringOneClickCreationDialog.react").__setRef("VolunteeringOneClickCreationDialog.entrypoint")};g["default"]=a}),98);
__d("VolunteeringInterceptionUtils",["FBLogger","JSResourceForInteraction","UnifiedInterceptionInterceptAcceptFalcoEvent","UnifiedInterceptionInterceptRejectFalcoEvent","VolunteeringOneClickCreationDialog.entrypoint","react-compiler-runtime","unrecoverableViolation","useCometEntryPointDialog","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("VolunteeringCometAutoConvertInfoDialog.react").__setRef("VolunteeringInterceptionUtils"),i=c("JSResourceForInteraction")("VolunteeringCometStructuredJobInfoDialog.react").__setRef("VolunteeringInterceptionUtils");function a(){throw c("FBLogger")("volunteering").mustfixThrow("Volunteering is deprecated and should no longer auto convert")}function b(a,b,d,e){var f=function(){c("UnifiedInterceptionInterceptAcceptFalcoEvent").log(function(){return{event_data:{},event_location:"unknown",interception_entry_point:"pages_feed",interception_flow:"dialog",interception_placement:"composer_post_button",interception_product:"volunteering",interception_target_type:"page",target_id:b,waterfall_session_id:e}});throw c("unrecoverableViolation")("Volunteering is deprecated and we should not show intercept","volunteering")},g=function(){c("UnifiedInterceptionInterceptRejectFalcoEvent").log(function(){return{event_data:{},event_location:"unknown",interception_entry_point:"pages_feed",interception_flow:"dialog",interception_placement:"composer_post_button",interception_product:"volunteering",interception_target_type:"page",target_id:b,waterfall_session_id:e}}),d()};a({loggingSourceComponent:"pages_composer",onProceed:f},g)}function e(){throw c("FBLogger")("volunteering").mustfixThrow("Volunteering is deprecated and should no longer create opportunities")}function f(){var a=c("useCometLazyDialog")(i);a=a[0];return a}function j(){var a=c("useCometLazyDialog")(h);a=a[0];return a}function k(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e={pageID:a},b[0]=a,b[1]=e):e=b[1];a=c("useCometEntryPointDialog")(c("VolunteeringOneClickCreationDialog.entrypoint"),e);b=a[0];return b}g.handleVolunteeringAutoConvertInterceptionResponse=a;g.handleVolunteeringDialogInterceptionResponse=b;g.handleVolunteeringOneClickCreationInterceptionResponse=e;g.useVolunteeringInterceptDialog=f;g.useVolunteeringAutoConvertDialog=j;g.useVolunteeringOneClickCreationDialog=k}),98);
__d("CometComposerInterceptionVolunteeringHandler",["FBLogger","VolunteeringInterceptionUtils","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d,e){b=b.volunteeringHandler;d=(d=d.unified_interception)==null?void 0:d.decision;if(d==null||d.product_type!=="VOLUNTEERING")return;var f=d==null?void 0:d.auxiliary_data;if((f==null?void 0:f.__typename)!=="XFBUnifiedInterceptionVolunteeringAuxiliaryData")return;var g=f.activity_title,h=f.description,i=f.end_time,j=f.link_type,k=f.location,l=f.location_type,m=f.product_type,n=f.start_time;f=f.title;b(a,{activity_title:g,description:h,end_time:i,link_type:j,location:k,location_type:l,product_type:m,start_time:n,title:f},(b=d.flow_type)!=null?b:"UNKNOWN",c,e)}function b(a,b,e){var f=d("react-compiler-runtime").c(5),g=d("VolunteeringInterceptionUtils").useVolunteeringInterceptDialog(),h;f[0]!==e||f[1]!==g||f[2]!==a||f[3]!==b?(h=function(f,h,i,j,k){if(e==null){k();return}bb5:switch(i){case"AUTO_CONVERT":d("VolunteeringInterceptionUtils").handleVolunteeringAutoConvertInterceptionResponse();break bb5;case"DIALOG":d("VolunteeringInterceptionUtils").handleVolunteeringDialogInterceptionResponse(g,a,k,b);break bb5;case"ONE_CLICK_CREATION":d("VolunteeringInterceptionUtils").handleVolunteeringOneClickCreationInterceptionResponse();break bb5;case"INLINE":case"UNKNOWN":default:throw c("FBLogger")("volunteering").mustfixThrow("unsupported interception flow type")}},f[0]=e,f[1]=g,f[2]=a,f[3]=b,f[4]=h):h=f[4];return h}g.handleVolunteeringInterceptionResponse=a;g.useVolunteeringAutoConvertCometComposerInterceptionHandler=b}),98);
__d("WhatsAppCometPagesComposerInterceptionDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5487007661388072"}),null);
__d("WhatsAppCometPagesComposerInterceptionDialogQuery$Parameters",["WhatsAppCometPagesComposerInterceptionDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("WhatsAppCometPagesComposerInterceptionDialogQuery_facebookRelayOperation"),metadata:{},name:"WhatsAppCometPagesComposerInterceptionDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("WhatsAppCometPagesComposerInterceptionDialog.entrypoint",["JSResourceForInteraction","WhatsAppCometPagesComposerInterceptionDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{dialogQueryReference:{parameters:c("WhatsAppCometPagesComposerInterceptionDialogQuery$Parameters"),variables:{page_id:a.pageID}}}}},root:c("JSResourceForInteraction")("WhatsAppCometPagesComposerInterceptionDialog.react").__setRef("WhatsAppCometPagesComposerInterceptionDialog.entrypoint")};g["default"]=a}),98);
__d("CometComposerInterceptionWhatsAppMessagesHandler",["fbt","CometComposerFooterAttachmentPluginTypes","CometComposerFooterBoostCTXPostToggleReducer","JSResourceForInteraction","WhatsAppCometPagesComposerInterceptionDialog.entrypoint","composerFooterAttachmentAreaChecker","composerFooterAttachmentAreaReducer","composerGetWhatsAppMessagesReducer","lazyLoadComponent","react","react-compiler-runtime","useCometComposerPushPage","useCometEntryPointDialog","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerGetWhatsAppMessagesVerificationFlowContainer.react").__setRef("CometComposerInterceptionWhatsAppMessagesHandler"));function a(a,b,e,f,g,i){var l=d("react-compiler-runtime").c(11);c("useComposerViewStateReducer")(c("composerGetWhatsAppMessagesReducer"));c("useComposerViewStateReducer")(d("composerFooterAttachmentAreaReducer").composerFooterAttachmentAreaReducer,c("composerFooterAttachmentAreaChecker"));c("useComposerViewStateReducer")(c("CometComposerFooterBoostCTXPostToggleReducer"));var m;l[0]!==e?(m={pageID:e},l[0]=e,l[1]=m):m=l[1];m=c("useCometEntryPointDialog")(c("WhatsAppCometPagesComposerInterceptionDialog.entrypoint"),m);var n=m[0],o=c("useCometComposerPushPage")();l[2]!==a||l[3]!==i||l[4]!==f||l[5]!==n||l[6]!==e||l[7]!==o||l[8]!==b||l[9]!==g?(m=function(c,l){if(f===!0){l();return}var m=function(){a({type:"ADD_GET_WHATSAPP_MESSAGES_BUTTON"}),a({footerAttachmentType:d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_WHATSAPP_MESSAGES,type:"ACTIVATE_FOOTER_ATTACHMENT_TYPE"})},p=function(b,d){c(),b!=null?(m(),a({type:"ENABLE_WHATSAPP_DEEPLINK_CONVERSION"}),g===!0&&a({type:"WHATSAPP_BOOST_POST_TOGGLE_ON"}),d===!0&&i!==!1&&(a({type:"BOOST_AFTER_POSTING_TOGGLE_ON"}),a({type:"WHATSAPP_BOOST_POST_TOGGLE_ON"}))):o(h._(/*BTDS*/"__JHASH__sgvnIxYrqEL__JHASH__"),function(a){a=a.onReturn;return j.jsx(k,{addAttachment:m,onClose:a,pageID:e})})};n({onAgree:p,onContinue:l,pageID:e,sessionID:b},l)},l[2]=a,l[3]=i,l[4]=f,l[5]=n,l[6]=e,l[7]=o,l[8]=b,l[9]=g,l[10]=m):m=l[10];return m}function b(a,b,c,d){a=a.getWhatsAppMessagesHandler;d=(d=d.unified_interception)==null?void 0:d.decision;if(d==null||d.product_type!=="WHATSAPP_PAGE")return;a(b,c);return}g.useWhatsAppMessagesCometComposerInterceptionHandler=a;g.handleWhatsAppMessagesInterceptionResponse=b}),226);
__d("CometComposerInterceptionWhatsappDeeplinkHandler",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){a=a.whatsAppDeeplinkHandler;d=(d=d.unified_interception)==null?void 0:d.decision;if(d==null||d.product_type!=="WHATSAPP_DEEPLINK_PAGE")return;a({onClose:b,publishPostHandler:c})}f.handleWhatsAppDeeplinkInterceptionResponse=a}),66);
__d("UnifiedInterceptionPlacementTypeEnum.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["BIZ_COMPOSER","COMPOSER","COMPOSER_AFTER_PARTY","COMPOSER_POST_BUTTON","COMPOSER_SCHEDULE_POST","COMPOSER_SCHEDULE_STORY","CREATOR_COMPOSER_SCHEDULE_POST","MAIN_CALENDAR","POST_CTA"]);c=a;f["default"]=c}),66);
__d("CometComposerInterceptionPluginUtils",["CometComposerInterceptionCallNowHandler","CometComposerInterceptionEventsHandler","CometComposerInterceptionFundraisingHandler","CometComposerInterceptionGetMessagesHandler","CometComposerInterceptionPluginUtilsQuery.graphql","CometComposerInterceptionVolunteeringHandler","CometComposerInterceptionWhatsAppMessagesHandler","CometComposerInterceptionWhatsappDeeplinkHandler","CometRelay","FBLogger","isStringNullOrEmpty","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i={unified_interception:{decision:{auxiliary_data:null,flow_type:"UNKNOWN",product_type:"UNKNOWN",should_perform_interception:!1}}},j={},k="comet_composer_unified_interception_platform",l=h!==void 0?h:h=b("CometComposerInterceptionPluginUtilsQuery.graphql");function a(a,b,d,e,f,g,h,i){var j=function(c){return m(a,b,c,d,g,h,i)};e=n(d,f,e,j);if(e==null){h();return}p(b,e,function(a){c("FBLogger")(k).info(a.message),s(j)},function(a){r(a,f.sessionID,!1,j)})}function e(a){var b="";if(a!=null)switch(a.__type){case"editor-state-based":b=a.draftEditorState.getCurrentContent().getPlainText();break;case"plain-text":b=a.text;break}return b}function m(a,b,c,e,f,g,h){var i;i=(i=c.unified_interception)==null?void 0:i.decision;if(!Boolean(i==null?void 0:i.should_perform_interception)){g();return}a({type:"set_ignore_dirty_flag",value:!0});if((i==null?void 0:i.product_type)==null){g();return}switch(i.product_type){case"MESSAGEPAGE":d("CometComposerInterceptionGetMessagesHandler").handleGetMessagesInterceptionResponse(h,g,c);break;case"WHATSAPP_PAGE":d("CometComposerInterceptionWhatsAppMessagesHandler").handleWhatsAppMessagesInterceptionResponse(h,f,g,c);break;case"VOLUNTEERING":d("CometComposerInterceptionVolunteeringHandler").handleVolunteeringInterceptionResponse(b,h,e,c,g);break;case"FUNDRAISER_DONATE_BUTTON":d("CometComposerInterceptionFundraisingHandler").handleFundraisingInterceptionResponse(h,f,g,c);break;case"EVENT":d("CometComposerInterceptionEventsHandler").handleEventsInterceptionResponse(h,f,g,c,e);break;case"WHATSAPP_DEEPLINK_PAGE":d("CometComposerInterceptionWhatsappDeeplinkHandler").handleWhatsAppDeeplinkInterceptionResponse(h,f,g,c);break;case"CALL_NOW":d("CometComposerInterceptionCallNowHandler").handleCallNowInterceptionResponse(h,f,g,e,c);break;default:g();break}}function n(a,b,c,d){var e=b.hasWhatsAppDeeplink,f=b.loggingEntryPoint,g=b.placement,h=b.sessionID,i=b.targetID;b=b.targetType;if(!o(h,g)){s(d);return null}c=t((d=c)!=null?d:[]);d={has_whatsapp_deeplink:e,logging_data:{entry_point:f,session_id:h},photo_ids:c,placement:g,post_text:a};return{params:d,target_id:i,target_type:b}}function o(a,b){b=b==="COMPOSER";if(!b&&j[a]){c("FBLogger")(k).info("Already performed a successful interception in this session");return!1}return!0}function p(a,b,c,e){var f=d("relay-runtime").getRequest(l);f=d("relay-runtime").createOperationDescriptor(f,b);var g=a.retain(f),h=d("CometRelay").fetchQuery(a,l,b).subscribe({error:function(a){q({queryRetainDisposable:g,querySubscription:h}),c(a)},next:function(a){q({queryRetainDisposable:g,querySubscription:h}),e(a)}})}function q(a){var b=a.queryRetainDisposable;a=a.querySubscription;a&&a.unsubscribe();b&&b.dispose()}function r(a,b,d,e){var f=a.unified_interception;if(!f){c("FBLogger")(k).info("Null value received from server for interception response");s(e);return}d||(j[b]=!0);s(e,a)}function s(a,b){b===void 0&&(b=i),a&&a(b)}function t(a){return a.filter(function(a){return a.fileType==="PHOTO"&&(a.state==="UPLOADED"||a.state==="PREEXISTING")}).map(function(a){return a.data&&((a=a.data.id)!=null?a:"")}).filter(function(a){return!c("isStringNullOrEmpty")(a)})}g.performInterception=a;g.getPostText=e;g.validateInterceptionRequest=o;g.disposeQuery=q;g.getPhotoIds=t}),98);
__d("CometComposerInterceptionRequestHandlerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7834642573281889"}),null);
__d("CometComposerInterceptionRequestHandlerQuery.graphql",["CometComposerInterceptionRequestHandlerQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"params"},c={defaultValue:null,kind:"LocalArgument",name:"target_id"},d={defaultValue:null,kind:"LocalArgument",name:"target_type"},e=[{alias:null,args:[{kind:"Variable",name:"target_id",variableName:"target_id"},{kind:"Variable",name:"target_type",variableName:"target_type"}],concreteType:"UnifiedInterceptionQuery",kind:"LinkedField",name:"unified_interception",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"request_param",variableName:"params"}],concreteType:"UnifiedInterceptionResponse",kind:"LinkedField",name:"decision",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_perform_interception",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"auxiliary_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"external_image_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_data_from_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"photo_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_extract_with_llm",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_invoke_tagging_intercept",storageKey:null}],type:"UnifiedInterceptionEventAuxiliaryData",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"CometComposerInterceptionRequestHandlerQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,c,a],kind:"Operation",name:"CometComposerInterceptionRequestHandlerQuery",selections:e},params:{id:b("CometComposerInterceptionRequestHandlerQuery_facebookRelayOperation"),metadata:{},name:"CometComposerInterceptionRequestHandlerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("UnifiedInterceptionProductTypeEnum.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["ADD_PHOTO","BRANDAWARENESS","BRANDED_CONTENT","BRANDTAGGING","CALENDAR_HOTSPOTS","CALL_NOW","DEFAULT_MEDIA","EVENT","FUNDRAISER_DONATE_BUTTON","HASHTAG","JOB","LDP","MARKETPLACE_JOBS","MARKETPLACE_VERTICALS","MESSAGEPAGE","MESSAGE_BUTTON","MOVIE","OFFER","PAGES_INTEGRITY_FAKE_NEWS","PAGES_INTEGRITY_UNPUBLISHED_CONTENT","PRODUCT_TAGGING_NUX","QPC","SCHEDULE_POST_TIME","SELL_MESSAGE","SERVICE","UNKNOWN","VOLUNTEERING","WHATSAPP_DEEPLINK_PAGE","WHATSAPP_PAGE"]);c=a;f["default"]=c}),66);
__d("CometComposerInterceptionRequestHandler",["CometComposerInterceptionPluginUtils","CometComposerInterceptionRequestHandlerQuery.graphql","CometRelay","FBLogger","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i={unified_interception:{decision:{auxiliary_data:null,product_type:"UNKNOWN",should_perform_interception:!1}}},j={},k="comet_composer_unified_interception_platform",l=h!==void 0?h:h=b("CometComposerInterceptionRequestHandlerQuery.graphql");function a(a,b,d,e,f,g,h,i,j){var l=a==null?void 0:a.mediaAttachments,n=function(c){return m(a,b,d,c,g,h,i,j)};l=o(d,f,l,n);if(l==null){h();return}p(e,l,function(a){c("FBLogger")(k).info(a.message),r(n)},function(a){q(a,f.sessionID,!1,n)})}function m(a,b,c,d,e,f,g,h){var i;i=(i=d.unified_interception)==null?void 0:i.decision;if(!Boolean(i==null?void 0:i.should_perform_interception)){f();return}b({type:"set_ignore_dirty_flag",value:!0});if((i==null?void 0:i.product_type)==null){f();return}i=n(i==null?void 0:i.product_type,h);if(i==null){f();return}i({onContinue:f,onHalt:e,onRestartCreationMutation:g,postText:c,response:d,viewState:a,viewStateDispatcher:b})}function n(a,b){b=b.find(function(b){return b.serverName===a});return b==null?void 0:b.interceptHandler}function o(a,b,c,e){var f=b.loggingEntryPoint,g=b.placement,h=b.sessionID,i=b.targetID;b=b.targetType;if(!d("CometComposerInterceptionPluginUtils").validateInterceptionRequest(h,g)){r(e);return null}c=d("CometComposerInterceptionPluginUtils").getPhotoIds((e=c)!=null?e:[]);e={logging_data:{entry_point:f,session_id:h},photo_ids:c,placement:g,post_text:a};return{params:e,target_id:i,target_type:b}}function p(a,b,c,e){var f=d("relay-runtime").getRequest(l);f=d("relay-runtime").createOperationDescriptor(f,b);var g=a.retain(f),h=d("CometRelay").fetchQuery(a,l,b).subscribe({error:function(a){d("CometComposerInterceptionPluginUtils").disposeQuery({queryRetainDisposable:g,querySubscription:h}),c(a)},next:function(a){d("CometComposerInterceptionPluginUtils").disposeQuery({queryRetainDisposable:g,querySubscription:h}),e(a)}})}function q(a,b,d,e){var f=a.unified_interception;if(!f){c("FBLogger")(k).info("Null value received from server for interception response");r(e);return}d||(j[b]=!0);r(e,a)}function r(a,b){b===void 0&&(b=i),a&&a(b)}g.performInterception=a}),98);
__d("CometComposerMajorLifeEventAttachmentAreaRendererResource",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("CometComposerMajorLifeEventAttachment.react").__setRef("CometComposerMajorLifeEventAttachmentAreaRendererResource");b=a;g["default"]=b}),98);
__d("CometComposerMediaOrMagicUploadsAttachmentAreaWrapper_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"magic_uploads_context"}],kind:"Fragment",metadata:null,name:"CometComposerMediaOrMagicUploadsAttachmentAreaWrapper_profile",selections:[{args:[{kind:"Variable",name:"magic_uploads_context",variableName:"magic_uploads_context"}],kind:"FragmentSpread",name:"CometComposerMagicUploadsAttachmentArea_profile"},{args:null,kind:"FragmentSpread",name:"CometComposerMediaAttachmentArea_profile"}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("CometComposerMediaOrMagicUploadsAttachmentAreaWrapper.react",["CometComposerMediaOrMagicUploadsAttachmentAreaWrapper_profile.graphql","CometRelay","JSResourceForInteraction","cr:2040","gkx","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("gkx")("22892")?null:c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerMediaAttachmentArea.react").__setRef("CometComposerMediaOrMagicUploadsAttachmentAreaWrapper.react"));function a(a){var c=d("react-compiler-runtime").c(17),e=a.additionalAttachments,f=a.composerEntrypoint,g=a.magicUploadsContext,i=a.profileDataKey,l=a.surfaceEntIdentifier,m=a.videoLiteComposerEligible;a=a.videoUploadSource;i=d("CometRelay").useFragment(h!==void 0?h:h=b("CometComposerMediaOrMagicUploadsAttachmentAreaWrapper_profile.graphql"),i);if(i==null)return null;var n=null,o;c[0]!==f||c[1]!==a?(o={composerEntrypointRef:f,source:a},c[0]=f,c[1]=a,c[2]=o):o=c[2];c[3]!==o||c[4]!==m?(f={mediaUploadLoggingMetadata:o,videoLiteComposerEligible:m},c[3]=o,c[4]=m,c[5]=f):f=c[5];a=f;if(b("cr:2040")!=null){c[6]!==g||c[7]!==i||c[8]!==a||c[9]!==l?(o=j.jsx(b("cr:2040"),babelHelpers["extends"]({},a,{magicUploadsContext:g,profile$key:i,surfaceEntIdentifier:l})),c[6]=g,c[7]=i,c[8]=a,c[9]=l,c[10]=o):o=c[10];n=o}else if(k!=null){c[11]!==i||c[12]!==a?(m=j.jsx(k,babelHelpers["extends"]({},a,{profile$key:i})),c[11]=i,c[12]=a,c[13]=m):m=c[13];n=m}if(n==null)return null;c[14]!==e||c[15]!==n?(f=j.jsxs(j.Fragment,{children:[n,e]}),c[14]=e,c[15]=n,c[16]=f):f=c[16];return f}g["default"]=a}),98);
__d("CometComposerPublishEventAttachmentAreaResource",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("CometComposerPublishEventAttachmentArea.react").__setRef("CometComposerPublishEventAttachmentAreaResource");b=a;g["default"]=b}),98);
__d("CometComposerUnifiedInterceptionPluginForLexical_intercepts.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerUnifiedInterceptionPluginForLexical_intercepts",selections:[{alias:null,args:null,concreteType:"ComposerInterception",kind:"LinkedField",name:"composer_interception",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometComposerUnifiedInterceptors_intercept_configs"}],storageKey:null}],type:"User",abstractKey:null};e.exports=a}),null);
__d("composerDirtyStateViewStateReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"set_ignore_dirty_flag":return babelHelpers["extends"]({},a,{ignoreDirtyFlag:b.value})}return a}f["default"]=a}),66);
__d("translateComposerAttachmentToInterceptAttachmentType",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return"STATUS";switch(a){case"EVENT":return"EVENT";case"FILE":return"FILE";case"CREATE_JOB":return"JOB_OPENING";case"MEDIA":return"MEDIA";case"POLL":return"Q_AND_A";case"LINK":return"LINK";case"ANIMATED_IMAGE":case"SHARE":default:return null}}f["default"]=a}),66);
__d("getIsInterceptAttachmentCompatible",["translateComposerAttachmentToInterceptAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=(a=a.attachmentArea)==null?void 0:a.activeAttachmentType;if(a==null)return!0;var d=b.allowedConcurrentAttachments;d=d.includes(c("translateComposerAttachmentToInterceptAttachmentType")(a));b=b.disallowedConcurrentAttachments;b=b.includes(c("translateComposerAttachmentToInterceptAttachmentType")(a));return d&&!b}g["default"]=a}),98);
__d("getIsInterceptFooterAttachmentCompatible",["CometComposerFooterAttachmentPluginTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=(a=a.footerAttachmentArea)==null?void 0:a.activeFooterAttachmentType;return a==null?!0:!d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.isValid(String(b.sproutName))}g["default"]=a}),98);
__d("getIsInterceptLocaleSupported",["IntlCurrentLocale"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("IntlCurrentLocale").code;for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;if(g.includes("XX")&&g.includes(b.substring(0,b.length-2)))return!0}return a.includes(b)}g["default"]=a}),98);
__d("getEligibleInterceptionDefinitions",["cometComposerAttachmentsEligibilityChecker","getIsInterceptAttachmentCompatible","getIsInterceptFooterAttachmentCompatible","getIsInterceptLocaleSupported"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return b==null?[]:b.filter(function(b){var d;if(!b.getIsEligible(a))return!1;if(!c("getIsInterceptAttachmentCompatible")(a,b))return!1;if(!c("getIsInterceptFooterAttachmentCompatible")(a,b))return!1;var e=b.sproutName;if((a==null?void 0:(d=a.attachmentArea)==null?void 0:d.activeAttachmentType)!=null&&e!=null){d=c("cometComposerAttachmentsEligibilityChecker")(a);if(d.has(e))return!1}return!c("getIsInterceptLocaleSupported")(b.supportedLocales)?b.getIsLocaleSupportedOverride!=null&&b.getIsLocaleSupportedOverride()?b:!1:b})}g["default"]=a}),98);
__d("useCometComposerUnifiedInterceptors_intercept_configs.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometComposerUnifiedInterceptors_intercept_configs",selections:[{alias:null,args:null,concreteType:"PagesComposerInterceptionConfig",kind:"LinkedField",name:"config",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"interception_product_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_interception",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"whitelisted_attachment_types",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blacklisted_attachment_types",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supported_locales",storageKey:null}],storageKey:null}],type:"ComposerInterception",abstractKey:null};e.exports=a}),null);
__d("useCometComposerUnifiedInterceptors",["CometRelay","UnifiedInterceptionProductTypeEnum.facebook","useCometComposerUnifiedInterceptors_intercept_configs.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useCometComposerUnifiedInterceptors_intercept_configs.graphql");function a(a,b,e){a=d("CometRelay").useFragment(i,a);var f=a==null?void 0:a.config;return b==null?void 0:b.map(function(a){var b=f==null?void 0:f.find(function(b){return c("UnifiedInterceptionProductTypeEnum.facebook").cast(b==null?void 0:b.interception_product_type)===a.serverName});if(b==null)return null;var d=b.blacklisted_attachment_types,g=b.is_eligible_for_interception,h=b.supported_locales;b=b.whitelisted_attachment_types;var i=a.interceptHandler(babelHelpers["extends"]({},e));return babelHelpers["extends"]({},a,{allowedConcurrentAttachments:b,disallowedConcurrentAttachments:d,interceptHandler:i,isEligibleForInterception:(b=g)!=null?b:!1,supportedLocales:h})}).filter(Boolean)}g["default"]=a}),98);
__d("CometComposerUnifiedInterceptionPluginForLexical.react",["CometComposerInterceptionRequestHandler","CometComposerUnifiedInterceptionPluginForLexical_intercepts.graphql","CometRelay","LexicalText","composerDirtyStateViewStateReducer","getEligibleInterceptionDefinitions","react-compiler-runtime","useCometComposerUnifiedInterceptors","useComposerPreSubmitHook","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometComposerUnifiedInterceptionPluginForLexical_intercepts.graphql");function a(a){var b=d("react-compiler-runtime").c(6),e=a.interceptArgs,f=a.interceptKey,g=a.interceptPluginDefinitions,h=a.onRestartCreationMutation,j=a.unifiedInterceptionRequestData,k=d("CometRelay").useRelayEnvironment();c("useComposerViewStateReducer")(c("composerDirtyStateViewStateReducer"));var l=c("useComposerViewStateDispatcher")();a=d("CometRelay").useFragment(i,f);var m=c("useCometComposerUnifiedInterceptors")(a==null?void 0:a.composer_interception,g,e);b[0]!==l||b[1]!==k||b[2]!==m||b[3]!==h||b[4]!==j?(f=function(a,b){var e,f=a.onContinue;a=a.onHalt;if(m==null){f();return}var g=c("getEligibleInterceptionDefinitions")(b,m);if(g.length===0){f();return}var i=function(){l({type:"set_ignore_dirty_flag",value:!1}),f()};e=((e=b.lexicalEditor)==null?void 0:e.getEditorState().read(d("LexicalText").$rootTextContent))||"";d("CometComposerInterceptionRequestHandler").performInterception(b,l,e,k,j,a,i,h,g)},b[0]=l,b[1]=k,b[2]=m,b[3]=h,b[4]=j,b[5]=f):f=b[5];a=f;c("useComposerPreSubmitHook")(a);return null}g["default"]=a}),98);
__d("CometComposerUseWhatsAppDeeplinkConversionChecker",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return(b==null?void 0:(b=b.enableWhatsAppDeeplinkConversion)==null?void 0:b.isEnabled)===!0&&(a==null?void 0:(b=a.enableWhatsAppDeeplinkConversion)==null?void 0:b.isEnabled)==null?!0:!1}f["default"]=a}),66);
__d("CometComposerUseWhatsAppDeeplinkConversionReducer",["justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("justknobx")._("2126");switch(b.type){case"ENABLE_WHATSAPP_DEEPLINK_CONVERSION":return!d?a:babelHelpers["extends"]({},a,{enableWhatsAppDeeplinkConversion:{isEnabled:!0}});case"DISABLE_WHATSAPP_DEEPLINK_CONVERSION":return!d?a:babelHelpers["extends"]({},a,{enableWhatsAppDeeplinkConversion:{isEnabled:!1}})}return a}g["default"]=a}),98);
__d("WhatsAppDeeplinkCometPagesComposerInterceptionDialog.entrypoint",["JSResourceForInteraction","WhatsAppCometPagesComposerInterceptionDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{dialogQueryReference:{parameters:c("WhatsAppCometPagesComposerInterceptionDialogQuery$Parameters"),variables:{page_id:a.pageID}}}}},root:c("JSResourceForInteraction")("WhatsAppDeeplinkCometPagesComposerInterceptionDialog.react").__setRef("WhatsAppDeeplinkCometPagesComposerInterceptionDialog.entrypoint")};g["default"]=a}),98);
__d("useWhatsAppDeeplinkCometComposerInterceptTrigger",["CometComposerFooterAttachmentPluginTypes","CometComposerFooterBoostCTXPostToggleReducer","CometComposerUseWhatsAppDeeplinkConversionChecker","CometComposerUseWhatsAppDeeplinkConversionReducer","WhatsAppDeeplinkCometPagesComposerInterceptionDialog.entrypoint","composerFooterAttachmentAreaChecker","composerFooterAttachmentAreaReducer","composerGetWhatsAppMessagesReducer","react-compiler-runtime","useCometEntryPointDialog","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(7),e=a.sessionID,f=a.shouldBoostAfterPosting,g=a.targetID;b[0]!==g?(a={pageID:g},b[0]=g,b[1]=a):a=b[1];a=c("useCometEntryPointDialog")(c("WhatsAppDeeplinkCometPagesComposerInterceptionDialog.entrypoint"),a);var h=a[0];c("useComposerViewStateReducer")(c("CometComposerUseWhatsAppDeeplinkConversionReducer"),c("CometComposerUseWhatsAppDeeplinkConversionChecker"));c("useComposerViewStateReducer")(c("composerGetWhatsAppMessagesReducer"));c("useComposerViewStateReducer")(d("composerFooterAttachmentAreaReducer").composerFooterAttachmentAreaReducer,c("composerFooterAttachmentAreaChecker"));c("useComposerViewStateReducer")(c("CometComposerFooterBoostCTXPostToggleReducer"));b[2]!==h||b[3]!==e||b[4]!==f||b[5]!==g?(a=function(a){var b=a.onContinue,c=a.onHalt,i=a.viewState,j=a.viewStateDispatcher;if(((a=i.enableWhatsAppDeeplinkConversion)==null?void 0:a.isEnabled)===!0&&i.isGetWhatsAppMessagePost===!0){b();return}var k=function(){j({isGetWhatsappMessagesPostAttachmentOptional:i.isGetWhatsappMessagesPostAttachmentOptional===!0,type:"ADD_GET_WHATSAPP_MESSAGES_BUTTON"}),j({footerAttachmentType:d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_WHATSAPP_MESSAGES,type:"ACTIVATE_FOOTER_ATTACHMENT_TYPE"})};a=function(a,b){c();j({type:"ENABLE_WHATSAPP_DEEPLINK_CONVERSION"});if(a!=null){k();f===!0&&j({type:"WHATSAPP_BOOST_POST_TOGGLE_ON"});b===!0&&((a=i.boostCTXPostToggleData)==null?void 0:a.isBoostWhatsAppPostToggleOn)!==!1&&(j({type:"BOOST_AFTER_POSTING_TOGGLE_ON"}),j({type:"WHATSAPP_BOOST_POST_TOGGLE_ON"}))}};h({onUseButtonClick:a,pageID:g,sessionID:e},b)},b[2]=h,b[3]=e,b[4]=f,b[5]=g,b[6]=a):a=b[6];return a}g["default"]=a}),98);
__d("CometComposerWhatsAppDeeplinkInterceptDefinition",["useWhatsAppDeeplinkCometComposerInterceptTrigger"],(function(a,b,c,d,e,f,g){"use strict";a={getIsEligible:function(a){return!0},interceptHandler:c("useWhatsAppDeeplinkCometComposerInterceptTrigger"),serverName:"WHATSAPP_DEEPLINK_PAGE"};g["default"]=a}),98);
__d("getIsLocaleSupportedOverrideWhatsAppMessages",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("397")===!0}g["default"]=a}),98);
__d("useWhatsAppMessagesCometComposerInterceptTrigger",["fbt","CometComposerFooterAttachmentPluginTypes","CometComposerFooterBoostCTXPostToggleReducer","JSResourceForInteraction","WhatsAppCometPagesComposerInterceptionDialog.entrypoint","composerFooterAttachmentAreaChecker","composerFooterAttachmentAreaReducer","composerGetWhatsAppMessagesReducer","lazyLoadComponent","react","react-compiler-runtime","useCometComposerPushPage","useCometEntryPointDialog","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerGetWhatsAppMessagesVerificationFlowContainer.react").__setRef("useWhatsAppMessagesCometComposerInterceptTrigger"));function a(a){var b=d("react-compiler-runtime").c(7),e=a.sessionID,f=a.targetID;b[0]!==f?(a={pageID:f},b[0]=f,b[1]=a):a=b[1];a=c("useCometEntryPointDialog")(c("WhatsAppCometPagesComposerInterceptionDialog.entrypoint"),a);var g=a[0];c("useComposerViewStateReducer")(c("composerGetWhatsAppMessagesReducer"));c("useComposerViewStateReducer")(c("CometComposerFooterBoostCTXPostToggleReducer"));c("useComposerViewStateReducer")(d("composerFooterAttachmentAreaReducer").composerFooterAttachmentAreaReducer,c("composerFooterAttachmentAreaChecker"));var i=c("useCometComposerPushPage")();b[2]!==g||b[3]!==i||b[4]!==e||b[5]!==f?(a=function(a){var b=a.onContinue,c=a.onHalt,l=a.viewState,m=a.viewStateDispatcher;if(l.isGetWhatsAppMessagePost===!0){b();return}var n=function(){m({isGetWhatsappMessagesPostAttachmentOptional:l.isGetWhatsappMessagesPostAttachmentOptional===!0,type:"ADD_GET_WHATSAPP_MESSAGES_BUTTON"}),m({footerAttachmentType:d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_WHATSAPP_MESSAGES,type:"ACTIVATE_FOOTER_ATTACHMENT_TYPE"})};a=function(a,b){c();if(a!=null){n();m({type:"ENABLE_WHATSAPP_DEEPLINK_CONVERSION"});((a=l.boostCTXPostToggleData)==null?void 0:a.isBoostAfterPostingToggleOn)===!0&&m({type:"WHATSAPP_BOOST_POST_TOGGLE_ON"});b===!0&&((a=l.boostCTXPostToggleData)==null?void 0:a.isBoostWhatsAppPostToggleOn)!==!1&&(m({type:"BOOST_AFTER_POSTING_TOGGLE_ON"}),m({type:"WHATSAPP_BOOST_POST_TOGGLE_ON"}))}else i(h._(/*BTDS*/"__JHASH__sgvnIxYrqEL__JHASH__"),function(a){a=a.onReturn;return j.jsx(k,{addAttachment:n,onClose:a,pageID:f})})};g({onAgree:a,onContinue:b,pageID:f,sessionID:e},b)},b[2]=g,b[3]=i,b[4]=e,b[5]=f,b[6]=a):a=b[6];return a}g["default"]=a}),226);
__d("CometComposerWhatsAppMessagesInterceptDefinition",["getIsLocaleSupportedOverrideWhatsAppMessages","useWhatsAppMessagesCometComposerInterceptTrigger"],(function(a,b,c,d,e,f,g){"use strict";a={getIsEligible:function(a){return!0},getIsLocaleSupportedOverride:c("getIsLocaleSupportedOverrideWhatsAppMessages"),interceptHandler:c("useWhatsAppMessagesCometComposerInterceptTrigger"),serverName:"WHATSAPP_PAGE",sproutName:"GET_WHATSAPP_MESSAGES"};g["default"]=a}),98);
__d("CometCreatorComposerGatings",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;return(a=c("qex")._("2083"))!=null?a:!1}function b(){var a;return(a=c("qex")._("117"))!=null?a:!1}function d(){var a;return(a=c("qex")._("2996"))!=null?a:!1}function e(){var a;return(a=c("qex")._("374"))!=null?a:!1}function f(){var a;return(a=c("qex")._("1225"))!=null?a:!1}g.shouldShowCreatorComposer=a;g.shouldShowScheduleOption=b;g.shouldShowShareToChannelsOption=d;g.shouldEnableLoadingOptimization=e;g.shouldEnableMediaPreview=f}),98);
__d("CometCreatorComposerOptionButton.react",["fbt","ix","CometPressable.react","FBLogger","FDSIcon.react","FDSListCell.react","FDSListCellText.react","FDSSkittleIcon.react","FDSSwitch.react","FDSText.react","FDSTooltip.react","fbicon","react","react-compiler-runtime","useComposerFeatureIneligibility","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={button:{borderTopStartRadius:"x8u2fvd",borderTopEndRadius:"x1ht7hnu",borderBottomEndRadius:"x1quq95r",borderBottomStartRadius:"x5yzy4c",width:"xh8yej3",$$css:!0}},m=h._(/*BTDS*/"__JHASH__Mzn928yg5Mi__JHASH__");function a(a){var b=d("react-compiler-runtime").c(44),e=a.buttonProps,f=a.disabledState,g=a.onClick;a=a.activeOptionSet;var j;b[0]!==f?(j=f===void 0?{isDisabled:!1}:f,b[0]=f,b[1]=j):j=b[1];f=j;j=e.optionComponentBottom;var n=e.optionComponentEndType,o=e.optionDescription,p=e.optionIcon,q=e.optionLabel,r=e.optionType,s=c("useComposerFeatureIneligibility")(),t;b[2]!==s||b[3]!==r?(t=s.has(r),b[2]=s,b[3]=r,b[4]=t):t=b[4];s=t;r=f.isDisabled||s;var u;bb0:switch(n){case"CHEVRON":b[5]===Symbol["for"]("react.memo_cache_sentinel")?(t=d("fbicon")._(i("492536"),20),b[5]=t):t=b[5];var v;b[6]!==r||b[7]!==t?(v=k.jsx(c("FDSIcon.react"),{color:"primary",disabled:r,icon:t}),b[6]=r,b[7]=t,b[8]=v):v=b[8];u=v;break bb0;case"TOGGLE":b[9]!==r?(t=r?h._(/*BTDS*/"__JHASH__AVRl6ij3kje__JHASH__"):h._(/*BTDS*/"__JHASH__AOlGHVa_PET__JHASH__"),b[9]=r,b[10]=t):t=b[10];v=(a==null?void 0:a.has(e.optionType))===!0;b[11]!==r||b[12]!==t||b[13]!==v?(a=k.jsx(c("FDSSwitch.react"),{"aria-label":t,disabled:r,value:v}),b[11]=r,b[12]=t,b[13]=v,b[14]=a):a=b[14];u=a;break bb0;default:c("FBLogger")("comet_composer").mustfix("Creator Composer option button had an unexpected component end type input: %s",n)}e=j?j:null;b[15]!==r||b[16]!==p?(t=p!=null?k.jsx(c("FDSSkittleIcon.react"),{color:"gray",disabled:r,icon:p,size:40}):void 0,b[15]=r,b[16]=p,b[17]=t):t=b[17];b[18]!==r||b[19]!==o?(v=o!=null?k.jsx(c("FDSText.react"),{color:r?"disabled":"secondary",type:"headlineDeemphasized4",children:o}):void 0,b[18]=r,b[19]=o,b[20]=v):v=b[20];a=r?"disabled":null;b[21]!==q||b[22]!==a?(n=k.jsx(c("FDSText.react"),{color:a,type:"headline3",children:q}),b[21]=q,b[22]=a,b[23]=n):n=b[23];b[24]!==v||b[25]!==n?(j=k.jsx(c("FDSListCellText.react"),{body:v,headline:n}),b[24]=v,b[25]=n,b[26]=j):j=b[26];b[27]!==e||b[28]!==u||b[29]!==r||b[30]!==t||b[31]!==j?(p=k.jsx(c("FDSListCell.react"),{addOnBottom:e,addOnEnd:u,addOnStart:t,content:j,contentPaddingHorizontal:8,disabled:r}),b[27]=e,b[28]=u,b[29]=r,b[30]=t,b[31]=j,b[32]=p):p=b[32];b[33]!==r||b[34]!==g||b[35]!==p?(o=k.jsx(c("CometPressable.react"),{disabled:r,onPress:g,xstyle:l.button,children:p}),b[33]=r,b[34]=g,b[35]=p,b[36]=o):o=b[36];q=o;b[37]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"xdj266r x11i5rnm xat24cr x1mh8g0r xh8yej3"},b[37]=a):a=b[37];if(b[38]!==((v=f.disabledConfig)==null?void 0:v.shouldShowTooltip)||b[39]!==((n=f.disabledConfig)==null?void 0:n.tooltipMessage)||b[40]!==r||b[41]!==s||b[42]!==q){g=k.jsx("div",babelHelpers["extends"]({},a,{children:s||r&&((e=f.disabledConfig)==null?void 0:e.shouldShowTooltip)?k.jsx(c("FDSTooltip.react"),{position:"above",tooltip:(j=(t=f.disabledConfig)==null?void 0:t.tooltipMessage)!=null?j:m,children:q}):q}));b[38]=(p=f.disabledConfig)==null?void 0:p.shouldShowTooltip;b[39]=(o=f.disabledConfig)==null?void 0:o.tooltipMessage;b[40]=r;b[41]=s;b[42]=q;b[43]=g}else g=b[43];return g}b=c("withComposerViewStatePart")(a,function(a){return{activeOptionSet:(a=a.twoStepCreatorComposerData)==null?void 0:a.activeOptionSet}});g["default"]=b}),226);
__d("CometDefaultPrivacyNux_defaultprivacy.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometDefaultPrivacyNux_defaultprivacy",selections:[{args:null,kind:"FragmentSpread",name:"useCometDefaultPrivacyNuxOnClose_defaultprivacy"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometDefaultPrivacyNux_scope.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometDefaultPrivacyNux_scope",selections:[{args:null,kind:"FragmentSpread",name:"useCometPrivacySelectorPushView_scope"},{args:null,kind:"FragmentSpread",name:"useCometPrivacySelectorDialog_scope"},{alias:null,args:null,kind:"ScalarField",name:"privacy_write_id",storageKey:null}],type:"PrivacyScope",abstractKey:null};e.exports=a}),null);
__d("CometDefaultPrivacyNuxDismissCountMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6489451707810998"}),null);
__d("CometDefaultPrivacyNuxDismissCountMutation.graphql",["CometDefaultPrivacyNuxDismissCountMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometDefaultPrivacyNuxDismissCountMutation",selections:[{alias:null,args:null,concreteType:"DismissDefaultPrivacyNuxResponsePayload",kind:"LinkedField",name:"dismiss_default_privacy_nux",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometDefaultPrivacyNuxOnClose_defaultprivacy"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometDefaultPrivacyNuxDismissCountMutation",selections:[{alias:null,args:null,concreteType:"DismissDefaultPrivacyNuxResponsePayload",kind:"LinkedField",name:"dismiss_default_privacy_nux",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"DefaultPrivacyUser",kind:"LinkedField",name:"default_privacy_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"nux_is_blocking",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"nux_preselect_dialog",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"nux_preselect_dialog_privacy_option",plural:!1,selections:[a,{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"allow",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deny",storageKey:null},{alias:null,args:null,concreteType:"PrivacyRowInputTargetingFields",kind:"LinkedField",name:"privacy_targeting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_fields",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tag_expansion_state",storageKey:null}],storageKey:null}],storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometDefaultPrivacyNuxDismissCountMutation_facebookRelayOperation"),metadata:{},name:"CometDefaultPrivacyNuxDismissCountMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometDefaultPrivacyNuxDismissCountMutation",["CometDefaultPrivacyNuxDismissCountMutation.graphql","CometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return d("CometRelay").commitMutation(a,{mutation:h!==void 0?h:h=b("CometDefaultPrivacyNuxDismissCountMutation.graphql"),variables:{}})}g.updateDefaultPrivacyNuxDismissCount=a}),98);
__d("useCometDefaultPrivacyNuxOnClose_defaultprivacy.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometDefaultPrivacyNuxOnClose_defaultprivacy",selections:[{alias:null,args:null,concreteType:"DefaultPrivacyUser",kind:"LinkedField",name:"default_privacy_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"nux_is_blocking",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"nux_preselect_dialog",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"nux_preselect_dialog_privacy_option",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PrivacyRowInput_fragment"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("useCometDefaultPrivacyNuxOnClose",["fbt","CometDefaultPrivacyNuxDismissCountMutation","CometRelay","PrivacyRowInput","emptyFunction","react","react-compiler-runtime","useCometConfirmationDialog","useCometDefaultPrivacyNuxOnClose_defaultprivacy.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;(j||d("react")).useCallback;function a(a,e,f,g){var j=d("react-compiler-runtime").c(10),k=d("CometRelay").useFragment(i!==void 0?i:i=b("useCometDefaultPrivacyNuxOnClose_defaultprivacy.graphql"),a),l=d("CometRelay").useRelayEnvironment(),m=c("useCometConfirmationDialog")(),n=d("PrivacyRowInput").usePrivacyRowInput(k==null?void 0:(a=k.default_privacy_user)==null?void 0:(a=a.nux_preselect_dialog_privacy_option)==null?void 0:a.privacy_row_input);if(j[0]!==(k==null?void 0:(a=k.default_privacy_user)==null?void 0:a.nux_is_blocking)||j[1]!==(k==null?void 0:(a=k.default_privacy_user)==null?void 0:a.nux_preselect_dialog)||j[2]!==(k==null?void 0:(a=k.default_privacy_user)==null?void 0:a.nux_preselect_dialog_privacy_option)||j[3]!==l||j[4]!==e||j[5]!==f||j[6]!==g||j[7]!==n||j[8]!==m){var o;a=function(){var a,b=!1;if((k==null?void 0:(a=k.default_privacy_user)==null?void 0:a.nux_is_blocking)===!1){var i;a=k==null?void 0:(a=k.default_privacy_user)==null?void 0:a.nux_preselect_dialog;var j=k==null?void 0:(i=k.default_privacy_user)==null?void 0:i.nux_preselect_dialog_privacy_option;if((a==null?void 0:a.length)===2&&n!=null&&j!=null){m({body:a[1].text,cancel:h._(/*BTDS*/"__JHASH__xjsaVQsfJSp__JHASH__"),confirm:h._(/*BTDS*/"__JHASH__IRN53cEfYnc__JHASH__"),title:(i=a[0].text)!=null?i:""},function(){g(j.id,n),f.current&&f.current()},c("emptyFunction"));b=!0}}d("CometDefaultPrivacyNuxDismissCountMutation").updateDefaultPrivacyNuxDismissCount(l);b===!1&&(e&&e())};j[0]=k==null?void 0:(o=k.default_privacy_user)==null?void 0:o.nux_is_blocking;j[1]=k==null?void 0:(o=k.default_privacy_user)==null?void 0:o.nux_preselect_dialog;j[2]=k==null?void 0:(o=k.default_privacy_user)==null?void 0:o.nux_preselect_dialog_privacy_option;j[3]=l;j[4]=e;j[5]=f;j[6]=g;j[7]=n;j[8]=m;j[9]=a}else a=j[9];k==null?void 0:(o=k.default_privacy_user)==null?void 0:o.nux_is_blocking;k==null?void 0:(j=k.default_privacy_user)==null?void 0:j.nux_preselect_dialog;k==null?void 0:(o=k.default_privacy_user)==null?void 0:o.nux_preselect_dialog_privacy_option;return a}g["default"]=a}),226);
__d("CometDefaultPrivacyNux.react",["fbt","CometDefaultPrivacyNux_defaultprivacy.graphql","CometDefaultPrivacyNux_scope.graphql","CometPrivacySelectorContext","CometRelay","emptyFunction","react","react-compiler-runtime","useCometComposerPrivacyPushPage","useCometDefaultPrivacyNuxOnClose","useCometPrivacySelectorChangePrivacy","useCometPrivacySelectorDialog","useCometPrivacySelectorPushView","useComposerPrivacyChangeHandlers"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;e=k||d("react");e.useCallback;var l=e.useContext,m=e.useEffect;e.useMemo;var n=e.useRef;function a(a){var e=d("react-compiler-runtime").c(34),f=a.defaultPrivacyRef,g=a.onAutoOptIn,k=a.onClose,o=a.onPrivacyChange,p=a.onPrivacyChangeStart;a=a.scopeRef;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometDefaultPrivacyNux_scope.graphql"),a);f=d("CometRelay").useFragment(j!==void 0?j:j=b("CometDefaultPrivacyNux_defaultprivacy.graphql"),f);var q=n(!1),r=c("useComposerPrivacyChangeHandlers")(),s=r.onPrivacyChange,t=r.onPrivacyChangeStart;e[0]!==t||e[1]!==p?(r=function(a){t&&t(a),p&&p(a)},e[0]=t,e[1]=p,e[2]=r):r=e[2];r=r;var u;e[3]!==s||e[4]!==o?(u=function(a){s&&s(a),o&&o(a)},e[3]=s,e[4]=o,e[5]=u):u=e[5];var v=u;u=l(c("CometPrivacySelectorContext"));u=u[1];a==null?void 0:a.privacy_write_id;var w;e[6]!==g||e[7]!==v?(w=function(a){v(a),g&&g()},e[6]=g,e[7]=v,e[8]=w):w=e[8];var x=a==null?void 0:a.privacy_write_id,y;e[9]===Symbol["for"]("react.memo_cache_sentinel")?(y=[],e[9]=y):y=e[9];e[10]!==u||e[11]!==r||e[12]!==w||e[13]!==x?(y={dispatch:u,onPrivacyChange:w,onPrivacyChangeStart:r,privacyWriteID:x,renderLocation:"COMET_DEFAULT_PRIVACY_NUX",shouldSaveOnSelect:!0,storyRenderLocation:void 0,tags:y},e[10]=u,e[11]=r,e[12]=w,e[13]=x,e[14]=y):y=e[14];u=y;w=u;x=c("useCometPrivacySelectorChangePrivacy")(w);var z=n(c("emptyFunction"));y=c("useCometDefaultPrivacyNuxOnClose")(f,k,z,x);e[15]!==y?(u={onClose:y,withBackButton:!1,withCloseButton:!0},e[15]=y,e[16]=u):u=e[16];var A=c("useCometComposerPrivacyPushPage")(u);e[17]===Symbol["for"]("react.memo_cache_sentinel")?(w=function(a){z.current=a},e[17]=w):w=e[17];e[18]===Symbol["for"]("react.memo_cache_sentinel")?(f=[],x=h._(/*BTDS*/"__JHASH__1KC1TxgwskW__JHASH__"),e[18]=f,e[19]=x):(f=e[18],x=e[19]);e[20]!==v||e[21]!==r||e[22]!==A?(y={onBeforePushPage:w,onPrivacyChange:v,onPrivacyChangeStart:r,pushPage:A,renderLocation:"COMET_DEFAULT_PRIVACY_NUX",tags:f,title:x},e[20]=v,e[21]=r,e[22]=A,e[23]=y):y=e[23];u=y;w=u;var B=c("useCometPrivacySelectorPushView")(a,w);e[24]===Symbol["for"]("react.memo_cache_sentinel")?(f=[],x=h._(/*BTDS*/"__JHASH__1KC1TxgwskW__JHASH__"),e[24]=f,e[25]=x):(f=e[24],x=e[25]);e[26]!==v||e[27]!==r?(y={onPrivacyChange:v,onPrivacyChangeStart:r,renderLocation:"COMET_DEFAULT_PRIVACY_NUX",tags:f,title:x},e[26]=v,e[27]=r,e[28]=y):y=e[28];u=c("useCometPrivacySelectorDialog")(a,y,void 0,void 0,k);var C=u[0];e[29]!==A||e[30]!==B||e[31]!==C?(w=function(){if(q.current)return;q.current=!0;A!=null&&B!=null?B():C!=null&&C()},f=[C,B,A],e[29]=A,e[30]=B,e[31]=C,e[32]=w,e[33]=f):(w=e[32],f=e[33]);m(w,f);return null}g["default"]=a}),226);
__d("CometFormattedBackgroundAlterationStateCheckerForLexical",["LexicalText"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c;c=(b==null?void 0:(c=b.formattedText)==null?void 0:c.currentFormattedTextPreset)!==(a==null?void 0:(c=a.formattedText)==null?void 0:c.currentFormattedTextPreset)&&!((a==null?void 0:(c=a.formattedText)==null?void 0:c.currentFormattedTextPreset)==null&&(b==null?void 0:(a=b.formattedText)==null?void 0:a.currentFormattedTextPreset)==null);if(c&&(b==null?void 0:(a=b.formattedText)==null?void 0:a.currentFormattedTextPreset)!=null){a="";b.lexicalEditor!=null&&(a=b.lexicalEditor.getEditorState().read(d("LexicalText").$rootTextContent));return a!==""}return c}g["default"]=a}),98);
__d("CometProductTaggingAfterPostDialogUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){if(!b||a==null)return!1;if(!d)return!1;if(c===!0)return!1;d=(a=b.mediaAttachments)==null?void 0:a.find(function(a){return a.fileType==="PHOTO"});if(!d)return!1;a=(c=b.mediaAttachments)==null?void 0:c.find(function(a){return a.fileType==="PHOTO"&&a.data.tags!==void 0&&a.data.tags!==null});if(a)return!1;switch(e){case"page":case"feed":case"profile":return!0;default:return!1}}f.shouldShowApuxDialog=a}),66);
__d("CometReelsLinkingEntrypoints",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["FEED","PROFILE","PAGE"]);c=a;f["default"]=c}),66);
__d("CometReelsLinkingUpsellDialogImpressionMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6773155929403638"}),null);
__d("CometReelsLinkingUpsellDialogImpressionMutation.graphql",["CometReelsLinkingUpsellDialogImpressionMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"page_id"}],c=[{alias:null,args:[{kind:"Variable",name:"page_id",variableName:"page_id"}],kind:"ScalarField",name:"xfb_increment_comet_video_to_reel_linking_modal_impression",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometReelsLinkingUpsellDialogImpressionMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometReelsLinkingUpsellDialogImpressionMutation",selections:c},params:{id:b("CometReelsLinkingUpsellDialogImpressionMutation_facebookRelayOperation"),metadata:{},name:"CometReelsLinkingUpsellDialogImpressionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometReelsLinkingUpsellDialogImpressionMutation",["CometReelsLinkingUpsellDialogImpressionMutation.graphql","CometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometReelsLinkingUpsellDialogImpressionMutation.graphql");function a(a){var b=a.environment;a=a.pageID;return d("CometRelay").commitMutation(b,{mutation:i,onCompleted:function(a){},onError:function(a){},variables:{page_id:a}})}g.commitCometReelsLinkingUpsellDialogImpressionMutation=a}),98);
__d("CometVideoEditorUploadProgress.react",["ix","CometImage.react","gkx","react","react-compiler-runtime","stylex","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=function(a){if(!a||!a.length)return null;for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.fileType==="VIDEO")return d}return null},m=function(a){if(!a)return 0;var b=a.percentComplete;b=b===void 0?0:b;a=a.state;return a==="UPLOADED"?100:Math.floor(b*1e3)/10},n={greenBG:{backgroundColor:"xv9rvxn",$$css:!0},percentText:{color:"xi81zsa",fontWeight:"x117nqv4",paddingStart:"x1sln4lm",paddingTop:"xexx8yu",position:"x10l6tqk",width:"xh8yej3",$$css:!0},progressBar:{backgroundColor:"xszat0t",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",position:"x10l6tqk",$$css:!0},whiteFG:{color:"x14ctfv",$$css:!0}},o=function(a){return a<100?k.jsx(c("CometImage.react"),{src:h("360748")}):k.jsx(c("CometImage.react"),{src:h("710277")})},p=function(a){return!a?!1:c("gkx")("22890")};function a(a){var b=d("react-compiler-runtime").c(24),e=a.mediaAttachments;a=a.shouldOpenVideoSpecificComposer;if(!a)return null;var f,g;if(b[0]!==e){a=Symbol["for"]("react.early_return_sentinel");bb0:{var h=l(e);if(!p(h)){a=null;break bb0}f=m(h);g=o(f)}b[0]=e;b[1]=f;b[2]=g;b[3]=a}else f=b[1],g=b[2],a=b[3];if(a!==Symbol["for"]("react.early_return_sentinel"))return a;h=g;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"xmjcpbm x107yiy2 xv8uw2v x1tfwpuw x2g32xy xoyjkpr x1imcove x6ikm8r x10wlt62 x10l6tqk xwa60dl x1cb1t30 x1exxlbk"},b[4]=e):e=b[4];a=f===100?n.greenBG:void 0;var j;b[5]!==a?(j=(i||(i=c("stylex")))(n.progressBar,a),b[5]=a,b[6]=j):j=b[6];a=f+"%";var q;b[7]!==a?(q={width:a},b[7]=a,b[8]=q):q=b[8];b[9]!==j||b[10]!==q?(a=k.jsx("div",{className:j,style:q,children:"\xa0"}),b[9]=j,b[10]=q,b[11]=a):a=b[11];b[12]!==f?(j=(i||(i=c("stylex"))).props(n.percentText,f===100?n.whiteFG:void 0),b[12]=f,b[13]=j):j=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(q={className:"xw8z9w8"},b[14]=q):q=b[14];b[15]!==h?(q=k.jsx("span",babelHelpers["extends"]({},q,{children:h})),b[15]=h,b[16]=q):q=b[16];h=f+"%";var r;b[17]!==q||b[18]!==h||b[19]!==j?(r=k.jsxs("div",babelHelpers["extends"]({},j,{children:[" ",q," ",h]})),b[17]=q,b[18]=h,b[19]=j,b[20]=r):r=b[20];b[21]!==r||b[22]!==a?(q=k.jsxs("div",babelHelpers["extends"]({},e,{children:[a,r,"\xa0"]})),b[21]=r,b[22]=a,b[23]=q):q=b[23];return q}b=c("withComposerViewStatePart")(a,function(a){return{mediaAttachments:a.mediaAttachments,shouldOpenVideoSpecificComposer:(a=(a=a.videoComposerData)==null?void 0:a.shouldOpenVideoSpecificComposer)!=null?a:!1}});g["default"]=b}),98);
__d("CometVideoLinkingReelsComposerStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*BTDS*/"__JHASH__ept3KImtFuv__JHASH__");b=h._(/*BTDS*/"__JHASH__EuYoAyBcsxi__JHASH__");c=h._(/*BTDS*/"__JHASH__EshZdMyaDBX__JHASH__");d=h._(/*BTDS*/"__JHASH__oXBs6M-3uI7__JHASH__");e=h._(/*BTDS*/"__JHASH__zkLKAAdSLMw__JHASH__");f=h._(/*BTDS*/"__JHASH__qzK8wt17lJp__JHASH__");var i=h._(/*BTDS*/"__JHASH__kP_xy6VOf9C__JHASH__"),j=h._(/*BTDS*/"__JHASH__QycJTCwFFC___JHASH__"),k=h._(/*BTDS*/"__JHASH__JyU8cE93cZa__JHASH__"),l=h._(/*BTDS*/"__JHASH__sNl7dobIvqg__JHASH__"),m=h._(/*BTDS*/"__JHASH__lFjvq0WWhDr__JHASH__"),n=h._(/*BTDS*/"__JHASH__pYLNDEH77D1__JHASH__"),o=h._(/*BTDS*/"__JHASH__xcK21eSeHmZ__JHASH__"),p=h._(/*BTDS*/"__JHASH__wYr_rf6FqJc__JHASH__"),q=h._(/*BTDS*/"__JHASH__EbGGTrS5uoC__JHASH__");h=h._(/*BTDS*/"__JHASH__z9uO1wo7s6H__JHASH__");g.RWC_VIDEO_LINKING_TOOL_INTRO_HEADER=a;g.RWC_VIDEO_LINKING_TOOL_INTRO_DESCRIPTION=b;g.RWC_VIDEO_LINKING_TOGGLE_LABEL=c;g.RWC_VIDEO_LINKING_FOOTER_MESSAGE=d;g.COMPOSER_VIDEO_LINKING_TOAST_MESSAGE=e;g.COMPOSER_VIDEO_LINKING_TOAST_LINK_CTA=f;g.COMPOSER_VIDEO_LINKING_MODAL_PRIMARY_BUTTON=i;g.COMPOSER_VIDEO_LINKING_MODAL_SECONDARY_BUTTON=j;g.COMPOSER_VIDEO_LINKING_MODAL_HEADER=k;g.COMPOSER_VIDEO_LINKING_MODAL_VALUE_PROP_1_TITLE=l;g.COMPOSER_VIDEO_LINKING_MODAL_VALUE_PROP_1_BODY=m;g.COMPOSER_VIDEO_LINKING_MODAL_VALUE_PROP_2_TITLE=n;g.COMPOSER_VIDEO_LINKING_MODAL_VALUE_PROP_2_BODY=o;g.COMPOSER_VIDEO_LINKING_MODAL_VALUE_PROP_3_TITLE=p;g.COMPOSER_VIDEO_LINKING_MODAL_VALUE_PROP_3_BODY=q;g.REELS_CTA_PREVIEW_BUTTON_LABEL=h}),226);
__d("ComposerCometFormattedTextAreaForLexical.react",["CometComposerAttachmentPluginTypes","CometComposerFormattedTextArea.react","CometFormattedBackgroundAlterationStateCheckerForLexical","cometComposerFormattedTextReducers","react","react-compiler-runtime","useCometSATPIneligibility","useComposerFeatureIneligibility","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2),e=a.children,f=a.formattedTextPreset,g=a.isDisabled;a=a.previousFormattedTextPreset;c("useComposerViewStateReducer")(c("cometComposerFormattedTextReducers"),c("CometFormattedBackgroundAlterationStateCheckerForLexical"));c("useCometSATPIneligibility")(f,g,a);b[0]!==e?(f=i.jsx(c("CometComposerFormattedTextArea.react"),{children:e}),b[0]=e,b[1]=f):f=b[1];return f}b=c("withComposerViewStatePart")(a,function(a){var b,d=c("useComposerFeatureIneligibility")();d=d.has(c("CometComposerAttachmentPluginTypes").FORMATTED_TEXT);return{formattedTextPreset:(b=a.formattedText)==null?void 0:b.currentFormattedTextPreset,isDisabled:d,previousFormattedTextPreset:(b=a.formattedText)==null?void 0:b.previousFormattedTextPreset}});g["default"]=b}),98);
__d("ComposerMediaAttachmentUploadFileButton.react",["fbt","ix","BaseFileSelector.react","CometPressable.react","FDSButton.react","composerMediaAttachmentReducer","fbicon","fileInputAcceptValues","react","react-compiler-runtime","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));j.useCallback;function a(a){var b=d("react-compiler-runtime").c(6),e=a.activateMediaAttachment,f=a.activeAttachmentType;a=a.disableVideo;var g=e===void 0?!1:e;e=a===void 0?!1:a;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var h=c("useComposerViewStateDispatcher")();b[0]!==g||b[1]!==h?(a=function(a){if(a.length===0)return;h({files:Array.from(a),type:"ADD_MEDIA_ATTACHMENT_ITEMS"});g&&h({attachmentType:"MEDIA",type:"ACTIVATE_ATTACHMENT_TYPE"})},b[0]=g,b[1]=h,b[2]=a):a=b[2];a=a;if(f!=null&&f!=="MEDIA")return null;f=e?d("fileInputAcceptValues").PHOTO:d("fileInputAcceptValues").PHOTO_AND_VIDEO;b[3]!==a||b[4]!==f?(e=k.jsx(c("BaseFileSelector.react"),{accept:f,multiple:!0,onFilesSelected:a,children:l}),b[3]=a,b[4]=f,b[5]=e):e=b[5];return e}function l(a){return k.jsx(c("CometPressable.react"),{display:"inline",label:h._(/*BTDS*/"__JHASH__FSLrrNJLINo__JHASH__"),onPress:a,overlayDisabled:!0,children:k.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1c4vz4f x2lah0s xpyat2d xl56j7k xr9ek0c xkrivgy xjpr12u x1gryazu x1mzt3pk x1n2onr6 xzk1tus"},{children:k.jsx(c("FDSButton.react"),{icon:d("fbicon")._(i("481779"),16),label:h._(/*BTDS*/"__JHASH__ALDEtAod2f2__JHASH__"),onPress:a,testid:void 0,type:"secondary"})}))})}l.displayName=l.name+" [from "+f.id+"]";b=c("withComposerViewStatePart")(a,function(a){return{activeAttachmentType:(a=a.attachmentArea)==null?void 0:a.activeAttachmentType}});g["default"]=b}),226);
__d("ComposerPaidContentAttachmentAreaResource",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("ComposerPaidContentAttachmentArea.react").__setRef("ComposerPaidContentAttachmentAreaResource");b=a;g["default"]=b}),98);
__d("ComposerWriteWithAIPopoverQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8544783772276939"}),null);
__d("ComposerWriteWithAIPopoverQuery$Parameters",["ComposerWriteWithAIPopoverQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("ComposerWriteWithAIPopoverQuery_facebookRelayOperation"),metadata:{},name:"ComposerWriteWithAIPopoverQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("ComposerWriteWithAIPopover.entrypoint",["ComposerWriteWithAIPopoverQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{queryReference:{parameters:c("ComposerWriteWithAIPopoverQuery$Parameters"),variables:{actorID:a.actorID}}}}},root:c("JSResourceForInteraction")("ComposerWriteWithAIPopover.react").__setRef("ComposerWriteWithAIPopover.entrypoint")};g["default"]=a}),98);
__d("ComposerWriteWithAIPopoverContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a({setWriteWithAIPopoverShown:function(){},writeWithAIPopoverRef:{current:null},writeWithAIPopoverShown:!1});g["default"]=b}),98);
__d("ComposerWriteWithAITrigger.react",["Actor","ComposerWriteWithAIPopover.entrypoint","ComposerWriteWithAIPopoverContext.react","FDSEntryPointPopoverTrigger.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=d("react-compiler-runtime").c(9),e=a.children;a=j(c("ComposerWriteWithAIPopoverContext.react"));a=a.writeWithAIPopoverRef;var f=d("Actor").useActor();f=f[0];var g;b[0]!==f?(g={actorID:f},b[0]=f,b[1]=g):g=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f={onClose:k},b[2]=f):f=b[2];var h;b[3]!==e?(h=function(a){return e(a)},b[3]=e,b[4]=h):h=b[4];b[5]!==g||b[6]!==h||b[7]!==a?(f=i.jsx(c("FDSEntryPointPopoverTrigger.react"),{align:"middle",doNotCloseOnOutsideClick:!0,entryPointParams:g,imperativeRef:a,otherProps:f,popoverEntryPoint:c("ComposerWriteWithAIPopover.entrypoint"),position:"below",preloadTrigger:"button",children:h}),b[5]=g,b[6]=h,b[7]=a,b[8]=f):f=b[8];return f}function k(){}g["default"]=a}),98);
__d("CoreComposerFooter_composer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CoreComposerFooter_composer",selections:[{args:null,kind:"FragmentSpread",name:"CometComposerFooterButtons_composer"}],type:"FeedCometComposer",abstractKey:null};e.exports=a}),null);
__d("CoreComposerFooter.react",["CometComposerFooterButtons.react","CometComposerFooterFallback.react","CometErrorBoundary.react","CometRelay","ComposerAudienceOverrideLogger","CoreComposerFooter_composer.graphql","FBLogger","getPostButtonText","react","react-compiler-runtime","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=h!==void 0?h:h=b("CoreComposerFooter_composer.graphql");function a(a){var b=d("react-compiler-runtime").c(18),e=a.composer$key,f=a.creationSessionID,g=a.onPressPost,h=a.postButtonLabelOverride,i=a.privacyValue,m=a.storyID;a=d("CometRelay").useFragment(k,e);b[0]!==h||b[1]!==m?(e=c("getPostButtonText")({postButtonLabelOverride:h,storyID:m}),b[0]=h,b[1]=m,b[2]=e):e=b[2];h=e;b[3]!==f||b[4]!==g||b[5]!==i?(e=function(a,b){f!=null&&d("ComposerAudienceOverrideLogger").logPrivacyOnCreateMutation({creationSessionID:f,privacyPostParam:i}),g(a,b)},b[3]=f,b[4]=g,b[5]=i,b[6]=e):e=b[6];var n=e;b[7]!==n||b[8]!==m?(e=function(){return j.jsx(c("CometComposerFooterFallback.react"),{onPressPost:n,storyID:m})},b[7]=n,b[8]=m,b[9]=e):e=b[9];var o;b[10]!==a||b[11]!==n||b[12]!==h||b[13]!==m?(o=j.jsx(c("CometComposerFooterButtons.react"),{composer$key:a,onPressPost:n,postButtonLabel:h,storyID:m}),b[10]=a,b[11]=n,b[12]=h,b[13]=m,b[14]=o):o=b[14];b[15]!==e||b[16]!==o?(a=j.jsx(c("CometErrorBoundary.react"),{fallback:e,onError:l,children:o}),b[15]=e,b[16]=o,b[17]=a):a=b[17];return a}function l(a){c("FBLogger")("comet_composer").mustfix("Error rendering post footer: %s",a.message)}e=c("withComposerViewStatePart")(a,function(a){return{creationSessionID:a==null?void 0:a.creationSessionID,postButtonLabelOverride:a==null?void 0:a.submitText,privacyValue:a==null?void 0:(a=a.audience)==null?void 0:a.privacy}});g["default"]=e}),98);
__d("CreatorComposerOptionDefaultEligibilityCheckers",["CometComposerAttachmentPluginTypes","CometComposerFooterAttachmentPluginTypes","CometComposerTaggerPluginTypes","CometCreatorComposerOptionTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var d;if(((d=a.attachmentArea)==null?void 0:d.activeAttachmentType)!=null&&!b.eligibleAttachments.has(a.attachmentArea.activeAttachmentType))return new Set([c]);for(var d=(d=(d=a.taggerData)==null?void 0:d.activeTaggerList)!=null?d:[],e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;if(!b.eligibleTaggers.has(g))return new Set([c])}if(((g=a.footerAttachmentArea)==null?void 0:g.activeFooterAttachmentType)!=null&&!b.eligibleFooterAttachments.has((f=a.footerAttachmentArea)==null?void 0:f.activeFooterAttachmentType))return new Set([c]);for(g=(d=a==null?void 0:(e=a.twoStepCreatorComposerData)==null?void 0:e.activeOptionSet)!=null?d:[],f=Array.isArray(g),a=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(a>=g.length)break;e=g[a++]}else{a=g.next();if(a.done)break;e=a.value}d=e;if(!b.eligibleOptions.has(d))return new Set([c])}return new Set()}function b(a){var b=Object.keys(c("CometComposerAttachmentPluginTypes")).filter(function(b){return!a.eligibleAttachments.has(b)}),e=Object.keys(c("CometComposerTaggerPluginTypes")).filter(function(b){return!a.eligibleTaggers.has(b)}),f=Array.from(d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.members()).filter(function(b){return!a.eligibleFooterAttachments.has(b)}),g=Array.from(d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.members()).filter(function(b){return!a.eligibleOptions.has(b)});return new Set([].concat(b,e,f,g))}g.creatorComposerOptionForwardEligibilityChecker=a;g.creatorComposerOptionBackwardEligibilityChecker=b}),98);
__d("FeedComposerCometCreatorRecDismissalMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7111381258873099"}),null);
__d("FeedComposerCometCreatorRecDismissalMutation.graphql",["FeedComposerCometCreatorRecDismissalMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"page_id"},{defaultValue:null,kind:"LocalArgument",name:"recommendation"}],c=[{alias:null,args:[{kind:"Variable",name:"page_id",variableName:"page_id"},{kind:"Variable",name:"recommendation",variableName:"recommendation"}],kind:"ScalarField",name:"xfb_handle_increment_creator_rec_dismissal",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FeedComposerCometCreatorRecDismissalMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FeedComposerCometCreatorRecDismissalMutation",selections:c},params:{id:b("FeedComposerCometCreatorRecDismissalMutation_facebookRelayOperation"),metadata:{},name:"FeedComposerCometCreatorRecDismissalMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("FeedComposerCometCreatorRecDismissalMutation",["CometRelay","FeedComposerCometCreatorRecDismissalMutation.graphql","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("FeedComposerCometCreatorRecDismissalMutation.graphql");function a(a,b){var c=d("react-compiler-runtime").c(4),e=d("CometRelay").useMutation(i),f=e[0];c[0]!==f||c[1]!==a||c[2]!==b?(e=function(){a!=null&&b!=null&&f({variables:{page_id:a,recommendation:b}})},c[0]=f,c[1]=a,c[2]=b,c[3]=e):e=c[3];return e}g.useFeedComposerCometCreatorRecDismissalMutation=a}),98);
__d("FeedComposerCometCreatorRecImpressionMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24542460975339231"}),null);
__d("FeedComposerCometCreatorRecImpressionMutation.graphql",["FeedComposerCometCreatorRecImpressionMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"page_id"},{defaultValue:null,kind:"LocalArgument",name:"recommendation"}],c=[{alias:null,args:[{kind:"Variable",name:"page_id",variableName:"page_id"},{kind:"Variable",name:"recommendation",variableName:"recommendation"}],kind:"ScalarField",name:"xfb_handle_increment_creator_rec_impression",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FeedComposerCometCreatorRecImpressionMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FeedComposerCometCreatorRecImpressionMutation",selections:c},params:{id:b("FeedComposerCometCreatorRecImpressionMutation_facebookRelayOperation"),metadata:{},name:"FeedComposerCometCreatorRecImpressionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("FeedComposerCometCreatorRecImpressionMutation",["CometRelay","FeedComposerCometCreatorRecImpressionMutation.graphql","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("FeedComposerCometCreatorRecImpressionMutation.graphql");function a(a,b){var c=d("react-compiler-runtime").c(4),e=d("CometRelay").useMutation(i),f=e[0];c[0]!==f||c[1]!==a||c[2]!==b?(e=function(){a!=null&&b!=null&&f({variables:{page_id:a,recommendation:b}})},c[0]=f,c[1]=a,c[2]=b,c[3]=e):e=c[3];return e}g.useFeedComposerCometCreatorRecImpressionMutation=a}),98);
__d("useCometFeedComposerLogCPXContentCreationEvent",["CometComposerViewStateContext","CpxContentCreationFalcoEvent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(){var a=d("react-compiler-runtime").c(3),b=i(c("CometComposerViewStateContext")),e=b.creationSessionID,f=b.pageID;a[0]!==e||a[1]!==f?(b=function(a){c("CpxContentCreationFalcoEvent").log(function(){return babelHelpers["extends"]({composer_mode:"create",composer_type:"comet_feed_composer",page_id:f==null||f===""?null:f,product:"facebook_www",session_id:e,video_id:null},a)})},a[0]=e,a[1]=f,a[2]=b):b=a[2];return b}g["default"]=a}),98);
__d("FeedComposerCometCreatorRecommendationsNotice.react",["fbt","ix","BaseFileSelector.react","CometRow.react","FDSButtonGroup.react","FDSContextualMessage.react","FDSIcon.react","FeedComposerCometCreatorRecDismissalMutation","FeedComposerCometCreatorRecImpressionMutation","fbicon","fileInputAcceptValues","react","react-compiler-runtime","useCometComposerPushAllMediaItemsPage","useCometComposerPushAnimatedImagePage","useCometComposerPushMinutiaePage","useCometFeedComposerLogCPXContentCreationEvent","useComposerViewStateDispatcher","useMediaUploaderHandlers","vulture","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useRef;function n(a){var b=null,c=null;a==="CAPTION_LENGTH_NONVIDEO"?(b=h._(/*BTDS*/"__JHASH__t1FOF8do6HW__JHASH__"),c=h._(/*BTDS*/"__JHASH__NEewSjMkAV1__JHASH__")):a==="ADD_ONE_PHOTO_NONVIDEO"?(b=h._(/*BTDS*/"__JHASH__Top7DJ9uhcK__JHASH__"),c=h._(/*BTDS*/"__JHASH__IiuMXctw3vl__JHASH__")):a==="USE_SATP_NONVIDEO"?(b=h._(/*BTDS*/"__JHASH__u4xu1NaKl7i__JHASH__"),c=h._(/*BTDS*/"__JHASH__7Y9-GUsO5lF__JHASH__")):a==="ADD_FEELING_NONVIDEO"?(b=h._(/*BTDS*/"__JHASH__kHAfSl26pGL__JHASH__"),c=h._(/*BTDS*/"__JHASH__T8EYv33_rrG__JHASH__")):a==="ADD_GIF_NONVIDEO"?(b=h._(/*BTDS*/"__JHASH__Pv90c6JK9P8__JHASH__"),c=h._(/*BTDS*/"__JHASH__T016Nf6e0FZ__JHASH__")):a==="ONLY_ONE_PHOTO_NONVIDEO"?(b=h._(/*BTDS*/"__JHASH__HqcpJ9SgPLR__JHASH__"),c=h._(/*BTDS*/"__JHASH__RxpbrrVx-dw__JHASH__")):a==="ADD_HASHTAG_NONVIDEO"?(b=h._(/*BTDS*/"__JHASH__YkVk8looNd4__JHASH__"),c=h._(/*BTDS*/"__JHASH__2-sSAtky9Uq__JHASH__")):a==="CAPTION_TOO_MANY_CAPS_NONVIDEO"&&(b=h._(/*BTDS*/"__JHASH__DlZKbZSc8fq__JHASH__"),c=h._(/*BTDS*/"__JHASH__m4naEdeOPx8__JHASH__"));return{body:c,headline:b}}function o(a){if(a==null)return null;switch(a){case"CAPTION_LENGTH_NONVIDEO":return{dismissalEvent:"creator_rec_caption_length_nonvideo_dismissal",impressionEvent:"creator_rec_caption_length_nonvideo_impression"};case"ADD_ONE_PHOTO_NONVIDEO":return{dismissalEvent:"creator_rec_add_one_photo_nonvideo_dismissal",impressionEvent:"creator_rec_add_one_photo_nonvideo_impression"};case"USE_SATP_NONVIDEO":return{dismissalEvent:"creator_rec_use_satp_nonvideo_dismissal",impressionEvent:"creator_rec_use_satp_nonvideo_impression"};case"ADD_FEELING_NONVIDEO":return{dismissalEvent:"creator_rec_add_feeling_nonvideo_dismissal",impressionEvent:"creator_rec_add_feeling_nonvideo_impression"};case"ADD_GIF_NONVIDEO":return{dismissalEvent:"creator_rec_add_gif_nonvideo_dismissal",impressionEvent:"creator_rec_add_gif_nonvideo_impression"};case"ONLY_ONE_PHOTO_NONVIDEO":return{dismissalEvent:"creator_rec_only_one_photo_nonvideo_dismissal",impressionEvent:"creator_rec_only_one_photo_nonvideo_impression"};case"ADD_HASHTAG_NONVIDEO":return{dismissalEvent:"creator_rec_add_hashtag_nonvideo_dismissal",impressionEvent:"creator_rec_add_hashtag_nonvideo_impression"};case"CAPTION_TOO_MANY_CAPS_NONVIDEO":return{dismissalEvent:"creator_rec_caption_too_many_caps_nonvideo_dismissal",impressionEvent:"creator_rec_caption_too_many_caps_nonvideo_impression"};default:return null}}function p(a,b,d,e,f,g,i){if(a==null)return null;switch(a){case"USE_SATP_NONVIDEO":return k.jsx(c("FDSButtonGroup.react"),{primary:{disabled:d,label:h._(/*BTDS*/"__JHASH__zq7vTljr1Xe__JHASH__"),onPress:function(){return b({type:"SATP_BAR_EXPANDED_TOGGLE"})},type:"secondary"}});case"ADD_FEELING_NONVIDEO":return k.jsx(c("FDSButtonGroup.react"),{primary:{label:h._(/*BTDS*/"__JHASH__MQGIEGw-UHJ__JHASH__"),onPress:e,type:"secondary"}});case"ADD_GIF_NONVIDEO":return k.jsx(c("FDSButtonGroup.react"),{primary:{label:h._(/*BTDS*/"__JHASH__AwAlohtEMAJ__JHASH__"),onPress:f,type:"secondary"}});case"ONLY_ONE_PHOTO_NONVIDEO":return k.jsx(c("FDSButtonGroup.react"),{primary:{label:h._(/*BTDS*/"__JHASH__5Cw_Z_3pOad__JHASH__"),onPress:g,type:"secondary"}});case"ADD_ONE_PHOTO_NONVIDEO":return k.jsx(c("FDSButtonGroup.react"),{primary:{label:h._(/*BTDS*/"__JHASH__gS2SirnmvaI__JHASH__"),onPress:i,type:"secondary"}});default:return null}}function q(a){var b=d("react-compiler-runtime").c(34),e=a.deliveredRecommendation,f=a.isNoticeShown,g=a.isSATPPickerOpened,h=a.openMediaAttachmentUploadFlow,j=a.pageID,q=a.setHasDismissedRec,r=a.setIsNoticeShown;c("vulture")("8Svnl6iCXYp");b[0]!==e?(a=n(e),b[0]=e,b[1]=a):a=b[1];a=a;var s=a.body;a=a.headline;var t=c("useCometFeedComposerLogCPXContentCreationEvent")(),u=c("useComposerViewStateDispatcher")(),v=c("useCometComposerPushMinutiaePage")(),w=c("useCometComposerPushAnimatedImagePage")(),x=c("useCometComposerPushAllMediaItemsPage")(),y=m(!1),z=m(!1),A=d("FeedComposerCometCreatorRecImpressionMutation").useFeedComposerCometCreatorRecImpressionMutation(j,e),B=d("FeedComposerCometCreatorRecDismissalMutation").useFeedComposerCometCreatorRecDismissalMutation(j,e);if(b[2]!==e){var C;C=(C=o(e))!=null?C:{};b[2]=e;b[3]=C}else C=b[3];C=C;var D=C.dismissalEvent,E=C.impressionEvent,F;b[4]!==A||b[5]!==e||b[6]!==u||b[7]!==E||b[8]!==f||b[9]!==t||b[10]!==j?(C=function(){if(!y.current&&e!=null&&f){var a;y.current=!0;A();E&&t({event_name:E,event_state:"success",page_id:(a=j)!=null?a:void 0});u({type:"REGISTER_RECOMMENDATION_IMPRESSION"})}},F=[A,e,u,E,f,t,j],b[4]=A,b[5]=e,b[6]=u,b[7]=E,b[8]=f,b[9]=t,b[10]=j,b[11]=C,b[12]=F):(C=b[11],F=b[12]);l(C,F);if(e==null||s==null||a==null)return null;b[13]!==B||b[14]!==D||b[15]!==t||b[16]!==j||b[17]!==q||b[18]!==r?(C=function(){r(!1);if(!z.current){var a;z.current=!0;B();D&&t({event_name:D,event_state:"success",page_id:(a=j)!=null?a:void 0})}q(!0)},b[13]=B,b[14]=D,b[15]=t,b[16]=j,b[17]=q,b[18]=r,b[19]=C):C=b[19];F=C;b[20]!==e||b[21]!==u||b[22]!==g||b[23]!==h||b[24]!==w||b[25]!==x||b[26]!==v?(C=p(e,u,g,v,w,x,h),b[20]=e,b[21]=u,b[22]=g,b[23]=h,b[24]=w,b[25]=x,b[26]=v,b[27]=C):C=b[27];g=C;b[28]!==s||b[29]!==a||b[30]!==f||b[31]!==F||b[32]!==g?(h=f?k.jsx(c("CometRow.react"),{spacing:0,verticalAlign:"center",children:k.jsx(c("FDSContextualMessage.react"),{addOnPrimary:g==null?void 0:g,body:s,headline:a,icon:k.jsx(c("FDSIcon.react"),{color:"primaryAccent",icon:d("fbicon")._(i("492704"),24)}),level:4,onClose:F,type:"secondary"})}):null,b[28]=s,b[29]=a,b[30]=f,b[31]=F,b[32]=g,b[33]=h):h=b[33];return h}function a(a){var b=d("react-compiler-runtime").c(5);c("vulture")("afauIeBLInf");var e=c("useMediaUploaderHandlers")();e=e.onFilesSelected;var f;b[0]!==a?(f=function(b){return k.jsx(q,babelHelpers["extends"]({openMediaAttachmentUploadFlow:b},a))},b[0]=a,b[1]=f):f=b[1];var g;b[2]!==e||b[3]!==f?(g=k.jsx(c("BaseFileSelector.react"),{accept:d("fileInputAcceptValues").PHOTO,multiple:!1,onFilesSelected:e,children:f}),b[2]=e,b[3]=f,b[4]=g):g=b[4];return g}e=c("withComposerViewStatePart")(a,function(a){return{isSATPPickerOpened:!!(a==null?void 0:(a=a.formattedText)==null?void 0:a.satpBarIsExpanded)}});g["default"]=e}),226);
__d("FeedComposerCometCreatorRecommendationsPill.react",["fbt","ix","CometRowItem.react","FDSInfoChip.react","Pressable.react","fbicon","react","react-compiler-runtime","useCometFeedComposerLogCPXContentCreationEvent","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useRef,n=h._(/*BTDS*/"__JHASH__xlJ7udKMe4L__JHASH__");function o(a){if(a==null)return null;switch(a){case"USE_SATP_NONVIDEO":return"creator_rec_use_satp_nonvideo_impression_tip";case"ADD_ONE_PHOTO_NONVIDEO":return"creator_rec_add_one_photo_nonvideo_impression_tip";case"CAPTION_LENGTH_NONVIDEO":return"creator_rec_caption_length_nonvideo_impression_tip";case"ADD_FEELING_NONVIDEO":return"creator_rec_add_feeling_nonvideo_impression_tip";case"ADD_GIF_NONVIDEO":return"creator_rec_add_gif_nonvideo_impression_tip";case"ONLY_ONE_PHOTO_NONVIDEO":return"creator_rec_only_one_photo_nonvideo_impression_tip";case"ADD_HASHTAG_NONVIDEO":return"creator_rec_add_hashtag_nonvideo_impression_tip";case"CAPTION_TOO_MANY_CAPS_NONVIDEO":return"creator_rec_caption_too_many_caps_nonvideo_impression_tip";default:return null}}function a(a){var b=d("react-compiler-runtime").c(13),e=a.deliveredRecommendation,f=a.hasPillImpressionLogged,g=a.isPillShown,h=a.pageID,j=a.setIsNoticeShown;b[0]!==j?(a=function(){return j(p)},b[0]=j,b[1]=a):a=b[1];a=a;var q=c("useCometFeedComposerLogCPXContentCreationEvent")(),r=c("useComposerViewStateDispatcher")(),s=m(!1),t,u;b[2]!==e||b[3]!==r||b[4]!==f||b[5]!==g||b[6]!==q||b[7]!==h?(t=function(){if(!s.current&&!f&&g&&h!=null){var a=o(e);a!=null&&(s.current=!0,q({event_name:a,event_state:"success",page_id:h}),r({type:"SET_HAS_LOGGED_TIP_IMPRESSION"}))}},u=[e,r,s,f,g,q,h],b[2]=e,b[3]=r,b[4]=f,b[5]=g,b[6]=q,b[7]=h,b[8]=t,b[9]=u):(t=b[8],u=b[9]);l(t,u);b[10]!==g||b[11]!==a?(t=g?k.jsx(c("CometRowItem.react"),{children:k.jsx(c("Pressable.react"),{accessibilityRole:"button",onPress:a,children:k.jsx(c("FDSInfoChip.react"),{icon:d("fbicon")._(i("492698"),12),label:n,type:"secondary-badge"})})}):null,b[10]=g,b[11]=a,b[12]=t):t=b[12];return t}function p(a){return!a}g["default"]=a}),226);
__d("FeedComposerCometStatusContainerPreImplForLexical.react",["CometComposerStylingConstants","FeedComposerCometTextStyleContext","LexicalText","getResolvedShouldShrink","react","stylex","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useState,n=24,o=15,p={input:{borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",boxSizing:"x9f619",color:"xzsf02u",cursor:"xmper1u",fontSize:"xngnso2",fontWeight:"xo1l8bm",height:"x5yr21d",lineHeight:"x1qb5hxa",outline:"x1a2a7pz",paddingTop:"x1iorvi4",paddingEnd:"x4uap5",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",width:"xh8yej3","::placeholder_color":"xha3pab",$$css:!0},inputSmallText:{fontSize:"x6prxxf",lineHeight:"xvq8zen",$$css:!0}};function a(a){var b=a.activeAttachmentType,e=a.alwaysShrinkText,f=a.children,g=a.formattedTextStyling,i=a.formattingType,q=a.lexicalEditor;a=m(((a=q==null?void 0:q.getEditorState().read(d("LexicalText").$rootTextContent).length)!=null?a:0)>=d("CometComposerStylingConstants").MAX_DYNAMIC_TEXT_LENGTH);var r=a[0],s=a[1],t=c("getResolvedShouldShrink")({activeAttachmentType:b,alwaysShrinkText:e,formattedTextStyling:g,formattingType:i,textExceedsLength:r});a=l(function(){var a;return{color:(a=g==null?void 0:g.color)!=null?a:"primary-text",fontSize:(a=g==null?void 0:g.fontSize)!=null?a:t?o:n}},[t,g]);k(function(){if(q==null)return;return q.registerTextContentListener(function(a){s(a.length>=d("CometComposerStylingConstants").MAX_DYNAMIC_TEXT_LENGTH)})},[q]);return j.jsx("div",{className:(h||(h=c("stylex")))(p.input,t&&p.inputSmallText),"data-testid":void 0,style:g,children:j.jsx(c("FeedComposerCometTextStyleContext").Provider,{value:a,children:f})})}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){var b;return{activeAttachmentType:(b=a.attachmentArea)==null?void 0:b.activeAttachmentType,formattingType:a.formattingType,lexicalEditor:a.lexicalEditor}});g["default"]=e}),98);
__d("FeedComposerCometStatusAreaForLexical.react",["CometComposerEditorForLexical.react","FeedComposerCometStatusContainerPreImplForLexical.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.alwaysShrinkText,f=a.ariaLabel,g=a.autoFocus,h=a.beginningViewState,j=a.placeholderText,k=a.formattedTextStyling;a=a.textAlignment;e=e===void 0?!1:e;var l;b[0]!==f?(l=f.toString(),b[0]=f,b[1]=l):l=b[1];b[2]!==j?(f=j==null?void 0:j.toString(),b[2]=j,b[3]=f):f=b[3];b[4]!==g||b[5]!==h||b[6]!==l||b[7]!==f||b[8]!==a?(j=i.jsx(c("CometComposerEditorForLexical.react"),{ariaLabel:l,autoFocus:g,beginningViewState:h,placeholderText:f,surface:"FeedComposerCometStatusArea",textAlignment:a}),b[4]=g,b[5]=h,b[6]=l,b[7]=f,b[8]=a,b[9]=j):j=b[9];b[10]!==e||b[11]!==k||b[12]!==j?(g=i.jsx(c("FeedComposerCometStatusContainerPreImplForLexical.react"),{alwaysShrinkText:e,formattedTextStyling:k,children:j}),b[10]=e,b[11]=k,b[12]=j,b[13]=g):g=b[13];return g}g["default"]=a}),98);
__d("FeedComposerCometStatusFormattedTextPlaceholderForLexical.react",["react","react-compiler-runtime","stylex","useCometComposerSATPConfig","useCometStatusAreaTextData","useLexicalIsTextContentEmpty","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={container:{position:"x10l6tqk",top:"x13vifvy",width:"x6br4ve",$$css:!0},responsiveContainer:{width:"xkxa9zd",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6),c,e;b[0]!==a?(c=a.lexicalEditor,e=babelHelpers.objectWithoutPropertiesLoose(a,["lexicalEditor"]),b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);if(c==null)return null;b[3]!==c||b[4]!==e?(a=j.jsx(l,babelHelpers["extends"]({lexicalEditor:c},e)),b[3]=c,b[4]=e,b[5]=a):a=b[5];return a}function l(a){var b=d("react-compiler-runtime").c(9),e=a.formattedTextPreset,f=a.lexicalEditor;a=a.text;e=(e=c("useCometStatusAreaTextData")(e))==null?void 0:e.formattedTextStyling;var g=c("useCometComposerSATPConfig")();g=g.satpContainerIsResponsive;f=d("useLexicalIsTextContentEmpty").useLexicalIsTextContentEmpty(f);if(!f)return null;b[0]!==g?(f=(h||(h=c("stylex"))).props(k.container,g&&k.responsiveContainer),b[0]=g,b[1]=f):f=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g="x6s0dn4 x78zum5 xl56j7k x1ks1olk x2b8uid xh8yej3",b[2]=g):g=b[2];b[3]!==e||b[4]!==a?(g=j.jsx("div",{className:g,style:e,children:a}),b[3]=e,b[4]=a,b[5]=g):g=b[5];b[6]!==f||b[7]!==g?(e=j.jsx("div",babelHelpers["extends"]({},f,{children:g})),b[6]=f,b[7]=g,b[8]=e):e=b[8];return e}b=c("withComposerViewStatePart")(a,function(a){return{lexicalEditor:a.lexicalEditor}});g["default"]=b}),98);
__d("FeedComposerCometFormattedTextStatusAreaForLexical.react",["fbt","ComposerWriteWithAITrigger.react","FeedComposerCometStatusAreaForLexical.react","FeedComposerCometStatusFormattedTextPlaceholderForLexical.react","cr:1007","cr:5059","getFeedComposerCometStatusAreaRelayPlaceholderText","gkx","react","react-compiler-runtime","useCometStatusAreaTextData","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("gkx")("21050");function a(a){var e=d("react-compiler-runtime").c(19),f=a.alwaysShrinkText,g=a.autoFocus,i=a.beginningViewState,l=a.formattedTextPreset,m=a.isQuerying,n=a.isViewerFeed,o=a.placeholderText;a=a.userShortName;var p=c("useCometStatusAreaTextData")(l);if(e[0]!==n||e[1]!==o||e[2]!==a){var q;q=(q=o)!=null?q:c("getFeedComposerCometStatusAreaRelayPlaceholderText")(n,a);e[0]=n;e[1]=o;e[2]=a;e[3]=q}else q=e[3];var r=q,s;if(e[4]!==l||e[5]!==m||e[6]!==r){if(k&&b("cr:1007")!=null){e[8]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._(/*BTDS*/"__JHASH__H_02CE0Rk75__JHASH__"),e[8]=n):n=e[8];e[9]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"__JHASH__5xR98_03Iu-__JHASH__"),e[9]=o):o=e[9];s=j.jsx(b("cr:1007"),{body:n,fallbackPlaceholderText:r,header:o})}l!=null&&(s=j.jsx(c("FeedComposerCometStatusFormattedTextPlaceholderForLexical.react"),{formattedTextPreset:l,text:r}));m===!0&&b("cr:5059")!=null&&(s=j.jsx(b("cr:5059"),{}));e[4]=l;e[5]=m;e[6]=r;e[7]=s}else s=e[7];e[10]!==f||e[11]!==g||e[12]!==i||e[13]!==l||e[14]!==m||e[15]!==s||e[16]!==r||e[17]!==p?(a=j.jsx(c("ComposerWriteWithAITrigger.react"),{children:function(a){return j.jsxs("div",{className:m===!0?void 0:"x78zum5 xl56j7k",ref:a,children:[s,m!==!0&&j.jsx(c("FeedComposerCometStatusAreaForLexical.react"),babelHelpers["extends"]({alwaysShrinkText:f,ariaLabel:r,autoFocus:g,beginningViewState:i,placeholderText:l!=null?void 0:r},p))]})}}),e[10]=f,e[11]=g,e[12]=i,e[13]=l,e[14]=m,e[15]=s,e[16]=r,e[17]=p,e[18]=a):a=e[18];return a}e=c("withComposerViewStatePart")(a,function(a){return{isQuerying:(a=a.writeWithMetaAIData)==null?void 0:a.isQuerying}});g["default"]=e}),226);
__d("useWriteWithAIPopoverContext",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;b.useMemo;var i=b.useRef,j=b.useState;function a(){var a=d("react-compiler-runtime").c(3),b=i(null),c=j(!1),e=c[0],f=c[1];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(a){f(a);if(a){(a=b.current)==null?void 0:a.show()}else{(a=b.current)==null?void 0:a.hide()}},a[0]=c):c=a[0];c=c;a[1]!==e?(c={setWriteWithAIPopoverShown:c,writeWithAIPopoverRef:b,writeWithAIPopoverShown:e},a[1]=e,a[2]=c):c=a[2];e=c;a=e;return a}g["default"]=a}),98);
__d("FeedComposerCometStatusAreaClickHandlerForLexical.react",["CometComposerAttachmentPluginTypes","CometComposerStylingConstants","CometComposerSwatchPickerUsingRelayEntrypoint.react","CometPlaceholder.react","CometRow.react","ComposerInlineEditingOptionsRow.react","ComposerWriteWithAIPopoverContext.react","FDSGlimmer.react","FeedComposerCometCreatorRecommendationsNotice.react","FeedComposerCometCreatorRecommendationsPill.react","cr:1694603","gkx","qex","react","react-compiler-runtime","stylex","useCometComposerSATPConfig","useComposerFeatureIneligibility","useGeminiComposerRichTextNodeRefs","useIsEmojiButtonVisible","useWriteWithAIPopoverContext","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));f=i;f.useCallback;var k=f.useState,l=(f=c("qex")._("3028"))!=null?f:!1,m=(f=c("qex")._("3029"))!=null?f:!1,n=36,o=50,p=36,q={insertionButtons:{bottom:"x1ey2m1c",end:"xfg7zyn",left:null,right:null,position:"x10l6tqk",$$css:!0},pressableArea:{cursor:"x1ed109x",flexGrow:"x1iyjqo2",height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",$$css:!0},pressableAreaWithFooterAttachment:{minHeight:"xtlc4pp",$$css:!0},pressableAreaWithFormattingAndInsertionButtons:{minHeight:"xzbw6zd",$$css:!0},pressableAreaWithResponsiveSATP:{alignItems:"x1cy8zhl",minHeight:"x1lpwdgh",width:"xh8yej3",$$css:!0},pressableAreaWithResponsiveSATPCentered:{alignItems:"x6s0dn4",minHeight:"x1lpwdgh",width:"xh8yej3",$$css:!0},pressableAreaWithSATP:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},root:{boxSizing:"x9f619",flexGrow:"x1iyjqo2",height:"xg7h5cd",paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1ja2u2z",$$css:!0},rootWithEmojiButtonVariableWidth:{paddingEnd:"x11eofan",$$css:!0},rootWithFormattingMenuVariableWidth:{paddingEnd:"xy825nm",$$css:!0},rootWithSwatchPicker:{paddingBottom:"x1t1ogtf",$$css:!0},swatchPickerGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x10w6t97",width:"x1td3qas",$$css:!0},toolbar:{bottom:"x1ey2m1c",boxSizing:"x9f619",start:"x17qophe",paddingEnd:"xn6708d",paddingStart:"x1swvt13",position:"x10l6tqk",$$css:!0},toolbarWithSATP:{paddingBottom:"xsag5q8",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(53),f=a.children,g=a.composerDialogWidth,i=a.deliveredRecHasConditionsMet,s=a.deliveredRecommendation,t=a.formattedTextPreset,u=a.hasFooterAttachment,v=a.hasLoggedTipImpression,w=a.isSwatchPickerDisabled,x=a.isWorkAMAPost,y=a.lexicalEditor,z=a.pageID;a=a.showSwatchPicker;u=u===void 0?!1:u;a=a===void 0?!0:a;var A=c("useCometComposerSATPConfig")(),B=A.customSATPCategory,C=A.satpContainerIsResponsive;A=A.satpTextVerticalAlignment;var D=c("useIsEmojiButtonVisible")(),E;e[0]!==y?(E=function(){y!=null&&y.focus()},e[0]=y,e[1]=E):E=e[1];E=E;var F=x||c("gkx")("22905");F=c("gkx")("21050")?a&&F:a;var G;e[2]!==B||e[3]!==E||e[4]!==F||e[5]!==x?(G=F?j.jsx(c("CometComposerSwatchPickerUsingRelayEntrypoint.react"),{customSwatchCategory:B,onClickSwatch:E,rankedTextFormatPresetsCollection:x===!0?"ASK_ME_ANYTHING":void 0}):null,e[2]=B,e[3]=E,e[4]=F,e[5]=x,e[6]=G):G=e[6];B=G;F=c("useGeminiComposerRichTextNodeRefs")();x=k(!1);G=x[0];x=x[1];var H=k(!1),I=H[0];H=H[1];I=!I&&s!=null&&i;i=G&&I;G=t!=null;var J=c("gkx")("21050");J=J&&!G;var K=D||I;g=G&&g!=null?g/d("CometComposerStylingConstants").SATP_ASPECT_RATIO:null;var L=c("useWriteWithAIPopoverContext")(),M=n+(I?o+4:0)+(l?p:0)+(m?p:0),N;e[7]!==M?(N={insetInlineEnd:M},e[7]=M,e[8]=N):N=e[8];M=N;N=J&&K&&q.pressableAreaWithFormattingAndInsertionButtons;K=G&&q.pressableAreaWithSATP;C=G&&C&&(A==="center"?q.pressableAreaWithResponsiveSATPCentered:q.pressableAreaWithResponsiveSATP);A=a&&u&&q.pressableAreaWithFooterAttachment;e[9]!==A||e[10]!==N||e[11]!==K||e[12]!==C?(a=(h||(h=c("stylex")))(q.pressableArea,N,K,C,A),e[9]=A,e[10]=N,e[11]=K,e[12]=C,e[13]=a):a=e[13];e[14]!==g?(u={minHeight:g},e[14]=g,e[15]=u):u=e[15];e[16]!==J||e[17]!==D||e[18]!==w||e[19]!==B?(A=(h||(h=c("stylex"))).props(q.root,D&&w&&q.rootWithEmojiButtonVariableWidth,J&&q.rootWithFormattingMenuVariableWidth,B!=null&&q.rootWithSwatchPicker),e[16]=J,e[17]=D,e[18]=w,e[19]=B,e[20]=A):A=e[20];e[21]!==f||e[22]!==A?(N=j.jsx("div",babelHelpers["extends"]({},A,{children:f})),e[21]=f,e[22]=A,e[23]=N):N=e[23];e[24]!==G||e[25]!==M||e[26]!==B?(K=B!=null?j.jsx("div",{className:(h||(h=c("stylex")))(q.toolbar,G&&q.toolbarWithSATP),style:M,children:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("FDSGlimmer.react"),{index:1,xstyle:q.swatchPickerGlimmer}),children:B})}):null,e[24]=G,e[25]=M,e[26]=B,e[27]=K):K=e[27];e[28]!==F?(C=b("cr:1694603")!=null&&j.jsx(b("cr:1694603"),{refs:F}),e[28]=F,e[29]=C):C=e[29];e[30]!==s||e[31]!==t||e[32]!==F.insertionToolbar||e[33]!==v||e[34]!==z||e[35]!==I?(g=j.jsx(r,{deliveredRecommendation:s,formattedTextPreset:t,hasPillImpressionLogged:v,pageID:z,ref:F.insertionToolbar,setIsNoticeShown:x,showRecsInfoChip:I}),e[30]=s,e[31]=t,e[32]=F.insertionToolbar,e[33]=v,e[34]=z,e[35]=I,e[36]=g):g=e[36];e[37]!==E||e[38]!==a||e[39]!==u||e[40]!==N||e[41]!==K||e[42]!==C||e[43]!==g?(J=j.jsxs("div",{className:a,onClick:E,role:"presentation",style:u,children:[N,K,C,g]}),e[37]=E,e[38]=a,e[39]=u,e[40]=N,e[41]=K,e[42]=C,e[43]=g,e[44]=J):J=e[44];e[45]!==s||e[46]!==i||e[47]!==z?(D=s!=null&&j.jsx(c("FeedComposerCometCreatorRecommendationsNotice.react"),{deliveredRecommendation:s,isNoticeShown:i,pageID:z,setHasDismissedRec:H,setIsNoticeShown:x}),e[45]=s,e[46]=i,e[47]=z,e[48]=D):D=e[48];e[49]!==J||e[50]!==D||e[51]!==L?(w=j.jsxs(c("ComposerWriteWithAIPopoverContext.react").Provider,{value:L,children:[J,D]}),e[49]=J,e[50]=D,e[51]=L,e[52]=w):w=e[52];return w}var r=j.forwardRef(e);function e(a,b){var e=d("react-compiler-runtime").c(13),f=a.deliveredRecommendation,g=a.formattedTextPreset,h=a.hasPillImpressionLogged,i=a.pageID,k=a.setIsNoticeShown;a=a.showRecsInfoChip;var l=c("useIsEmojiButtonVisible")(),m;e[0]!==f||e[1]!==h||e[2]!==i||e[3]!==k||e[4]!==a?(m=j.jsx(c("FeedComposerCometCreatorRecommendationsPill.react"),{deliveredRecommendation:f,hasPillImpressionLogged:h,isPillShown:a,pageID:i,setIsNoticeShown:k}),e[0]=f,e[1]=h,e[2]=i,e[3]=k,e[4]=a,e[5]=m):m=e[5];e[6]!==g||e[7]!==l?(f=j.jsx(c("ComposerInlineEditingOptionsRow.react"),{areAIOptionsEnabled:!0,formattedTextPreset:g,isEmojiButtonVisible:l}),e[6]=g,e[7]=l,e[8]=f):f=e[8];e[9]!==b||e[10]!==m||e[11]!==f?(h=j.jsxs(c("CometRow.react"),{paddingHorizontal:0,paddingVertical:0,ref:b,spacing:0,verticalAlign:"center",xstyle:q.insertionButtons,children:[m,f]}),e[9]=b,e[10]=m,e[11]=f,e[12]=h):h=e[12];return h}f=c("withComposerViewStatePart")(a,function(a){var b,d=c("useComposerFeatureIneligibility")();d=d.has(c("CometComposerAttachmentPluginTypes").FORMATTED_TEXT);return{composerDialogWidth:(b=a.composerSizeAndStyleMetadata)==null?void 0:b.composerDialogWidth,deliveredRecHasConditionsMet:(b=(b=a.creatorRecommendationsState)==null?void 0:b.hasConditionsMet)!=null?b:!1,deliveredRecommendation:(b=a.creatorRecommendationsState)==null?void 0:b.deliveredRecommendation,formattedTextPreset:(b=a.formattedText)==null?void 0:b.currentFormattedTextPreset,hasLoggedTipImpression:(b=(b=a.creatorRecommendationsState)==null?void 0:b.hasLoggedTipImpression)!=null?b:!0,isSwatchPickerDisabled:d,isWorkAMAPost:((b=a.workAMAMetadata)==null?void 0:b.isAMA)===!0,lexicalEditor:a.lexicalEditor}});g["default"]=f}),98);
__d("FeedComposerCometToolbar_composer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedComposerCometToolbar_composer",selections:[{args:null,kind:"FragmentSpread",name:"useSproutsFromRelay_composer"}],type:"FeedCometComposer",abstractKey:null};e.exports=a}),null);
__d("blueVideoComposerReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"blue_video_composer_init_data":return babelHelpers["extends"]({},a,{videoComposerData:babelHelpers["extends"]({},a.videoComposerData,{closeCometComposer:b.closeCometComposer,isActorAdmin:b.isActorAdmin})});default:return a}}f["default"]=a}),66);
__d("useFileInput",["ExecutionEnvironment","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useCallback,k=b.useEffect,l=b.useRef;function m(){var a=document.createElement("input");a.type="file";return a}function n(a){a.value=""}function a(a,b){var c=b.allowMultiple,d=b.accept;b=l(null);b.current===null&&(b.current=m());var e=b.current;b=j(function(){return e.click()},[e]);var f=j(function(b){b.preventDefault(),b.target instanceof HTMLInputElement&&(a(Array.from(b.target.files)),n(e))},[e,a]);k(function(){e.setAttribute("accept",d.join(", "));c&&e.setAttribute("multiple",String(c));e.addEventListener("input",f);return function(){e.removeEventListener("input",f)}},[c,d,f,e]);return b}e=(h||(h=c("ExecutionEnvironment"))).isInBrowser?a:function(){return c("emptyFunction")};g["default"]=e}),98);
__d("useComposerMaybeOpenVideoFilePicker",["fileInputAcceptValues","react","react-compiler-runtime","useFileInput","useMediaUploaderHandlers"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(6),e=c("useMediaUploaderHandlers")(void 0,!0),f=e.onFilesSelected,g=e.onPress,h=j(!1);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={accept:d("fileInputAcceptValues").VIDEO,allowMultiple:!1},b[0]=e):e=b[0];var k=c("useFileInput")(f,e);b[1]!==g||b[2]!==k||b[3]!==a?(f=function(){a&&h.current===!1&&(g(k),h.current=!0)},e=[g,k,a],b[1]=g,b[2]=k,b[3]=a,b[4]=f,b[5]=e):(f=b[4],e=b[5]);i(f,e)}g["default"]=a}),98);
__d("useCometComposerPushConnectWhatsAppPage",["fbt","CometComposerGetWhatsAppMessagesVerificationFlowContainer.react","react","react-compiler-runtime","useCometComposerPushPage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a,b){var e=d("react-compiler-runtime").c(4),f=c("useCometComposerPushPage")();if(b==null)return null;var g;e[0]!==a||e[1]!==b||e[2]!==f?(g=function(){f(h._(/*BTDS*/"__JHASH__wDe4eOSH0MT__JHASH__"),function(d){d=d.onReturn;return j.jsx(c("CometComposerGetWhatsAppMessagesVerificationFlowContainer.react"),{addAttachment:a,onClose:d,pageID:b})})},e[0]=a,e[1]=b,e[2]=f,e[3]=g):g=e[3];return g}g["default"]=a}),226);
__d("useComposerMaybePushConnectWhatsAppOnOpen",["CometComposerFooterAttachmentPluginTypes","react","react-compiler-runtime","useCometComposerPushConnectWhatsAppPage","useComposerViewStateDispatcher","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect;function a(a,b,e){var f=d("react-compiler-runtime").c(9),g=e===void 0?!1:e,h=c("useComposerViewStateDispatcher")();f[0]!==h||f[1]!==g?(e=function(){h({isGetWhatsappMessagesPostAttachmentOptional:g,type:"ADD_GET_WHATSAPP_MESSAGES_BUTTON"}),h({footerAttachmentType:d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_WHATSAPP_MESSAGES,type:"ACTIVATE_FOOTER_ATTACHMENT_TYPE"})},f[0]=h,f[1]=g,f[2]=e):e=f[2];e=e;var j=c("useCometComposerPushConnectWhatsAppPage")(e,b);f[3]!==j?(e=function(){return j},f[3]=j,f[4]=e):e=f[4];var k=c("useStable")(e);f[5]!==k||f[6]!==a?(b=function(){k!=null&&a&&k()},e=[k,a],f[5]=k,f[6]=a,f[7]=b,f[8]=e):(b=f[7],e=f[8]);i(b,e)}g["default"]=a}),98);
__d("useComposerMaybePushMLEViewOnOpen",["react","react-compiler-runtime","useCometComposerPushMLEPage","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(6),e=d("useCometComposerPushMLEPage").useCometComposerPushMLEPage(d("useCometComposerPushMLEPage").MleStep.CATEGORY),f;b[0]!==e?(f=function(){return e},b[0]=e,b[1]=f):f=b[1];var g=c("useStable")(f),h;b[2]!==g||b[3]!==a?(f=function(){g!=null&&a&&g()},h=[g,a],b[2]=g,b[3]=a,b[4]=f,b[5]=h):(f=b[4],h=b[5]);i(f,h)}g["default"]=a}),98);
__d("useComposerMaybePushProductTagViewOnOpen",["CometRouteParams","react","react-compiler-runtime","useCometComposerPushProductTagPage","useCometRouterDispatcher","useComposerViewStateDispatcher","useCurrentRouteBuilder","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b,e,f,g){var h=d("react-compiler-runtime").c(12),j=c("useComposerViewStateDispatcher")(),k=c("useCurrentRouteBuilder")(),l=c("useCometRouterDispatcher")(),m=d("CometRouteParams").useRouteParams(),n;h[0]!==k||h[1]!==m||h[2]!==l?(n=function(){if(k!=null&&l!=null&&m.tag_product_id!=null){var a=k.buildURL({tag_product_id:null});l.go(a,{replace:!0})}},h[0]=k,h[1]=m,h[2]=l,h[3]=n):n=h[3];n=n;var o=c("useCometComposerPushProductTagPage")(b,a,e,!1,g,n);h[4]!==o?(a=function(){return o},h[4]=o,h[5]=a):a=h[5];var p=c("useStable")(a);h[6]!==b||h[7]!==p||h[8]!==j||h[9]!==f?(e=function(){b!=null&&p!=null&&f&&(j({type:"set_ignore_dirty_flag",value:!0}),p())},g=[b,p,f,j],h[6]=b,h[7]=p,h[8]=j,h[9]=f,h[10]=e,h[11]=g):(e=h[10],g=h[11]);i(e,g)}g["default"]=a}),98);
__d("useSproutsFromRelay_composer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useSproutsFromRelay_composer",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3pnSHZ"}],concreteType:null,kind:"LinkedField",name:"sprouts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerUploadMediaSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerUploadMediaSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerMagicUploadsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMagicUploadsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerAnimatedImageSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerAnimatedImageSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerWithTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerWithTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerProductTagSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerProductTagSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerMultilingualSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMultilingualSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"ComposerLocationTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerLocationTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"ComposerTabbedMinutiaeSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMinutiaeSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"FeedLiveProducerCometComposerLiveSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerLiveProducerSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"FundraiserForStorySprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerFundraiserForStorySprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"FeedCometComposerBrandedContentSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerBrandedContentSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerRoomsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerVideoMeetupSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"FeedCometComposerGetMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerGetMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"FeedCometComposerCallNowSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerCallNowSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerLifeEventSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerLifeEventSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerLocalAlertSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerLocalAlertSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerVotingAlertSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerVotingAlertSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"FeedCometComposerGetWhatsAppMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerGetWhatsAppMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerTagEventSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerTagEventSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerCreateEventSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerCreateEventSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"FeedCometComposerSendUpdatesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerSendUpdatesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerNewCreateEventSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerNewCreateEventSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"FeedCometComposerPostCollaboratorSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerPostCollaboratorSprout",abstractKey:null}],storageKey:'sprouts(supported:"3pnSHZ")'}],type:"FeedCometComposer",abstractKey:null};e.exports=a}),null);
__d("useSproutsFromRelay",["CometComposerSproutListMatcher.react","CometRelay","CometSproutPromotionsUtil","react","react-compiler-runtime","useSproutsFromRelay_composer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||d("react");function a(a,c,e,f){var g=d("react-compiler-runtime").c(9);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useSproutsFromRelay_composer.graphql"),a);var i;g[0]!==a.sprouts?(i=d("CometSproutPromotionsUtil").getHasPromotion(a.sprouts),g[0]=a.sprouts,g[1]=i):i=g[1];i=i;var j;g[2]!==c||g[3]!==e||g[4]!==f?(j={composerType:c,onCloseComposer:e,pushedPageOnLoad:f},g[2]=c,g[3]=e,g[4]=f,g[5]=j):j=g[5];c=d("CometComposerSproutListMatcher.react").useMatcher(a.sprouts,j,i);g[6]!==i||g[7]!==c?(e={hasPromotion:i,sprouts:c},g[6]=i,g[7]=c,g[8]=e):e=g[8];return e}g["default"]=a}),98);
__d("FeedComposerCometToolbar.react",["fbt","Actor","CometComposerPromotionContext","CometComposerSproutConstants","CometComposerSproutList.react","CometComposerToolbar.react","CometPressable.react","CometRelay","FDSText.react","FeedComposerCometToolbar_composer.graphql","FeedComposerFullSproutsList.react","blueVideoComposerReducer","composerAttachmentAreaChecker","composerAttachmentAreaReducer","gkx","react","react-compiler-runtime","useCometComposerMaybePushLocationPageOnOpen","useCometComposerPushPage","useComposerMaybeOpenVideoFilePicker","useComposerMaybePushAskMeAnythingViewOnOpen","useComposerMaybePushConnectWhatsAppOnOpen","useComposerMaybePushMLEViewOnOpen","useComposerMaybePushMinutaeViewOnOpen","useComposerMaybePushProductTagViewOnOpen","useComposerViewStateDispatcher","useComposerViewStateReducer","useSproutsFromRelay"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useEffect;e.useMemo;function a(a){var e=d("react-compiler-runtime").c(22),f=a.composer,g=a.composerType,j=a.creationSessionID,m=a.delegatePageId,n=a.hasMediaAttachment,o=a.isSelfProfile,p=a.onClose;a=a.pushedPageOnLoad;var q=o===void 0?!0:o;c("useComposerViewStateReducer")(d("composerAttachmentAreaReducer").composerAttachmentAreaReducer,c("composerAttachmentAreaChecker"));c("useComposerViewStateReducer")(c("blueVideoComposerReducer"));var r=c("useComposerViewStateDispatcher")(),s;e[0]!==r||e[1]!==q||e[2]!==p?(o=function(){r({closeCometComposer:p,isActorAdmin:q,type:"blue_video_composer_init_data"})},s=[r,q,p],e[0]=r,e[1]=q,e[2]=p,e[3]=o,e[4]=s):(o=e[3],s=e[4]);l(o,s);o=d("Actor").useActor();s=o[0];c("useCometComposerMaybePushLocationPageOnOpen")(a==="location_tagger");c("useComposerMaybePushMLEViewOnOpen")(a==="mle");c("useComposerMaybePushMinutaeViewOnOpen")(a==="feeling");c("useComposerMaybePushAskMeAnythingViewOnOpen")(a==="ask_me_anything");c("useComposerMaybePushProductTagViewOnOpen")(g==="edit",s,n,a==="product_tagger",j);c("useComposerMaybePushConnectWhatsAppOnOpen")(a==="connect_whatsapp",m,!0);c("useComposerMaybeOpenVideoFilePicker")(a==="video_picker");var t=c("useCometComposerPushPage")();o=d("CometRelay").useFragment(i!==void 0?i:i=b("FeedComposerCometToolbar_composer.graphql"),f);s=c("useSproutsFromRelay")(o,g,p,a);n=s.hasPromotion;var u=s.sprouts;e[5]!==n?(j={listContainsPromotion:n},e[5]=n,e[6]=j):j=e[6];m=j;var v=m;if(c("gkx")("20836")&&((f=u==null?void 0:u.length)!=null?f:0)===0)return null;e[7]===Symbol["for"]("react.memo_cache_sentinel")?(o=c("gkx")("20836")?h._(/*BTDS*/"__JHASH__wlIX6n-gRXt__JHASH__"):h._(/*BTDS*/"__JHASH__7lPtgEzd2gE__JHASH__"),e[7]=o):o=e[7];var w=o;e[8]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:w}),e[8]=g):g=e[8];a=g;e[9]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"xexx8yu x1sxyh0 x18d9i69 xurb0ha"},e[9]=s):s=e[9];e[10]!==t||e[11]!==v||e[12]!==u?(n=k.jsx("div",babelHelpers["extends"]({},s,{children:k.jsx(c("CometPressable.react"),{label:w,onPress:function(){t(w,function(a){a=a.onReturn;return k.jsx(c("CometComposerPromotionContext").Provider,{value:v,children:k.jsx(c("FeedComposerFullSproutsList.react"),{popPage:a,children:u})})})},overlayDisabled:!0,children:a})})),e[10]=t,e[11]=v,e[12]=u,e[13]=n):n=e[13];e[14]!==u?(j=k.jsx(c("CometComposerSproutList.react"),{numInlineSprouts:d("CometComposerSproutConstants").NUM_COLLAPSED_SPROUT_POSITIONS_IN_FEED_COMPOSER,sprouts:u}),e[14]=u,e[15]=j):j=e[15];e[16]!==v||e[17]!==j?(m=k.jsx("div",{children:k.jsx(c("CometComposerPromotionContext").Provider,{value:v,children:j})}),e[16]=v,e[17]=j,e[18]=m):m=e[18];e[19]!==m||e[20]!==n?(f=k.jsxs(c("CometComposerToolbar.react"),{children:[n,m]}),e[19]=m,e[20]=n,e[21]=f):f=e[21];return f}g["default"]=a}),226);
__d("LWIAdAccountDeferredWrapper",["deferredLoadComponent","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("deferredLoadComponent")(c("requireDeferred")("LWIAdAccountFetcher").__setRef("LWIAdAccountDeferredWrapper"));b=a;g["default"]=b}),98);
__d("LWIAdAccountIDContextProvider",["LWIAdAccountIDContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useState;function a(a){var b=d("react-compiler-runtime").c(6);a=a.children;var e=j(null),f=e[0];e=e[1];var g=j(null),h=g[0];g=g[1];b[0]!==f||b[1]!==h?(e={boostedIGMAdAccountID:f,boostedPostAdAccountID:h,setBoostedIGMAdAccountID:e,setBoostedPostAdAccountID:g},b[0]=f,b[1]=h,b[2]=e):e=b[2];g=e;f=g;b[3]!==f||b[4]!==a?(h=i.jsx(c("LWIAdAccountIDContext").Provider,{value:f,children:a}),b[3]=f,b[4]=a,b[5]=h):h=b[5];return h}g["default"]=a}),98);
__d("cometABTestingContent",["fbt","CometLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;a=i||d("react");b=h._(/*BTDS*/"__JHASH__Ai98TqKTPq___JHASH__",[h._param("link to post testing tab",a.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",href:"/creatorstudio/post_tests",target:"_blank",children:h._(/*BTDS*/"__JHASH__iXjV4fHa7ZN__JHASH__")}))]);e=h._(/*BTDS*/"__JHASH__vLxI2ALFMU0__JHASH__");f=h._(/*BTDS*/"__JHASH__0Bwhvs8C3Tq__JHASH__");d=h._(/*BTDS*/"__JHASH__cJbffwwvLnE__JHASH__");var j=h._(/*BTDS*/"__JHASH__TeGZpMY0OXt__JHASH__"),k=h._(/*BTDS*/"__JHASH__VZ0lIshAgFV__JHASH__"),l=h._(/*BTDS*/"__JHASH__fpXAsyPCfnn__JHASH__"),m=h._(/*BTDS*/"__JHASH__GjUMcWAXO5B__JHASH__"),n=h._(/*BTDS*/"__JHASH__u6cKN4wvGNO__JHASH__");a=h._(/*BTDS*/"__JHASH__6h6hSeTxWwB__JHASH__",[h._param("link to post testing tab",a.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",href:"/creatorstudio/post_tests",target:"_blank",children:h._(/*BTDS*/"__JHASH__iXjV4fHa7ZN__JHASH__")}))]);c=h._(/*BTDS*/"__JHASH__yUjNJFZdvIa__JHASH__");var o=h._(/*BTDS*/"__JHASH__vbm1Cwm1pPu__JHASH__"),p=function(a){return a!==null&&Number(a)<60?"reactions":"1-minute views"},q=function(a){return h._(/*BTDS*/"__JHASH__nWmvvPd_UHR__JHASH__",[h._enum(p(a),{"1-minute views":"1-minute views",reactions:"reactions"})])};g.TOP_PERFORMING_POST_TEXT=b;g.GENERATED_THUMBNAIL_ERROR_TEXT=e;g.AB_TESTING_THUMBNAIL_UPSELL_TEXT=f;g.SUGGESTED_THUMBNAIL_SECTION_TEXT=d;g.UPLOAD_THUMBNAIL_SECTION_TEXT=j;g.CHOOSE_THUMBNAIL_FROM_VIDEO_SECTION_TEXT=k;g.TOP_PERFORMING_POST_TITLE=l;g.AB_TESTING_UPSELL_TITLE=m;g.AB_TESTING_DISABLED_IF_AB_TEST=n;g.AB_TESTING_UPSELL_TEXT=a;g.AB_TESTING_DISABLED_ADVANCED_SETINGS_IF_AB_TEST=c;g.AB_TESTING_MAIN_COMPOSER_TEXT=o;g.getABTestingMainComposerText=q}),226);
__d("PagesCometComposerFooterBoostMessengerPostToggle.react",["fbt","ix","AddOnStartOverride.react","CometComposerFooterBoostCTXPostToggleReducer","CometCreatorComposerOptionButton.react","CometCreatorComposerOptionTypes","CometImage.react","FDSListCellPressable.react","FDSSwitch.react","FDSTextPairing.react","FDSTooltip.react","QPLUserFlow","cometABTestingContent","fbicon","qpl","react","react-compiler-runtime","twoStepCreatorComposerReducer","useCometComposerLoggerDispatcher","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useEffect;function m(a){var b=d("react-compiler-runtime").c(15),e=a.disabled,f=a.isABTest,g=a.isCreatorComposerOption,j=a.shouldBoostAfterPosting;a=e===void 0?!1:e;c("useComposerViewStateReducer")(c("CometComposerFooterBoostCTXPostToggleReducer"));c("useComposerViewStateReducer")(d("twoStepCreatorComposerReducer").twoStepCreatorComposerReducer);var m=c("useComposerViewStateDispatcher")();b[0]!==j?(e=[j],b[0]=j,b[1]=e):e=b[1];l(n,e);var o=c("useCometComposerLoggerDispatcher")();b[2]!==m||b[3]!==g||b[4]!==j?(e=function(){j===!0?(m({type:"MESSENGER_BOOST_POST_TOGGLE_OFF"}),m({type:"BOOST_AFTER_POSTING_TOGGLE_OFF"}),g&&m({creatorComposerOptionType:d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST,type:"REMOVE_CREATOR_COMPOSER_OPTION"})):(m({type:"MESSENGER_BOOST_POST_TOGGLE_ON"}),m({type:"BOOST_AFTER_POSTING_TOGGLE_ON"}),g&&m({creatorComposerOptionType:d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST,type:"ACTIVATE_CREATOR_COMPOSER_OPTION"}))},b[2]=m,b[3]=g,b[4]=j,b[5]=e):e=b[5];var p=e;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__dyslvLDyjdH__JHASH__"),b[6]=e):e=b[6];e=e;var q;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"__JHASH__UZXCbPRm3Il__JHASH__"),b[7]=q):q=b[7];q=q;b[8]!==a||b[9]!==f||b[10]!==g||b[11]!==o||b[12]!==p||b[13]!==j?(q=g?k.jsx(c("CometCreatorComposerOptionButton.react"),{buttonProps:{optionComponentEndType:"TOGGLE",optionDescription:q,optionIcon:d("fbicon")._(i("505617"),20),optionLabel:e,optionType:d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST},disabledState:{disabledConfig:{shouldShowTooltip:f===!0,tooltipMessage:f===!0?d("cometABTestingContent").AB_TESTING_DISABLED_IF_AB_TEST:null},isDisabled:a||f===!0},onClick:function(){o({fields:{activate_boost_toggle:j!==!0},type:"CREATOR_COMPOSER_BOOST_COMPONENT_TAP"}),p()}}):k.jsx("div",babelHelpers["extends"]({className:"x8cjs6t x1ch86jh x80vd3b xckqwgs x1lq5wgf xgqcy7u x30kzoy x9jhf4c x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv xev17xk x9f619 xktsk01 x1d52u69"},{children:k.jsx(c("FDSListCellPressable.react"),{addOnEnd:k.jsx(c("FDSSwitch.react"),{"aria-label":h._(/*BTDS*/"__JHASH__qx7hgJiZomG__JHASH__"),disabled:a,tabIndex:-1,value:j}),addOnEndVerticalAlign:"top",addOnStart:k.jsx(c("AddOnStartOverride.react"),{xstyle:{},children:k.jsx(c("CometImage.react"),{src:i("808911")})}),addOnStartVerticalAlign:"top",content:k.jsx(c("FDSTextPairing.react"),{body:q,headline:e,level:3,reduceEmphasis:!0}),contentPaddingHorizontal:16,disabled:a||f,level:3,onPress:p,paddingVertical:16})})),b[8]=a,b[9]=f,b[10]=g,b[11]=o,b[12]=p,b[13]=j,b[14]=q):q=b[14];return q}function n(){c("QPLUserFlow").addPoint(c("qpl")._(316544852,"610"),"composer_toggle_boost_post_on")}function a(a){var b=d("react-compiler-runtime").c(7),e=a.disabled,f=a.isABTest,g=a.isCreatorComposerOption;a=a.shouldBoostAfterPosting;e=e===void 0?!1:e;g=g===void 0?!1:g;var h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=k.jsx(m,{disabled:e,isABTest:f,isCreatorComposerOption:g,shouldBoostAfterPosting:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];e=h;if(f===!0&&!g){b[5]!==e?(a=k.jsx(c("FDSTooltip.react"),{align:"end",position:"above",tooltip:d("cometABTestingContent").AB_TESTING_DISABLED_IF_AB_TEST,children:e}),b[5]=e,b[6]=a):a=b[6];return a}return e}b=c("withComposerViewStatePart")(a,function(a){return{shouldBoostAfterPosting:(a==null?void 0:(a=a.boostCTXPostToggleData)==null?void 0:a.isBoostAfterPostingToggleOn)===!0}});g["default"]=b}),226);
__d("PagesCometComposerFooterBoostPostToggle.react",["fbt","ix","CometComposerFooterBoostCTXPostToggleReducer","CometCreatorComposerOptionButton.react","CometCreatorComposerOptionTypes","CometListCellStrict_DEPRECATED.react","CometPressable.react","CometRelay","FBReelsRoot.entrypoint","FDSText.react","FDSTooltip.react","LWICometGenericEventsLoggerLite","QPLUserFlow","cometABTestingContent","fbicon","qpl","react","react-compiler-runtime","twoStepCreatorComposerReducer","useCometComposerLoggerDispatcher","useCometComposerPushPage","useCometRelayEntrypointContextualEnvironmentProvider","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useEffect;function m(a){var b=d("react-compiler-runtime").c(29),e=a.disabled,f=a.isABTest,g=a.isCreatorComposerOption,j=a.metaText,m=a.shouldBoostAfterPosting,n=a.showGuidedBoost;a=e===void 0?!1:e;var o=g===void 0?!1:g;c("useComposerViewStateReducer")(c("CometComposerFooterBoostCTXPostToggleReducer"));c("useComposerViewStateReducer")(d("twoStepCreatorComposerReducer").twoStepCreatorComposerReducer);var p=c("useComposerViewStateDispatcher")(),q=c("useCometRelayEntrypointContextualEnvironmentProvider")(),r=c("useCometComposerPushPage")();b[0]!==n?(e=function(){n===!0&&d("LWICometGenericEventsLoggerLite").log({entry_point:"post_composer",event:"ag_guided_boost_impression"})},g=[n],b[0]=n,b[1]=e,b[2]=g):(e=b[1],g=b[2]);l(e,g);b[3]!==p||b[4]!==q||b[5]!==r?(e=function(){d("LWICometGenericEventsLoggerLite").log({entry_point:"post_composer",event:"ag_guided_boost_click"});var a=d("CometRelay").loadEntryPoint(q,c("FBReelsRoot.entrypoint"),{extraProps:{isAggregationProfileViewer:!1,renderLocation:"unspecified"},passthroughProps:{isGuidedBoostInComposer:!0},routeParams:{hide_next:!0,page_id:null,video_id:"976005967457092"},routeProps:{}});r(h._(/*BTDS*/"__JHASH__0Bh_fLP4c7m__JHASH__"),function(b){var c=b.onReturn;return k.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:a,props:{onPressTryBoost:function(){c(),p({type:"BOOST_AFTER_POSTING_TOGGLE_ON"})}}})})},b[3]=p,b[4]=q,b[5]=r,b[6]=e):e=b[6];g=e;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx("br",{}),b[7]=e):e=b[7];var s;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(s=h._(/*BTDS*/"__JHASH__KudHFhwazl5__JHASH__"),b[8]=s):s=b[8];b[9]!==g?(e=k.jsxs(k.Fragment,{children:[e,k.jsx(c("FDSText.react"),{color:"blueLink",type:"bodyLink4",children:k.jsx(c("CometPressable.react"),{onPress:g,children:s})})]}),b[9]=g,b[10]=e):e=b[10];s=e;var t=c("useCometComposerLoggerDispatcher")();b[11]!==p||b[12]!==o||b[13]!==m?(g=function(){c("QPLUserFlow").addPoint(c("qpl")._(316544852,"610"),"composer_toggle_boost_post_on"),m===!0?(p({type:"BOOST_AFTER_POSTING_TOGGLE_OFF"}),o&&p({creatorComposerOptionType:d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST,type:"REMOVE_CREATOR_COMPOSER_OPTION"})):(p({type:"BOOST_AFTER_POSTING_TOGGLE_ON"}),o&&p({creatorComposerOptionType:d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST,type:"ACTIVATE_CREATOR_COMPOSER_OPTION"}))},b[11]=p,b[12]=o,b[13]=m,b[14]=g):g=b[14];var u=g;b[15]!==s||b[16]!==j||b[17]!==n?(e=j==null?k.jsxs(c("FDSText.react"),{type:"meta3",children:[h._(/*BTDS*/"__JHASH__sZuMm161RsO__JHASH__"),n&&s]}):k.jsxs(c("FDSText.react"),{type:"meta3",children:[j,n&&s]}),b[15]=s,b[16]=j,b[17]=n,b[18]=e):e=b[18];g=e;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(s=d("fbicon")._(i("534262"),20),b[19]=s):s=b[19];j=s;b[20]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__0GshFCsf289__JHASH__"),b[20]=e):e=b[20];s=e;b[21]!==g||b[22]!==a||b[23]!==f||b[24]!==o||b[25]!==t||b[26]!==u||b[27]!==m?(e=o?k.jsx(c("CometCreatorComposerOptionButton.react"),{buttonProps:{optionComponentEndType:"TOGGLE",optionDescription:g,optionIcon:j,optionLabel:s,optionType:d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST},disabledState:{disabledConfig:{shouldShowTooltip:f===!0,tooltipMessage:f===!0?d("cometABTestingContent").AB_TESTING_DISABLED_IF_AB_TEST:null},isDisabled:a||f===!0},onClick:function(){t({fields:{activate_boost_toggle:m!==!0},type:"CREATOR_COMPOSER_BOOST_COMPONENT_TAP"}),u()}}):k.jsx(c("CometListCellStrict_DEPRECATED.react"),{addOnEnd:{onChange:u,type:"switch",value:m},addOnEndTestId:"BoostToggle",addOnEndVerticalAlign:"center",addOnStart:{icon:j,size:36,type:"contained-icon"},addOnStartVerticalAlign:"center",disabled:a||f,headline:s,level:3,meta:g}),b[21]=g,b[22]=a,b[23]=f,b[24]=o,b[25]=t,b[26]=u,b[27]=m,b[28]=e):e=b[28];return e}function a(a){var b=d("react-compiler-runtime").c(9),e=a.disabled,f=a.isABTest,g=a.isCreatorComposerOption,h=a.metaText,i=a.shouldBoostAfterPosting;a=a.showGuidedBoost;e=e===void 0?!1:e;g=g===void 0?!1:g;var j;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==i||b[5]!==a?(j=k.jsx(m,{disabled:e,isABTest:f,isCreatorComposerOption:g,metaText:h,shouldBoostAfterPosting:i,showGuidedBoost:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=i,b[5]=a,b[6]=j):j=b[6];e=j;if(f===!0&&!g){b[7]!==e?(h=k.jsx(c("FDSTooltip.react"),{align:"end",position:"above",tooltip:d("cometABTestingContent").AB_TESTING_DISABLED_IF_AB_TEST,children:e}),b[7]=e,b[8]=h):h=b[8];return h}return e}b=c("withComposerViewStatePart")(a,function(a){return{shouldBoostAfterPosting:(a==null?void 0:(a=a.boostCTXPostToggleData)==null?void 0:a.isBoostAfterPostingToggleOn)===!0}});g["default"]=b}),226);
__d("PagesCometComposerFooterBoostWhatsAppPostToggle.react",["fbt","ix","AddOnStartOverride.react","CometComposerFooterBoostCTXPostToggleReducer","CometCreatorComposerOptionButton.react","CometCreatorComposerOptionTypes","CometImage.react","FDSListCellPressable.react","FDSSwitch.react","FDSTextPairing.react","FDSTooltip.react","QPLUserFlow","cometABTestingContent","fbicon","qpl","react","react-compiler-runtime","twoStepCreatorComposerReducer","useCometComposerLoggerDispatcher","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useEffect;function m(a){var b=d("react-compiler-runtime").c(16),e=a.disabled,f=a.isABTest,g=a.isCreatorComposerOption,j=a.shouldBoostAfterPosting;a=e===void 0?!1:e;c("useComposerViewStateReducer")(c("CometComposerFooterBoostCTXPostToggleReducer"));c("useComposerViewStateReducer")(d("twoStepCreatorComposerReducer").twoStepCreatorComposerReducer);var m=c("useComposerViewStateDispatcher")();b[0]!==j?(e=[j],b[0]=j,b[1]=e):e=b[1];l(n,e);var o=c("useCometComposerLoggerDispatcher")();b[2]!==m||b[3]!==g||b[4]!==j?(e=function(){j===!0?(m({type:"WHATSAPP_BOOST_POST_TOGGLE_OFF"}),m({type:"BOOST_AFTER_POSTING_TOGGLE_OFF"}),g&&m({creatorComposerOptionType:d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST,type:"REMOVE_CREATOR_COMPOSER_OPTION"})):(m({type:"WHATSAPP_BOOST_POST_TOGGLE_ON"}),m({type:"BOOST_AFTER_POSTING_TOGGLE_ON"}),g&&m({creatorComposerOptionType:d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST,type:"ACTIVATE_CREATOR_COMPOSER_OPTION"}))},b[2]=m,b[3]=g,b[4]=j,b[5]=e):e=b[5];var p=e;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__ceribSGhigg__JHASH__",[h._implicitParam("=m1",k.jsx("strong",{children:h._(/*BTDS*/"__JHASH__YzSveT89F4R__JHASH__")}))]),b[6]=e):e=b[6];e=e;var q;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(q=d("fbicon")._(i("726969"),20),b[7]=q):q=b[7];q=q;var r;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._(/*BTDS*/"__JHASH__USmCGLXLWWs__JHASH__"),b[8]=r):r=b[8];r=r;b[9]!==a||b[10]!==f||b[11]!==g||b[12]!==o||b[13]!==p||b[14]!==j?(q=g?k.jsx(c("CometCreatorComposerOptionButton.react"),{buttonProps:{optionComponentEndType:"TOGGLE",optionDescription:e,optionIcon:q,optionLabel:r,optionType:d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST},disabledState:{disabledConfig:{shouldShowTooltip:f===!0,tooltipMessage:f===!0?d("cometABTestingContent").AB_TESTING_DISABLED_IF_AB_TEST:null},isDisabled:a||f===!0},onClick:function(){o({fields:{activate_boost_toggle:j!==!0},type:"CREATOR_COMPOSER_BOOST_COMPONENT_TAP"}),p()}}):k.jsx("div",babelHelpers["extends"]({className:"x8cjs6t x1ch86jh x80vd3b xckqwgs x1lq5wgf xgqcy7u x30kzoy x9jhf4c x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv xev17xk x9f619 xktsk01 x1d52u69"},{children:k.jsx(c("FDSListCellPressable.react"),{addOnEnd:k.jsx(c("FDSSwitch.react"),{"aria-label":h._(/*BTDS*/"__JHASH__qx7hgJiZomG__JHASH__"),disabled:a,tabIndex:-1,value:j}),addOnEndVerticalAlign:"top",addOnStart:k.jsx(c("AddOnStartOverride.react"),{xstyle:{},children:k.jsx(c("CometImage.react"),{src:i("862359")})}),addOnStartVerticalAlign:"top",content:k.jsx(c("FDSTextPairing.react"),{body:e,headline:r,level:3,reduceEmphasis:!0}),contentPaddingHorizontal:16,disabled:a||f,level:3,onPress:p,paddingVertical:16})})),b[9]=a,b[10]=f,b[11]=g,b[12]=o,b[13]=p,b[14]=j,b[15]=q):q=b[15];return q}function n(){c("QPLUserFlow").addPoint(c("qpl")._(316544852,"610"),"composer_toggle_boost_post_on")}function a(a){var b=d("react-compiler-runtime").c(7),e=a.disabled,f=a.isABTest,g=a.isCreatorComposerOption;a=a.shouldBoostAfterPosting;e=e===void 0?!1:e;g=g===void 0?!1:g;var h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=k.jsx(m,{disabled:e,isABTest:f,isCreatorComposerOption:g,shouldBoostAfterPosting:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];e=h;if(f===!0&&!g){b[5]!==e?(a=k.jsx(c("FDSTooltip.react"),{align:"end",position:"above",tooltip:d("cometABTestingContent").AB_TESTING_DISABLED_IF_AB_TEST,children:e}),b[5]=e,b[6]=a):a=b[6];return a}return e}b=c("withComposerViewStatePart")(a,function(a){return{shouldBoostAfterPosting:(a==null?void 0:(a=a.boostCTXPostToggleData)==null?void 0:a.isBoostAfterPostingToggleOn)===!0}});g["default"]=b}),226);
__d("ProfileCometComposerFooterBoostPostToggle_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometComposerFooterBoostPostToggle_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_enable_whatsapp_boost_post_component",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_delegate_page_with_linked_primary_profile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_enable_messenger_boost_post_toggle_component",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_guided_boost",storageKey:null}],type:"Page",abstractKey:null};e.exports=a}),null);
__d("ProfileCometComposerFooterBoostPostToggle.react",["fbt","CometComposerFooterAttachmentPluginTypes","CometComposerFooterBoostCTXPostToggleReducer","CometCreatorComposerOptionTypes","PagesCometComposerFooterBoostMessengerPostToggle.react","PagesCometComposerFooterBoostPostToggle.react","PagesCometComposerFooterBoostWhatsAppPostToggle.react","ProfileCometComposerFooterBoostPostToggle_page.graphql","RelayHooks","gkx","react","react-compiler-runtime","twoStepCreatorComposerReducer","useComposerFeatureIneligibility","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useEffect,m=h._(/*BTDS*/"__JHASH__1SABNpxPdgG__JHASH__"),n=h._(/*BTDS*/"__JHASH__9JyxxzBBEZl__JHASH__"),o=h._(/*BTDS*/"__JHASH__PPKEgY7P5Fd__JHASH__"),p=h._(/*BTDS*/"__JHASH__7BAJ8hitt1j__JHASH__"),q=i!==void 0?i:i=b("ProfileCometComposerFooterBoostPostToggle_page.graphql");function a(a){var b=d("react-compiler-runtime").c(47),e=d("RelayHooks").useFragment(q,a.page$key);c("useComposerViewStateReducer")(c("CometComposerFooterBoostCTXPostToggleReducer"));c("useComposerViewStateReducer")(d("twoStepCreatorComposerReducer").twoStepCreatorComposerReducer);var f=c("useComposerViewStateDispatcher")(),g=(e==null?void 0:e.is_delegate_page_with_linked_primary_profile)===!0,h=a.isEditMode===!0,i=a.isCreatorComposerOption===!0,j=c("useComposerFeatureIneligibility")(),m;b[0]!==j?(m=j.has(d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST),b[0]=j,b[1]=m):m=b[1];var n=m,o=a.shouldBoostAfterPosting===!0,p=((j=a.privacyData)==null?void 0:j.base_state)!=="EVERYONE"&&g;b[2]!==f||b[3]!==i||b[4]!==n||b[5]!==p||b[6]!==o?(m=function(){(n||p)&&o===!0&&(f({type:"BOOST_AFTER_POSTING_TOGGLE_OFF"}),i&&f({creatorComposerOptionType:d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST,type:"REMOVE_CREATOR_COMPOSER_OPTION"}))},j=[f,n,p,o,i],b[2]=f,b[3]=i,b[4]=n,b[5]=p,b[6]=o,b[7]=m,b[8]=j):(m=b[7],j=b[8]);l(m,j);if(n||p){if(n&&a.isCreatorComposerOption!==!0)return null;b[9]!==i?(m=!i&&"xjkvuk6 x1y1aw1k",b[9]=i,b[10]=m):m=b[10];b[11]!==h||b[12]!==g?(j=r(h,g),b[11]=h,b[12]=g,b[13]=j):j=b[13];var s=(e==null?void 0:e.show_guided_boost)===!0,t;b[14]!==i||b[15]!==j||b[16]!==s?(t=k.jsx(c("PagesCometComposerFooterBoostPostToggle.react"),{disabled:!0,isCreatorComposerOption:i,metaText:j,showGuidedBoost:s}),b[14]=i,b[15]=j,b[16]=s,b[17]=t):t=b[17];b[18]!==m||b[19]!==t?(j=k.jsx("div",{className:m,children:t}),b[18]=m,b[19]=t,b[20]=j):j=b[20];return j}m=a.isGetWhatsAppMessagePost===!0&&((s=a.footerAttachmentArea)==null?void 0:s.activeFooterAttachmentType)===d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_WHATSAPP_MESSAGES;j=a.isGetMessagesPost===!0&&((t=a.footerAttachmentArea)==null?void 0:t.activeFooterAttachmentType)===d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_MESSAGES;j&&c("gkx")("23797");if(m&&(e==null?void 0:e.should_enable_whatsapp_boost_post_component)===!0){b[21]!==i?(s=!i&&"xjkvuk6 x1y1aw1k",b[21]=i,b[22]=s):s=b[22];b[23]!==i?(a=k.jsx(c("PagesCometComposerFooterBoostWhatsAppPostToggle.react"),{isCreatorComposerOption:i}),b[23]=i,b[24]=a):a=b[24];b[25]!==s||b[26]!==a?(t=k.jsx("div",{className:s,children:a}),b[25]=s,b[26]=a,b[27]=t):t=b[27];return t}else if(j&&(e==null?void 0:e.should_enable_messenger_boost_post_toggle_component)===!0){b[28]!==i?(m=!i&&"xjkvuk6 x1y1aw1k",b[28]=i,b[29]=m):m=b[29];b[30]!==i?(s=k.jsx(c("PagesCometComposerFooterBoostMessengerPostToggle.react"),{isCreatorComposerOption:i}),b[30]=i,b[31]=s):s=b[31];b[32]!==m||b[33]!==s?(a=k.jsx("div",{className:m,children:s}),b[32]=m,b[33]=s,b[34]=a):a=b[34];return a}b[35]!==i?(t=!i&&"xjkvuk6 x1y1aw1k",b[35]=i,b[36]=t):t=b[36];b[37]!==h||b[38]!==g?(j=r(h,g),b[37]=h,b[38]=g,b[39]=j):j=b[39];m=(e==null?void 0:e.show_guided_boost)===!0;b[40]!==i||b[41]!==j||b[42]!==m?(s=k.jsx(c("PagesCometComposerFooterBoostPostToggle.react"),{isCreatorComposerOption:i,metaText:j,showGuidedBoost:m}),b[40]=i,b[41]=j,b[42]=m,b[43]=s):s=b[43];b[44]!==t||b[45]!==s?(a=k.jsx("div",{className:t,children:s}),b[44]=t,b[45]=s,b[46]=a):a=b[46];return a}var r=function(a,b){a===void 0&&(a=!1);b===void 0&&(b=!1);if(b)if(a)return p;else return o;else if(a)return n;else return m};e=c("withComposerViewStatePart")(a,function(a){var b;return{activeAttachmentType:(b=a.attachmentArea)==null?void 0:b.activeAttachmentType,amaMetadata:a.amaMetadata,footerAttachmentArea:a.footerAttachmentArea,isGetMessagesPost:a.isGetMessagesPost,isGetWhatsAppMessagePost:a.isGetWhatsAppMessagePost,mediaAttachments:a.mediaAttachments,privacyData:(b=a.audience)==null?void 0:b.privacy,shouldBoostAfterPosting:(a==null?void 0:(b=a.boostCTXPostToggleData)==null?void 0:b.isBoostAfterPostingToggleOn)===!0,taggerData:a.taggerData}});g["default"]=e}),226);
__d("ProfileCometComposerShareToChannelSelectorRenderer_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometComposerShareToChannelSelectorRenderer_profile",selections:[{alias:null,args:null,concreteType:"XFBSharePostToChannelsSettings",kind:"LinkedField",name:"share_post_to_channels_settings",plural:!1,selections:[{args:null,documentName:"ProfileCometComposerShareToChannelSelectorRenderer_profile",fragmentName:"ProfileCometComposerShareToChannelSelector_settings",fragmentPropName:"settings",kind:"ModuleImport"}],storageKey:null}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometComposerShareToChannelSelectorRenderer.react",["CometPlaceholder.react","CometRelay","ProfileCometComposerShareToChannelSelectorRenderer_profile.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(2);a=a.profile$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("ProfileCometComposerShareToChannelSelectorRenderer_profile.graphql"),a);var f;e[0]!==a.share_post_to_channels_settings?(f=a.share_post_to_channels_settings!=null?j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("CometRelay").MatchContainer,{match:a.share_post_to_channels_settings,props:{settings:a.share_post_to_channels_settings}})}):void 0,e[0]=a.share_post_to_channels_settings,e[1]=f):f=e[1];return f}g["default"]=a}),98);
__d("XFBCometComposerReelsLinkingUpsellType.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["MODAL","NONE","TOAST"]);c=a;f["default"]=c}),66);
__d("applyDefaultInitialStateToCreatorComposerOptions",["CometCreatorComposerGatings","CometCreatorComposerOptionTypes","twoStepCreatorComposerReducer"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e;e=(e=a)!=null?e:new Set();d("CometCreatorComposerGatings").shouldShowCreatorComposer()&&(e=d("twoStepCreatorComposerReducer").getUpdatedActiveOptionSet(b?"ADD":"REMOVE",d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST,a),d("CometCreatorComposerGatings").shouldShowShareToChannelsOption()&&(e=d("twoStepCreatorComposerReducer").getUpdatedActiveOptionSet((c==null?void 0:c.shouldShareToChannels)?"ADD":"REMOVE",d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.SHARE_TO_CHANNELS,e)));return e}g["default"]=a}),98);
__d("cometComposerCreatorComposerBoostOptionEligibilityChecker",["CometComposerAttachmentPluginTypes","CometComposerTaggerPluginTypes","CometCreatorComposerOptionTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=[c("CometComposerAttachmentPluginTypes").SHARE,c("CometComposerAttachmentPluginTypes").LOCATION];function a(a){var b;if(((b=a.attachmentArea)==null?void 0:b.activeAttachmentType)!=null&&h.includes(a.attachmentArea.activeAttachmentType))return new Set([d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST]);if((b=a.taggerData)==null?void 0:b.activeTaggerList.has(c("CometComposerTaggerPluginTypes").TAG))return new Set([d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST]);if(a.amaMetadata!=null)return new Set([d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST]);if(((b=a.attachmentArea)==null?void 0:b.activeAttachmentType)===c("CometComposerAttachmentPluginTypes").MEDIA){var e;b=((b=a.mediaAttachments)==null?void 0:b.find(function(a){return a.fileType==="PHOTO"}))!=null;e=((e=a.mediaAttachments)==null?void 0:e.find(function(a){return a.fileType==="VIDEO"}))!=null;if(b&&e)return new Set([d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST])}if((b=a.twoStepCreatorComposerData)==null?void 0:(e=b.activeOptionSet)==null?void 0:e.has(d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.SCHEDULE))return new Set([d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST]);return((b=a.boostCTXPostToggleData)==null?void 0:b.isBoostAfterPostingToggleOn)===!0?new Set([c("CometComposerAttachmentPluginTypes").SHARE,c("CometComposerAttachmentPluginTypes").LOCATION,c("CometComposerTaggerPluginTypes").TAG]):new Set()}g.cometComposerCreatorComposerBoostOptionEligibilityChecker=a}),98);
__d("cometComposerCreatorComposerScheduleOptionEligibilityChecker",["CometComposerAttachmentPluginTypes","CometComposerFooterAttachmentPluginTypes","CometComposerTaggerPluginTypes","CometCreatorComposerOptionTypes","CreatorComposerOptionDefaultEligibilityCheckers"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set([(b=c("CometComposerAttachmentPluginTypes")).MEDIA,b.LINK,b.POLL,b.LOCATION,b.FORMATTED_TEXT,b.GET_MESSAGES,b.GET_WHATSAPP_MESSAGES,b.ANIMATED_IMAGE]),i=new Set([c("CometComposerTaggerPluginTypes").TAG,c("CometComposerTaggerPluginTypes").LOCATION]),j=new Set([d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.NONPROFIT,d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_WHATSAPP_MESSAGES,d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_MESSAGES]),k=new Set([d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.PRIVACY,d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.SCHEDULE]);function a(a){var b={eligibleAttachments:h,eligibleFooterAttachments:j,eligibleOptions:k,eligibleTaggers:i};return(a==null?void 0:a.scheduledPostDate)!=null?d("CreatorComposerOptionDefaultEligibilityCheckers").creatorComposerOptionBackwardEligibilityChecker(b):d("CreatorComposerOptionDefaultEligibilityCheckers").creatorComposerOptionForwardEligibilityChecker(a,b,d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.SCHEDULE)}g.cometComposerCreatorComposerScheduleOptionEligibilityChecker=a}),98);
__d("cometComposerGetMessagesFooterAttachmentEligibilityChecker",["CometComposerFooterAttachmentPluginTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.taggedProductIDs!=null?new Set([d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_MESSAGES]):new Set([])}g["default"]=a}),98);
__d("cometComposerMajorLifeEventsEligibilityChecker",["ProfileCometLifeEventsComposerTaggingUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b;b=(b=a.attachmentArea)==null?void 0:b.activeAttachmentType;var c=new Set();if(b==="MAJOR_LIFE_EVENT"){b=(b=a.majorLifeEvent)==null?void 0:b.selectedCategoryID;a=(a=a.majorLifeEvent)==null?void 0:a.selectedSubcategoryID;(b==="WORK"||b==="EDUCATION"||d("ProfileCometLifeEventsComposerTaggingUtils").shouldShowPartnerField(b,a,!0))&&c.add("TAG");d("ProfileCometLifeEventsComposerTaggingUtils").shouldShowMetadataLocationField(b,a)&&c.add("LOCATION")}return c}g["default"]=a}),98);
__d("cometComposerValidateMediaLimit",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";var i=80;function a(a){var b=a.mediaAttachments;if(b==null)return null;a=(a=a==null?void 0:a.mediaAttachmentsLimit)!=null?a:i;return b.length>a?h._(/*BTDS*/"__JHASH__QSFgKBr0Wt7__JHASH__",[h._param("maxselect",a)]):null}g["default"]=a}),226);
__d("cometComposerValidateStatusTextLength",["CometComposerStylingConstants","getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE","getTextLengthLimitReachedText"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.editorState;if(b==null)return null;a=(a=a==null?void 0:a.characterLimit)!=null?a:d("CometComposerStylingConstants").COMPOSER_CHARACTER_LIMIT;b=c("getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE")(b).length;return b>a?c("getTextLengthLimitReachedText")({limit:a,numCharacters:b}):null}g["default"]=a}),98);
__d("cometCreatorComposerShareToChannelsOptionEligibilityChecker",["CometComposerAttachmentPluginTypes","CometComposerFooterAttachmentPluginTypes","CometComposerTaggerPluginTypes","CometCreatorComposerOptionTypes","CreatorComposerOptionDefaultEligibilityCheckers"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set([(b=c("CometComposerAttachmentPluginTypes")).MEDIA,b.LINK,b.LOCATION,b.FORMATTED_TEXT,b.GET_MESSAGES,b.GET_WHATSAPP_MESSAGES,b.ANIMATED_IMAGE,b.MINUTIAE]),i=new Set([c("CometComposerTaggerPluginTypes").TAG,c("CometComposerTaggerPluginTypes").LOCATION,c("CometComposerTaggerPluginTypes").MINUTIAE]),j=new Set([d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_WHATSAPP_MESSAGES,d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_MESSAGES]),k=new Set([d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.BOOST,d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.PRIVACY,d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.SHARE_TO_CHANNELS]);function a(a){var b,c={eligibleAttachments:h,eligibleFooterAttachments:j,eligibleOptions:k,eligibleTaggers:i};return(a==null?void 0:(b=a.shareToChannelsData)==null?void 0:b.shouldShareToChannels)===!0?d("CreatorComposerOptionDefaultEligibilityCheckers").creatorComposerOptionBackwardEligibilityChecker(c):d("CreatorComposerOptionDefaultEligibilityCheckers").creatorComposerOptionForwardEligibilityChecker(a,c,d("CometCreatorComposerOptionTypes").CometCreatorComposerOptionTypes.SHARE_TO_CHANNELS)}g.cometCreatorComposerShareToChannelsOptionEligibilityChecker=a}),98);
__d("composerValidateGetMessagesMustContainMedia",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.mediaAttachments||[];return a.isGetMessagesPost===!0&&b.length===0?a.isGetMessagesPostAttachmentOptional===!0?null:h._(/*BTDS*/"__JHASH__GBEw2xvVSWf__JHASH__"):null}g["default"]=a}),226);
__d("composerValidateGetWhatsAppMessagesMustContainMedia",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.mediaAttachments||[];return a.isGetWhatsAppMessagePost===!0&&b.length===0?a.isGetWhatsappMessagesPostAttachmentOptional===!0?null:h._(/*BTDS*/"__JHASH__OSl6B-uAN62__JHASH__"):null}g["default"]=a}),226);
__d("composerValidateLifeEventPost",["fbt","getInvalidMLEField"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b;if(((b=a.attachmentArea)==null?void 0:b.activeAttachmentType)!=="LIFE_EVENT")return null;b=c("getInvalidMLEField")(a.majorLifeEvent,!0);return b==="media"?h._(/*BTDS*/"__JHASH__Oap1eBob0Br__JHASH__"):b!=null?h._(/*BTDS*/"__JHASH__pt2rO4x5fdq__JHASH__",[h._param("field",b)]):null}g["default"]=a}),226);
__d("getCreatorComposerOptionEligibilityCheckers",["CometCreatorComposerGatings","cometComposerCreatorComposerBoostOptionEligibilityChecker","cometComposerCreatorComposerScheduleOptionEligibilityChecker","cometCreatorComposerShareToChannelsOptionEligibilityChecker"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a={boostPost:d("cometComposerCreatorComposerBoostOptionEligibilityChecker").cometComposerCreatorComposerBoostOptionEligibilityChecker};a=d("CometCreatorComposerGatings").shouldShowScheduleOption()?babelHelpers["extends"]({},a,{schedulePost:d("cometComposerCreatorComposerScheduleOptionEligibilityChecker").cometComposerCreatorComposerScheduleOptionEligibilityChecker}):a;a=d("CometCreatorComposerGatings").shouldShowShareToChannelsOption()?babelHelpers["extends"]({},a,{shareToChannels:d("cometCreatorComposerShareToChannelsOptionEligibilityChecker").cometCreatorComposerShareToChannelsOptionEligibilityChecker}):a;return a}g["default"]=a}),98);
__d("getDeferredComposerMutationDataTransformer",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b,c,d,e){a.loadImmediately(function(a){a(b,c,d,e)})}}f["default"]=a}),66);
__d("getLinkableVideo",[],(function(a,b,c,d,e,f){"use strict";var g=90;function a(a){if(a==null||a.length!==1)return null;a=a[0];if(a.fileType!=="VIDEO")return null;var b=a.entID,c=a.file;a=a.videoAttachmentMetadata;if(b==null||c==null||a==null)return null;return a.originalVideoDurationSeconds==null||a.originalVideoDurationSeconds<=g?null:{file:c,linkedVideoID:b,shouldTrim:!0}}f["default"]=a}),66);
__d("getUnifiedInterceptionRequestData",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.creationSessionID,c=a.delegatePageID;a=a.hasWhatsAppDeeplink;a=a===void 0?!1:a;return{hasWhatsAppDeeplink:a,loggingEntryPoint:"PROFILE_PLUS_FEED",placement:"COMPOSER_POST_BUTTON",sessionID:b,targetID:c,targetType:"PROFILE_PLUS"}}f["default"]=a}),66);
__d("useAfterPostForProductTagging",["CometProductTaggingAfterPostDialogUtils","JSResourceForInteraction","react-compiler-runtime","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("CometProductTaggingAfterPostDialog.react").__setRef("useAfterPostForProductTagging");function a(a,b,e){var f=d("react-compiler-runtime").c(5),g=c("useCometLazyDialog")(h),j=g[0];f[0]!==e||f[1]!==b||f[2]!==a||f[3]!==j?(g=function(c,f){if(!d("CometProductTaggingAfterPostDialogUtils").shouldShowApuxDialog(c,f,b,a,e))return!1;window.requestAnimationFrame(function(){j({composerType:e,onClose:i,storyID:c,viewState:f})});return!0},f[0]=e,f[1]=b,f[2]=a,f[3]=j,f[4]=g):g=f[4];return g}function i(){}g["default"]=a}),98);
__d("useCometComposerFormattedTextEligibilityCheckerForLexical.react",["cometComposerFormattedTextEligibilityCheckerHelper","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(6),e=a.lexicalEditor,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=new Set(),b[0]=f):f=b[0];f=j(f);var g=f[0],h=f[1],l;b[1]!==g||b[2]!==e||b[3]!==a?(f=function(){if(e!=null)return e.registerTextContentListener(function(b){b=c("cometComposerFormattedTextEligibilityCheckerHelper")(a,b);var d=k(b,g);d||h(b)})},l=[g,e,a],b[1]=g,b[2]=e,b[3]=a,b[4]=f,b[5]=l):(f=b[4],l=b[5]);i(f,l);return g}function k(a,b){if(a.size!==b.size)return!1;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(!b.has(e))return!1}return!0}g["default"]=a}),98);
__d("useComposerAfterpartyPhotosToReelsUpsellDialog.react",["CometRelay","JSResourceForInteraction","react-compiler-runtime","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("CometComposerAfterpartyPhotosToReelsUpsellDialog.react").__setRef("useComposerAfterpartyPhotosToReelsUpsellDialog.react");function a(){var a=d("react-compiler-runtime").c(3),b=c("useCometLazyDialog")(h),e=b[0],f=d("CometRelay").useRelayEnvironment();a[0]!==f||a[1]!==e?(b=function(a,b,c){var d=b==null?void 0:(b=b.mediaAttachments)==null?void 0:b.filter(k).map(j);if(a==null||d==null)return!1;window.requestAnimationFrame(function(){e({environment:f,graphQLStoryID:a,pageID:c,photos:d},i)});return!0},a[0]=f,a[1]=e,a[2]=b):b=a[2];return b}function i(){}function j(a){return a.fileObjectURL}function k(a){return a.fileType==="PHOTO"}g["default"]=a}),98);
__d("useDefaultShareToChannelsData_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useDefaultShareToChannelsData_profile",selections:[{alias:null,args:null,concreteType:"XFBSharePostToChannelsSettings",kind:"LinkedField",name:"share_post_to_channels_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sharing_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_message_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sharing_limit_reached",storageKey:null},{alias:null,args:null,concreteType:"XFBMessengerSharePostToBCDefaultSetttings",kind:"LinkedField",name:"default_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sharing_enabled",storageKey:null},{alias:null,args:null,concreteType:"XFBMessengerGlobalGroupDiscoverablePublicBroadcastChatThread",kind:"LinkedField",name:"selected_threads",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"User",abstractKey:null};e.exports=a}),null);
__d("useDefaultShareToChannelsData",["RelayHooks","react-compiler-runtime","useDefaultShareToChannelsData_profile.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e=d("react-compiler-runtime").c(6);a=d("RelayHooks").useFragment(h!==void 0?h:h=b("useDefaultShareToChannelsData_profile.graphql"),a);var f=a.share_post_to_channels_settings;if(f==null)return c;if((c==null||c.sharingCount!==f.sharing_count)&&f.is_eligible===!0){if(e[0]!==a||e[1]!==f.default_message_text||e[2]!==f.default_settings||e[3]!==f.sharing_count||e[4]!==f.sharing_limit_reached){var g;g=a!=null&&f.default_settings!=null?{channelList:[].concat((g=f.default_settings)==null?void 0:(g=g.selected_threads)==null?void 0:g.map(i).filter(Boolean)),messageText:f.default_message_text||"",setAsDefault:(g=(g=f.default_settings)==null?void 0:g.sharing_enabled)!=null?g:!1,sharingCount:(g=f.sharing_count)!=null?g:0,shouldShareToChannels:(g=((g=f.default_settings)==null?void 0:g.sharing_enabled)===!0&&((g=(g=f.default_settings)==null?void 0:(g=g.selected_threads)==null?void 0:g.length)!=null?g:0)>0&&!f.sharing_limit_reached)!=null?g:!1}:{channelList:[],messageText:"",setAsDefault:!1,sharingCount:(g=f.sharing_count)!=null?g:0,shouldShareToChannels:!1};e[0]=a;e[1]=f.default_message_text;e[2]=f.default_settings;e[3]=f.sharing_count;e[4]=f.sharing_limit_reached;e[5]=g}else g=e[5];return g}return c}function i(a){return a!=null&&a.id!=null&&a.name!=null?{id:a.id,name:a.name}:null}g["default"]=a}),98);
__d("usePostPublishReelsLinkingUpsellDialog.react",["CometReelsLinkingUpsellDialogImpressionMutation","CometRelay","JSResourceForInteraction","createEmptyCometComposerViewState","getLinkableVideo","react-compiler-runtime","useCometLazyDialog","useCometVideoComposerLog","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("CometReelsLinkingUpsellDialog.react").__setRef("usePostPublishReelsLinkingUpsellDialog.react");function a(){var a=d("react-compiler-runtime").c(4),b=c("useCometLazyDialog")(h),e=b[0],f=d("CometRelay").useRelayEnvironment();b=c("useCometVideoComposerLog")();var g=b.logEvent;a[0]!==f||a[1]!==g||a[2]!==e?(b=function(a,b,h,j){var k=c("getLinkableVideo")((j=b==null?void 0:b.mediaAttachments)!=null?j:[]),l=c("uuidv4")(),m=c("createEmptyCometComposerViewState")(null,null,l);if(a==null||k==null||h!=="MODAL")return!1;g("vod_to_reel_linking_session_eligible",null,m);window.requestAnimationFrame(function(){e({creationSessionID:l,linkedVideo:k},i),d("CometReelsLinkingUpsellDialogImpressionMutation").commitCometReelsLinkingUpsellDialogImpressionMutation({environment:f,pageID:a}),g("vod_to_reel_linking_modal_impression",null,m)});return!0},a[0]=f,a[1]=g,a[2]=e,a[3]=b):b=a[3];return b}function i(){}g["default"]=a}),98);
__d("useReelsLinkingUpsellToast.react",["BaseToasterStateManager","CometVideoLinkingReelsComposerStrings","ReelsCreationCometDialog.entrypoint","cometPushToast","createEmptyCometComposerViewState","emptyFunction","getLinkableVideo","react-compiler-runtime","useCometEntryPointDialog","useCometVideoComposerLog","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useCometEntryPointDialog")(c("ReelsCreationCometDialog.entrypoint"),b);var e=b[0];b=c("useCometVideoComposerLog")();var f=b.logEvent;a[1]!==f||a[2]!==e?(b=function(a,b){var g=c("getLinkableVideo")((a=a==null?void 0:a.mediaAttachments)!=null?a:[]),h=c("uuidv4")(),i=c("createEmptyCometComposerViewState")(null,null,h);if(g==null||e==null||b!=="TOAST")return null;f("vod_to_reel_linking_session_eligible",null,i);return function(a){var b=function(){e({composerEntrypoint:"comet_vod_post_publish_reels_linking",creationSessionID:h,isDefaultSfvToReelsFlow:!1,newLinkedVideo:g,onCloseUnderlyingDialog:c("emptyFunction"),surface:"VOD_POST_PUBLISH_LINK"}),f("vod_to_reel_linking_toast_clicked",null,i)},j=c("BaseToasterStateManager").getInstance();d("cometPushToast").cometPushToast({action:{label:d("CometVideoLinkingReelsComposerStrings").COMPOSER_VIDEO_LINKING_TOAST_LINK_CTA,onPress:b},message:d("CometVideoLinkingReelsComposerStrings").COMPOSER_VIDEO_LINKING_TOAST_MESSAGE,testid:"FeedCometVideoOptimisticPostingWithReelsLinkingUpsellToast"},a,j);f("vod_to_reel_linking_toast_impression",null,i)}},a[1]=f,a[2]=e,a[3]=b):b=a[3];return b}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ACSCipherSuiteModule",[],(function(a,b,c,d,e,f){"use strict";b={hash:"SHA-512",name:"HMAC"};c={curveName:"RISTRETTO",macAlgorithm:b,value:1};var g=new Map([[c.value,c]]);function a(a){return g.has(a)?g.get(a):null}f.VOPRF_RISTRETTO_HMACSHA512=c;f.getACSCipherSuiteByValue=a}),66);
__d("ACSTokenHmacUtil",["XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h(a,b).then(function(a){return j(a,c)})}function h(a,b){return d("XPlatReactCrypto").subtleImportKey("raw",b,a,!1,["sign"]).then(function(b){return{algo:a,key:b}})}function i(a){return typeof a.hash==="string"?a.hash:a.hash.name}function j(a,b){var c=a.algo;a=a.key;c={hash:i(c),name:"HMAC"};return d("XPlatReactCrypto").subtleSign(c,a,b).then(function(a){return new Uint8Array(a)})}g.hmac=a}),98);
__d("LSDataTraceFlushDeferred",["MetaConfig","Promise","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("LSDataTraceFlush").__setRef("LSDataTraceFlushDeferred");function a(a){if(!c("MetaConfig")._("62"))return(h||(h=b("Promise"))).resolve(function(){});else return i.load().then(function(b){return b.flushExpiredDataTraces(a)})}g.watchForExpiredTraces=a}),98);
__d("LSTruncateTableAndSetShowError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(a){return b.forEach(b.db.table(115).fetch(),function(a){return a["delete"]()})},function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(115).add({statusId:b.i64.cast([0,0]),timestampMs:c[0],errorShouldBeShown:a[0]})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSConnectivityTruncateTableAndSetShowErrorStoredProcedure";a.__tables__=["user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSDeleteAllAndInsertConnectivityStatus",["LSTruncateTableAndSetShowError"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.forEach(c.db.table(114).fetch(),function(a){return a["delete"]()})},function(b){return d[0]=c.i64.of_float(Date.now()),c.db.table(114).add({statusId:void 0,timestampMs:d[0],internetConnectionState:a[0]})},function(d){return c.storedProcedure(b("LSTruncateTableAndSetShowError"),c.i64.neq(a[0],c.i64.cast([0,1])))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSConnectivityDeleteAllAndInsertConnectivityStatusStoredProcedure";a.__tables__=["connectivity_status"];e.exports=a}),null);
__d("LSDeleteAllAndInsertConnectivityStatusStoredProcedure",["LSDeleteAllAndInsertConnectivityStatus","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSDeleteAllAndInsertConnectivityStatus"),e.internetConnectionState);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCookie",["$InternalEnum","Cookie","CookieCore","CurrentEnvironment","CurrentMessengerUser","FBLogger","I64","LSE2EEMetadataSyncGroupUtils","LSIntEnum","MessengerLogHistory","MqttWebDeviceID","ReQL","SortedAsyncIterable","isPromise","isStringNullOrEmpty","pageID","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=b("$InternalEnum")({SYNCING:"1",NOT_SYNCING:"0"}),l=d("MessengerLogHistory").getInstance("client_init"),m=c("CurrentEnvironment").instagramdotcom?"igd_ls":"m_ls",n={c:{},d:c("MqttWebDeviceID").clientID,s:k.NOT_SYNCING,u:c("pageID")};function o(a){function b(a){d("CookieCore").setWithDomain_FOR_MESSENGER_LS_ONLY(m,JSON.stringify(a),window.location.hostname)}var e=c("Cookie").get(m);if(e==null){var f;b((f={},f[d("CurrentMessengerUser").getIDorEIMU()]=a,f));return}f=JSON.parse(e);if(f.u==null){b(babelHelpers["extends"]({},f,(e={},e[d("CurrentMessengerUser").getIDorEIMU()]=a,e)))}else{b((f={},f[d("CurrentMessengerUser").getIDorEIMU()]=a,f))}}function a(){c("Cookie").clear(m)}function p(a){if(typeof a!=="object")return null;if(a==null)return null;var b=a.c,c=a.d,d=a.s;a=a.u;d=typeof d==="string"?k.cast(d):null;b=typeof b==="object"&&b!=null?Object.entries(b).reduce(function(a,b){var c=b[0];b=b[1];if(a==null||typeof b!=="string")return null;a[c]=b;return a},{}):null;if(typeof c!=="string")return null;if(d==null)return null;if(b==null)return null;return typeof a!=="string"?null:{c:b,d:c,s:d,u:a}}function q(){var a=c("Cookie").get(m);if(c("isStringNullOrEmpty")(a))return n;a=JSON.parse(a);var b=d("CurrentMessengerUser").getIDorEIMU(),e=p(a);a=typeof a==="object"&&a!=null?p(a[b]):null;return(a=(b=a)!=null?b:e)!=null?a:n}function r(a){var b=q();if(b.u!==c("pageID"))return;var e={};a.forEach(function(a){a[0];a=a[1];var b=a.currentCursor;a=a.groupId;b!=null&&(e[(i||(i=d("I64"))).to_string(a)]=b)});l.debug("Updated sync cookie to set syncing=false, saving latest cursors");o(babelHelpers["extends"]({},b,{c:e,s:k.NOT_SYNCING}))}var s=[1,2,d("LSE2EEMetadataSyncGroupUtils").shouldAlwaysResetE2EEMetadata()?null:95];function e(a){var b=d("SortedAsyncIterable").toArray(d("ReQL").union.apply(void 0,s.map(function(b){return b==null?d("ReQL").empty():d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(b))})));if((h||(h=c("isPromise")))(b)){c("promiseDone")(b.then(function(a){r(a)}));return}r(b)}function f(){try{var a=q();l.debug("Updated sync cookie to set syncing=true");o(babelHelpers["extends"]({},a,{s:k.SYNCING,u:c("pageID")}))}catch(a){c("FBLogger")("ls_web_init").catching(a).warn("Failed to sync cookie")}}g.Status=k;g.DEFAULT_COOKIE=n;g.clear=a;g.get=q;g.syncBeforeUnload=e;g.setSyncing=f}),98);
__d("LSPlatformDeviceId",["ChannelClientID","FBLogger","LSCookie","MqttWebDeviceID","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){if(c("gkx")("21118"))return c("MqttWebDeviceID").clientID;else return c("ChannelClientID").getID()}b=h();function a(a){a==null&&c("FBLogger")("messenger_browser_clients").info("Missed provider type for deviceId");return a==="persisted"?d("LSCookie").get().d:h()}g.deviceId=b;g.getDeviceIdForProviderType=a}),98);
__d("LSSyncStoredProcedureUtils",["I64","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){c=c!=null?(h||(h=d("I64"))).of_float(Date.now()+c):b.minTimeToSyncTimestampMs;yield a.pending_tasks.put(babelHelpers["extends"]({},b,{failureCount:(h||(h=d("I64"))).add(b.failureCount,h.one),minTimeToSyncTimestampMs:c}))});return j.apply(this,arguments)}function a(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.pending_tasks.index("queueNameTaskId")).getKeyRange(b)));if(b==null)return;return i(a,b,c)});return k.apply(this,arguments)}function c(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield a.network_requests.get(b,c));if(b==null)return;yield a.network_requests.put(babelHelpers["extends"]({},b,{failureCount:(h||(h=d("I64"))).add(b==null?void 0:b.failureCount,h.one)}))});return l.apply(this,arguments)}function e(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield a.network_requests.get(b,c));if(b==null)return;yield a.network_requests.put(babelHelpers["extends"]({},b,{epochId:void 0,networkTaskIdentifier:void 0}))});return m.apply(this,arguments)}g.incrementPendingTaskFailureCount=i;g.incrementPendingTasksTaskFailureCount=a;g.incrementNetworkRequestsTaskFailureCount=c;g.closeEpoch=e}),98);
__d("LSHandleTaskSendFailureForQueue2",["I64","LSSyncStoredProcedureUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){yield d("LSSyncStoredProcedureUtils").incrementPendingTasksTaskFailureCount(a,b,c),yield d("LSSyncStoredProcedureUtils").incrementNetworkRequestsTaskFailureCount(a,b,(h||(h=d("I64"))).neg_one),yield d("LSSyncStoredProcedureUtils").closeEpoch(a,b,h.neg_one)});return i.apply(this,arguments)}g["default"]=a}),98);
__d("LSHandleTaskSendSuccessForQueue2",["I64","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield a.network_requests.get(b,(h||(h=d("I64"))).neg_one));if(c==null||c.epochId==null)return;yield a.network_requests["delete"](b,h.neg_one)});return i.apply(this,arguments)}g["default"]=a}),98);
__d("LSPlatformRequestId",[],(function(a,b,c,d,e,f){"use strict";var g=4;function a(){var a=g;g+=1;return a}b={generate:a};f["default"]=b}),66);
__d("LSPlatformRequestScheduler",["clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.requests=new Map()}var b=a.prototype;b.schedule=function(a,b,d){var e=this.requests.get(b);e!=null&&c("clearTimeout")(e);this.requests.set(b,c("setTimeout")(a,d))};b.cleanup=function(){this.requests.forEach(function(a){return c("clearTimeout")(a)})};return a}();g["default"]=a}),98);
__d("LSPlatformServerResponseHandler",["FBLogger","Promise","asyncToGeneratorRuntime","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){this.eval=a,this.currentlyRunning=(h||(h=b("Promise"))).resolve()}var d=a.prototype;d.evalWhenReady=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var d=[];try{var e=c("setTimeout")(function(){c("FBLogger")("messenger_web_product").mustfix("waited longer than 30 seconds to download dependencies")},3e4);d.push(e);yield a;c("clearTimeout")(e);a=c("setTimeout")(function(){c("FBLogger")("messenger_web_product").mustfix("waited longer than 30 seconds to eval sync script")},3e4);d.push(a);yield this.eval(b);c("clearTimeout")(a)}catch(a){d.forEach(function(a){return c("clearTimeout")(a)}),c("FBLogger")("messenger_web_product").catching(a).mustfix("syncscript execution failed "+(a==null?void 0:a.message))}});function d(b,c){return a.apply(this,arguments)}return d}();d.evalInOrderReceived=function(a,b){var c=this,d=this.currentlyRunning.then(function(){return c.evalWhenReady(a,babelHelpers["extends"]({},b,{priority:"sync_script"}))});this.currentlyRunning=d;return d};return a}();g["default"]=a}),98);
__d("LSBeginHandlingFireForgetTasksForQueue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return c[0]=b.createArray(),b.forEach(b.filter(b.db.table(5).fetch(),function(b){return b.queueName===a[0]}),function(a){a=a.item;return c[3]=new b.Map(),c[3].set("label",a.context),c[3].set("payload",a.taskValue),c[3].set("queue_name",a.queueName),c[3].set("task_id",a.taskId),c[3].set("failure_count",b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))?void 0:b.i64.cast([0,0])),c[4]=(c[0].push(c[3]),c[0])})},function(e){return c[1]=new b.Map(),c[1].set("tasks",c[0]),c[1].set("epoch_id",void 0),c[2]=new b.Map(),c[2].set("queue_name",a[0]),c[2].set("next_sync_ms",void 0),c[2].set("work_item_type",b.i64.cast([0,5])),c[2].set("network_payload",c[1]),c[2].set("http_url_override",void 0),c[2].set("skip_realtime_gateway",!1),d[0]=c[2]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreBeginHandlingFireForgetTasksForQueueStoredProcedure";a.__tables__=["pending_fire_and_forget_tasks"];e.exports=a}),null);
__d("LSBeginHandlingFireForgetTasksForQueueStoredProcedure",["LSBeginHandlingFireForgetTasksForQueue","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBeginHandlingFireForgetTasksForQueue"),e.queueName);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSForceTaskExecutionImmediately",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,c[1]=b.i64.of_float(Date.now()),b.i64.lt(c[1],e.minTimeToSyncTimestampMs)?b.forEach(b.db.table(2).fetch([[[a[0]]]]),function(a){var c=a.update;a=a.item;return c({minTimeToSyncTimestampMs:b.i64.cast([0,0]),failureCount:b.i64.add(a.failureCount,b.i64.cast([0,1]))})}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreForceTaskExecutionImmediatelyStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSRemoveUsedTokens",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(309).fetch(),function(a){return b.i64.le(a.redeemLimit,b.i64.cast([0,0]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSAnonymousCredentialsRemoveUsedTokensStoredProcedure";a.__tables__=["secure_acs_tokens"];e.exports=a}),null);
__d("LSGetCurrentTokenPoolState",["LSArrayGetObjectAt","LSRemoveBlindedTokens","LSRemoveUsedTokens"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),d[1]=c.createArray(),c.count(c.filter(c.db.table(307).fetch(),function(b){return b.projectName===a[0]})).then(function(a){return d[2]=a})},function(b){return c.forEach(c.filter(c.db.table(307).fetch(),function(b){return b.projectName===a[0]}),function(a){a=a.item;return d[7]=a.configId,c.i64.gt(d[0],a.expirationTimestampMs)?c.forEach(c.db.table(307).fetch([[[d[7]]]]),function(a){return a["delete"]()}):c.resolve(d[8]=(d[1].push(d[7]),d[1]))})},function(a){return c.storedProcedure(b("LSRemoveUsedTokens"))},function(a){return d[3]=c.i64.cast([0,0]),d[4]=c.i64.of_int32(d[1].length),c.i64.gt(d[4],c.i64.cast([0,0]))?c.loopAsync(d[4],function(a){return d[7]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[1],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(a){return c.count(c.filter(c.db.table(309).fetch(),function(a){return a.configId===d[8]})).then(function(a){return d[10]=a})},function(a){return d[3]=c.i64.add(d[10],d[3]),c.storedProcedure(b("LSRemoveBlindedTokens"),d[8])}])}):c.resolve()},function(a){return c.i64.gt(d[2],c.i64.cast([0,0]))?(d[7]=c.i64.of_int32(d[1].length),d[5]=c.i64.ge(d[7],c.i64.cast([0,1]))):d[5]=void 0,d[5]!==void 0?(d[5]?(c.i64.gt(d[3],c.i64.cast([0,0]))?d[8]=c.i64.cast([0,3]):d[8]=c.i64.cast([0,2]),d[7]=d[8]):d[7]=c.i64.cast([0,1]),d[6]=d[7]):d[6]=c.i64.cast([0,0]),a=[d[6],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAnonymousCredentialsGetCurrentTokenPoolStateStoredProcedure";a.__tables__=["secure_acs_configurations","secure_acs_tokens"];e.exports=a}),null);
__d("LSIssueNextSync",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.count(c.filter(c.db.table(310).fetch(),function(b){return b.projectName===a[1]})).then(function(a){return d[0]=a})},function(e){return c.i64.gt(d[0],c.i64.cast([0,0]))&&a[3]===!0?c.resolve(0):c.sequence([function(b){return c.forEach(c.filter(c.db.table(310).fetch(),function(b){return b.projectName===a[1]}),function(a){return a["delete"]()})},function(e){return c.i64.gt(a[2],c.i64.cast([0,0]))?(d[3]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[3],a[2])):d[1]=c.i64.cast([0,0]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["acs_sync","_",a[1]].join(""),c.i64.cast([0,362]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[1],c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(310).add({taskId:d[2],projectName:a[1],maxClientTokenPoolSize:a[0]})}])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAnonymousCredentialsIssueNextSyncStoredProcedure";a.__tables__=["acs_request_context"];e.exports=a}),null);
__d("LSVoprfBlind.nop",["LSVoprfLoggingUtils","XPlatReactVoprf","asyncToGeneratorRuntime","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(25304788,"29");a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=d("LSVoprfLoggingUtils").getAcsQplEventLogger(h);a.start();b=(yield d("XPlatReactVoprf").loadXPlatReactVoprf());var e=b.instanceCreationTimestampNs;b=b.voprfInstance;var f=b.voprfInfo,g=b.voprfWasm;a.addVoprfLoadedPoint(e);try{e=g.blind(f,new Uint8Array(c));a.endSuccess({wasmMemorySize:(f=g.wasmMemory)==null?void 0:f.buffer.byteLength});return[e.blindedElement.buffer,e.blindingFactor.buffer]}catch(b){a.endFailure({error:b,wasmMemorySize:(c=g.wasmMemory)==null?void 0:c.buffer.byteLength});throw b}finally{d("XPlatReactVoprf").freeVoprfInstance(b)}});function c(b,c,d){return a.apply(this,arguments)}return c}();g["default"]=a}),98);
__d("LSVoprfCreateNonce.nop",["LSSynchronousPromise","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h=32;a=function(a,b){a=h;b=new Uint8Array(a);d("XPlatReactCrypto").getRandomValues(b);return d("LSSynchronousPromise").maybeMakeSynchronousPromise([b.buffer])};g["default"]=a}),98);
__d("LSTaskSerializerAcsIssueNextSync",["LSBase64Encode.nop","LSGetCurrentTokenPoolState","LSIssueNextSync","LSVoprfBlind.nop","LSVoprfCreateNonce.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.db.table(310).fetch([[[a[0]]]]).next().then(function(a,e){var f=a.done;a=a.value;return f?(function(a){c.logger(a).mustfix(a)}("Request context for the passed task_id was not found"),f=[void 0,void 0,void 0],d[0]=f[0],d[1]=f[1],d[2]=f[2],f):(e=a.item,c.sequence([function(a){return d[9]=e.projectName,d[10]=e.maxClientTokenPoolSize,c.storedProcedure(b("LSGetCurrentTokenPoolState"),d[9]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(a){return c.i64.eq(d[4],c.i64.cast([0,0]))||c.i64.eq(d[4],c.i64.cast([0,1]))?c.resolve((d[11]=new c.Map(),d[11].set("project_name",d[9]),d[12]=c.toJSON(d[11]),a=[d[12],c.i64.cast([0,351]),void 0],d[6]=a[0],d[7]=a[1],d[8]=a[2],a)):c.sequence([function(a){return d[11]=c.i64.of_float(Date.now()),c.islc(c.sortBy(c.filter(c.db.table(307).fetch(),function(a){return a.projectName===d[9]&&c.i64.gt(a.expirationTimestampMs,d[11])}),[["expirationTimestampMs","DESC"]]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var a=e.done;e=e.value;return a?(function(a){c.logger(a).mustfix(a)}("A config for the passed project name was not found"),d[16]=new c.Map(),d[16].set("project_name",d[9]),d[16].set("max_client_token_pool_size",d[10]),d[17]=c.toJSON(d[16]),a=[d[17],c.i64.cast([0,362]),void 0],d[12]=a[0],d[13]=a[1],d[14]=a[2],a):(f=e.item,c.sequence([function(a){return d[24]=f.configId,d[16]=f.maxEvals,d[26]=f.tokenPollFrequencyMs,d[25]=f.maxClientTokenPoolSize,d[17]=c.i64.sub(d[10],d[5]),d[23]=c.i64.lt(d[16],d[17])?d[16]:d[17],d[18]=c.createArray(),c.i64.gt(d[23],c.i64.cast([0,0]))?c.loopAsync(d[23],function(a){return d[27]=a,c.sequence([function(a){return c.nativeOperation(b("LSVoprfCreateNonce.nop")).then(function(a){return a=a,d[28]=a[0],a})},function(a){return c.blobs.neq(d[28],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSVoprfBlind.nop"),d[28]).then(function(a){return a=a,d[29]=a[0],d[30]=a[1],a})},function(a){return c.blobs.neq(d[29],void 0)?c.blobs.neq(d[30],void 0)?c.sequence([function(a){return d[31]=c.i64.cast([-1,4294967295]),c.db.table(308).peekNextAutoIncrementId().then(function(a){return d[31]=a})},function(a){return c.db.table(308).add({tokenId:void 0,blindedNonce:d[29],blindingFactor:d[30],nonce:d[28],configId:d[24]})},function(a){return c.db.table(308).fetch([[[d[31]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[32]=c.i64.cast([-1,4294967295]):(e=b.item,d[32]=e.tokenId)})},function(a){return c.i64.eq(d[32],c.i64.cast([-1,4294967295]))?c.sequence([function(a){return c.islc(c.db.table(308).fetchDesc([[[{gt:c.i64.cast([0,0])}]]]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,e){var a=b.done;b=b.value;return a?d[37]=c.i64.cast([-1,4294967295]):(e=b.item,d[37]=e.tokenId)})},function(a){return d[34]=d[37]}]):c.resolve(d[34]=d[32])},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[29]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[36]=new c.Map(),d[36].set("id",d[34]),d[36].set("data",d[35]==null?"":d[35]),d[37]=(d[18].push(d[36]),d[18])}]):c.resolve():c.resolve()}]):c.resolve()}])}):c.resolve()},function(a){return d[19]=c.i64.of_int32(d[18].length),c.i64.gt(d[19],c.i64.cast([0,0]))?c.resolve((d[27]=new c.Map(),d[27].set("project_name",d[9]),d[27].set("config_id",d[24]),d[27].set("blinded_nonces",d[18]),d[28]=c.toJSON(d[27]),a=[d[28],c.i64.cast([0,354]),void 0],d[20]=a[0],d[21]=a[1],d[22]=a[2],a)):c.sequence([function(a){return c.i64.neq(d[26],void 0)?c.sequence([function(a){return c.i64.neq(d[25],void 0)?c.sequence([function(a){return function(a){c.logger(a).info(a)}(["Already have the max number of tokens. Scheduling next ACS token sync locally for project: ",d[9]].join("")),c.storedProcedure(b("LSIssueNextSync"),d[25],d[9],d[26],!1)},function(a){return a=[void 0,void 0,void 0],d[30]=a[0],d[31]=a[1],d[32]=a[2],a}]):c.resolve((function(a){c.logger(a).info(a)}(["token_poll_frequency is nonnull but max_client_token_pool_size is null. Already have the max number of tokens. Scheduling the next ACS token sync for project: ",d[9]].join("")),d[33]=new c.Map(),d[33].set("project_name",d[9]),d[33].set("max_client_token_pool_size",d[10]),d[34]=c.toJSON(d[33]),a=[d[34],c.i64.cast([0,362]),void 0],d[30]=a[0],d[31]=a[1],d[32]=a[2],a))},function(a){return a=[d[30],d[31],d[32]],d[27]=a[0],d[28]=a[1],d[29]=a[2],a}]):c.resolve((function(a){c.logger(a).info(a)}(["Already have the max number of tokens. Scheduling the next ACS token sync for project: ",d[9]].join("")),d[30]=new c.Map(),d[30].set("project_name",d[9]),d[30].set("max_client_token_pool_size",d[10]),d[31]=c.toJSON(d[30]),a=[d[31],c.i64.cast([0,362]),void 0],d[27]=a[0],d[28]=a[1],d[29]=a[2],a))},function(a){return a=[d[27],d[28],d[29]],d[20]=a[0],d[21]=a[1],d[22]=a[2],a}])},function(a){return a=[d[20],d[21],d[22]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]))})},function(a){return a=[d[12],d[13],d[14]],d[6]=a[0],d[7]=a[1],d[8]=a[2],a}])},function(a){return a=[d[6],d[7],d[8]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}]))})},function(a){return a=[d[0],d[1],d[2]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAnonymousCredentialsTaskSerializerAcsIssueNextSyncStoredProcedure";a.__tables__=["acs_request_context","secure_acs_configurations","secure_acs_blinded_tokens"];e.exports=a}),null);
__d("LSTaskSerializerDeleteChatHistory",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("taskSerializerDeleteChatHistory: Task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2],f):(e=d.item,b.sequence([function(a){return c[8]=e.threadKey,b.db.table(9).fetch([[[c[8]]]]).next().then(function(a,d){d=a.done;a=a.value;return d?(c[9]=b.createArray(),c[10]=(c[9].push("taskSerializerDeleteChatHistory: Thread not found"),c[9]),c[11]=(c[9].push(c[8]),c[9]),c[12]=b.toJSON(c[9]),function(a){b.logger(a).mustfix(a)}(c[12]),d=[void 0,void 0,void 0],c[4]=d[0],c[5]=d[1],c[6]=d[2],d):(a.item,b.sequence([function(a){return b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?c[9]=b.i64.cast([0,1]):(e=d.item,c[14]=e.syncGroup,b.i64.neq(c[14],void 0)?c[13]=c[14]:c[13]=b.i64.cast([0,1]),c[9]=c[13])})},function(a){return c[11]=new b.Map(),c[11].set("thread_key",c[8]),c[11].set("sync_group",c[9]),c[12]=b.toJSON(c[11]),a=[c[12],b.i64.cast([0,903]),void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2],a}]))})},function(a){return a=[c[4],c[5],c[6]],c[0]=a[0],c[1]=a[1],c[2]=a[2],a}]))})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxTaskSerializerDeleteChatHistoryStoredProcedure";a.__tables__=["threads_optimistic_context","threads"];e.exports=a}),null);
__d("LSTaskSerializerE2eeMessageIntegrityCheckV2",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,c.i64.cast([0,705]),void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],a,c.resolve(d)}a.__sproc_name__="LSEncryptedBackupsTaskSerializerE2eeMessageIntegrityCheckV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTaskSerializerE2eeMetadataThreadIntegrityCheck",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,c.i64.cast([0,700]),void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],a,c.resolve(d)}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTaskSerializerE2eeMetadataThreadIntegrityCheckStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupAction",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,c.i64.cast([0,319]),void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],a,c.resolve(d)}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupActionStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsLoopingUpload",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsLoopingUpload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure] LSEncryptedBackupsLoopingUploadPayloadsTable table not found"),d[2]=c.createArray(),void 0!==void 0?d[9]=(d[2].push(void 0),d[2]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure","LSEncryptedBackupsLoopingUploadPayloadsTable table not found",d[2],c.i64.cast([0,3]))},function(a){return d[3]=c.i64.of_float(Date.now()),d[4]=c.i64.random(),d[6]="Finishing execution. Execution time: ",d[7]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[8]=" ms",d[5]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsLoopingUpload] ",d[5],d[6],d[5],d[7],d[5],d[8]].join("")),c.i64.eq(c.i64.mod_(d[4],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[9]=",",d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsLoopingUpload",[d[6],d[9],d[7],d[9],d[8]].join(""),d[10],c.i64.cast([0,4]))):c.resolve()},function(a){return a=['{"request_id":"unknown","upload_type":"FBN","payload":{"error_code":2,"operation":"","error_message":"","__typename":"MPSUploadFailurePayload"}}',c.i64.cast([0,50043]),void 0],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSQueryLocalPersistenceStoreForBackup.nop",["Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.local_message_persistence_store).filter(function(a){var b=a.offlineThreadingId;a=a.threadId;return a===e&&f===b})));if(c.length===0)return(h||(h=b("Promise"))).resolve([void 0,void 0,!1]);a=c[0];return(h||(h=b("Promise"))).resolve([a.messagePayload,a.messageTimestampMs,!1])});function c(b,c,d,e){return a.apply(this,arguments)}return c}();g["default"]=a}),98);
__d("LSQueryLocalPersistenceStoreSupplementalForBackup.nop",["Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g){c=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.local_message_persistence_store_supplemental).filter(function(a){var b=a.supplementalKey,c=a.threadId;a=a.toplevelOfflineThreadingId;return c===e&&a===f&&b===g})));return c==null?(h||(h=b("Promise"))).resolve([void 0,void 0]):(h||(h=b("Promise"))).resolve([c.messagePayload,c.messageTimestampMs])});function c(b,c,d,e,f){return a.apply(this,arguments)}return c}();g["default"]=a}),98);
__d("isInstamadilloOpenEB",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("890")===!0}g["default"]=a}),98);
__d("LSQueryLocalPersistenceStoreTagsForBackup.nop",["LSVec","Promise","ReQL","asyncToGeneratorRuntime","isInstamadilloEB","isInstamadilloOpenEB"],(function(a,b,c,d,e,f,g){"use strict";var h,i=":";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){if(!c("isInstamadilloEB")()&&!c("isInstamadilloOpenEB")())return(h||(h=b("Promise"))).resolve([c("LSVec").ofArray([])]);e=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.local_message_persistence_store_tag_index.index("offlineThreadingId")).getKeyRange(g,f)));if(e==null)return(h||(h=b("Promise"))).resolve([c("LSVec").ofArray([])]);a=e.tag;return(h||(h=b("Promise"))).resolve([c("LSVec").ofArray(a.split(i))])});function e(b,c,d,e){return a.apply(this,arguments)}return e}();g["default"]=a}),98);
__d("LSLoadUnencryptedProtobufWithInputs",["LSBase64Encode.nop","LSGetBlobFromString.nop","LSLogMebClientEvent.nop","LSQueryLocalPersistenceStoreForBackup.nop","LSQueryLocalPersistenceStoreSupplementalForBackup.nop","LSQueryLocalPersistenceStoreTagsForBackup.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadUnencryptedProtobufWithInputs] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.i64.eq(a[0],c.i64.cast([0,1]))?c.sequence([function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[10]=a[0],d[11]=a[1],d[12]=a[2],a})},function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[13]=a[0],a})},function(e){return c.blobs.neq(d[10],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[10]).then(function(a){return a=a,d[16]=a[0],a})},function(b){return d[16]!==void 0?(d[13]!==void 0?(d[21]=new c.Map(),d[21].set("message_tags",d[13]),d[22]=new c.Map(),d[26]="message_tags",d[23]=d[21].get(d[26]),d[23]?d[24]=!1:d[24]=!0,d[24]?0:d[22].set(d[26],d[23]),d[25]=c.toJSON(d[22]),d[19]=d[25]):d[19]=void 0,d[20]=new c.Map(),d[20].set("backup_action",a[0]),d[20].set("protobuf_encrypted",d[16]),d[20].set("supplemental_data_encrypted",void 0),d[20].set("timestamp_ms",a[4]),d[20].set("message_tags",d[19]),b=[d[20],void 0],d[17]=b[0],d[18]=b[1],b):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_FORMATTING_FAILED"),d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,68])),d[19].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[19].set("error_message",""),b=[void 0,d[19]],d[17]=b[0],d[18]=b[1],b),b=[d[17],d[18]],d[14]=b[0],d[15]=b[1],b}]):c.resolve((d[12]?(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_ALREADY_DELETED"),d[18]=new c.Map(),d[18].set("error_code",c.i64.cast([0,70])),d[18].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[18].set("error_message",""),e=[void 0,d[18]],d[16]=e[0],d[17]=e[1],e):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_TOPLEVEL_TABLE"),d[18]=new c.Map(),d[18].set("error_code",c.i64.cast([0,63])),d[18].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[18].set("error_message",""),e=[void 0,d[18]],d[16]=e[0],d[17]=e[1],e),e=[d[16],d[17]],d[14]=e[0],d[15]=e[1],e))},function(a){return a=[d[14],d[15]],d[2]=a[0],d[3]=a[1],a}]):c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([0,2]))?c.sequence([function(e){return a[3]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreSupplementalForBackup.nop"),a[1],a[2],a[3]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[16]=a[0],a})},function(e){return c.blobs.neq(d[14],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[3]).then(function(a){return a=a,d[19]=a[0],a})},function(e){return c.blobs.neq(d[19],void 0)?c.sequence([function(a){return d[22]=new c.Map(),d[22].set("sk_ciphertext",d[19]),d[22].set("sk_hash",d[19]),c.nativeOperation(b("LSBase64Encode.nop"),d[14]).then(function(a){return a=a,d[23]=a[0],a})},function(b){return d[23]!==void 0?(d[16]!==void 0?(d[28]=new c.Map(),d[28].set("message_tags",d[16]),d[29]=new c.Map(),d[33]="message_tags",d[30]=d[28].get(d[33]),d[30]?d[31]=!1:d[31]=!0,d[31]?0:d[29].set(d[33],d[30]),d[32]=c.toJSON(d[29]),d[26]=d[32]):d[26]=void 0,d[27]=new c.Map(),d[27].set("backup_action",a[0]),d[27].set("protobuf_encrypted",d[23]),d[27].set("supplemental_data_encrypted",d[22]),d[27].set("timestamp_ms",a[4]),d[27].set("message_tags",d[26]),b=[d[27],void 0],d[24]=b[0],d[25]=b[1],b):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_FORMATTING_FAILED"),d[26]=new c.Map(),d[26].set("error_code",c.i64.cast([0,68])),d[26].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[26].set("error_message",""),b=[void 0,d[26]],d[24]=b[0],d[25]=b[1],b),b=[d[24],d[25]],d[20]=b[0],d[21]=b[1],b}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error SUPPLEMENTAL_FORMATTING_FAILED"),d[22]=new c.Map(),d[22].set("error_code",c.i64.cast([0,69])),d[22].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[22].set("error_message",""),e=[void 0,d[22]],d[20]=e[0],d[21]=e[1],e))},function(a){return a=[d[20],d[21]],d[17]=a[0],d[18]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_SUPPLEMENTAL_TABLE"),d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,64])),d[19].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[19].set("error_message",""),e=[void 0,d[19]],d[17]=e[0],d[18]=e[1],e))},function(a){return a=[d[17],d[18]],d[12]=a[0],d[13]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error SUPPLEMENTAL_KEY_NOT_SET_IN_CONTEXT_TABLE"),d[14]=new c.Map(),d[14].set("error_code",c.i64.cast([0,65])),d[14].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[14].set("error_message",""),e=[void 0,d[14]],d[12]=e[0],d[13]=e[1],e))},function(a){return a=[d[12],d[13]],d[10]=a[0],d[11]=a[1],a}]):c.resolve((c.i64.eq(a[0],c.i64.cast([0,3]))?(d[14]=new c.Map(),d[14].set("backup_action",a[0]),d[14].set("protobuf_encrypted",void 0),d[14].set("supplemental_data_encrypted",void 0),d[14].set("timestamp_ms",a[4]),d[14].set("message_tags",void 0),e=[d[14],void 0],d[12]=e[0],d[13]=e[1],e):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error INVALID_BACKUP_OPERATION"),d[14]=new c.Map(),d[14].set("error_code",c.i64.cast([-1,4294967289])),d[14].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[14].set("error_message",""),e=[void 0,d[14]],d[12]=e[0],d[13]=e[1],e),e=[d[12],d[13]],d[10]=e[0],d[11]=e[1],e))},function(a){return a=[d[10],d[11]],d[2]=a[0],d[3]=a[1],a}])},function(a){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.random(),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[4],d[0])),d[9]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadUnencryptedProtobufWithInputs] ",d[6],d[7],d[6],d[8],d[6],d[9]].join("")),c.i64.eq(c.i64.mod_(d[5],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[10]=",",d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadUnencryptedProtobufWithInputs",[d[7],d[10],d[8],d[10],d[9]].join(""),d[11],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSLoadUnencryptedProtobufBackupSerializedPayloadData",["LSLoadUnencryptedProtobufWithInputs","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadUnencryptedProtobufBackupSerializedPayloadData] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[19]=c.i64.mul(d[1],c.i64.cast([0,1e6])),c.db.table(2).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(d[23]=c.i64.of_float(Date.now()),f=[a[0],void 0,void 0,void 0,void 0,c.i64.sub(c.i64.mul(d[23],c.i64.cast([0,1e6])),d[19]),void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],f):(e=b.item,d[23]=c.i64.of_float(Date.now()),f=[a[0],e.queueName,e.enqueueTimestampMs,e.priority,e.firstExecutedTimestampMs,c.i64.sub(c.i64.mul(d[23],c.i64.cast([0,1e6])),d[19]),void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],f)})},function(e){return d[10]=new c.Map(),d[10].set("task_id",d[2]),d[10].set("queue_name",d[3]),d[10].set("enqueue_timestamp_ms",d[4]),d[10].set("priority",d[5]),d[10].set("first_executed_timestamp_ms",d[6]),d[10].set("execution_time_ns",d[7]),d[10].set("echo_encoding_execution_time_ns",d[8]),d[11]=new c.Map(),d[11].set("task_metadata",d[10]),d[11].set("action_type",void 0),d[11].set("content_type",void 0),d[11].set("identifiers",void 0),d[11].set("identifiers_v2",void 0),d[11].set("task_creation_source",void 0),d[11].set("message_payload_source",c.i64.cast([0,2])),c.filter(c.db.table(305).fetch(),function(b){return c.i64.eq(b.pendingBackupTaskId,a[0])}).next().then(function(e,f){var g=e.done;e=e.value;return g?(d[23]=new c.Map(),d[23].set("error_code",c.i64.cast([0,5])),d[23].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufBackupSerializedPayloadDataStoredProcedure"),d[23].set("error_message",""),g=[void 0,d[23],d[11]],d[12]=g[0],d[13]=g[1],d[14]=g[2],g):(f=e.item,c.sequence([function(b){return d[41]=f.actThreadId,d[42]=f.toplevelOfflineThreadingId,d[24]=f.messageTimestampMs,d[23]=new c.Map(),d[23].set("backup_id","openEbUploadGenericBackupId"),d[23].set("act_thread_id",d[41]),d[23].set("server_thread_id",d[41]),d[23].set("timestamp",c.i64.to_string(d[24])),d[23].set("otid",d[42]),d[25]=new c.Map(),d[25].set("backup_id","openEbUploadGenericBackupId"),d[25].set("act_thread_id",d[41]),d[25].set("timestamp",c.i64.to_string(d[24])),d[25].set("otid",d[42]),c.db.table(2).fetch([[[a[0]]]]).next().then(function(e,f){var b=e.done;e=e.value;return b?(d[43]=c.i64.of_float(Date.now()),b=[a[0],void 0,void 0,void 0,void 0,c.i64.sub(c.i64.mul(d[43],c.i64.cast([0,1e6])),d[19]),void 0],d[26]=b[0],d[27]=b[1],d[28]=b[2],d[29]=b[3],d[30]=b[4],d[31]=b[5],d[32]=b[6],b):(f=e.item,d[43]=c.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,f.priority,f.firstExecutedTimestampMs,c.i64.sub(c.i64.mul(d[43],c.i64.cast([0,1e6])),d[19]),void 0],d[26]=b[0],d[27]=b[1],d[28]=b[2],d[29]=b[3],d[30]=b[4],d[31]=b[5],d[32]=b[6],b)})},function(a){return d[34]=new c.Map(),d[34].set("task_id",d[26]),d[34].set("queue_name",d[27]),d[34].set("enqueue_timestamp_ms",d[28]),d[34].set("priority",d[29]),d[34].set("first_executed_timestamp_ms",d[30]),d[34].set("execution_time_ns",d[31]),d[34].set("echo_encoding_execution_time_ns",d[32]),d[35]=new c.Map(),d[35].set("task_metadata",d[34]),d[35].set("action_type",void 0),d[35].set("content_type",void 0),d[35].set("identifiers",void 0),d[35].set("identifiers_v2",d[25]),d[35].set("task_creation_source",void 0),d[35].set("message_payload_source",c.i64.cast([0,2])),c.storedProcedure(b("LSLoadUnencryptedProtobufWithInputs"),f.backupAction,d[41],d[42],f.supplementalKey,d[24],d[23]).then(function(a){return a=a,d[36]=a[0],d[37]=a[1],a})},function(a){return d[36]!==void 0?(d[43]=new c.Map(),d[43].set("unencrypted_protobuf_backup_payload",d[36]),d[43].set("message_identifiers",d[23]),d[43].set("attachment_backup_payload",f.attachmentPayload),d[43].set("sender_id",f.senderId),d[43].set("extra_data_for_eb_upload",void 0),a=[d[43],void 0,d[35]],d[38]=a[0],d[39]=a[1],d[40]=a[2],a):(a=[void 0,d[37],d[35]],d[38]=a[0],d[39]=a[1],d[40]=a[2],a),a=[d[38],d[39],d[40]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]))})},function(a){return d[16]=c.i64.of_float(Date.now()),d[17]=c.i64.random(),d[20]="Finishing execution. Execution time: ",d[21]=c.i64.to_string(c.i64.sub(d[16],d[0])),d[22]=" ms",d[18]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadUnencryptedProtobufBackupSerializedPayloadData] ",d[18],d[20],d[18],d[21],d[18],d[22]].join("")),c.i64.eq(c.i64.mod_(d[17],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[23]=",",d[24]=c.createArray(),void 0!==void 0?d[25]=(d[24].push(void 0),d[24]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadUnencryptedProtobufBackupSerializedPayloadData",[d[20],d[23],d[21],d[23],d[22]].join(""),d[24],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[12],d[13],d[14]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsLoadUnencryptedProtobufBackupSerializedPayloadDataStoredProcedure";a.__tables__=["pending_tasks","pending_protobuf_backups_context"];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsOpenUpload",["LSArrayGetObjectAt","LSBase64Encode.nop","LSDeserializeFromJsonIntoDictionaryV2.nop","LSLoadUnencryptedProtobufBackupSerializedPayloadData","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsOpenUpload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSLoadUnencryptedProtobufBackupSerializedPayloadData"),a[0]).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],d[4]=a[2],a})},function(a){return d[2]!==void 0?c.sequence([function(a){return d[15]=d[2].get("message_identifiers"),d[16]=d[2].get("unencrypted_protobuf_backup_payload"),d[17]=d[15].get("server_thread_id"),d[18]=d[15].get("timestamp"),d[19]=d[15].get("otid"),d[20]=d[15].get("act_thread_id"),d[21]=new c.Map(),d[21].set("server_thread_key",d[17]),d[21].set("timestamp",d[18]),d[21].set("otid",d[19]),d[21].set("wa_thread_id",c.i64.from_string(d[20])),d[22]=new c.Map(),d[22].set("message_identifiers",d[21]),d[23]=d[2].get("extra_data_for_eb_upload"),d[23]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),d[23]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=new c.Map(),d[38]="ttd",d[34]=d[32].get(d[38]),d[34]?d[35]=!1:d[35]=!0,d[35]?c.resolve():c.sequence([function(a){return d[34]?d[40]=!1:d[40]=!0,d[40]?c.resolve(d[41]=void 0):c.sequence([function(a){return d[42]=new c.Map(),d[45]="message_tags",d[43]=d[34].get(d[45]),d[43]?d[44]=!1:d[44]=!0,d[44]?c.resolve():c.sequence([function(a){return d[46]=c.createArray(),d[47]=c.i64.of_int32(d[43].length),c.i64.gt(d[47],c.i64.cast([0,0]))?c.loopAsync(d[47],function(a){return d[48]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[43],d[48]).then(function(a){return a=a,d[49]=a[0],d[50]=a[1],a})},function(a){return d[51]=(d[46].push(d[49]),d[46])}])}):c.resolve()},function(a){return d[42].set(d[45],d[46])}])},function(a){return d[41]=d[42]}])},function(a){return d[33].set(d[38],d[41])}])},function(a){return d[39]="mt",d[36]=d[32].get(d[39]),d[36]?d[37]=!1:d[37]=!0,d[37]?c.resolve():c.sequence([function(a){return d[36]?d[40]=!1:d[40]=!0,d[40]?c.resolve(d[41]=void 0):c.sequence([function(a){return d[42]=new c.Map(),d[45]="message_tags",d[43]=d[36].get(d[45]),d[43]?d[44]=!1:d[44]=!0,d[44]?c.resolve():c.sequence([function(a){return d[46]=c.createArray(),d[47]=c.i64.of_int32(d[43].length),c.i64.gt(d[47],c.i64.cast([0,0]))?c.loopAsync(d[47],function(a){return d[48]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[43],d[48]).then(function(a){return a=a,d[49]=a[0],d[50]=a[1],a})},function(a){return d[51]=(d[46].push(d[49]),d[46])}])}):c.resolve()},function(a){return d[42].set(d[45],d[46])}])},function(a){return d[41]=d[42]}])},function(a){return d[33].set(d[39],d[41])}])},function(a){return d[24]=d[33]}]):c.resolve(d[24]=void 0)},function(a){return d[24]!==void 0?(d[32]=d[24].get("mt"),d[32]!==void 0?(d[34]=new c.Map(),d[38]="message_tags",d[35]=d[32].get(d[38]),d[35]?d[36]=!1:d[36]=!0,d[36]?0:d[34].set(d[38],d[35]),d[37]=c.toJSON(d[34]),d[33]=d[37]):d[33]=void 0,d[25]=d[33]):d[25]=void 0,d[26]=d[16].get("supplemental_data_encrypted"),d[26]!==void 0?c.sequence([function(a){return d[32]=d[16].get("protobuf_encrypted"),d[33]=d[16].get("backup_action"),d[34]=d[16].get("timestamp_ms"),d[35]=d[26].get("sk_ciphertext"),c.nativeOperation(b("LSBase64Encode.nop"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[37]=d[26].get("sk_hash"),c.nativeOperation(b("LSBase64Encode.nop"),d[37]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=new c.Map(),d[39].set("supplementary_data_key",void 0),d[39].set("encrypted_protobuf",d[32]),d[39].set("key_value_backup_action",d[33]),d[39].set("protobuf_ts_ms",d[34]),d[39].set("supplemental_key_ciphertext",d[36]),d[39].set("supplemental_key_hash",d[38]),d[39].set("message_tags",d[25]),d[27]=d[39]}]):c.resolve((d[32]=d[16].get("protobuf_encrypted"),d[33]=d[16].get("backup_action"),d[34]=d[16].get("timestamp_ms"),d[35]=new c.Map(),d[35].set("supplementary_data_key",void 0),d[35].set("encrypted_protobuf",d[32]),d[35].set("key_value_backup_action",d[33]),d[35].set("protobuf_ts_ms",d[34]),d[35].set("message_tags",d[25]),d[27]=d[35]))},function(a){return d[22].set("key_value_backup_unencrypted_payload",d[27]),d[28]=d[2].get("sender_id"),d[22].set("sender_id",d[28]),d[29]=d[2].get("attachment_backup_payload"),d[29]!==void 0?d[22].set("attachment_backup_payload",d[29]):0,d[24]!==void 0?(d[32]=d[24].get("ttd"),d[32]!==void 0?(d[34]=new c.Map(),d[38]="message_tags",d[35]=d[32].get(d[38]),d[35]?d[36]=!1:d[36]=!0,d[36]?0:d[34].set(d[38],d[35]),d[37]=c.toJSON(d[34]),d[33]=d[37]):d[33]=void 0,d[30]=d[33]):d[30]=void 0,d[30]!==void 0?d[22].set("tags_to_delete",d[30]):0,d[31]=c.toJSON(d[22]),a=[d[31],void 0,d[4]],d[5]=a[0],d[6]=a[1],d[7]=a[2],a}]):c.resolve((d[3]?d[15]=!1:d[15]=!0,d[15]?(a=[void 0,void 0,d[4]],d[16]=a[0],d[17]=a[1],d[18]=a[2],a):(a=[void 0,d[3],d[4]],d[16]=a[0],d[17]=a[1],d[18]=a[2],a),a=[d[16],d[17],d[18]],d[5]=a[0],d[6]=a[1],d[7]=a[2],a))},function(a){return d[15]=new c.Map(),d[16]=d[15].set("success",d[5]),d[17]=d[15].set("failure",d[6]),d[18]=d[15].set("context",d[7]),d[19]=c.toJSON(d[15]),d[8]=d[19],d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsOpenUpload] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsOpenUpload",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[8],c.i64.cast([0,50048])],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsOpenUploadStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSGetOpenEpochKeys",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSDeleteBackupOnClient","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] Beginning execution."),d[11]="Querying latest epoch keys with authority level: ",a[0]?d[1]="OPTIMISTIC":d[1]="AUTHORITATIVE",d[2]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ",d[2],d[11],d[2],d[1]].join("")),c.resolve()},function(e){return a[0]?d[3]="OPTIMISTIC":d[3]="AUTHORITATIVE",c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2842]),c.i64.cast([0,2]),void 0,d[3]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[18],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2844]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[18],c.i64.cast([0,3]))):c.resolve()}])},function(b){return d[4]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(b){return a[0]||c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[16]=(d[4].push(c.blobs.to_string(a.epochAnonIdBlob)),d[4])})},function(a){return d[5]=c.i64.of_int32(d[4].length),c.i64.gt(d[5],c.i64.cast([0,0]))?c.sequence([function(a){return d[16]=c.i64.of_int32(d[4].length),c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2845]),c.i64.cast([0,2]),void 0,c.i64.to_string(d[16])):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[22]=!0:d[22]=!1,d[22]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[23]=c.createArray(),void 0!==void 0?d[24]=(d[23].push(void 0),d[23]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[23],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[4],c.i64.cast([0,0])).then(function(a){return a=a,d[17]=a[0],d[18]=a[1],a})},function(a){return d[19]=d[17],d[20]=c.i64.of_int32(d[4].length),c.i64.gt(d[20],c.i64.cast([0,0]))?c.loopAsync(d[20],function(a){return d[21]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[4],d[21]).then(function(a){return a=a,d[22]=a[0],d[23]=a[1],a})},function(a){return c.i64.eq([0,d[19].length],[0,d[22].length])?(d[19]===d[22]?d[25]=d[19]:(d[19]>d[22]?d[26]=d[19]:d[26]=d[22],d[25]=d[26]),d[24]=d[25]):(c.i64.gt([0,d[19].length],[0,d[22].length])?d[25]=d[19]:d[25]=d[22],d[24]=d[25]),d[19]=d[24]}])}):c.resolve()},function(a){return d[6]=d[19]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] Epoch anon ID list is empty."),d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure","Epoch anon ID list is empty.",d[16],c.i64.cast([0,3]))},function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2846]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),void 0!==void 0?d[20]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[6]=void 0}])},function(a){return d[6]!==void 0?c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2863]),c.i64.cast([0,2]),void 0,d[6]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[18],c.i64.cast([0,3]))):c.resolve()}]):c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2864]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[18],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[12]=c.blobs.of_string(d[6]),c.blobs.neq(d[12],void 0)?c.sequence([function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2847]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[18]?d[19]=!0:d[19]=!1,d[19]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[20]=c.createArray(),void 0!==void 0?d[21]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[20],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.filter(c.db.table(169).fetch(),function(a){return c.blobs.eq(a.epochAnonIdBlob,d[12])}).next().then(function(a,e){var f=a.done;a=a.value;return f?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] Found a most recent epoch anon ID, but unable to locate it again in the table. This can really only happen if the tablesomehow changed in the middle of our transaction."),d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure","Found a most recent epoch anon ID, but unable to locate it again in the table. This can really only happen if the tablesomehow changed in the middle of our transaction.",d[18],c.i64.cast([0,3]))},function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2848]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[20]=!0:d[20]=!1,d[20]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[21]=c.createArray(),void 0!==void 0?d[22]=(d[21].push(void 0),d[21]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[21],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[16]=void 0}]):(e=a.item,c.sequence([function(a){return d[22]=e.epochAnonIdBlob,d[20]="Using latest epoch: ",d[21]=c.blobs.to_string(d[22]),d[18]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ",d[18],d[20],d[18],d[21]].join("")),c.resolve()},function(a){return d[19]=new c.Map(),d[19].set("epoch_id",e.epochId),d[19].set("epoch_root_key",e.epochRootKeyBlob),d[19].set("epoch_anon_id",d[22]),d[16]=d[19]}]))})},function(a){return d[7]=d[16]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] No epochs whatsoever on client! This should absolutely never happen. Deleting backup from client."),d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure","No epochs whatsoever on client! This should absolutely never happen. Deleting backup from client.",d[16],c.i64.cast([0,3]))},function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2843]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),void 0!==void 0?d[20]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.storedProcedure(b("LSDeleteBackupOnClient"),void 0,"get_open_epoch_keys",!0,void 0,"Attempted to fetch epoch keys when there are no epochs on the client.",!1)},function(a){return d[7]=void 0}])},function(a){return d[8]=c.i64.of_float(Date.now()),d[9]=c.i64.random(),d[13]="Finishing execution. Execution time: ",d[14]=c.i64.to_string(c.i64.sub(d[8],d[0])),d[15]=" ms",d[10]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ",d[10],d[13],d[10],d[14],d[10],d[15]].join("")),c.i64.eq(c.i64.mod_(d[9],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[16]=",",d[17]=c.createArray(),void 0!==void 0?d[18]=(d[17].push(void 0),d[17]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure",[d[13],d[16],d[14],d[16],d[15]].join(""),d[17],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[7]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsGetOpenEpochKeysStoredProcedure";a.__tables__=["secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsRestoreWithSerializer",["LSAppendDataTraceAddon","LSBase64Encode.nop","LSGetOpenEpochKeys","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure] Beginning execution."),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure] Fetching locally available epochs on client from epochs table"),d[1]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[16]=(d[1].push(a.epochId),d[1])})},function(a){return d[11]="Queried locally available epochs. Count: ",d[2]=c.i64.of_int32(d[1].length),d[12]=c.i64.to_string(d[2]),d[3]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[3],d[11],d[3],d[12]].join("")),c.resolve()},function(e){return c.db.table(168).fetch().next().then(function(e,f){var g=e.done;e=e.value;return g?(g=[void 0,void 0,void 0],d[4]=g[0],d[5]=g[1],d[6]=g[2],g):(f=e.item,c.sequence([function(e){return d[19]=f.deviceId,c.i64.neq(d[19],void 0)?c.sequence([function(e){return c.db.table(190).fetch([[[a[0]]]]).next().then(function(e,h){var a=e.done;e=e.value;return a?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure] No restore payload context found."),d[24]=c.createArray(),void 0!==void 0?d[25]=(d[24].push(void 0),d[24]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure","No restore payload context found.",d[24],c.i64.cast([0,3]))},function(a){return a=[void 0,void 0,void 0],d[20]=a[0],d[21]=a[1],d[22]=a[2],a}]):(h=e.item,c.sequence([function(a){return d[32]=h.traceId,c.sequence([function(a){return d[32]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[32],c.i64.cast([0,3603]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[33]?d[34]=!0:d[34]=!1,d[34]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[35]=c.createArray(),void 0!==void 0?d[36]=(d[35].push(void 0),d[35]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[35],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[24]=new c.Map(),d[24].set("server_thread_key",h.serverThreadKey),d[24].set("otid",h.messageId),d[24].set("timestamp",h.unencryptedSortKey),d[24].set("wa_thread_id",h.waThreadId),c.nativeOperation(b("LSBase64Encode.nop"),f.ocmfClientStateBlob).then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),f.mailboxRootKeyBlob).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[27]=new c.Map(),d[27].set("ocmf_client_state_blob",d[25]==null?"":d[25]),d[27].set("mailbox_root_key",d[26]==null?"":d[26]),c.storedProcedure(b("LSGetOpenEpochKeys"),!1).then(function(a){return a=a,d[28]=a[0],a})},function(a){return d[28]!==void 0?(d[33]=d[28].get("epoch_id"),d[29]=d[33]):d[29]=void 0,d[30]=new c.Map(),d[30].set("content_type",h.contentType),d[30].set("device_id",d[19]),d[30].set("epoch_id",d[29]),d[30].set("list_id",h.listId),d[30].set("num_items",h.numItems),d[30].set("start_sort_key",h.startSortKey),d[30].set("mailbox_partial_id",h.mailboxPartialId),d[30].set("trace_id",d[32]),d[30].set("message_partial_id",h.messagePartialId),d[30].set("newer_num_items",h.newerNumItems),d[30].set("locally_available_epochs",d[1]),d[30].set("raw_identifiers",d[24]),d[30].set("raw_tokens",d[27]),d[31]=c.toJSON(d[30]),a=[d[31],c.i64.cast([0,50015]),void 0],d[20]=a[0],d[21]=a[1],d[22]=a[2],a}]))})},function(a){return a=[d[20],d[21],d[22]],d[16]=a[0],d[17]=a[1],d[18]=a[2],a}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure] Unexpected error: Device ID is null."),d[20]=c.createArray(),void 0!==void 0?d[21]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure","Unexpected error: Device ID is null.",d[20],c.i64.cast([0,3]))},function(a){return a=[void 0,void 0,void 0],d[16]=a[0],d[17]=a[1],d[18]=a[2],a}])},function(a){return a=[d[16],d[17],d[18]],d[4]=a[0],d[5]=a[1],d[6]=a[2],a}]))})},function(a){return d[8]=c.i64.of_float(Date.now()),d[9]=c.i64.random(),d[13]="Finishing execution. Execution time: ",d[14]=c.i64.to_string(c.i64.sub(d[8],d[0])),d[15]=" ms",d[10]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure] ",d[10],d[13],d[10],d[14],d[10],d[15]].join("")),c.i64.eq(c.i64.mod_(d[9],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[16]=",",d[17]=c.createArray(),void 0!==void 0?d[18]=(d[17].push(void 0),d[17]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure",[d[13],d[16],d[14],d[16],d[15]].join(""),d[17],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[4],d[5],d[6]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure";a.__tables__=["secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backup_restore_task_payload_context"];e.exports=a}),null);
__d("LSDeriveValueSecretRefV2",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][deriveValueSecretRefV2] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=a[2].get("message_payload_encryption_keys"),d[3]=d[2].get("encryption_version"),d[4]=d[2].get("epoch_anon_id"),d[5]=d[2].get("epoch_root_key"),d[6]=d[2].get("payload_key"),d[7]=c.createArray(),d[41]=(d[7].push(c.i64.cast([0,6])),d[7]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_anon_id_debug").then(function(a){return a=a,d[8]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[8],void 0,d[4],d[7]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[9]?d[10]=!1:d[10]=!0,d[10]?c.resolve(d[11]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[9],c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[11]=d[43]==null?"":d[43]}])},function(a){return d[12]=c.createArray(),d[41]=(d[12].push(c.i64.cast([0,6])),d[12]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_debug").then(function(a){return a=a,d[13]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[13],void 0,d[5],d[12]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!1:d[15]=!0,d[15]?c.resolve(d[16]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[14],c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[16]=d[43]==null?"":d[43]}])},function(a){return d[17]=c.createArray(),d[41]=(d[17].push(c.i64.cast([0,6])),d[17]),c.nativeOperation(b("LSGetBlobFromString.nop"),"message_key_debug").then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[18],void 0,d[6],d[17]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[20]=!1:d[20]=!0,d[20]?c.resolve(d[21]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[21]=d[43]==null?"":d[43]}])},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[22]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),[d[22]==null?"":d[22],a[0]].join("")).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[24]=c.createArray(),d[41]=(d[24].push(c.i64.cast([0,6])),d[24]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_thread_id_debug").then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[25],void 0,d[23],d[24]).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[26]?d[27]=!1:d[27]=!0,d[27]?c.resolve(d[28]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[26],c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[28]=d[43]==null?"":d[43]}])},function(a){return d[29]=":",c.blobs.neq(d[5],void 0)?c.sequence([function(a){return d[41]=c.createArray(),d[47]=(d[41].push(c.i64.cast([0,18])),d[41]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,d[5],d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[42]!==void 0?c.sequence([function(a){return d[47]=c.i64.of_int32(d[42].length),c.i64.ge(d[47],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[42],c.i64.cast([0,0])).then(function(a){return a=a,d[49]=a[0],d[50]=a[1],a})},function(a){return d[48]=d[49]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[49]=c.createArray(),void 0!==void 0?d[50]=(d[49].push(void 0),d[49]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[49],c.i64.cast([0,3]))},function(a){return d[48]=void 0}])},function(a){return d[43]=d[48]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[47]=c.createArray(),void 0!==void 0?d[48]=(d[47].push(void 0),d[47]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[47],c.i64.cast([0,3]))},function(a){return d[43]=void 0}])},function(a){return c.blobs.neq(d[43],void 0)?d[44]=!0:d[44]=!1,d[44]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.nativeOperation(b("LSBase64Encode.nop"),d[43]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]!==void 0?d[46]=d[45]:d[46]="encodingfailed",d[30]=d[46]}]):c.resolve(d[30]="null")},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[4]).then(function(a){return a=a,d[31]=a[0],a})},function(e){return d[32]=new c.Map(),d[32].set("encryption_version",d[3]),d[32].set("epoch_anon_id",d[31]==null?"":d[31]),d[32].set("message_encryption_values",[d[11],d[29],d[16],d[29],d[21],d[29],d[28]].join("")),d[32].set("root_key_fingerprint",d[30]),d[32].set("backup_id",a[1]),d[33]=c.toJSON(d[32]),d[34]=new c.Map(),d[34].set("value_secret_ref",d[33]),d[35]=c.i64.of_float(Date.now()),d[36]=c.i64.random(),d[38]="Finishing execution. Execution time: ",d[39]=c.i64.to_string(c.i64.sub(d[35],d[0])),d[40]=" ms",d[37]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][deriveValueSecretRefV2] ",d[37],d[38],d[37],d[39],d[37],d[40]].join("")),c.i64.eq(c.i64.mod_(d[36],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[41]=",",d[42]=c.createArray(),void 0!==void 0?d[43]=(d[42].push(void 0),d[42]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"deriveValueSecretRefV2",[d[38],d[41],d[39],d[41],d[40]].join(""),d[42],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[34],void 0],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsDeriveValueSecretRefV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSEncryptIdentifiersV2",["LSBase64Encode.nop","LSBinaryToHex.nop","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSTruncateSortKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][encryptIdentifiersV2] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=a[6].get("ocmf_shared_key"),c.nativeOperation(b("LSGetBlobFromString.nop"),a[2]).then(function(a){return a=a,d[3]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[3]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[2],d[4]).then(function(a){return a=a,d[5]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[6]=a[0],a})},function(e){return c.i64.eq(a[0],c.i64.cast([0,2]))&&c.i64.eq(a[1],c.i64.cast([0,2]))?d[7]=a[5]:d[7]=a[3],d[8]=a[6].get("ocmf_shared_key"),c.nativeOperation(b("LSGetBlobFromString.nop"),d[7]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[9]).then(function(a){return a=a,d[10]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[8],d[10]).then(function(a){return a=a,d[11]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[11]).then(function(a){return a=a,d[12]=a[0],a})},function(e){return d[13]=a[6].get("ope_key"),c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[4]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[14]).then(function(a){return a=a,d[15]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[13],d[15],c.i64.cast([0,16])).then(function(a){return a=a,d[16]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[16]).then(function(a){return a=a,d[17]=a[0],a})},function(e){return d[18]=a[6].get("ocmf_shared_key"),c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[19]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[18],d[20]).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[21]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[23]=new c.Map(),d[23].set("backup_id_ocmf_partial",d[6]==null?"":d[6]),d[23].set("act_thread_id_ocmf_partial",d[12]==null?"":d[12]),d[23].set("timestamp_encrypted",d[17]==null?"":d[17]),d[23].set("otid_ocmf_partial",d[22]==null?"":d[22]),d[24]=c.i64.of_float(Date.now()),d[25]=c.i64.random(),d[27]="Finishing execution. Execution time: ",d[28]=c.i64.to_string(c.i64.sub(d[24],d[0])),d[29]=" ms",d[26]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][encryptIdentifiersV2] ",d[26],d[27],d[26],d[28],d[26],d[29]].join("")),c.i64.eq(c.i64.mod_(d[25],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[30]=",",d[31]=c.createArray(),void 0!==void 0?d[32]=(d[31].push(void 0),d[31]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"encryptIdentifiersV2",[d[27],d[30],d[28],d[30],d[29]].join(""),d[31],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[23],void 0],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsEncryptIdentifiersV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSEncryptMessagePayloadV2",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSLogMebClientEvent.nop","LSSymmetricEncryptionCreateEncryptedString.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][encryptMessagePayloadV2] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=a[2].get("message_payload_encryption_keys"),d[3]=d[2].get("payload_key"),c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),d[3],c.blobs.of_string(["message_thread","_",a[1]].join("")),a[3]).then(function(a){return a=a,d[4]=a[0],a})},function(e){return d[4]!==void 0?c.sequence([function(a){return d[13]=d[2].get("encryption_version"),d[14]=d[2].get("epoch_anon_id"),d[15]=d[2].get("epoch_root_key"),d[16]=d[2].get("payload_key"),d[17]=c.createArray(),d[45]=(d[17].push(c.i64.cast([0,6])),d[17]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_anon_id_debug").then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[18],void 0,d[14],d[17]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[20]=!1:d[20]=!0,d[20]?c.resolve(d[21]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[21]=d[47]==null?"":d[47]}])},function(a){return d[22]=c.createArray(),d[45]=(d[22].push(c.i64.cast([0,6])),d[22]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_debug").then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[23],void 0,d[15],d[22]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[25]=!1:d[25]=!0,d[25]?c.resolve(d[26]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[24],c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[26]=d[47]==null?"":d[47]}])},function(a){return d[27]=c.createArray(),d[45]=(d[27].push(c.i64.cast([0,6])),d[27]),c.nativeOperation(b("LSGetBlobFromString.nop"),"message_key_debug").then(function(a){return a=a,d[28]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[28],void 0,d[16],d[27]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[29]?d[30]=!1:d[30]=!0,d[30]?c.resolve(d[31]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[29],c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[31]=d[47]==null?"":d[47]}])},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[15]).then(function(a){return a=a,d[32]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),[d[32]==null?"":d[32],a[1]].join("")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[34]=c.createArray(),d[45]=(d[34].push(c.i64.cast([0,6])),d[34]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_thread_id_debug").then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[35],void 0,d[33],d[34]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[37]=!1:d[37]=!0,d[37]?c.resolve(d[38]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[36],c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[38]=d[47]==null?"":d[47]}])},function(a){return d[39]=":",c.blobs.neq(d[15],void 0)?c.sequence([function(a){return d[45]=c.createArray(),d[51]=(d[45].push(c.i64.cast([0,18])),d[45]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,d[15],d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[46]!==void 0?c.sequence([function(a){return d[51]=c.i64.of_int32(d[46].length),c.i64.ge(d[51],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[46],c.i64.cast([0,0])).then(function(a){return a=a,d[53]=a[0],d[54]=a[1],a})},function(a){return d[52]=d[53]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[53]=c.createArray(),void 0!==void 0?d[54]=(d[53].push(void 0),d[53]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[53],c.i64.cast([0,3]))},function(a){return d[52]=void 0}])},function(a){return d[47]=d[52]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[51]=c.createArray(),void 0!==void 0?d[52]=(d[51].push(void 0),d[51]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[51],c.i64.cast([0,3]))},function(a){return d[47]=void 0}])},function(a){return c.blobs.neq(d[47],void 0)?d[48]=!0:d[48]=!1,d[48]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.nativeOperation(b("LSBase64Encode.nop"),d[47]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return d[49]!==void 0?d[50]=d[49]:d[50]="encodingfailed",d[40]=d[50]}]):c.resolve(d[40]="null")},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[14]).then(function(a){return a=a,d[41]=a[0],a})},function(b){return d[42]=new c.Map(),d[42].set("encryption_version",d[13]),d[42].set("epoch_anon_id",d[41]==null?"":d[41]),d[42].set("message_encryption_values",[d[21],d[39],d[26],d[39],d[31],d[39],d[38]].join("")),d[42].set("root_key_fingerprint",d[40]),d[42].set("backup_id",a[0]),d[43]=c.toJSON(d[42]),d[44]=new c.Map(),d[44].set("encrypted_message_payload",d[4]),d[44].set("value_secret_ref",d[43]),b=[d[44],void 0],d[5]=b[0],d[6]=b[1],b}]):c.resolve((d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,40])),d[13].set("stored_procedure","LSEncryptedBackupsEncryptMessagePayloadV2StoredProcedure"),d[13].set("error_message",""),e=[void 0,d[13]],d[5]=e[0],d[6]=e[1],e))},function(a){return d[7]=c.i64.of_float(Date.now()),d[8]=c.i64.random(),d[10]="Finishing execution. Execution time: ",d[11]=c.i64.to_string(c.i64.sub(d[7],d[0])),d[12]=" ms",d[9]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][encryptMessagePayloadV2] ",d[9],d[10],d[9],d[11],d[9],d[12]].join("")),c.i64.eq(c.i64.mod_(d[8],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[13]=",",d[14]=c.createArray(),void 0!==void 0?d[15]=(d[14].push(void 0),d[14]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"encryptMessagePayloadV2",[d[10],d[13],d[11],d[13],d[12]].join(""),d[14],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[5],d[6]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsEncryptMessagePayloadV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSLoadAndEncryptProtobufWithInputsV2",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSLogMebClientEvent.nop","LSQueryLocalPersistenceStoreForBackup.nop","LSQueryLocalPersistenceStoreSupplementalForBackup.nop","LSQueryLocalPersistenceStoreTagsForBackup.nop","LSSymmetricEncryptionCreateEncryptedData.nop","gkx","qex"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(f){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][loadAndEncryptProtobufWithInputsV2] Beginning execution."),e[1]=d.i64.of_float(Date.now()),e[8]=function(a){return a==void 0?void 0:a}(c("qex")._("1526")),e[8]!==void 0?e[2]=e[8]:e[2]=!1,(c("gkx")("23657")||c("gkx")("26375"))&&(e[2]||c("gkx")("26377")||c("gkx")("687"))?d.sequence([function(c){return d.i64.eq(a[0],d.i64.cast([0,1]))?d.sequence([function(c){return d.nativeOperation(b("LSQueryLocalPersistenceStoreForBackup.nop"),a[1],a[2]).then(function(a){return a=a,e[14]=a[0],e[15]=a[1],e[16]=a[2],a})},function(c){return d.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,e[17]=a[0],a})},function(c){return d.blobs.neq(e[14],void 0)?d.sequence([function(c){return e[20]=a[5].get("message_payload_encryption_keys"),e[21]=e[20].get("payload_key"),d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedData.nop"),e[21],d.blobs.of_string(["message_thread","_",a[1]].join("")),e[14]).then(function(a){return a=a,e[22]=a[0],a})},function(a){return d.blobs.neq(e[22],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[22]).then(function(a){return a=a,e[26]=a[0],a})},function(a){return e[23]=e[26]}]):d.resolve(e[23]=void 0)},function(b){return e[23]!==void 0?(e[17]!==void 0?(e[28]=new d.Map(),e[28].set("message_tags",e[17]),e[29]=new d.Map(),e[33]="message_tags",e[30]=e[28].get(e[33]),e[30]?e[31]=!1:e[31]=!0,e[31]?0:e[29].set(e[33],e[30]),e[32]=d.toJSON(e[29]),e[26]=e[32]):e[26]=void 0,e[27]=new d.Map(),e[27].set("backup_action",a[0]),e[27].set("protobuf_encrypted",e[23]),e[27].set("supplemental_data_encrypted",void 0),e[27].set("timestamp_ms",a[4]),e[27].set("message_tags",e[26]),e[27].set("serialized_attachment_backup_payload",void 0),b=[e[27],void 0],e[24]=b[0],e[25]=b[1],b):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ENCRYPTION_FAILED"),e[26]=new d.Map(),e[26].set("error_code",d.i64.cast([0,62])),e[26].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[26].set("error_message",""),b=[void 0,e[26]],e[24]=b[0],e[25]=b[1],b),b=[e[24],e[25]],e[18]=b[0],e[19]=b[1],b}]):d.resolve((e[16]?(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ALREADY_DELETED"),e[22]=new d.Map(),e[22].set("error_code",d.i64.cast([0,70])),e[22].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[22].set("error_message",""),c=[void 0,e[22]],e[20]=c[0],e[21]=c[1],c):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_TOPLEVEL_TABLE"),e[22]=new d.Map(),e[22].set("error_code",d.i64.cast([0,63])),e[22].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[22].set("error_message",""),c=[void 0,e[22]],e[20]=c[0],e[21]=c[1],c),c=[e[20],e[21]],e[18]=c[0],e[19]=c[1],c))},function(a){return a=[e[18],e[19]],e[12]=a[0],e[13]=a[1],a}]):d.sequence([function(c){return d.i64.eq(a[0],d.i64.cast([0,2]))?d.sequence([function(c){return a[3]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSQueryLocalPersistenceStoreSupplementalForBackup.nop"),a[1],a[2],a[3]).then(function(a){return a=a,e[18]=a[0],e[19]=a[1],a})},function(c){return d.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,e[20]=a[0],a})},function(c){return d.blobs.neq(e[18],void 0)?d.sequence([function(c){return e[23]=a[5].get("mailbox_root_key_v2"),d.blobs.neq(e[23],void 0)?d.sequence([function(c){return e[26]=a[5].get("message_payload_encryption_keys"),e[27]=e[26].get("epoch_root_key"),e[28]=d.createArray(),e[41]=(e[28].push(d.i64.cast([0,32])),e[28]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleV92Mj5zdXBwbGVtZW50YWxfcHJmX2tleQ=="),void 0,e[23],e[28]).then(function(a){return a=a,e[29]=a[0],a})},function(a){return e[29]!==void 0?d.sequence([function(a){return e[41]=d.i64.of_int32(e[29].length),d.i64.ge(e[41],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[29],d.i64.cast([0,0])).then(function(a){return a=a,e[43]=a[0],e[44]=a[1],a})},function(a){return e[42]=e[43]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[43]=d.createArray(),void 0!==void 0?e[44]=(e[43].push(void 0),e[43]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",e[43],d.i64.cast([0,3]))},function(a){return e[42]=void 0}])},function(a){return e[30]=e[42]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[41]=d.createArray(),void 0!==void 0?e[42]=(e[41].push(void 0),e[41]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",e[41],d.i64.cast([0,3]))},function(a){return e[30]=void 0}])},function(a){return d.blobs.neq(e[30],void 0)?e[31]=!0:e[31]=!1,e[31]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[32]=d.createArray(),e[41]=(e[32].push(d.i64.cast([0,32])),e[32]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleV92Mj5zdXBwbGVtZW50YWxfZW5jX2tleQ=="),void 0,e[27],e[32]).then(function(a){return a=a,e[33]=a[0],a})},function(a){return e[33]!==void 0?d.sequence([function(a){return e[41]=d.i64.of_int32(e[33].length),d.i64.ge(e[41],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[33],d.i64.cast([0,0])).then(function(a){return a=a,e[43]=a[0],e[44]=a[1],a})},function(a){return e[42]=e[43]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[43]=d.createArray(),void 0!==void 0?e[44]=(e[43].push(void 0),e[43]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",e[43],d.i64.cast([0,3]))},function(a){return e[42]=void 0}])},function(a){return e[34]=e[42]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[41]=d.createArray(),void 0!==void 0?e[42]=(e[41].push(void 0),e[41]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",e[41],d.i64.cast([0,3]))},function(a){return e[34]=void 0}])},function(c){return d.blobs.neq(e[34],void 0)?e[35]=!0:e[35]=!1,e[35]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d.nativeOperation(b("LSGetBlobFromString.nop"),a[3]).then(function(a){return a=a,e[36]=a[0],a})},function(a){return d.nativeOperation(b("LSHmac_v2.nop"),e[30],e[36]).then(function(a){return a=a,e[37]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedData.nop"),e[34],d.blob("c3VwcGxlbWVudGFsX2VuY19hYWQ="),e[36]).then(function(a){return a=a,e[38]=a[0],a})},function(c){return d.blobs.neq(e[38],void 0)?d.sequence([function(c){return e[41]=new d.Map(),e[41].set("sk_ciphertext",e[38]),e[41].set("sk_hash",e[37]),e[42]=a[5].get("message_payload_encryption_keys"),e[43]=e[42].get("payload_key"),d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedData.nop"),e[43],d.blobs.of_string(["message_thread","_",a[1]].join("")),e[18]).then(function(a){return a=a,e[44]=a[0],a})},function(a){return d.blobs.neq(e[44],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[44]).then(function(a){return a=a,e[48]=a[0],a})},function(a){return e[45]=e[48]}]):d.resolve(e[45]=void 0)},function(b){return e[45]!==void 0?(e[20]!==void 0?(e[50]=new d.Map(),e[50].set("message_tags",e[20]),e[51]=new d.Map(),e[55]="message_tags",e[52]=e[50].get(e[55]),e[52]?e[53]=!1:e[53]=!0,e[53]?0:e[51].set(e[55],e[52]),e[54]=d.toJSON(e[51]),e[48]=e[54]):e[48]=void 0,e[49]=new d.Map(),e[49].set("backup_action",a[0]),e[49].set("protobuf_encrypted",e[45]),e[49].set("supplemental_data_encrypted",e[41]),e[49].set("timestamp_ms",a[4]),e[49].set("message_tags",e[48]),e[49].set("serialized_attachment_backup_payload",void 0),b=[e[49],void 0],e[46]=b[0],e[47]=b[1],b):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ENCRYPTION_FAILED"),e[48]=new d.Map(),e[48].set("error_code",d.i64.cast([0,62])),e[48].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[48].set("error_message",""),b=[void 0,e[48]],e[46]=b[0],e[47]=b[1],b),b=[e[46],e[47]],e[39]=b[0],e[40]=b[1],b}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error SUPPLEMENTAL_ENCRYPTION_FAILED"),e[41]=new d.Map(),e[41].set("error_code",d.i64.cast([0,66])),e[41].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[41].set("error_message",""),c=[void 0,e[41]],e[39]=c[0],e[40]=c[1],c))},function(a){return a=[e[39],e[40]],e[24]=a[0],e[25]=a[1],a}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error NULL_MAILBOX_ROOT_KEY_V2"),e[26]=new d.Map(),e[26].set("error_code",d.i64.cast([0,27])),e[26].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[26].set("error_message",""),c=[void 0,e[26]],e[24]=c[0],e[25]=c[1],c))},function(a){return a=[e[24],e[25]],e[21]=a[0],e[22]=a[1],a}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_SUPPLEMENTAL_TABLE"),e[23]=new d.Map(),e[23].set("error_code",d.i64.cast([0,64])),e[23].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[23].set("error_message",""),c=[void 0,e[23]],e[21]=c[0],e[22]=c[1],c))},function(a){return a=[e[21],e[22]],e[16]=a[0],e[17]=a[1],a}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error SUPPLEMENTAL_KEY_NOT_SET_IN_CONTEXT_TABLE"),e[18]=new d.Map(),e[18].set("error_code",d.i64.cast([0,65])),e[18].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[18].set("error_message",""),c=[void 0,e[18]],e[16]=c[0],e[17]=c[1],c))},function(a){return a=[e[16],e[17]],e[14]=a[0],e[15]=a[1],a}]):d.sequence([function(c){return d.i64.eq(a[0],d.i64.cast([0,4]))?d.sequence([function(c){return d.nativeOperation(b("LSQueryLocalPersistenceStoreForBackup.nop"),a[1],a[2]).then(function(a){return a=a,e[18]=a[0],e[19]=a[1],e[20]=a[2],a})},function(c){return d.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,e[21]=a[0],a})},function(c){return d.blobs.neq(e[18],void 0)?d.sequence([function(c){return e[24]=a[5].get("message_payload_encryption_keys"),e[25]=e[24].get("payload_key"),d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedData.nop"),e[25],d.blobs.of_string(["message_thread","_",a[1]].join("")),e[18]).then(function(a){return a=a,e[26]=a[0],a})},function(a){return d.blobs.neq(e[26],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[26]).then(function(a){return a=a,e[30]=a[0],a})},function(a){return e[27]=e[30]}]):d.resolve(e[27]=void 0)},function(b){return e[27]!==void 0?(e[21]!==void 0?(e[32]=new d.Map(),e[32].set("message_tags",e[21]),e[33]=new d.Map(),e[37]="message_tags",e[34]=e[32].get(e[37]),e[34]?e[35]=!1:e[35]=!0,e[35]?0:e[33].set(e[37],e[34]),e[36]=d.toJSON(e[33]),e[30]=e[36]):e[30]=void 0,e[31]=new d.Map(),e[31].set("backup_action",a[0]),e[31].set("protobuf_encrypted",e[27]),e[31].set("supplemental_data_encrypted",void 0),e[31].set("timestamp_ms",a[4]),e[31].set("message_tags",e[30]),e[31].set("serialized_attachment_backup_payload",void 0),b=[e[31],void 0],e[28]=b[0],e[29]=b[1],b):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ENCRYPTION_FAILED"),e[30]=new d.Map(),e[30].set("error_code",d.i64.cast([0,62])),e[30].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[30].set("error_message",""),b=[void 0,e[30]],e[28]=b[0],e[29]=b[1],b),b=[e[28],e[29]],e[22]=b[0],e[23]=b[1],b}]):d.resolve((e[20]?(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ALREADY_DELETED"),e[26]=new d.Map(),e[26].set("error_code",d.i64.cast([0,70])),e[26].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[26].set("error_message",""),c=[void 0,e[26]],e[24]=c[0],e[25]=c[1],c):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_TOPLEVEL_TABLE"),e[26]=new d.Map(),e[26].set("error_code",d.i64.cast([0,63])),e[26].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[26].set("error_message",""),c=[void 0,e[26]],e[24]=c[0],e[25]=c[1],c),c=[e[24],e[25]],e[22]=c[0],e[23]=c[1],c))},function(a){return a=[e[22],e[23]],e[16]=a[0],e[17]=a[1],a}]):d.resolve((d.i64.eq(a[0],d.i64.cast([0,3]))?(e[20]=new d.Map(),e[20].set("backup_action",a[0]),e[20].set("protobuf_encrypted",void 0),e[20].set("supplemental_data_encrypted",void 0),e[20].set("timestamp_ms",a[4]),e[20].set("message_tags",void 0),e[20].set("serialized_attachment_backup_payload",void 0),c=[e[20],void 0],e[18]=c[0],e[19]=c[1],c):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error UNKNOWN"),e[20]=new d.Map(),e[20].set("error_code",d.i64.cast([0,603])),e[20].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[20].set("error_message",""),c=[void 0,e[20]],e[18]=c[0],e[19]=c[1],c),c=[e[18],e[19]],e[16]=c[0],e[17]=c[1],c))},function(a){return a=[e[16],e[17]],e[14]=a[0],e[15]=a[1],a}])},function(a){return a=[e[14],e[15]],e[12]=a[0],e[13]=a[1],a}])},function(a){return a=[e[12],e[13]],e[3]=a[0],e[4]=a[1],a}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error NOT_SUPPORTED_ON_WEB"),e[12]=new d.Map(),e[12].set("error_code",d.i64.cast([0,7])),e[12].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),e[12].set("error_message",""),f=[void 0,e[12]],e[3]=f[0],e[4]=f[1],f))},function(a){return e[5]=d.i64.of_float(Date.now()),e[6]=d.i64.random(),e[9]="Finishing execution. Execution time: ",e[10]=d.i64.to_string(d.i64.sub(e[5],e[0])),e[11]=" ms",e[7]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][loadAndEncryptProtobufWithInputsV2] ",e[7],e[9],e[7],e[10],e[7],e[11]].join("")),d.i64.eq(d.i64.mod_(e[6],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[12]=",",e[13]=d.createArray(),void 0!==void 0?e[14]=(e[13].push(void 0),e[13]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"loadAndEncryptProtobufWithInputsV2",[e[9],e[12],e[10],e[12],e[11]].join(""),e[13],d.i64.cast([0,4]))):d.resolve()},function(a){return a=[e[3],e[4]],f[0]=a[0],f[1]=a[1],a}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure";a.__tables__=[];d=a;g["default"]=d}),98);
__d("LSLoadAndEncryptProtobufV2",["LSLoadAndEncryptProtobufWithInputsV2","LSLogMebClientEvent.nop","gkx","qex"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(f){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][loadAndEncryptProtobufV2] Beginning execution."),e[1]=d.i64.of_float(Date.now()),e[8]=function(a){return a==void 0?void 0:a}(c("qex")._("1526")),e[8]!==void 0?e[2]=e[8]:e[2]=!1,(c("gkx")("23657")||c("gkx")("26375"))&&(e[2]||c("gkx")("26377")||c("gkx")("687"))?d.sequence([function(c){return d.filter(d.db.table(305).fetch(),function(b){return d.i64.eq(b.pendingBackupTaskId,a[0])}).next().then(function(c,f){var g=c.done;c=c.value;return g?(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufV2StoredProcedure] Returning error PROTOBUF_CONTEXT_ROW_NOT_FOUND"),e[15]=new d.Map(),e[15].set("error_code",d.i64.cast([0,67])),e[15].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufV2StoredProcedure"),e[15].set("error_message",""),g=[void 0,e[15]],e[12]=g[0],e[13]=g[1],g):(f=c.item,d.sequence([function(c){return d.storedProcedure(b("LSLoadAndEncryptProtobufWithInputsV2"),f.backupAction,a[2],f.toplevelOfflineThreadingId,f.supplementalKey,f.messageTimestampMs,a[1]).then(function(a){return a=a,e[15]=a[0],e[16]=a[1],a})},function(a){return a=[e[15],e[16]],e[12]=a[0],e[13]=a[1],a}]))})},function(a){return a=[e[12],e[13]],e[3]=a[0],e[4]=a[1],a}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufV2StoredProcedure] Returning error NOT_SUPPORTED_ON_WEB"),e[12]=new d.Map(),e[12].set("error_code",d.i64.cast([0,7])),e[12].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufV2StoredProcedure"),e[12].set("error_message",""),f=[void 0,e[12]],e[3]=f[0],e[4]=f[1],f))},function(a){return e[5]=d.i64.of_float(Date.now()),e[6]=d.i64.random(),e[9]="Finishing execution. Execution time: ",e[10]=d.i64.to_string(d.i64.sub(e[5],e[0])),e[11]=" ms",e[7]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][loadAndEncryptProtobufV2] ",e[7],e[9],e[7],e[10],e[7],e[11]].join("")),d.i64.eq(d.i64.mod_(e[6],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[12]=",",e[13]=d.createArray(),void 0!==void 0?e[14]=(e[13].push(void 0),e[13]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"loadAndEncryptProtobufV2",[e[9],e[12],e[10],e[12],e[11]].join(""),e[13],d.i64.cast([0,4]))):d.resolve()},function(a){return a=[e[3],e[4]],f[0]=a[0],f[1]=a[1],a}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSEncryptedBackupsLoadAndEncryptProtobufV2StoredProcedure";a.__tables__=["pending_protobuf_backups_context"];d=a;g["default"]=d}),98);
__d("LSSerializeBackupPayloadV2",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSDeriveValueSecretRefV2","LSEncryptIdentifiersV2","LSEncryptMessagePayloadV2","LSGetBlobFromString.nop","LSGetLatestEpochKeys","LSIsEncryptionVersionSecure","LSIsMobileClient","LSLoadAndEncryptProtobufV2","LSLogMebClientEvent.nop","LSLogWebQpl.nop","gkx","justknobx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(f){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][serializeBackupPayloadV2] Beginning execution."),e[1]=d.i64.of_float(Date.now()),e[9]=d.i64.mul(e[1],d.i64.cast([0,1e6])),(c("gkx")("23657")||c("gkx")("26375"))&&c("justknobx")._("1071")?d.sequence([function(f){return d.islc(d.filter(d.db.table(168).fetch(),function(a){return d.i64.eq(a.authorityLevel,d.i64.cast([0,80]))||!1}),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(f,g){var h=f.done;f=f.value;return h?d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[30]=d.i64.of_float(Date.now()),b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[30],d.i64.cast([0,1e6])),e[9]),void 0],e[18]=b[0],e[19]=b[1],e[20]=b[2],e[21]=b[3],e[22]=b[4],e[23]=b[5],e[24]=b[6],b):(f=c.item,e[30]=d.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[30],d.i64.cast([0,1e6])),e[9]),void 0],e[18]=b[0],e[19]=b[1],e[20]=b[2],e[21]=b[3],e[22]=b[4],e[23]=b[5],e[24]=b[6],b)})},function(a){return e[26]=new d.Map(),e[26].set("task_id",e[18]),e[26].set("queue_name",e[19]),e[26].set("enqueue_timestamp_ms",e[20]),e[26].set("priority",e[21]),e[26].set("first_executed_timestamp_ms",e[22]),e[26].set("execution_time_ns",e[23]),e[26].set("echo_encoding_execution_time_ns",e[24]),e[27]=new d.Map(),e[27].set("task_metadata",e[26]),e[27].set("action_type",void 0),e[27].set("content_type",void 0),e[27].set("identifiers",void 0),e[27].set("identifiers_v2",void 0),e[27].set("task_creation_source",void 0),e[27].set("message_payload_source",d.i64.cast([0,2])),e[28]=new d.Map(),e[28].set("error_code",d.i64.cast([0,1])),e[28].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[28].set("error_message",""),e[29]=d.createArray(),a=[void 0,e[28],e[27],e[29]],e[13]=a[0],e[14]=a[1],e[15]=a[2],e[16]=a[3],a}]):(g=f.item,d.sequence([function(a){return e[28]=g.mailboxRootKeyBlob,e[29]=g.deviceId,e[27]=g.backupTenancy,e[26]=g.encryptionVersion,e[18]=void 0,d.i64.neq(e[18],void 0)?d.resolve(e[19]=e[18]):d.sequence([function(a){return e[30]=d.createArray(),d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[31]=a[0],a})},function(a){return e[31]?e[40]=(e[30].push(d.i64.cast([0,0])),e[30]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[32]=a[0],a})},function(a){return e[32]?e[40]=(e[30].push(d.i64.cast([0,2])),e[30]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[33]=a[0],a})},function(a){return e[33]?e[40]=(e[30].push(d.i64.cast([0,3])),e[30]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[34]=a[0],a})},function(a){return e[34]?e[40]=(e[30].push(d.i64.cast([0,4])),e[30]):0,e[35]=d.createArray(),e[36]=d.i64.of_int32(e[30].length),d.i64.gt(e[36],d.i64.cast([0,0]))?d.loopAsync(e[36],function(a){return e[40]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[30],e[40]).then(function(a){return a=a,e[41]=a[0],e[42]=a[1],a})},function(a){return e[43]=(e[35].push(e[41]),e[35])}])}):d.resolve()},function(a){return d.sequence([function(a){return e[40]=d.createArray(),e[41]=d.i64.of_int32(e[35].length),d.i64.gt(e[41],d.i64.cast([0,0]))?d.loopAsync(e[41],function(a){return e[43]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[35],e[43]).then(function(a){return a=a,e[44]=a[0],e[45]=a[1],a})},function(a){return e[46]=(e[40].push(d.i64.to_string(e[44])),e[40])}])}):d.resolve()},function(a){return e[42]=e[40].join(","),e[37]=e[42]}])},function(a){return e[35].some(function(a){return d.i64.eq(e[26],a)})?e[38]=e[26]:e[38]=void 0,d.i64.neq(e[38],void 0)?e[39]=e[38]:e[39]=void 0,e[19]=e[39]}])},function(f){return d.i64.neq(e[19],void 0)?e[20]=e[19]:e[20]=d.i64.cast([0,0]),d.i64.neq(e[27],void 0)?e[21]=e[27]:e[21]=d.i64.cast([0,1]),d.i64.neq(e[29],void 0)?d.sequence([function(f){return d.db.table(177).fetch([[[a[0]]],"fk_pending_tasks"]).next().then(function(i,j){var f=i.done;i=i.value;return f?d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[47]=d.i64.of_float(Date.now()),b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[47],d.i64.cast([0,1e6])),e[9]),void 0],e[35]=b[0],e[36]=b[1],e[37]=b[2],e[38]=b[3],e[39]=b[4],e[40]=b[5],e[41]=b[6],b):(f=c.item,e[47]=d.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[47],d.i64.cast([0,1e6])),e[9]),void 0],e[35]=b[0],e[36]=b[1],e[37]=b[2],e[38]=b[3],e[39]=b[4],e[40]=b[5],e[41]=b[6],b)})},function(a){return e[43]=new d.Map(),e[43].set("task_id",e[35]),e[43].set("queue_name",e[36]),e[43].set("enqueue_timestamp_ms",e[37]),e[43].set("priority",e[38]),e[43].set("first_executed_timestamp_ms",e[39]),e[43].set("execution_time_ns",e[40]),e[43].set("echo_encoding_execution_time_ns",e[41]),e[44]=new d.Map(),e[44].set("task_metadata",e[43]),e[44].set("action_type",void 0),e[44].set("content_type",void 0),e[44].set("identifiers",void 0),e[44].set("identifiers_v2",void 0),e[44].set("task_creation_source",void 0),e[44].set("message_payload_source",d.i64.cast([0,2])),e[45]=new d.Map(),e[45].set("error_code",d.i64.cast([0,5])),e[45].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[45].set("error_message","Pending backup context row not found"),e[46]=d.createArray(),a=[void 0,e[45],e[44],e[46]],e[30]=a[0],e[31]=a[1],e[32]=a[2],e[33]=a[3],a}]):(j=i.item,d.sequence([function(f){return e[40]=j.actionType,e[41]=j.contentType,e[45]=j.echoContent,e[43]=j.lsTraceId,e[44]=j.echoEncodingLatencyNs,e[42]=j.attachmentPayload,e[46]=j.tamThreadSubtype,e[47]=j.isInstamadillo,e[35]=new d.Map(),e[35].set("backup_id",d.i64.to_string(g.backupId)),e[35].set("act_thread_id",j.listKey),e[35].set("timestamp",j.sortKey),e[35].set("otid",j.uniqueKey),e[48]=j.error==null?d.i64.cast([0,0]):j.error,d.i64.eq(e[48],d.i64.cast([0,0]))?d.sequence([function(a){return e[49]=e[35].get("act_thread_id"),e[50]=e[35].get("otid"),d.storedProcedure(b("LSGetLatestEpochKeys"),!1).then(function(a){return a=a,e[51]=a[0],e[52]=a[1],a})},function(a){return e[51]!==void 0?d.sequence([function(a){return d.i64.eq(e[41],d.i64.cast([0,1]))?d.sequence([function(a){return e[62]=d.createArray(),e[67]=(e[62].push(d.i64.cast([0,32])),e[62]),d.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",e[49]].join("")).then(function(a){return a=a,e[63]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),e[63],void 0,e[28],e[62]).then(function(a){return a=a,e[64]=a[0],a})},function(a){return e[64]?e[65]=!1:e[65]=!0,e[65]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),e[67]=d.createArray(),void 0!==void 0?e[68]=(e[67].push(void 0),e[67]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","Got null keys while deriving message list OPE key. Returning null blobish",e[67],d.i64.cast([0,3]))},function(a){return e[66]=void 0}]):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[64],d.i64.cast([0,0])).then(function(a){return a=a,e[67]=a[0],e[68]=a[1],a})},function(a){return e[66]=e[67]}])},function(a){return e[59]=e[66]}]):d.sequence([function(a){return d.i64.eq(e[40],d.i64.cast([0,2]))?d.sequence([function(a){return e[63]=d.createArray(),e[68]=(e[63].push(d.i64.cast([0,32])),e[63]),d.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",e[50]].join("")).then(function(a){return a=a,e[64]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),e[64],void 0,e[28],e[63]).then(function(a){return a=a,e[65]=a[0],a})},function(a){return e[65]?e[66]=!1:e[66]=!0,e[66]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),e[68]=d.createArray(),void 0!==void 0?e[69]=(e[68].push(void 0),e[68]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","Got null keys while deriving message list OPE key. Returning null blobish",e[68],d.i64.cast([0,3]))},function(a){return e[67]=void 0}]):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[65],d.i64.cast([0,0])).then(function(a){return a=a,e[68]=a[0],e[69]=a[1],a})},function(a){return e[67]=e[68]}])},function(a){return e[62]=e[67]}]):d.resolve(e[62]=void 0)},function(a){return e[59]=e[62]}])},function(a){return d.blobs.neq(e[59],void 0)?d.sequence([function(a){return e[62]=e[51].get("epoch_keys"),e[63]=e[62].get("epoch_anon_id"),e[64]=e[62].get("epoch_root_key"),e[65]=d.createArray(),e[76]=(e[65].push(d.i64.cast([0,32])),e[65]),d.i64.ge(e[20],d.i64.cast([0,3]))?d.resolve(e[66]=void 0):d.sequence([function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),e[49]).then(function(a){return a=a,e[76]=a[0],a})},function(a){return e[66]=e[76]}])},function(a){return d.i64.ge(e[20],d.i64.cast([0,4]))?(e[76]="_",e[67]=["message_key_in_epoch",e[76],d.blobs.to_string(e[63]),e[76],"cipher_version",e[76],d.i64.to_string(e[20]),e[76],"thread",e[76],e[49]==null?"":e[49]].join("")):(d.i64.ge(e[20],d.i64.cast([0,3]))?(e[77]="_",e[76]=["message_key_in_epoch",e[77],d.blobs.to_string(e[63]),e[77],"cipher_version",e[77],d.i64.to_string(e[20]),e[77],"thread",e[77],e[49]==null?"":e[49]].join("")):(d.i64.ge(e[20],d.i64.cast([0,2]))?(e[78]="_",e[77]=["message_key_in_epoch",e[78],d.blobs.to_string(e[63]),e[78],"cipher_version",e[78],d.i64.to_string(e[20])].join("")):e[77]=["message_key_in_epoch","_",d.blobs.to_string(e[63])].join(""),e[76]=e[77]),e[67]=e[76]),d.nativeOperation(b("LSGetBlobFromString.nop"),e[67]).then(function(a){return a=a,e[68]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),e[68],e[66],e[64],e[65]).then(function(a){return a=a,e[69]=a[0],a})},function(a){return e[69]?e[70]=!1:e[70]=!0,e[70]?d.resolve(e[71]=void 0):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[69],d.i64.cast([0,0])).then(function(a){return a=a,e[76]=a[0],e[77]=a[1],a})},function(a){return e[71]=e[76]}])},function(a){return d.filter(d.db.table(169).fetch(),function(a){return d.blobs.eq(a.epochAnonIdBlob,d.blob("MA=="))}).next().then(function(c,f){var a=c.done;c=c.value;return a?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTableUtils] Failed to get mailbox_root_key_v2: epoch 0 is not available."),e[76]=d.createArray(),void 0!==void 0?e[77]=(e[76].push(void 0),e[76]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTableUtils","Failed to get mailbox_root_key_v2: epoch 0 is not available.",e[76],d.i64.cast([0,3]))},function(a){return e[72]=void 0}]):(f=c.item,d.sequence([function(a){return e[76]=d.createArray(),e[84]=(e[76].push(d.i64.cast([0,32])),e[76]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleT5zYWx0X21haWxib3hfcm9vdF9rZXlfdjI="),void 0,e[28],e[76]).then(function(a){return a=a,e[77]=a[0],a})},function(a){return e[77]!==void 0?d.sequence([function(a){return e[84]=d.i64.of_int32(e[77].length),d.i64.ge(e[84],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[77],d.i64.cast([0,0])).then(function(a){return a=a,e[86]=a[0],e[87]=a[1],a})},function(a){return e[85]=e[86]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[86]=d.createArray(),void 0!==void 0?e[87]=(e[86].push(void 0),e[86]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",e[86],d.i64.cast([0,3]))},function(a){return e[85]=void 0}])},function(a){return e[78]=e[85]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[84]=d.createArray(),void 0!==void 0?e[85]=(e[84].push(void 0),e[84]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",e[84],d.i64.cast([0,3]))},function(a){return e[78]=void 0}])},function(a){return d.blobs.neq(e[78],void 0)?e[79]=!0:e[79]=!1,e[79]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[80]=d.createArray(),e[84]=(e[80].push(d.i64.cast([0,32])),e[80]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleT5tYWlsYm94X3Jvb3Rfa2V5X3Yy"),e[78],f.epochRootKeyBlob,e[80]).then(function(a){return a=a,e[81]=a[0],a})},function(a){return e[81]!==void 0?d.sequence([function(a){return e[84]=d.i64.of_int32(e[81].length),d.i64.ge(e[84],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[81],d.i64.cast([0,0])).then(function(a){return a=a,e[86]=a[0],e[87]=a[1],a})},function(a){return e[85]=e[86]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[86]=d.createArray(),void 0!==void 0?e[87]=(e[86].push(void 0),e[86]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",e[86],d.i64.cast([0,3]))},function(a){return e[85]=void 0}])},function(a){return e[82]=e[85]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[84]=d.createArray(),void 0!==void 0?e[85]=(e[84].push(void 0),e[84]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",e[84],d.i64.cast([0,3]))},function(a){return e[82]=void 0}])},function(a){return d.blobs.neq(e[82],void 0)?e[83]=!0:e[83]=!1,e[83]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[72]=e[82]}]))})},function(a){return d.blobs.neq(e[71],void 0)?d.sequence([function(a){return d.blobs.neq(e[72],void 0)?d.sequence([function(a){return e[82]=d.createArray(),e[86]=(e[82].push(d.i64.cast([0,32])),e[82]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleV92Mj5mYWxsYmFja19rZXk="),void 0,e[72],e[82]).then(function(a){return a=a,e[83]=a[0],a})},function(a){return e[83]!==void 0?d.sequence([function(a){return e[86]=d.i64.of_int32(e[83].length),d.i64.ge(e[86],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[83],d.i64.cast([0,0])).then(function(a){return a=a,e[88]=a[0],e[89]=a[1],a})},function(a){return e[87]=e[88]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[88]=d.createArray(),void 0!==void 0?e[89]=(e[88].push(void 0),e[88]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",e[88],d.i64.cast([0,3]))},function(a){return e[87]=void 0}])},function(a){return e[84]=e[87]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[86]=d.createArray(),void 0!==void 0?e[87]=(e[86].push(void 0),e[86]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",e[86],d.i64.cast([0,3]))},function(a){return e[84]=void 0}])},function(a){return d.blobs.neq(e[84],void 0)?e[85]=!0:e[85]=!1,e[85]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[76]=e[84]}]):d.resolve(e[76]=void 0)},function(a){return e[77]=e[62].get("epoch_root_key"),e[78]=e[62].get("epoch_anon_id"),e[79]=e[62].get("epoch_id"),e[80]=new d.Map(),e[80].set("payload_key",e[71]),e[80].set("payload_fallback_key",e[76]),e[80].set("encryption_version",e[20]),e[80].set("epoch_root_key",e[77]),e[80].set("epoch_anon_id",e[78]),e[80].set("epoch_id",e[79]),e[81]=new d.Map(),e[81].set("ope_key",e[59]),e[81].set("message_payload_encryption_keys",e[80]),e[81].set("ocmf_shared_key",g.ocmfClientStateBlob),e[81].set("mailbox_base_salt",e[28]),e[81].set("mailbox_root_key_v2",e[72]),a=[e[81],void 0],e[74]=a[0],e[75]=a[1],a}]):d.resolve((e[76]=new d.Map(),e[76].set("error_code",d.i64.cast([0,26])),e[76].set("stored_procedure","MEBKeyDeriver"),e[76].set("error_message",""),a=[void 0,e[76]],e[74]=a[0],e[75]=a[1],a))},function(a){return a=[e[74],e[75]],e[60]=a[0],e[61]=a[1],a}]):d.resolve((e[62]=new d.Map(),e[62].set("error_code",d.i64.cast([0,25])),e[62].set("stored_procedure","MEBKeyDeriver"),e[62].set("error_message",""),a=[void 0,e[62]],e[60]=a[0],e[61]=a[1],a))},function(a){return a=[e[60],e[61]],e[53]=a[0],e[54]=a[1],a}]):d.resolve((a=[void 0,e[52]],e[53]=a[0],e[54]=a[1],a))},function(f){return e[53]!==void 0?d.sequence([function(a){return e[59]=e[35].get("backup_id"),e[60]=e[35].get("act_thread_id"),e[61]=e[35].get("timestamp"),e[62]=e[35].get("otid"),d.storedProcedure(b("LSEncryptIdentifiersV2"),e[40],e[41],e[59],e[60],d.i64.from_string(e[61]),e[62],e[53]).then(function(a){return a=a,e[63]=a[0],e[64]=a[1],a})},function(f){return e[63]!==void 0?d.sequence([function(c){return e[69]=e[35].get("act_thread_id"),d.storedProcedure(b("LSLoadAndEncryptProtobufV2"),a[0],e[53],e[69]).then(function(a){return a=a,e[70]=a[0],e[71]=a[1],a})},function(f){return c("gkx")("14")&&e[70]!==void 0?d.sequence([function(a){return e[76]=e[35].get("act_thread_id"),e[77]=e[35].get("backup_id"),d.storedProcedure(b("LSDeriveValueSecretRefV2"),e[76],e[77],e[53]).then(function(a){return a=a,e[78]=a[0],e[79]=a[1],a})},function(c){return e[70]!==void 0?d.sequence([function(c){return e[78]!==void 0?d.sequence([function(a){return e[88]=e[78].get("value_secret_ref"),e[89]=e[63].get("act_thread_id_ocmf_partial"),e[90]=e[63].get("otid_ocmf_partial"),e[91]=e[63].get("timestamp_encrypted"),e[92]=new d.Map(),e[92].set("list_key",e[89]),e[92].set("unique_key",e[90]),e[92].set("sort_key",e[91]),void 0!==void 0?(e[124]=(void 0).get("encrypted_message_payload"),e[125]=(void 0).get("value_secret_ref"),e[126]=new d.Map(),e[126].set("value",e[124]),e[126].set("value_secret_ref",e[125]),e[93]=e[126]):e[93]=void 0,e[94]=new d.Map(),e[94].set("list_item_id",e[92]),e[94].set("list_item",e[93]),e[94].set("action_type",e[40]),e[95]=e[35].get("timestamp"),e[96]=e[35].get("otid"),e[97]=e[35].get("act_thread_id"),e[98]=new d.Map(),e[98].set("timestamp",e[95]),e[98].set("otid",e[96]),e[98].set("wa_thread_id",d.i64.from_string(e[97])),e[99]=e[53].get("mailbox_base_salt"),d.nativeOperation(b("LSBase64Encode.nop"),e[99]).then(function(a){return a=a,e[100]=a[0],a})},function(a){return e[101]=e[53].get("ocmf_shared_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[101]).then(function(a){return a=a,e[102]=a[0],a})},function(a){return e[103]=new d.Map(),e[103].set("mailbox_root_key",e[100]==null?"":e[100]),e[103].set("ocmf_client_state_blob",e[102]==null?"":e[102]),e[104]=e[63].get("backup_id_ocmf_partial"),e[105]=e[53].get("message_payload_encryption_keys"),e[106]=e[105].get("epoch_id"),e[107]=e[53].get("message_payload_encryption_keys"),e[108]=e[107].get("encryption_version"),e[123]=e[43]==null?"":e[43],e[109]=new d.Map(),e[109].set("mailbox_partial_id",e[104]),e[109].set("action",e[94]),e[109].set("device_id",e[29]),e[109].set("echo_version",d.i64.cast([0,0])),e[109].set("epoch_id",e[106]),e[109].set("trace_id",void 0),e[109].set("encryption_version",e[108]),e[109].set("is_thread",d.i64.eq(e[41],d.i64.cast([0,2]))),e[109].set("raw_identifiers",e[98]),e[109].set("raw_tokens",e[103]),e[109].set("request_id",e[123]),e[109].set("tam_thread_subtype",e[46]==null?d.i64.cast([0,0]):e[46]),e[109].set("is_instamadillo",e[47]==null?!1:e[47]),e[109].set("empty_echo_payload_reason",d.i64.cast([0,1])),e[109].set("value_secret_ref",e[88]),e[70]!==void 0?d.sequence([function(a){return e[124]=e[70].get("supplemental_data_encrypted"),e[124]!==void 0?d.sequence([function(a){return e[126]=e[70].get("protobuf_encrypted"),e[127]=e[70].get("backup_action"),e[128]=e[70].get("timestamp_ms"),e[129]=e[124].get("sk_ciphertext"),d.nativeOperation(b("LSBase64Encode.nop"),e[129]).then(function(a){return a=a,e[130]=a[0],a})},function(a){return e[131]=e[124].get("sk_hash"),d.nativeOperation(b("LSBase64Encode.nop"),e[131]).then(function(a){return a=a,e[132]=a[0],a})},function(a){return e[133]=e[70].get("message_tags"),e[134]=new d.Map(),e[134].set("supplementary_data_key",void 0),e[134].set("encrypted_protobuf",e[126]),e[134].set("key_value_backup_action",e[127]),e[134].set("protobuf_ts_ms",e[128]),e[134].set("supplemental_key_ciphertext",e[130]),e[134].set("supplemental_key_hash",e[132]),e[134].set("message_tags",e[133]),e[125]=e[134]}]):d.resolve((e[126]=e[70].get("protobuf_encrypted"),e[127]=e[70].get("backup_action"),e[128]=e[70].get("timestamp_ms"),e[129]=e[70].get("message_tags"),e[130]=new d.Map(),e[130].set("supplementary_data_key",void 0),e[130].set("encrypted_protobuf",e[126]),e[130].set("key_value_backup_action",e[127]),e[130].set("protobuf_ts_ms",e[128]),e[130].set("message_tags",e[129]),e[125]=e[130]))},function(a){return e[109].set("key_value_backup_payload",e[125])}]):d.resolve()},function(a){return e[42]!==void 0?e[109].set("attachment_backup_payload",e[42]):function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure] attachment_payload is null."),e[123]!==void 0?d.nativeOperation(b("LSLogWebQpl.nop"),e[123],d.i64.cast([0,521481602]),"upload_start",d.i64.cast([0,0]),void 0,void 0):d.resolve()},function(a){return d.sequence([function(a){return e[43]!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),e[43],d.i64.cast([0,1463]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[124]=a[0],a})},function(a){return e[124]?e[125]=!0:e[125]=!1,e[125]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[126]=d.createArray(),void 0!==void 0?e[127]=(e[126].push(void 0),e[126]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",e[126],d.i64.cast([0,3]))):d.resolve()}])},function(b){return e[110]=d.toJSON(e[109]),d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[124]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[125]=void 0:e[125]=e[44],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[124],d.i64.cast([0,1e6])),e[9]),e[125]],e[111]=b[0],e[112]=b[1],e[113]=b[2],e[114]=b[3],e[115]=b[4],e[116]=b[5],e[117]=b[6],b):(f=c.item,e[124]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[125]=void 0:e[125]=e[44],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[124],d.i64.cast([0,1e6])),e[9]),e[125]],e[111]=b[0],e[112]=b[1],e[113]=b[2],e[114]=b[3],e[115]=b[4],e[116]=b[5],e[117]=b[6],b)})},function(a){return e[119]=new d.Map(),e[119].set("task_id",e[111]),e[119].set("queue_name",e[112]),e[119].set("enqueue_timestamp_ms",e[113]),e[119].set("priority",e[114]),e[119].set("first_executed_timestamp_ms",e[115]),e[119].set("execution_time_ns",e[116]),e[119].set("echo_encoding_execution_time_ns",e[117]),e[120]=new d.Map(),e[120].set("task_metadata",e[119]),e[120].set("action_type",e[40]),e[120].set("content_type",e[41]),e[120].set("identifiers",void 0),e[120].set("identifiers_v2",e[35]),e[120].set("task_creation_source",void 0),e[120].set("message_payload_source",d.i64.cast([0,2])),e[121]=new d.Map(),e[121].set("payload",e[110]),e[122]=d.createArray(),e[124]=(e[122].push(void 0),e[122]),a=[e[121],void 0,e[120],e[122]],e[84]=a[0],e[85]=a[1],e[86]=a[2],e[87]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[99]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[100]=void 0:e[100]=e[44],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[99],d.i64.cast([0,1e6])),e[9]),e[100]],e[88]=b[0],e[89]=b[1],e[90]=b[2],e[91]=b[3],e[92]=b[4],e[93]=b[5],e[94]=b[6],b):(f=c.item,e[99]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[100]=void 0:e[100]=e[44],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[99],d.i64.cast([0,1e6])),e[9]),e[100]],e[88]=b[0],e[89]=b[1],e[90]=b[2],e[91]=b[3],e[92]=b[4],e[93]=b[5],e[94]=b[6],b)})},function(a){return e[96]=new d.Map(),e[96].set("task_id",e[88]),e[96].set("queue_name",e[89]),e[96].set("enqueue_timestamp_ms",e[90]),e[96].set("priority",e[91]),e[96].set("first_executed_timestamp_ms",e[92]),e[96].set("execution_time_ns",e[93]),e[96].set("echo_encoding_execution_time_ns",e[94]),e[97]=new d.Map(),e[97].set("task_metadata",e[96]),e[97].set("action_type",e[40]),e[97].set("content_type",e[41]),e[97].set("identifiers",void 0),e[97].set("identifiers_v2",e[35]),e[97].set("task_creation_source",void 0),e[97].set("message_payload_source",d.i64.cast([0,2])),e[98]=d.createArray(),e[99]=(e[98].push(void 0),e[98]),a=[void 0,e[79],e[97],e[98]],e[84]=a[0],e[85]=a[1],e[86]=a[2],e[87]=a[3],a}])},function(a){return a=[e[84],e[85],e[86],e[87]],e[80]=a[0],e[81]=a[1],e[82]=a[2],e[83]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[95]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[96]=void 0:e[96]=e[44],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[95],d.i64.cast([0,1e6])),e[9]),e[96]],e[84]=b[0],e[85]=b[1],e[86]=b[2],e[87]=b[3],e[88]=b[4],e[89]=b[5],e[90]=b[6],b):(f=c.item,e[95]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[96]=void 0:e[96]=e[44],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[95],d.i64.cast([0,1e6])),e[9]),e[96]],e[84]=b[0],e[85]=b[1],e[86]=b[2],e[87]=b[3],e[88]=b[4],e[89]=b[5],e[90]=b[6],b)})},function(a){return e[92]=new d.Map(),e[92].set("task_id",e[84]),e[92].set("queue_name",e[85]),e[92].set("enqueue_timestamp_ms",e[86]),e[92].set("priority",e[87]),e[92].set("first_executed_timestamp_ms",e[88]),e[92].set("execution_time_ns",e[89]),e[92].set("echo_encoding_execution_time_ns",e[90]),e[93]=new d.Map(),e[93].set("task_metadata",e[92]),e[93].set("action_type",e[40]),e[93].set("content_type",e[41]),e[93].set("identifiers",void 0),e[93].set("identifiers_v2",e[35]),e[93].set("task_creation_source",void 0),e[93].set("message_payload_source",d.i64.cast([0,2])),e[94]=d.createArray(),e[95]=(e[94].push(e[71]),e[94]),a=[void 0,void 0,e[93],e[94]],e[80]=a[0],e[81]=a[1],e[82]=a[2],e[83]=a[3],a}])},function(a){return a=[e[80],e[81],e[82],e[83]],e[72]=a[0],e[73]=a[1],e[74]=a[2],e[75]=a[3],a}]):d.sequence([function(c){return d.i64.eq(e[40],d.i64.cast([0,1]))?(e[84]=e[45]===""?void 0:e[45],e[84]!==void 0?(c=[e[84],void 0],e[82]=c[0],e[83]=c[1],c):(e[85]=new d.Map(),e[85].set("error_code",d.i64.cast([0,30])),e[85].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[85].set("error_message",""),c=[void 0,e[85]],e[82]=c[0],e[83]=c[1],c),c=[e[82],e[83]],e[76]=c[0],e[77]=c[1],c):(c=["",void 0],e[76]=c[0],e[77]=c[1],c),e[76]!==void 0?d.sequence([function(a){return d.i64.eq(e[40],d.i64.cast([0,1]))?d.sequence([function(a){return e[88]=e[35].get("backup_id"),e[89]=e[35].get("act_thread_id"),d.storedProcedure(b("LSEncryptMessagePayloadV2"),e[88],e[89],e[53],e[76]).then(function(a){return a=a,e[90]=a[0],e[91]=a[1],a})},function(a){return a=[e[90],e[91]],e[82]=a[0],e[83]=a[1],a}]):d.resolve((e[88]=new d.Map(),e[88].set("encrypted_message_payload",""),e[88].set("value_secret_ref",""),a=[e[88],void 0],e[82]=a[0],e[83]=a[1],a))},function(c){return e[82]!==void 0?d.sequence([function(a){return e[88]=e[63].get("act_thread_id_ocmf_partial"),e[89]=e[63].get("otid_ocmf_partial"),e[90]=e[63].get("timestamp_encrypted"),e[91]=new d.Map(),e[91].set("list_key",e[88]),e[91].set("unique_key",e[89]),e[91].set("sort_key",e[90]),e[82]!==void 0?(e[123]=e[82].get("encrypted_message_payload"),e[124]=e[82].get("value_secret_ref"),e[125]=new d.Map(),e[125].set("value",e[123]),e[125].set("value_secret_ref",e[124]),e[92]=e[125]):e[92]=void 0,e[93]=new d.Map(),e[93].set("list_item_id",e[91]),e[93].set("list_item",e[92]),e[93].set("action_type",e[40]),e[94]=e[35].get("timestamp"),e[95]=e[35].get("otid"),e[96]=e[35].get("act_thread_id"),e[97]=new d.Map(),e[97].set("timestamp",e[94]),e[97].set("otid",e[95]),e[97].set("wa_thread_id",d.i64.from_string(e[96])),e[98]=e[53].get("mailbox_base_salt"),d.nativeOperation(b("LSBase64Encode.nop"),e[98]).then(function(a){return a=a,e[99]=a[0],a})},function(a){return e[100]=e[53].get("ocmf_shared_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[100]).then(function(a){return a=a,e[101]=a[0],a})},function(a){return e[102]=new d.Map(),e[102].set("mailbox_root_key",e[99]==null?"":e[99]),e[102].set("ocmf_client_state_blob",e[101]==null?"":e[101]),e[103]=e[63].get("backup_id_ocmf_partial"),e[104]=e[53].get("message_payload_encryption_keys"),e[105]=e[104].get("epoch_id"),e[106]=e[53].get("message_payload_encryption_keys"),e[107]=e[106].get("encryption_version"),e[122]=e[43]==null?"":e[43],e[108]=new d.Map(),e[108].set("mailbox_partial_id",e[103]),e[108].set("action",e[93]),e[108].set("device_id",e[29]),e[108].set("echo_version",d.i64.cast([0,0])),e[108].set("epoch_id",e[105]),e[108].set("trace_id",void 0),e[108].set("encryption_version",e[107]),e[108].set("is_thread",d.i64.eq(e[41],d.i64.cast([0,2]))),e[108].set("raw_identifiers",e[97]),e[108].set("raw_tokens",e[102]),e[108].set("request_id",e[122]),e[108].set("tam_thread_subtype",e[46]==null?d.i64.cast([0,0]):e[46]),e[108].set("is_instamadillo",e[47]==null?!1:e[47]),e[70]!==void 0?d.sequence([function(a){return e[123]=e[70].get("supplemental_data_encrypted"),e[123]!==void 0?d.sequence([function(a){return e[125]=e[70].get("protobuf_encrypted"),e[126]=e[70].get("backup_action"),e[127]=e[70].get("timestamp_ms"),e[128]=e[123].get("sk_ciphertext"),d.nativeOperation(b("LSBase64Encode.nop"),e[128]).then(function(a){return a=a,e[129]=a[0],a})},function(a){return e[130]=e[123].get("sk_hash"),d.nativeOperation(b("LSBase64Encode.nop"),e[130]).then(function(a){return a=a,e[131]=a[0],a})},function(a){return e[132]=e[70].get("message_tags"),e[133]=new d.Map(),e[133].set("supplementary_data_key",void 0),e[133].set("encrypted_protobuf",e[125]),e[133].set("key_value_backup_action",e[126]),e[133].set("protobuf_ts_ms",e[127]),e[133].set("supplemental_key_ciphertext",e[129]),e[133].set("supplemental_key_hash",e[131]),e[133].set("message_tags",e[132]),e[124]=e[133]}]):d.resolve((e[125]=e[70].get("protobuf_encrypted"),e[126]=e[70].get("backup_action"),e[127]=e[70].get("timestamp_ms"),e[128]=e[70].get("message_tags"),e[129]=new d.Map(),e[129].set("supplementary_data_key",void 0),e[129].set("encrypted_protobuf",e[125]),e[129].set("key_value_backup_action",e[126]),e[129].set("protobuf_ts_ms",e[127]),e[129].set("message_tags",e[128]),e[124]=e[129]))},function(a){return e[108].set("key_value_backup_payload",e[124])}]):d.resolve()},function(a){return e[42]!==void 0?e[108].set("attachment_backup_payload",e[42]):function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure] attachment_payload is null."),e[122]!==void 0?d.nativeOperation(b("LSLogWebQpl.nop"),e[122],d.i64.cast([0,521481602]),"upload_start",d.i64.cast([0,0]),void 0,void 0):d.resolve()},function(a){return d.sequence([function(a){return e[43]!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),e[43],d.i64.cast([0,1463]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[123]=a[0],a})},function(a){return e[123]?e[124]=!0:e[124]=!1,e[124]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[125]=d.createArray(),void 0!==void 0?e[126]=(e[125].push(void 0),e[125]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",e[125],d.i64.cast([0,3]))):d.resolve()}])},function(b){return e[109]=d.toJSON(e[108]),d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[123]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[124]=void 0:e[124]=e[44],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[123],d.i64.cast([0,1e6])),e[9]),e[124]],e[110]=b[0],e[111]=b[1],e[112]=b[2],e[113]=b[3],e[114]=b[4],e[115]=b[5],e[116]=b[6],b):(f=c.item,e[123]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[124]=void 0:e[124]=e[44],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[123],d.i64.cast([0,1e6])),e[9]),e[124]],e[110]=b[0],e[111]=b[1],e[112]=b[2],e[113]=b[3],e[114]=b[4],e[115]=b[5],e[116]=b[6],b)})},function(a){return e[118]=new d.Map(),e[118].set("task_id",e[110]),e[118].set("queue_name",e[111]),e[118].set("enqueue_timestamp_ms",e[112]),e[118].set("priority",e[113]),e[118].set("first_executed_timestamp_ms",e[114]),e[118].set("execution_time_ns",e[115]),e[118].set("echo_encoding_execution_time_ns",e[116]),e[119]=new d.Map(),e[119].set("task_metadata",e[118]),e[119].set("action_type",e[40]),e[119].set("content_type",e[41]),e[119].set("identifiers",void 0),e[119].set("identifiers_v2",e[35]),e[119].set("task_creation_source",void 0),e[119].set("message_payload_source",d.i64.cast([0,2])),e[120]=new d.Map(),e[120].set("payload",e[109]),e[121]=d.createArray(),e[123]=(e[121].push(e[71]),e[121]),a=[e[120],void 0,e[119],e[121]],e[84]=a[0],e[85]=a[1],e[86]=a[2],e[87]=a[3],a}]):d.sequence([function(b){return d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[103]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[104]=void 0:e[104]=e[44],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[103],d.i64.cast([0,1e6])),e[9]),e[104]],e[92]=b[0],e[93]=b[1],e[94]=b[2],e[95]=b[3],e[96]=b[4],e[97]=b[5],e[98]=b[6],b):(f=c.item,e[103]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[104]=void 0:e[104]=e[44],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[103],d.i64.cast([0,1e6])),e[9]),e[104]],e[92]=b[0],e[93]=b[1],e[94]=b[2],e[95]=b[3],e[96]=b[4],e[97]=b[5],e[98]=b[6],b)})},function(a){return e[100]=new d.Map(),e[100].set("task_id",e[92]),e[100].set("queue_name",e[93]),e[100].set("enqueue_timestamp_ms",e[94]),e[100].set("priority",e[95]),e[100].set("first_executed_timestamp_ms",e[96]),e[100].set("execution_time_ns",e[97]),e[100].set("echo_encoding_execution_time_ns",e[98]),e[101]=new d.Map(),e[101].set("task_metadata",e[100]),e[101].set("action_type",e[40]),e[101].set("content_type",e[41]),e[101].set("identifiers",void 0),e[101].set("identifiers_v2",e[35]),e[101].set("task_creation_source",void 0),e[101].set("message_payload_source",d.i64.cast([0,2])),e[102]=d.createArray(),e[103]=(e[102].push(e[71]),e[102]),a=[void 0,e[83],e[101],e[102]],e[88]=a[0],e[89]=a[1],e[90]=a[2],e[91]=a[3],a}])},function(a){return a=[e[88],e[89],e[90],e[91]],e[84]=a[0],e[85]=a[1],e[86]=a[2],e[87]=a[3],a}])},function(a){return a=[e[84],e[85],e[86],e[87]],e[78]=a[0],e[79]=a[1],e[80]=a[2],e[81]=a[3],a}]):d.sequence([function(b){return d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[97]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[98]=void 0:e[98]=e[44],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[97],d.i64.cast([0,1e6])),e[9]),e[98]],e[86]=b[0],e[87]=b[1],e[88]=b[2],e[89]=b[3],e[90]=b[4],e[91]=b[5],e[92]=b[6],b):(f=c.item,e[97]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[98]=void 0:e[98]=e[44],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[97],d.i64.cast([0,1e6])),e[9]),e[98]],e[86]=b[0],e[87]=b[1],e[88]=b[2],e[89]=b[3],e[90]=b[4],e[91]=b[5],e[92]=b[6],b)})},function(a){return e[94]=new d.Map(),e[94].set("task_id",e[86]),e[94].set("queue_name",e[87]),e[94].set("enqueue_timestamp_ms",e[88]),e[94].set("priority",e[89]),e[94].set("first_executed_timestamp_ms",e[90]),e[94].set("execution_time_ns",e[91]),e[94].set("echo_encoding_execution_time_ns",e[92]),e[95]=new d.Map(),e[95].set("task_metadata",e[94]),e[95].set("action_type",e[40]),e[95].set("content_type",e[41]),e[95].set("identifiers",void 0),e[95].set("identifiers_v2",e[35]),e[95].set("task_creation_source",void 0),e[95].set("message_payload_source",d.i64.cast([0,2])),e[96]=d.createArray(),e[97]=(e[96].push(e[71]),e[96]),a=[void 0,e[77],e[95],e[96]],e[82]=a[0],e[83]=a[1],e[84]=a[2],e[85]=a[3],a}])},function(a){return a=[e[82],e[83],e[84],e[85]],e[78]=a[0],e[79]=a[1],e[80]=a[2],e[81]=a[3],a}])},function(a){return a=[e[78],e[79],e[80],e[81]],e[72]=a[0],e[73]=a[1],e[74]=a[2],e[75]=a[3],a}])},function(a){return a=[e[72],e[73],e[74],e[75]],e[65]=a[0],e[66]=a[1],e[67]=a[2],e[68]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[80]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[81]=void 0:e[81]=e[44],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[80],d.i64.cast([0,1e6])),e[9]),e[81]],e[69]=b[0],e[70]=b[1],e[71]=b[2],e[72]=b[3],e[73]=b[4],e[74]=b[5],e[75]=b[6],b):(f=c.item,e[80]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[81]=void 0:e[81]=e[44],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[80],d.i64.cast([0,1e6])),e[9]),e[81]],e[69]=b[0],e[70]=b[1],e[71]=b[2],e[72]=b[3],e[73]=b[4],e[74]=b[5],e[75]=b[6],b)})},function(a){return e[77]=new d.Map(),e[77].set("task_id",e[69]),e[77].set("queue_name",e[70]),e[77].set("enqueue_timestamp_ms",e[71]),e[77].set("priority",e[72]),e[77].set("first_executed_timestamp_ms",e[73]),e[77].set("execution_time_ns",e[74]),e[77].set("echo_encoding_execution_time_ns",e[75]),e[78]=new d.Map(),e[78].set("task_metadata",e[77]),e[78].set("action_type",e[40]),e[78].set("content_type",e[41]),e[78].set("identifiers",void 0),e[78].set("identifiers_v2",e[35]),e[78].set("task_creation_source",void 0),e[78].set("message_payload_source",d.i64.cast([0,2])),e[79]=d.createArray(),e[80]=(e[79].push(void 0),e[79]),a=[void 0,e[64],e[78],e[79]],e[65]=a[0],e[66]=a[1],e[67]=a[2],e[68]=a[3],a}])},function(a){return a=[e[65],e[66],e[67],e[68]],e[55]=a[0],e[56]=a[1],e[57]=a[2],e[58]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[70]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[71]=void 0:e[71]=e[44],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[70],d.i64.cast([0,1e6])),e[9]),e[71]],e[59]=b[0],e[60]=b[1],e[61]=b[2],e[62]=b[3],e[63]=b[4],e[64]=b[5],e[65]=b[6],b):(f=c.item,e[70]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[71]=void 0:e[71]=e[44],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[70],d.i64.cast([0,1e6])),e[9]),e[71]],e[59]=b[0],e[60]=b[1],e[61]=b[2],e[62]=b[3],e[63]=b[4],e[64]=b[5],e[65]=b[6],b)})},function(a){return e[67]=new d.Map(),e[67].set("task_id",e[59]),e[67].set("queue_name",e[60]),e[67].set("enqueue_timestamp_ms",e[61]),e[67].set("priority",e[62]),e[67].set("first_executed_timestamp_ms",e[63]),e[67].set("execution_time_ns",e[64]),e[67].set("echo_encoding_execution_time_ns",e[65]),e[68]=new d.Map(),e[68].set("task_metadata",e[67]),e[68].set("action_type",e[40]),e[68].set("content_type",e[41]),e[68].set("identifiers",void 0),e[68].set("identifiers_v2",e[35]),e[68].set("task_creation_source",void 0),e[68].set("message_payload_source",d.i64.cast([0,2])),e[69]=d.createArray(),e[70]=(e[69].push(void 0),e[69]),a=[void 0,e[54],e[68],e[69]],e[55]=a[0],e[56]=a[1],e[57]=a[2],e[58]=a[3],a}])},function(a){return a=[e[55],e[56],e[57],e[58]],e[36]=a[0],e[37]=a[1],e[38]=a[2],e[39]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[61]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[62]=void 0:e[62]=e[44],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[61],d.i64.cast([0,1e6])),e[9]),e[62]],e[49]=b[0],e[50]=b[1],e[51]=b[2],e[52]=b[3],e[53]=b[4],e[54]=b[5],e[55]=b[6],b):(f=c.item,e[61]=d.i64.of_float(Date.now()),d.i64.eq(e[44],d.i64.cast([0,0]))||d.i64.eq(e[44],void 0)?e[62]=void 0:e[62]=e[44],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[61],d.i64.cast([0,1e6])),e[9]),e[62]],e[49]=b[0],e[50]=b[1],e[51]=b[2],e[52]=b[3],e[53]=b[4],e[54]=b[5],e[55]=b[6],b)})},function(a){return e[57]=new d.Map(),e[57].set("task_id",e[49]),e[57].set("queue_name",e[50]),e[57].set("enqueue_timestamp_ms",e[51]),e[57].set("priority",e[52]),e[57].set("first_executed_timestamp_ms",e[53]),e[57].set("execution_time_ns",e[54]),e[57].set("echo_encoding_execution_time_ns",e[55]),e[58]=new d.Map(),e[58].set("task_metadata",e[57]),e[58].set("action_type",e[40]),e[58].set("content_type",e[41]),e[58].set("identifiers",void 0),e[58].set("identifiers_v2",e[35]),e[58].set("task_creation_source",void 0),e[58].set("message_payload_source",d.i64.cast([0,2])),e[59]=new d.Map(),e[59].set("error_code",e[48]),e[59].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[59].set("error_message",""),e[60]=d.createArray(),a=[void 0,e[59],e[58],e[60]],e[36]=a[0],e[37]=a[1],e[38]=a[2],e[39]=a[3],a}])},function(a){return a=[e[36],e[37],e[38],e[39]],e[30]=a[0],e[31]=a[1],e[32]=a[2],e[33]=a[3],a}]))})},function(a){return a=[e[30],e[31],e[32],e[33]],e[22]=a[0],e[23]=a[1],e[24]=a[2],e[25]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[42]=d.i64.of_float(Date.now()),b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[42],d.i64.cast([0,1e6])),e[9]),void 0],e[30]=b[0],e[31]=b[1],e[32]=b[2],e[33]=b[3],e[34]=b[4],e[35]=b[5],e[36]=b[6],b):(f=c.item,e[42]=d.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[42],d.i64.cast([0,1e6])),e[9]),void 0],e[30]=b[0],e[31]=b[1],e[32]=b[2],e[33]=b[3],e[34]=b[4],e[35]=b[5],e[36]=b[6],b)})},function(a){return e[38]=new d.Map(),e[38].set("task_id",e[30]),e[38].set("queue_name",e[31]),e[38].set("enqueue_timestamp_ms",e[32]),e[38].set("priority",e[33]),e[38].set("first_executed_timestamp_ms",e[34]),e[38].set("execution_time_ns",e[35]),e[38].set("echo_encoding_execution_time_ns",e[36]),e[39]=new d.Map(),e[39].set("task_metadata",e[38]),e[39].set("action_type",void 0),e[39].set("content_type",void 0),e[39].set("identifiers",void 0),e[39].set("identifiers_v2",void 0),e[39].set("task_creation_source",void 0),e[39].set("message_payload_source",d.i64.cast([0,2])),e[40]=new d.Map(),e[40].set("error_code",d.i64.cast([0,24])),e[40].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[40].set("error_message",""),e[41]=d.createArray(),a=[void 0,e[40],e[39],e[41]],e[22]=a[0],e[23]=a[1],e[24]=a[2],e[25]=a[3],a}])},function(a){return a=[e[22],e[23],e[24],e[25]],e[13]=a[0],e[14]=a[1],e[15]=a[2],e[16]=a[3],a}]))})},function(a){return a=[e[13],e[14],e[15],e[16]],e[2]=a[0],e[3]=a[1],e[4]=a[2],e[5]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(b,c){var f=b.done;b=b.value;return f?(e[25]=d.i64.of_float(Date.now()),f=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[25],d.i64.cast([0,1e6])),e[9]),void 0],e[13]=f[0],e[14]=f[1],e[15]=f[2],e[16]=f[3],e[17]=f[4],e[18]=f[5],e[19]=f[6],f):(c=b.item,e[25]=d.i64.of_float(Date.now()),f=[a[0],c.queueName,c.enqueueTimestampMs,void 0,c.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[25],d.i64.cast([0,1e6])),e[9]),void 0],e[13]=f[0],e[14]=f[1],e[15]=f[2],e[16]=f[3],e[17]=f[4],e[18]=f[5],e[19]=f[6],f)})},function(a){return e[21]=new d.Map(),e[21].set("task_id",e[13]),e[21].set("queue_name",e[14]),e[21].set("enqueue_timestamp_ms",e[15]),e[21].set("priority",e[16]),e[21].set("first_executed_timestamp_ms",e[17]),e[21].set("execution_time_ns",e[18]),e[21].set("echo_encoding_execution_time_ns",e[19]),e[22]=new d.Map(),e[22].set("task_metadata",e[21]),e[22].set("action_type",void 0),e[22].set("content_type",void 0),e[22].set("identifiers",void 0),e[22].set("identifiers_v2",void 0),e[22].set("task_creation_source",void 0),e[22].set("message_payload_source",d.i64.cast([0,2])),e[23]=new d.Map(),e[23].set("error_code",d.i64.cast([0,4])),e[23].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[23].set("error_message",""),e[24]=d.createArray(),a=[void 0,e[23],e[22],e[24]],e[2]=a[0],e[3]=a[1],e[4]=a[2],e[5]=a[3],a}])},function(a){return e[6]=d.i64.of_float(Date.now()),e[7]=d.i64.random(),e[10]="Finishing execution. Execution time: ",e[11]=d.i64.to_string(d.i64.sub(e[6],e[0])),e[12]=" ms",e[8]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][serializeBackupPayloadV2] ",e[8],e[10],e[8],e[11],e[8],e[12]].join("")),d.i64.eq(d.i64.mod_(e[7],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[13]=",",e[14]=d.createArray(),void 0!==void 0?e[15]=(e[14].push(void 0),e[14]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"serializeBackupPayloadV2",[e[10],e[13],e[11],e[13],e[12]].join(""),e[14],d.i64.cast([0,4]))):d.resolve()},function(a){return a=[e[2],e[3],e[4],e[5]],f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3],a}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","pending_backups_context_v2","secure_encrypted_backups_epochs","pending_tasks"];d=a;g["default"]=d}),98);
__d("LSTaskSerializerEncryptedBackupsUpload",["LSArrayGetObjectAt","LSLogMebClientEvent.nop","LSSerializeBackupPayloadV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsUpload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.forEach(c.db.table(177).fetch([[[a[0]]],"fk_pending_tasks"]),function(a){var b=a.update;a.item;return b({backupStatus:c.i64.cast([0,2])})})},function(e){return c.storedProcedure(b("LSSerializeBackupPayloadV2"),a[0]).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],a})},function(a){return d[6]=c.i64.of_int32(d[5].length),c.i64.gt(d[6],c.i64.cast([0,0]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[5],c.i64.cast([0,0])).then(function(a){return a=a,d[20]=a[0],d[21]=a[1],a})},function(a){return d[7]=d[20]}]):c.resolve(d[7]=void 0)},function(a){return d[2]?d[8]=!1:d[8]=!0,d[8]?(d[3]?d[20]=!1:d[20]=!0,d[20]?(a=[void 0,void 0,d[7],d[4]],d[21]=a[0],d[22]=a[1],d[23]=a[2],d[24]=a[3],a):(a=[void 0,d[3],d[7],d[4]],d[21]=a[0],d[22]=a[1],d[23]=a[2],d[24]=a[3],a),a=[d[21],d[22],d[23],d[24]],d[9]=a[0],d[10]=a[1],d[11]=a[2],d[12]=a[3],a):(d[20]=d[2].get("payload"),a=[d[20],d[3],d[7],d[4]],d[9]=a[0],d[10]=a[1],d[11]=a[2],d[12]=a[3],a),d[20]=new c.Map(),d[21]=d[20].set("success",d[9]),d[22]=d[20].set("failure",d[10]),d[23]=d[20].set("protobuf_failure",d[11]),d[24]=d[20].set("context",d[12]),d[25]=c.toJSON(d[20]),d[13]=d[25],d[14]=c.i64.of_float(Date.now()),d[15]=c.i64.random(),d[17]="Finishing execution. Execution time: ",d[18]=c.i64.to_string(c.i64.sub(d[14],d[0])),d[19]=" ms",d[16]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsUpload] ",d[16],d[17],d[16],d[18],d[16],d[19]].join("")),c.i64.eq(c.i64.mod_(d[15],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[20]=",",d[21]=c.createArray(),void 0!==void 0?d[22]=(d[21].push(void 0),d[21]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsUpload",[d[17],d[20],d[18],d[20],d[19]].join(""),d[21],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[13],c.i64.cast([0,50026])],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsUploadStoredProcedure";a.__tables__=["pending_backups_context_v2"];e.exports=a}),null);
__d("LSLoadProtobufBackupSerializedPayloadData",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSEncryptIdentifiersV2","LSGetBlobFromString.nop","LSGetLatestEpochKeys","LSIsEncryptionVersionSecure","LSLoadAndEncryptProtobufV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadProtobufBackupSerializedPayloadData] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[19]=c.i64.mul(d[1],c.i64.cast([0,1e6])),c.db.table(2).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(d[23]=c.i64.of_float(Date.now()),f=[a[0],void 0,void 0,void 0,void 0,c.i64.sub(c.i64.mul(d[23],c.i64.cast([0,1e6])),d[19]),void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],f):(e=b.item,d[23]=c.i64.of_float(Date.now()),f=[a[0],e.queueName,e.enqueueTimestampMs,e.priority,e.firstExecutedTimestampMs,c.i64.sub(c.i64.mul(d[23],c.i64.cast([0,1e6])),d[19]),void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],f)})},function(e){return d[10]=new c.Map(),d[10].set("task_id",d[2]),d[10].set("queue_name",d[3]),d[10].set("enqueue_timestamp_ms",d[4]),d[10].set("priority",d[5]),d[10].set("first_executed_timestamp_ms",d[6]),d[10].set("execution_time_ns",d[7]),d[10].set("echo_encoding_execution_time_ns",d[8]),d[11]=new c.Map(),d[11].set("task_metadata",d[10]),d[11].set("action_type",void 0),d[11].set("content_type",void 0),d[11].set("identifiers",void 0),d[11].set("identifiers_v2",void 0),d[11].set("task_creation_source",void 0),d[11].set("message_payload_source",c.i64.cast([0,2])),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?(d[23]=new c.Map(),d[23].set("error_code",c.i64.cast([0,1])),d[23].set("stored_procedure","LSEncryptedBackupsLoadProtobufBackupSerializedPayloadDataStoredProcedure"),d[23].set("error_message",""),g=[void 0,d[23],d[11]],d[12]=g[0],d[13]=g[1],d[14]=g[2],g):(f=e.item,c.sequence([function(a){return d[32]=f.backupId,d[33]=f.mailboxRootKeyBlob,d[34]=f.deviceId,d[31]=f.backupTenancy,d[30]=f.encryptionVersion,d[23]=void 0,c.i64.neq(d[23],void 0)?c.resolve(d[24]=d[23]):c.sequence([function(a){return d[35]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[45]=(d[35].push(c.i64.cast([0,0])),d[35]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[45]=(d[35].push(c.i64.cast([0,2])),d[35]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[38]?d[45]=(d[35].push(c.i64.cast([0,3])),d[35]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[39]=a[0],a})},function(a){return d[39]?d[45]=(d[35].push(c.i64.cast([0,4])),d[35]):0,d[40]=c.createArray(),d[41]=c.i64.of_int32(d[35].length),c.i64.gt(d[41],c.i64.cast([0,0]))?c.loopAsync(d[41],function(a){return d[45]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[35],d[45]).then(function(a){return a=a,d[46]=a[0],d[47]=a[1],a})},function(a){return d[48]=(d[40].push(d[46]),d[40])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[45]=c.createArray(),d[46]=c.i64.of_int32(d[40].length),c.i64.gt(d[46],c.i64.cast([0,0]))?c.loopAsync(d[46],function(a){return d[48]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[40],d[48]).then(function(a){return a=a,d[49]=a[0],d[50]=a[1],a})},function(a){return d[51]=(d[45].push(c.i64.to_string(d[49])),d[45])}])}):c.resolve()},function(a){return d[47]=d[45].join(","),d[42]=d[47]}])},function(a){return d[40].some(function(a){return c.i64.eq(d[30],a)})?d[43]=d[30]:d[43]=void 0,c.i64.neq(d[43],void 0)?d[44]=d[43]:d[44]=void 0,d[24]=d[44]}])},function(e){return c.i64.neq(d[24],void 0)?d[25]=d[24]:d[25]=c.i64.cast([0,0]),c.i64.neq(d[31],void 0)?d[26]=d[31]:d[26]=c.i64.cast([0,1]),c.i64.neq(d[34],void 0)?c.sequence([function(e){return c.filter(c.db.table(305).fetch(),function(b){return c.i64.eq(b.pendingBackupTaskId,a[0])}).next().then(function(h,i){var e=h.done;h=h.value;return e?(d[39]=new c.Map(),d[39].set("error_code",c.i64.cast([0,5])),d[39].set("stored_procedure","LSEncryptedBackupsLoadProtobufBackupSerializedPayloadDataStoredProcedure"),d[39].set("error_message",""),e=[void 0,d[39],d[11]],d[35]=e[0],d[36]=e[1],d[37]=e[2],e):(i=h.item,c.sequence([function(b){return d[61]=i.actThreadId,d[62]=i.toplevelOfflineThreadingId,d[40]=i.messageTimestampMs,d[39]=new c.Map(),d[39].set("backup_id",c.i64.to_string(d[32])),d[39].set("act_thread_id",d[61]),d[39].set("server_thread_id",d[61]),d[39].set("timestamp",c.i64.to_string(d[40])),d[39].set("otid",d[62]),d[41]=new c.Map(),d[41].set("backup_id",c.i64.to_string(d[32])),d[41].set("act_thread_id",d[61]),d[41].set("timestamp",c.i64.to_string(d[40])),d[41].set("otid",d[62]),c.db.table(2).fetch([[[a[0]]]]).next().then(function(e,f){var b=e.done;e=e.value;return b?(d[63]=c.i64.of_float(Date.now()),b=[a[0],void 0,void 0,void 0,void 0,c.i64.sub(c.i64.mul(d[63],c.i64.cast([0,1e6])),d[19]),void 0],d[42]=b[0],d[43]=b[1],d[44]=b[2],d[45]=b[3],d[46]=b[4],d[47]=b[5],d[48]=b[6],b):(f=e.item,d[63]=c.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,f.priority,f.firstExecutedTimestampMs,c.i64.sub(c.i64.mul(d[63],c.i64.cast([0,1e6])),d[19]),void 0],d[42]=b[0],d[43]=b[1],d[44]=b[2],d[45]=b[3],d[46]=b[4],d[47]=b[5],d[48]=b[6],b)})},function(a){return d[50]=new c.Map(),d[50].set("task_id",d[42]),d[50].set("queue_name",d[43]),d[50].set("enqueue_timestamp_ms",d[44]),d[50].set("priority",d[45]),d[50].set("first_executed_timestamp_ms",d[46]),d[50].set("execution_time_ns",d[47]),d[50].set("echo_encoding_execution_time_ns",d[48]),d[51]=new c.Map(),d[51].set("task_metadata",d[50]),d[51].set("action_type",c.i64.cast([0,1])),d[51].set("content_type",c.i64.cast([0,1])),d[51].set("identifiers",void 0),d[51].set("identifiers_v2",d[41]),d[51].set("task_creation_source",void 0),d[51].set("message_payload_source",c.i64.cast([0,2])),d[52]=d[39].get("act_thread_id"),d[53]=d[39].get("otid"),c.storedProcedure(b("LSGetLatestEpochKeys"),!1).then(function(a){return a=a,d[54]=a[0],d[55]=a[1],a})},function(a){return d[54]!==void 0?c.sequence([function(a){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?c.sequence([function(a){return d[66]=c.createArray(),d[71]=(d[66].push(c.i64.cast([0,32])),d[66]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",d[52]].join("")).then(function(a){return a=a,d[67]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[67],void 0,d[33],d[66]).then(function(a){return a=a,d[68]=a[0],a})},function(a){return d[68]?d[69]=!1:d[69]=!0,d[69]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[71]=c.createArray(),void 0!==void 0?d[72]=(d[71].push(void 0),d[71]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","Got null keys while deriving message list OPE key. Returning null blobish",d[71],c.i64.cast([0,3]))},function(a){return d[70]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[68],c.i64.cast([0,0])).then(function(a){return a=a,d[71]=a[0],d[72]=a[1],a})},function(a){return d[70]=d[71]}])},function(a){return d[63]=d[70]}]):c.sequence([function(a){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,2]))?c.sequence([function(a){return d[67]=c.createArray(),d[72]=(d[67].push(c.i64.cast([0,32])),d[67]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",d[53]].join("")).then(function(a){return a=a,d[68]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[68],void 0,d[33],d[67]).then(function(a){return a=a,d[69]=a[0],a})},function(a){return d[69]?d[70]=!1:d[70]=!0,d[70]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[72]=c.createArray(),void 0!==void 0?d[73]=(d[72].push(void 0),d[72]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","Got null keys while deriving message list OPE key. Returning null blobish",d[72],c.i64.cast([0,3]))},function(a){return d[71]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[69],c.i64.cast([0,0])).then(function(a){return a=a,d[72]=a[0],d[73]=a[1],a})},function(a){return d[71]=d[72]}])},function(a){return d[66]=d[71]}]):c.resolve(d[66]=void 0)},function(a){return d[63]=d[66]}])},function(a){return c.blobs.neq(d[63],void 0)?c.sequence([function(a){return d[66]=d[54].get("epoch_keys"),d[67]=d[66].get("epoch_anon_id"),d[68]=d[66].get("epoch_root_key"),d[69]=c.createArray(),d[80]=(d[69].push(c.i64.cast([0,32])),d[69]),c.i64.ge(d[25],c.i64.cast([0,3]))?c.resolve(d[70]=void 0):c.sequence([function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[52]).then(function(a){return a=a,d[80]=a[0],a})},function(a){return d[70]=d[80]}])},function(a){return c.i64.ge(d[25],c.i64.cast([0,4]))?(d[80]="_",d[71]=["message_key_in_epoch",d[80],c.blobs.to_string(d[67]),d[80],"cipher_version",d[80],c.i64.to_string(d[25]),d[80],"thread",d[80],d[52]==null?"":d[52]].join("")):(c.i64.ge(d[25],c.i64.cast([0,3]))?(d[81]="_",d[80]=["message_key_in_epoch",d[81],c.blobs.to_string(d[67]),d[81],"cipher_version",d[81],c.i64.to_string(d[25]),d[81],"thread",d[81],d[52]==null?"":d[52]].join("")):(c.i64.ge(d[25],c.i64.cast([0,2]))?(d[82]="_",d[81]=["message_key_in_epoch",d[82],c.blobs.to_string(d[67]),d[82],"cipher_version",d[82],c.i64.to_string(d[25])].join("")):d[81]=["message_key_in_epoch","_",c.blobs.to_string(d[67])].join(""),d[80]=d[81]),d[71]=d[80]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[71]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[72],d[70],d[68],d[69]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return d[73]?d[74]=!1:d[74]=!0,d[74]?c.resolve(d[75]=void 0):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[73],c.i64.cast([0,0])).then(function(a){return a=a,d[80]=a[0],d[81]=a[1],a})},function(a){return d[75]=d[80]}])},function(a){return c.filter(c.db.table(169).fetch(),function(a){return c.blobs.eq(a.epochAnonIdBlob,c.blob("MA=="))}).next().then(function(e,f){var a=e.done;e=e.value;return a?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTableUtils] Failed to get mailbox_root_key_v2: epoch 0 is not available."),d[80]=c.createArray(),void 0!==void 0?d[81]=(d[80].push(void 0),d[80]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTableUtils","Failed to get mailbox_root_key_v2: epoch 0 is not available.",d[80],c.i64.cast([0,3]))},function(a){return d[76]=void 0}]):(f=e.item,c.sequence([function(a){return d[80]=c.createArray(),d[88]=(d[80].push(c.i64.cast([0,32])),d[80]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleT5zYWx0X21haWxib3hfcm9vdF9rZXlfdjI="),void 0,d[33],d[80]).then(function(a){return a=a,d[81]=a[0],a})},function(a){return d[81]!==void 0?c.sequence([function(a){return d[88]=c.i64.of_int32(d[81].length),c.i64.ge(d[88],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[81],c.i64.cast([0,0])).then(function(a){return a=a,d[90]=a[0],d[91]=a[1],a})},function(a){return d[89]=d[90]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[90]=c.createArray(),void 0!==void 0?d[91]=(d[90].push(void 0),d[90]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[90],c.i64.cast([0,3]))},function(a){return d[89]=void 0}])},function(a){return d[82]=d[89]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[88]=c.createArray(),void 0!==void 0?d[89]=(d[88].push(void 0),d[88]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[88],c.i64.cast([0,3]))},function(a){return d[82]=void 0}])},function(a){return c.blobs.neq(d[82],void 0)?d[83]=!0:d[83]=!1,d[83]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d[84]=c.createArray(),d[88]=(d[84].push(c.i64.cast([0,32])),d[84]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleT5tYWlsYm94X3Jvb3Rfa2V5X3Yy"),d[82],f.epochRootKeyBlob,d[84]).then(function(a){return a=a,d[85]=a[0],a})},function(a){return d[85]!==void 0?c.sequence([function(a){return d[88]=c.i64.of_int32(d[85].length),c.i64.ge(d[88],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[85],c.i64.cast([0,0])).then(function(a){return a=a,d[90]=a[0],d[91]=a[1],a})},function(a){return d[89]=d[90]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[90]=c.createArray(),void 0!==void 0?d[91]=(d[90].push(void 0),d[90]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[90],c.i64.cast([0,3]))},function(a){return d[89]=void 0}])},function(a){return d[86]=d[89]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[88]=c.createArray(),void 0!==void 0?d[89]=(d[88].push(void 0),d[88]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[88],c.i64.cast([0,3]))},function(a){return d[86]=void 0}])},function(a){return c.blobs.neq(d[86],void 0)?d[87]=!0:d[87]=!1,d[87]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d[76]=d[86]}]))})},function(a){return c.blobs.neq(d[75],void 0)?c.sequence([function(a){return c.blobs.neq(d[76],void 0)?c.sequence([function(a){return d[86]=c.createArray(),d[90]=(d[86].push(c.i64.cast([0,32])),d[86]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleV92Mj5mYWxsYmFja19rZXk="),void 0,d[76],d[86]).then(function(a){return a=a,d[87]=a[0],a})},function(a){return d[87]!==void 0?c.sequence([function(a){return d[90]=c.i64.of_int32(d[87].length),c.i64.ge(d[90],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[87],c.i64.cast([0,0])).then(function(a){return a=a,d[92]=a[0],d[93]=a[1],a})},function(a){return d[91]=d[92]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[92]=c.createArray(),void 0!==void 0?d[93]=(d[92].push(void 0),d[92]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[92],c.i64.cast([0,3]))},function(a){return d[91]=void 0}])},function(a){return d[88]=d[91]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[90]=c.createArray(),void 0!==void 0?d[91]=(d[90].push(void 0),d[90]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[90],c.i64.cast([0,3]))},function(a){return d[88]=void 0}])},function(a){return c.blobs.neq(d[88],void 0)?d[89]=!0:d[89]=!1,d[89]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d[80]=d[88]}]):c.resolve(d[80]=void 0)},function(a){return d[81]=d[66].get("epoch_root_key"),d[82]=d[66].get("epoch_anon_id"),d[83]=d[66].get("epoch_id"),d[84]=new c.Map(),d[84].set("payload_key",d[75]),d[84].set("payload_fallback_key",d[80]),d[84].set("encryption_version",d[25]),d[84].set("epoch_root_key",d[81]),d[84].set("epoch_anon_id",d[82]),d[84].set("epoch_id",d[83]),d[85]=new c.Map(),d[85].set("ope_key",d[63]),d[85].set("message_payload_encryption_keys",d[84]),d[85].set("ocmf_shared_key",f.ocmfClientStateBlob),d[85].set("mailbox_base_salt",d[33]),d[85].set("mailbox_root_key_v2",d[76]),a=[d[85],void 0],d[78]=a[0],d[79]=a[1],a}]):c.resolve((d[80]=new c.Map(),d[80].set("error_code",c.i64.cast([0,26])),d[80].set("stored_procedure","MEBKeyDeriver"),d[80].set("error_message",""),a=[void 0,d[80]],d[78]=a[0],d[79]=a[1],a))},function(a){return a=[d[78],d[79]],d[64]=a[0],d[65]=a[1],a}]):c.resolve((d[66]=new c.Map(),d[66].set("error_code",c.i64.cast([0,25])),d[66].set("stored_procedure","MEBKeyDeriver"),d[66].set("error_message",""),a=[void 0,d[66]],d[64]=a[0],d[65]=a[1],a))},function(a){return a=[d[64],d[65]],d[56]=a[0],d[57]=a[1],a}]):c.resolve((a=[void 0,d[55]],d[56]=a[0],d[57]=a[1],a))},function(e){return d[56]!==void 0?c.sequence([function(a){return d[63]=d[39].get("backup_id"),d[64]=d[39].get("act_thread_id"),d[65]=d[39].get("timestamp"),d[66]=d[39].get("otid"),c.storedProcedure(b("LSEncryptIdentifiersV2"),c.i64.cast([0,1]),c.i64.cast([0,1]),d[63],d[64],c.i64.from_string(d[65]),d[66],d[56]).then(function(a){return a=a,d[67]=a[0],d[68]=a[1],a})},function(a){return d[69]=d[56].get("message_payload_encryption_keys"),d[70]=d[69].get("encryption_version"),d[71]=d[69].get("epoch_anon_id"),d[72]=d[69].get("epoch_root_key"),d[73]=d[39].get("act_thread_id"),d[74]=d[69].get("payload_key"),d[75]=d[39].get("backup_id"),d[76]=c.createArray(),d[106]=(d[76].push(c.i64.cast([0,6])),d[76]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_anon_id_debug").then(function(a){return a=a,d[77]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[77],void 0,d[71],d[76]).then(function(a){return a=a,d[78]=a[0],a})},function(a){return d[78]?d[79]=!1:d[79]=!0,d[79]?c.resolve(d[80]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[78],c.i64.cast([0,0])).then(function(a){return a=a,d[106]=a[0],d[107]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[106]).then(function(a){return a=a,d[108]=a[0],a})},function(a){return d[80]=d[108]==null?"":d[108]}])},function(a){return d[81]=c.createArray(),d[106]=(d[81].push(c.i64.cast([0,6])),d[81]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_debug").then(function(a){return a=a,d[82]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[82],void 0,d[72],d[81]).then(function(a){return a=a,d[83]=a[0],a})},function(a){return d[83]?d[84]=!1:d[84]=!0,d[84]?c.resolve(d[85]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[83],c.i64.cast([0,0])).then(function(a){return a=a,d[106]=a[0],d[107]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[106]).then(function(a){return a=a,d[108]=a[0],a})},function(a){return d[85]=d[108]==null?"":d[108]}])},function(a){return d[86]=c.createArray(),d[106]=(d[86].push(c.i64.cast([0,6])),d[86]),c.nativeOperation(b("LSGetBlobFromString.nop"),"message_key_debug").then(function(a){return a=a,d[87]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[87],void 0,d[74],d[86]).then(function(a){return a=a,d[88]=a[0],a})},function(a){return d[88]?d[89]=!1:d[89]=!0,d[89]?c.resolve(d[90]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[88],c.i64.cast([0,0])).then(function(a){return a=a,d[106]=a[0],d[107]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[106]).then(function(a){return a=a,d[108]=a[0],a})},function(a){return d[90]=d[108]==null?"":d[108]}])},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[72]).then(function(a){return a=a,d[91]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),[d[91]==null?"":d[91],d[73]].join("")).then(function(a){return a=a,d[92]=a[0],a})},function(a){return d[93]=c.createArray(),d[106]=(d[93].push(c.i64.cast([0,6])),d[93]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_thread_id_debug").then(function(a){return a=a,d[94]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[94],void 0,d[92],d[93]).then(function(a){return a=a,d[95]=a[0],a})},function(a){return d[95]?d[96]=!1:d[96]=!0,d[96]?c.resolve(d[97]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[95],c.i64.cast([0,0])).then(function(a){return a=a,d[106]=a[0],d[107]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[106]).then(function(a){return a=a,d[108]=a[0],a})},function(a){return d[97]=d[108]==null?"":d[108]}])},function(a){return d[98]=":",c.blobs.neq(d[72],void 0)?c.sequence([function(a){return d[106]=c.createArray(),d[112]=(d[106].push(c.i64.cast([0,18])),d[106]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,d[72],d[106]).then(function(a){return a=a,d[107]=a[0],a})},function(a){return d[107]!==void 0?c.sequence([function(a){return d[112]=c.i64.of_int32(d[107].length),c.i64.ge(d[112],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[107],c.i64.cast([0,0])).then(function(a){return a=a,d[114]=a[0],d[115]=a[1],a})},function(a){return d[113]=d[114]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[114]=c.createArray(),void 0!==void 0?d[115]=(d[114].push(void 0),d[114]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[114],c.i64.cast([0,3]))},function(a){return d[113]=void 0}])},function(a){return d[108]=d[113]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[112]=c.createArray(),void 0!==void 0?d[113]=(d[112].push(void 0),d[112]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[112],c.i64.cast([0,3]))},function(a){return d[108]=void 0}])},function(a){return c.blobs.neq(d[108],void 0)?d[109]=!0:d[109]=!1,d[109]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.nativeOperation(b("LSBase64Encode.nop"),d[108]).then(function(a){return a=a,d[110]=a[0],a})},function(a){return d[110]!==void 0?d[111]=d[110]:d[111]="encodingfailed",d[99]=d[111]}]):c.resolve(d[99]="null")},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[71]).then(function(a){return a=a,d[100]=a[0],a})},function(e){return d[101]=new c.Map(),d[101].set("encryption_version",d[70]),d[101].set("epoch_anon_id",d[100]==null?"":d[100]),d[101].set("message_encryption_values",[d[80],d[98],d[85],d[98],d[90],d[98],d[97]].join("")),d[101].set("root_key_fingerprint",d[99]),d[101].set("backup_id",d[75]),d[102]=c.toJSON(d[101]),d[67]!==void 0?c.sequence([function(e){return d[106]=d[39].get("act_thread_id"),c.storedProcedure(b("LSLoadAndEncryptProtobufV2"),a[0],d[56],d[106]).then(function(a){return a=a,d[107]=a[0],d[108]=a[1],a})},function(a){return d[107]!==void 0?(d[112]=new c.Map(),d[112].set("protobuf_backup_payload",d[107]),d[112].set("encrypted_identifiers",d[67]),d[112].set("device_id",d[34]),d[112].set("identifiers",d[39]),d[112].set("encryption_keys",d[56]),d[112].set("content_type",c.i64.cast([0,1])),d[112].set("action_type",c.i64.cast([0,1])),d[112].set("value_secret_ref",d[102]),d[112].set("attachment_backup_payload",i.attachmentPayload),d[112].set("extra_data_for_eb_upload",void 0),a=[d[112],void 0,d[51]],d[109]=a[0],d[110]=a[1],d[111]=a[2],a):(a=[void 0,d[108],d[51]],d[109]=a[0],d[110]=a[1],d[111]=a[2],a),a=[d[109],d[110],d[111]],d[103]=a[0],d[104]=a[1],d[105]=a[2],a}]):c.resolve((e=[void 0,d[68],d[51]],d[103]=e[0],d[104]=e[1],d[105]=e[2],e))},function(a){return a=[d[103],d[104],d[105]],d[58]=a[0],d[59]=a[1],d[60]=a[2],a}]):c.resolve((e=[void 0,d[57],d[51]],d[58]=e[0],d[59]=e[1],d[60]=e[2],e))},function(a){return a=[d[58],d[59],d[60]],d[35]=a[0],d[36]=a[1],d[37]=a[2],a}]))})},function(a){return a=[d[35],d[36],d[37]],d[27]=a[0],d[28]=a[1],d[29]=a[2],a}]):c.resolve((d[35]=new c.Map(),d[35].set("error_code",c.i64.cast([0,24])),d[35].set("stored_procedure","LSEncryptedBackupsLoadProtobufBackupSerializedPayloadDataStoredProcedure"),d[35].set("error_message",""),e=[void 0,d[35],d[11]],d[27]=e[0],d[28]=e[1],d[29]=e[2],e))},function(a){return a=[d[27],d[28],d[29]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]))})},function(a){return d[16]=c.i64.of_float(Date.now()),d[17]=c.i64.random(),d[20]="Finishing execution. Execution time: ",d[21]=c.i64.to_string(c.i64.sub(d[16],d[0])),d[22]=" ms",d[18]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadProtobufBackupSerializedPayloadData] ",d[18],d[20],d[18],d[21],d[18],d[22]].join("")),c.i64.eq(c.i64.mod_(d[17],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[23]=",",d[24]=c.createArray(),void 0!==void 0?d[25]=(d[24].push(void 0),d[24]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadProtobufBackupSerializedPayloadData",[d[20],d[23],d[21],d[23],d[22]].join(""),d[24],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[12],d[13],d[14]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsLoadProtobufBackupSerializedPayloadDataStoredProcedure";a.__tables__=["pending_tasks","secure_encrypted_backups_client_state","pending_protobuf_backups_context","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsUploadProtobufOnly",["LSArrayGetObjectAt","LSBase64Encode.nop","LSDeserializeFromJsonIntoDictionaryV2.nop","LSLoadProtobufBackupSerializedPayloadData","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsUploadProtobufOnly] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSLoadProtobufBackupSerializedPayloadData"),a[0]).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],d[4]=a[2],a})},function(a){return d[2]!==void 0?c.sequence([function(a){return d[15]=d[2].get("encrypted_identifiers"),d[16]=d[2].get("identifiers"),d[17]=d[2].get("encryption_keys"),d[18]=d[2].get("protobuf_backup_payload"),d[19]=d[15].get("act_thread_id_ocmf_partial"),d[20]=d[15].get("otid_ocmf_partial"),d[21]=d[15].get("timestamp_encrypted"),d[22]=new c.Map(),d[22].set("list_key",d[19]),d[22].set("unique_key",d[20]),d[22].set("sort_key",d[21]),d[23]=d[2].get("value_secret_ref"),d[24]=new c.Map(),d[24].set("value",""),d[24].set("value_secret_ref",d[23]),d[25]=d[2].get("action_type"),d[26]=new c.Map(),d[26].set("list_item_id",d[22]),d[26].set("list_item",d[24]),d[26].set("action_type",d[25]),d[27]=d[16].get("server_thread_id"),d[28]=d[16].get("timestamp"),d[29]=d[16].get("otid"),d[30]=d[16].get("act_thread_id"),d[31]=new c.Map(),d[31].set("server_thread_key",d[27]),d[31].set("timestamp",d[28]),d[31].set("otid",d[29]),d[31].set("wa_thread_id",c.i64.from_string(d[30])),d[32]=d[17].get("mailbox_base_salt"),c.nativeOperation(b("LSBase64Encode.nop"),d[32]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[34]=d[17].get("ocmf_shared_key"),c.nativeOperation(b("LSBase64Encode.nop"),d[34]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[36]=new c.Map(),d[36].set("mailbox_root_key",d[33]==null?"":d[33]),d[36].set("ocmf_client_state_blob",d[35]==null?"":d[35]),d[37]=d[2].get("extra_data_for_eb_upload"),d[37]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),d[37]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return d[53]=new c.Map(),d[60]="ttd",d[54]=d[52].get(d[60]),d[54]?d[55]=!1:d[55]=!0,d[55]?c.resolve():c.sequence([function(a){return d[54]?d[62]=!1:d[62]=!0,d[62]?c.resolve(d[63]=void 0):c.sequence([function(a){return d[64]=new c.Map(),d[67]="message_tags",d[65]=d[54].get(d[67]),d[65]?d[66]=!1:d[66]=!0,d[66]?c.resolve():c.sequence([function(a){return d[68]=c.createArray(),d[69]=c.i64.of_int32(d[65].length),c.i64.gt(d[69],c.i64.cast([0,0]))?c.loopAsync(d[69],function(a){return d[70]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[65],d[70]).then(function(a){return a=a,d[71]=a[0],d[72]=a[1],a})},function(a){return d[73]=(d[68].push(d[71]),d[68])}])}):c.resolve()},function(a){return d[64].set(d[67],d[68])}])},function(a){return d[63]=d[64]}])},function(a){return d[53].set(d[60],d[63])}])},function(a){return d[61]="mt",d[56]=d[52].get(d[61]),d[56]?d[57]=!1:d[57]=!0,d[57]?c.resolve():c.sequence([function(a){return d[56]?d[62]=!1:d[62]=!0,d[62]?c.resolve(d[63]=void 0):c.sequence([function(a){return d[64]=new c.Map(),d[67]="message_tags",d[65]=d[56].get(d[67]),d[65]?d[66]=!1:d[66]=!0,d[66]?c.resolve():c.sequence([function(a){return d[68]=c.createArray(),d[69]=c.i64.of_int32(d[65].length),c.i64.gt(d[69],c.i64.cast([0,0]))?c.loopAsync(d[69],function(a){return d[70]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[65],d[70]).then(function(a){return a=a,d[71]=a[0],d[72]=a[1],a})},function(a){return d[73]=(d[68].push(d[71]),d[68])}])}):c.resolve()},function(a){return d[64].set(d[67],d[68])}])},function(a){return d[63]=d[64]}])},function(a){return d[53].set(d[61],d[63])}])},function(a){return d[58]=d[53].get("mt"),d[58]!==void 0?(d[62]=new c.Map(),d[66]="message_tags",d[63]=d[58].get(d[66]),d[63]?d[64]=!1:d[64]=!0,d[64]?0:d[62].set(d[66],d[63]),d[65]=c.toJSON(d[62]),d[59]=d[65]):d[59]=void 0,d[38]=d[59]}]):c.resolve(d[38]=void 0)},function(a){return d[39]=d[15].get("backup_id_ocmf_partial"),d[40]=d[2].get("device_id"),d[41]=d[17].get("message_payload_encryption_keys"),d[42]=d[41].get("epoch_id"),d[43]=d[17].get("message_payload_encryption_keys"),d[44]=d[43].get("encryption_version"),d[45]=d[2].get("content_type"),d[46]=new c.Map(),d[46].set("mailbox_partial_id",d[39]),d[46].set("action",d[26]),d[46].set("device_id",d[40]),d[46].set("echo_version",c.i64.cast([0,0])),d[46].set("epoch_id",d[42]),d[46].set("trace_id",void 0),d[46].set("encryption_version",d[44]),d[46].set("is_thread",c.i64.eq(d[45],c.i64.cast([0,2]))),d[46].set("raw_identifiers",d[31]),d[46].set("raw_tokens",d[36]),d[46].set("request_id",""),d[46].set("is_instamadillo",!0),d[47]=d[18].get("supplemental_data_encrypted"),d[47]!==void 0?c.sequence([function(a){return d[52]=d[18].get("protobuf_encrypted"),d[53]=d[18].get("backup_action"),d[54]=d[18].get("timestamp_ms"),d[55]=d[47].get("sk_ciphertext"),c.nativeOperation(b("LSBase64Encode.nop"),d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return d[57]=d[47].get("sk_hash"),c.nativeOperation(b("LSBase64Encode.nop"),d[57]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return d[59]=new c.Map(),d[59].set("supplementary_data_key",void 0),d[59].set("encrypted_protobuf",d[52]),d[59].set("key_value_backup_action",d[53]),d[59].set("protobuf_ts_ms",d[54]),d[59].set("supplemental_key_ciphertext",d[56]),d[59].set("supplemental_key_hash",d[58]),d[59].set("message_tags",d[38]),d[48]=d[59]}]):c.resolve((d[52]=d[18].get("protobuf_encrypted"),d[53]=d[18].get("backup_action"),d[54]=d[18].get("timestamp_ms"),d[55]=new c.Map(),d[55].set("supplementary_data_key",void 0),d[55].set("encrypted_protobuf",d[52]),d[55].set("key_value_backup_action",d[53]),d[55].set("protobuf_ts_ms",d[54]),d[55].set("message_tags",d[38]),d[48]=d[55]))},function(a){return d[46].set("key_value_backup_payload",d[48]),d[49]=d[2].get("attachment_backup_payload"),d[49]!==void 0?d[46].set("attachment_backup_payload",d[49]):0,d[50]=d[2].get("extra_data_for_eb_upload"),d[50]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),d[50]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return d[53]=new c.Map(),d[59]="ttd",d[54]=d[52].get(d[59]),d[54]?d[55]=!1:d[55]=!0,d[55]?c.resolve():c.sequence([function(a){return d[54]?d[61]=!1:d[61]=!0,d[61]?c.resolve(d[62]=void 0):c.sequence([function(a){return d[63]=new c.Map(),d[66]="message_tags",d[64]=d[54].get(d[66]),d[64]?d[65]=!1:d[65]=!0,d[65]?c.resolve():c.sequence([function(a){return d[67]=c.createArray(),d[68]=c.i64.of_int32(d[64].length),c.i64.gt(d[68],c.i64.cast([0,0]))?c.loopAsync(d[68],function(a){return d[69]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[64],d[69]).then(function(a){return a=a,d[70]=a[0],d[71]=a[1],a})},function(a){return d[72]=(d[67].push(d[70]),d[67])}])}):c.resolve()},function(a){return d[63].set(d[66],d[67])}])},function(a){return d[62]=d[63]}])},function(a){return d[53].set(d[59],d[62])}])},function(a){return d[60]="mt",d[56]=d[52].get(d[60]),d[56]?d[57]=!1:d[57]=!0,d[57]?c.resolve():c.sequence([function(a){return d[56]?d[61]=!1:d[61]=!0,d[61]?c.resolve(d[62]=void 0):c.sequence([function(a){return d[63]=new c.Map(),d[66]="message_tags",d[64]=d[56].get(d[66]),d[64]?d[65]=!1:d[65]=!0,d[65]?c.resolve():c.sequence([function(a){return d[67]=c.createArray(),d[68]=c.i64.of_int32(d[64].length),c.i64.gt(d[68],c.i64.cast([0,0]))?c.loopAsync(d[68],function(a){return d[69]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[64],d[69]).then(function(a){return a=a,d[70]=a[0],d[71]=a[1],a})},function(a){return d[72]=(d[67].push(d[70]),d[67])}])}):c.resolve()},function(a){return d[63].set(d[66],d[67])}])},function(a){return d[62]=d[63]}])},function(a){return d[53].set(d[60],d[62])}])},function(a){return d[58]=d[53].get("ttd"),d[58]!==void 0?(d[61]=new c.Map(),d[65]="message_tags",d[62]=d[58].get(d[65]),d[62]?d[63]=!1:d[63]=!0,d[63]?0:d[61].set(d[65],d[62]),d[64]=c.toJSON(d[61]),d[46].set("tags_to_delete",d[64])):0}]):c.resolve()},function(a){return d[51]=c.toJSON(d[46]),a=[d[51],void 0,d[4]],d[5]=a[0],d[6]=a[1],d[7]=a[2],a}]):c.resolve((d[3]?d[15]=!1:d[15]=!0,d[15]?(a=[void 0,void 0,d[4]],d[16]=a[0],d[17]=a[1],d[18]=a[2],a):(a=[void 0,d[3],d[4]],d[16]=a[0],d[17]=a[1],d[18]=a[2],a),a=[d[16],d[17],d[18]],d[5]=a[0],d[6]=a[1],d[7]=a[2],a))},function(a){return d[15]=new c.Map(),d[16]=d[15].set("success",d[5]),d[17]=d[15].set("failure",d[6]),d[18]=d[15].set("context",d[7]),d[19]=c.toJSON(d[15]),d[8]=d[19],d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsUploadProtobufOnly] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsUploadProtobufOnly",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[8],c.i64.cast([0,50042]),void 0],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsUploadProtobufOnlyStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTaskSerializerMuteThreadV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("TaskSerializerMuteThreadV2: Task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2],f):(e=d.item,b.sequence([function(a){return c[8]=e.threadKey,b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?(c[9]=b.createArray(),c[10]=(c[9].push("TaskSerializerMuteThreadV2: Thread not found"),c[9]),c[11]=(c[9].push(c[8]),c[9]),c[12]=b.toJSON(c[9]),function(a){b.logger(a).mustfix(a)}(c[12]),a=[void 0,void 0,void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2],a):(e=d.item,b.sequence([function(a){return b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?c[9]=b.i64.cast([0,1]):(e=d.item,c[14]=e.syncGroup,b.i64.neq(c[14],void 0)?c[13]=c[14]:c[13]=b.i64.cast([0,1]),c[9]=c[13])})},function(a){return c[11]=new b.Map(),c[11].set("thread_key",c[8]),c[11].set("mailbox_type",b.i64.cast([0,0])),c[11].set("mute_expire_time_ms",e.muteExpireTimeMs),c[11].set("sync_group",c[9]),c[12]=b.toJSON(c[11]),a=[c[12],b.i64.cast([0,144]),void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2],a}]))})},function(a){return a=[c[4],c[5],c[6]],c[0]=a[0],c[1]=a[1],c[2]=a[2],a}]))})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxTaskSerializerMuteThreadV2StoredProcedure";a.__tables__=["threads_optimistic_context","threads"];e.exports=a}),null);
__d("LSTaskSerializerRemoveThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("TaskSerializerRemoveThreadV2: Task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2],f):(e=d.item,c[7]=e.removeType,b.i64.neq(c[7],void 0)?(c[8]=new b.Map(),c[8].set("thread_key",e.threadKey),c[8].set("remove_type",c[7]),c[8].set("sync_group",e.syncGroup==null?b.i64.cast([0,1]):e.syncGroup),c[9]=b.toJSON(c[8]),f=[c[9],b.i64.cast([0,146]),void 0],c[4]=f[0],c[5]=f[1],c[6]=f[2],f):(d=[void 0,void 0,void 0],c[4]=d[0],c[5]=d[1],c[6]=d[2],d),e=[c[4],c[5],c[6]],c[0]=e[0],c[1]=e[1],c[2]=e[2],e)})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxTaskSerializerRemoveThreadStoredProcedure";a.__tables__=["threads_optimistic_context"];e.exports=a}),null);
__d("LSTaskSerializerSendMessageV2",["LSSymmetricEncryptionCreateEncryptedString.nop","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,b=a[a.length-1],d=[],e=[];return b.sequence([function(f){return b.sequence([function(e){return b.db.table(31).fetch([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?(d[4]=b.createArray(),d[5]=(d[4].push("task ID not found"),d[4]),d[6]=(d[4].push(a[0]),d[4]),d[7]=b.toJSON(d[4]),function(a){b.logger(a).mustfix(a)}(d[7]),g=[void 0,void 0,void 0],d[0]=g[0],d[1]=g[1],d[2]=g[2],g):(f=e.item,b.sequence([function(e){return d[11]=f.offlineThreadingId,d[12]=f.messageId,d[21]=f.threadAttributionSource,d[9]=f.platformRef,d[10]=f.platformToken,d[8]=f.replySourceId,d[13]=f.replySourceType,d[20]=f.sendType,d[22]=f.markThreadRead,d[14]=f.initiatingSource,d[15]=f.skipUrlPreviewGen,d[17]=f.textHasLinks,d[18]=f.dataclassParams,d[19]=f.multitabEnv,d[16]=f.richTextFormatType,b.db.table(12).fetch([[[d[11]]],"optimistic"]).next().then(function(f,g){var e=f.done;f=f.value;return e?(d[23]=b.createArray(),d[24]=(d[23].push("OTID not found"),d[23]),d[25]=(d[23].push(d[11]),d[23]),d[26]=b.toJSON(d[23]),function(a){b.logger(a).mustfix(a)}(d[26]),e=[void 0,void 0,void 0],d[4]=e[0],d[5]=e[1],d[6]=e[2],e):(g=f.item,b.sequence([function(e){return d[30]=g.text,d[27]=g.threadKey,d[31]=g.messageId,d[39]=g.senderId,d[29]=g.stickerId,d[33]=g.mentionOffsets,d[34]=g.mentionLengths,d[28]=g.mentionIds,d[35]=g.mentionTypes,d[38]=g.replyType,d[36]=g.isForwarded,d[32]=g.forwardScore,d[37]=g.hotEmojiSize,b.db.table(9).fetch([[[d[27]]]]).next().then(function(f,h){var e=f.done;f=f.value;return e?(d[40]=b.createArray(),d[41]=(d[40].push("thread not found"),d[40]),d[42]=(d[40].push(d[27]),d[40]),d[43]=b.toJSON(d[40]),function(a){b.logger(a).mustfix(a)}(d[43]),e=[void 0,void 0,void 0],d[23]=e[0],d[24]=e[1],d[25]=e[2],e):(h=f.item,b.sequence([function(c){return d[47]=h.threadName,d[46]=h.threadKey,d[48]=h.mailboxType,d[40]=h.threadType,d[49]=h.capabilities,d[50]=h.capabilities2,d[51]=h.capabilities3,d[52]=h.capabilities4,d[53]=h.capabilities5,b.db.table(2).fetch([[[a[0]]]]).next().then(function(e,f){var c=e.done;e=e.value;return c?d[41]=!1:(f=e.item,b.sequence([function(c){return b.islc(b.db.table(2).fetch([[[f.queueName]],"queueNameTaskId"]),0,b.i64.to_float(b.i64.cast([0,1]))).next().then(function(e,f){var c=e.done;e=e.value;return c?d[54]=!1:(f=e.item,d[54]=b.i64.eq(f.taskId,a[0]))})},function(a){return d[41]=d[54]}]))})},function(a){return b.i64.eq(h.authorityLevel,b.i64.cast([0,20]))&&(b.i64.eq(d[40],b.i64.cast([0,2]))||b.i64.eq(d[40],b.i64.cast([0,5]))||b.i64.eq(d[40],b.i64.cast([0,26])))&&d[41]?b.sequence([function(a){return d[57]=d[20]==null?b.i64.cast([0,1]):d[20],b.db.table(9).fetch([[[d[27]]]]).next().then(function(c,e){var a=c.done;c=c.value;return a?d[54]=b.i64.cast([0,1]):(e=c.item,d[72]=e.syncGroup,b.i64.neq(d[72],void 0)?d[71]=d[72]:d[71]=b.i64.cast([0,1]),d[54]=d[71])})},function(a){return d[56]=new b.Map(),d[56].set("thread_id",d[27]),d[56].set("otid",d[11]),d[56].set("source",d[21]==null?b.i64.cast([0,0]):d[21]),d[56].set("send_type",b.i64.cast([0,1])),d[56].set("sync_group",d[54]),d[56].set("mark_thread_read",d[22]),b.i64.eq(d[57],b.i64.cast([0,1]))?b.resolve(d[56].set("text",d[30])):b.i64.eq(d[57],b.i64.cast([0,2]))?b.resolve(b.i64.neq(d[29],void 0)?(d[56].set("sticker_id",d[29]),d[56].set("send_type",d[57])):0):b.i64.eq(d[57],b.i64.cast([0,7]))?b.sequence([function(a){return b.db.table(16).fetch([[[d[27],d[31]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0,void 0],d[71]=a[0],d[72]=a[1],a):(c=b.item,a=[c.filename,c.attributionAppId],d[71]=a[0],d[72]=a[1],a)})},function(a){return d[71]!==void 0?b.i64.neq(d[72],void 0)?(d[56].set("url",d[71]),d[56].set("attribution_app_id",d[72]),d[56].set("send_type",d[57])):0:0}]):b.i64.eq(d[57],b.i64.cast([0,3]))?b.sequence([function(a){return d[56].set("text",d[30]),d[71]=b.createArray(),d[72]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[d[27],d[31]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return d[73]=a.offlineAttachmentId,d[74]=(d[71].push(b.i64.from_string(a.attachmentFbid)),d[71]),d[73]!==void 0?d[74]=(d[72].push(d[73]),d[72]):0})},function(a){return d[56].set("attachment_fbids",d[71]),b.i64.eq(d[57],b.i64.cast([0,9]))?d[56].set("offline_attachment_ids",d[72]):0,d[56].set("send_type",d[57])}]):b.i64.eq(d[57],b.i64.cast([0,9]))?b.sequence([function(a){return d[56].set("text",d[30]),d[71]=b.createArray(),d[72]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[d[27],d[31]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return d[73]=a.offlineAttachmentId,d[74]=(d[71].push(b.i64.from_string(a.attachmentFbid)),d[71]),d[73]!==void 0?d[74]=(d[72].push(d[73]),d[72]):0})},function(a){return d[56].set("attachment_fbids",d[71]),b.i64.eq(d[57],b.i64.cast([0,9]))?d[56].set("offline_attachment_ids",d[72]):0,d[56].set("send_type",d[57])}]):b.i64.eq(d[57],b.i64.cast([0,10]))?b.sequence([function(a){return d[56].set("text",d[30]),d[71]=b.createArray(),d[72]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[d[27],d[31]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return d[73]=a.offlineAttachmentId,d[74]=(d[71].push(b.i64.from_string(a.attachmentFbid)),d[71]),d[73]!==void 0?d[74]=(d[72].push(d[73]),d[72]):0})},function(a){return d[56].set("attachment_fbids",d[71]),b.i64.eq(d[57],b.i64.cast([0,9]))?d[56].set("offline_attachment_ids",d[72]):0,d[56].set("send_type",d[57])}]):b.i64.eq(d[57],b.i64.cast([0,4]))?b.sequence([function(a){return b.db.table(16).fetch([[[d[27],d[31]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?d[71]=void 0:(c=b.item,d[71]=c.attachmentFbid)})},function(a){return b.db.table(16).fetch([[[d[27],d[31]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?d[73]=void 0:(c=b.item,d[73]=c.actionUrl)})},function(a){return d[71]!==void 0?(d[56].set("text",d[30]),d[73]!==void 0?d[56].set("url",d[73]):0,d[56].set("forwarded_share_id",d[71]),d[56].set("send_type",d[57])):0}]):b.i64.eq(d[57],b.i64.cast([0,5]))?b.resolve(d[12]!==void 0?(d[56].set("forwarded_msg_id",d[12]),d[56].set("send_type",d[57]),b.i64.neq(d[32],void 0)?d[56].set("forward_score",d[32]):0,d[56].set("strip_forwarded_msg_caption",!1)):0):b.i64.eq(d[57],b.i64.cast([0,6]))?b.sequence([function(a){return b.db.table(16).fetch([[[d[27],d[31]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0,void 0],d[71]=a[0],d[72]=a[1],a):(c=b.item,a=[c.filename,c.attributionAppId],d[71]=a[0],d[72]=a[1],a)})},function(a){return d[71]!==void 0?(d[56].set("url",d[71]),d[56].set("text",d[30]),d[56].set("send_type",d[57])):0}]):b.i64.eq(d[57],b.i64.cast([0,11]))?b.sequence([function(a){return b.db.table(16).fetch([[[d[27],d[31]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0,void 0],d[71]=a[0],d[72]=a[1],a):(c=b.item,a=[c.actionUrl,c.attributionAppId],d[71]=a[0],d[72]=a[1],a)})},function(a){return d[71]!==void 0?(d[56].set("url",d[71]),c("gkx")("3272")?d[56].set("text",d[30]):0,d[56].set("send_type",d[57])):0}]):b.resolve(0)},function(a){return d[67]=d[8]===""?void 0:d[8],d[67]!==void 0?b.i64.neq(d[13],void 0)?(d[71]=new b.Map(),d[71].set("reply_source_id",d[67]),d[71].set("reply_source_type",d[13]),d[71].set("reply_type",d[38]==null?b.i64.cast([0,0]):d[38]),d[71].set("reply_source_attachment_id",void 0),d[56].set("reply_metadata",d[71])):0:0,d[68]=d[28]===""?void 0:d[28],d[68]!==void 0?(d[71]=d[33]===""?void 0:d[33],d[71]!==void 0?(d[72]=d[34]===""?void 0:d[34],d[72]!==void 0?(d[73]=new b.Map(),d[73].set("mention_ids",d[68]),d[73].set("mention_offsets",d[71]),d[73].set("mention_lengths",d[72]),d[73].set("mention_types",d[35]===""?void 0:d[35]),d[56].set("mention_data",d[73])):0):0):0,d[36]!==void 0?d[56].set("is_forwarded",d[36]):0,d[69]=d[9]===""?void 0:d[9],d[69]!==void 0?d[56].set("platform_ref",d[69]):0,d[70]=d[10]===""?void 0:d[10],d[70]!==void 0?d[56].set("platform_token",d[70]):0,[b.i64.cast([0,1]),b.i64.cast([0,2])].some(function(a){return b.i64.eq(d[57],a)})?b.i64.neq(d[37],void 0)?d[56].set("hot_emoji_size",d[37]):0:0,b.i64.neq(d[14],void 0)?d[56].set("initiating_source",d[14]):0,d[15]!==void 0?d[56].set("skip_url_preview_gen",d[15]):0,b.i64.neq(d[16],void 0)?d[56].set("rich_text_format_type",d[16]):0,b.resolve()},function(a){return d[17]!==void 0?d[56].set("text_has_links",d[17]):0,d[18]!==void 0?d[56].set("dataclass_params",d[18]):0,d[19]!==void 0?d[56].set("multitab_env",d[19]):0,b.filter(b.db.table(14).fetch([[[d[46],d[39]]]]),function(a){return b.i64.eq(a.threadKey,d[46])&&b.i64.eq(b.i64.cast([0,0]),d[48])&&b.i64.eq(a.contactId,d[39])}).next().then(function(c,e){var a=c.done;c=c.value;return a?d[58]=!1:(e=c.item,b.i64.eq(d[40],b.i64.cast([0,152]))?(d[72]=e.threadRoles,b.i64.lt(b.i64.cast([0,7]),b.i64.cast([0,0]))||b.i64.gt(b.i64.cast([0,7]),b.i64.cast([0,7]))?d[73]=!1:d[73]=!b.i64.eq(b.i64.and_(b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.cast([0,7]))),d[72]),b.i64.cast([0,0])),d[74]=d[49],d[75]=d[50],d[76]=d[51],d[77]=d[52],d[78]=d[53],d[80]=b.i64.div(b.i64.cast([0,223]),b.i64.cast([0,64])),d[81]=b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.sub(b.i64.cast([0,223]),b.i64.mul(d[80],b.i64.cast([0,64]))))),b.i64.lt(b.i64.cast([0,223]),b.i64.cast([0,0]))||b.i64.gt(b.i64.cast([0,223]),b.i64.cast([0,259]))?d[79]=!1:(b.i64.eq(d[80],b.i64.cast([0,0]))?d[82]=!b.i64.eq(b.i64.and_(d[81],d[74]),b.i64.cast([0,0])):(b.i64.eq(d[80],b.i64.cast([0,1]))?d[83]=!b.i64.eq(b.i64.and_(d[81],d[75]),b.i64.cast([0,0])):(b.i64.eq(d[80],b.i64.cast([0,2]))?d[84]=!b.i64.eq(b.i64.and_(d[81],d[76]),b.i64.cast([0,0])):(b.i64.eq(d[80],b.i64.cast([0,3]))?d[85]=!b.i64.eq(b.i64.and_(d[81],d[77]),b.i64.cast([0,0])):(b.i64.eq(d[80],b.i64.cast([0,4]))?d[86]=!b.i64.eq(b.i64.and_(d[81],d[78]),b.i64.cast([0,0])):d[86]=!1,d[85]=d[86]),d[84]=d[85]),d[83]=d[84]),d[82]=d[83]),d[79]=d[82]),d[73]===d[79]?0:(function(a){b.logger(a).mustfix(a)}("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting"),b["throw"]("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting")),d[71]=d[73]):d[71]=!1,d[58]=d[71])})},function(a){return d[58]?d[56].set("perform_action_as_page",!0):0,d[60]=b.createArray(),b.forEach(b.db.table(14).fetch([[[d[27]]]]),function(a){a=a.item;return d[71]=(d[60].push(a.contactId),d[60])})},function(a){return d[61]=new b.Map(),d[61].set("participants",d[60]),d[61].set("send_payload",d[56]),d[47]!==void 0?d[61].set("thread_name",d[47]):0,b.db.table(312).fetch([[[d[27]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?d[62]=void 0:(c=b.item,d[62]=c.metadata)})},function(a){return d[61].set("thread_metadata",d[62]),b.forEach(b.db.table(9).fetch([[[d[46]]]]),function(a){var b=a.update;a.item;return b({otidOfFirstMessage:g.offlineThreadingId})})},function(a){return d[62]===void 0||!1?(b.i64.eq(d[40],b.i64.cast([0,5]))||b.i64.eq(d[40],b.i64.cast([0,26]))?(function(a){b.logger(a).mustfix(a)}("For Marketplace & community chat subthreads, thread metadata cannot be null"),a=[void 0,void 0,void 0],d[71]=a[0],d[72]=a[1],d[73]=a[2],a):(d[74]=b.toJSON(d[61]),a=[d[74],b.i64.cast([0,130]),void 0],d[71]=a[0],d[72]=a[1],d[73]=a[2],a),a=[d[71],d[72],d[73]],d[64]=a[0],d[65]=a[1],d[66]=a[2],a):(b.i64.eq(d[40],b.i64.cast([0,5]))?(d[74]=b.toJSON(d[61]),a=[d[74],b.i64.cast([0,645]),void 0],d[71]=a[0],d[72]=a[1],d[73]=a[2],a):(b.i64.eq(d[40],b.i64.cast([0,2]))?(d[77]=b.toJSON(d[61]),a=[d[77],b.i64.cast([0,787]),void 0],d[74]=a[0],d[75]=a[1],d[76]=a[2],a):(d[77]=b.toJSON(d[61]),a=[d[77],b.i64.cast([0,645]),void 0],d[74]=a[0],d[75]=a[1],d[76]=a[2],a),a=[d[74],d[75],d[76]],d[71]=a[0],d[72]=a[1],d[73]=a[2],a),a=[d[71],d[72],d[73]],d[64]=a[0],d[65]=a[1],d[66]=a[2],a),a=[d[64],d[65],d[66]],d[43]=a[0],d[44]=a[1],d[45]=a[2],a}]):b.sequence([function(a){return d[57]=d[20]==null?b.i64.cast([0,1]):d[20],b.db.table(9).fetch([[[d[27]]]]).next().then(function(c,e){var a=c.done;c=c.value;return a?d[54]=b.i64.cast([0,1]):(e=c.item,d[66]=e.syncGroup,b.i64.neq(d[66],void 0)?d[65]=d[66]:d[65]=b.i64.cast([0,1]),d[54]=d[65])})},function(a){return d[56]=new b.Map(),d[56].set("thread_id",d[27]),d[56].set("otid",d[11]),d[56].set("source",d[21]==null?b.i64.cast([0,0]):d[21]),d[56].set("send_type",b.i64.cast([0,1])),d[56].set("sync_group",d[54]),d[56].set("mark_thread_read",d[22]),b.i64.eq(d[57],b.i64.cast([0,1]))?b.resolve(d[56].set("text",d[30])):b.i64.eq(d[57],b.i64.cast([0,2]))?b.resolve(b.i64.neq(d[29],void 0)?(d[56].set("sticker_id",d[29]),d[56].set("send_type",d[57])):0):b.i64.eq(d[57],b.i64.cast([0,7]))?b.sequence([function(a){return b.db.table(16).fetch([[[d[27],d[31]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0,void 0],d[65]=a[0],d[66]=a[1],a):(c=b.item,a=[c.filename,c.attributionAppId],d[65]=a[0],d[66]=a[1],a)})},function(a){return d[65]!==void 0?b.i64.neq(d[66],void 0)?(d[56].set("url",d[65]),d[56].set("attribution_app_id",d[66]),d[56].set("send_type",d[57])):0:0}]):b.i64.eq(d[57],b.i64.cast([0,3]))?b.sequence([function(a){return d[56].set("text",d[30]),d[65]=b.createArray(),d[66]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[d[27],d[31]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return d[67]=a.offlineAttachmentId,d[68]=(d[65].push(b.i64.from_string(a.attachmentFbid)),d[65]),d[67]!==void 0?d[68]=(d[66].push(d[67]),d[66]):0})},function(a){return d[56].set("attachment_fbids",d[65]),b.i64.eq(d[57],b.i64.cast([0,9]))?d[56].set("offline_attachment_ids",d[66]):0,d[56].set("send_type",d[57])}]):b.i64.eq(d[57],b.i64.cast([0,9]))?b.sequence([function(a){return d[56].set("text",d[30]),d[65]=b.createArray(),d[66]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[d[27],d[31]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return d[67]=a.offlineAttachmentId,d[68]=(d[65].push(b.i64.from_string(a.attachmentFbid)),d[65]),d[67]!==void 0?d[68]=(d[66].push(d[67]),d[66]):0})},function(a){return d[56].set("attachment_fbids",d[65]),b.i64.eq(d[57],b.i64.cast([0,9]))?d[56].set("offline_attachment_ids",d[66]):0,d[56].set("send_type",d[57])}]):b.i64.eq(d[57],b.i64.cast([0,10]))?b.sequence([function(a){return d[56].set("text",d[30]),d[65]=b.createArray(),d[66]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[d[27],d[31]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return d[67]=a.offlineAttachmentId,d[68]=(d[65].push(b.i64.from_string(a.attachmentFbid)),d[65]),d[67]!==void 0?d[68]=(d[66].push(d[67]),d[66]):0})},function(a){return d[56].set("attachment_fbids",d[65]),b.i64.eq(d[57],b.i64.cast([0,9]))?d[56].set("offline_attachment_ids",d[66]):0,d[56].set("send_type",d[57])}]):b.i64.eq(d[57],b.i64.cast([0,4]))?b.sequence([function(a){return b.db.table(16).fetch([[[d[27],d[31]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?d[65]=void 0:(c=b.item,d[65]=c.attachmentFbid)})},function(a){return b.db.table(16).fetch([[[d[27],d[31]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?d[67]=void 0:(c=b.item,d[67]=c.actionUrl)})},function(a){return d[65]!==void 0?(d[56].set("text",d[30]),d[67]!==void 0?d[56].set("url",d[67]):0,d[56].set("forwarded_share_id",d[65]),d[56].set("send_type",d[57])):0}]):b.i64.eq(d[57],b.i64.cast([0,5]))?b.resolve(d[12]!==void 0?(d[56].set("forwarded_msg_id",d[12]),d[56].set("send_type",d[57]),b.i64.neq(d[32],void 0)?d[56].set("forward_score",d[32]):0,d[56].set("strip_forwarded_msg_caption",!1)):0):b.i64.eq(d[57],b.i64.cast([0,6]))?b.sequence([function(a){return b.db.table(16).fetch([[[d[27],d[31]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0,void 0],d[65]=a[0],d[66]=a[1],a):(c=b.item,a=[c.filename,c.attributionAppId],d[65]=a[0],d[66]=a[1],a)})},function(a){return d[65]!==void 0?(d[56].set("url",d[65]),d[56].set("text",d[30]),d[56].set("send_type",d[57])):0}]):b.i64.eq(d[57],b.i64.cast([0,11]))?b.sequence([function(a){return b.db.table(16).fetch([[[d[27],d[31]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0,void 0],d[65]=a[0],d[66]=a[1],a):(c=b.item,a=[c.actionUrl,c.attributionAppId],d[65]=a[0],d[66]=a[1],a)})},function(a){return d[65]!==void 0?(d[56].set("url",d[65]),c("gkx")("3272")?d[56].set("text",d[30]):0,d[56].set("send_type",d[57])):0}]):b.resolve(0)},function(a){return d[61]=d[8]===""?void 0:d[8],d[61]!==void 0?b.i64.neq(d[13],void 0)?(d[65]=new b.Map(),d[65].set("reply_source_id",d[61]),d[65].set("reply_source_type",d[13]),d[65].set("reply_type",d[38]==null?b.i64.cast([0,0]):d[38]),d[65].set("reply_source_attachment_id",void 0),d[56].set("reply_metadata",d[65])):0:0,d[62]=d[28]===""?void 0:d[28],d[62]!==void 0?(d[65]=d[33]===""?void 0:d[33],d[65]!==void 0?(d[66]=d[34]===""?void 0:d[34],d[66]!==void 0?(d[67]=new b.Map(),d[67].set("mention_ids",d[62]),d[67].set("mention_offsets",d[65]),d[67].set("mention_lengths",d[66]),d[67].set("mention_types",d[35]===""?void 0:d[35]),d[56].set("mention_data",d[67])):0):0):0,d[36]!==void 0?d[56].set("is_forwarded",d[36]):0,d[63]=d[9]===""?void 0:d[9],d[63]!==void 0?d[56].set("platform_ref",d[63]):0,d[64]=d[10]===""?void 0:d[10],d[64]!==void 0?d[56].set("platform_token",d[64]):0,[b.i64.cast([0,1]),b.i64.cast([0,2])].some(function(a){return b.i64.eq(d[57],a)})?b.i64.neq(d[37],void 0)?d[56].set("hot_emoji_size",d[37]):0:0,b.i64.neq(d[14],void 0)?d[56].set("initiating_source",d[14]):0,d[15]!==void 0?d[56].set("skip_url_preview_gen",d[15]):0,b.i64.neq(d[16],void 0)?d[56].set("rich_text_format_type",d[16]):0,b.resolve()},function(a){return d[17]!==void 0?d[56].set("text_has_links",d[17]):0,d[18]!==void 0?d[56].set("dataclass_params",d[18]):0,d[19]!==void 0?d[56].set("multitab_env",d[19]):0,b.filter(b.db.table(14).fetch([[[d[46],d[39]]]]),function(a){return b.i64.eq(a.threadKey,d[46])&&b.i64.eq(b.i64.cast([0,0]),d[48])&&b.i64.eq(a.contactId,d[39])}).next().then(function(c,e){var a=c.done;c=c.value;return a?d[58]=!1:(e=c.item,b.i64.eq(d[40],b.i64.cast([0,152]))?(d[66]=e.threadRoles,b.i64.lt(b.i64.cast([0,7]),b.i64.cast([0,0]))||b.i64.gt(b.i64.cast([0,7]),b.i64.cast([0,7]))?d[67]=!1:d[67]=!b.i64.eq(b.i64.and_(b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.cast([0,7]))),d[66]),b.i64.cast([0,0])),d[68]=d[49],d[69]=d[50],d[70]=d[51],d[71]=d[52],d[72]=d[53],d[74]=b.i64.div(b.i64.cast([0,223]),b.i64.cast([0,64])),d[75]=b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.sub(b.i64.cast([0,223]),b.i64.mul(d[74],b.i64.cast([0,64]))))),b.i64.lt(b.i64.cast([0,223]),b.i64.cast([0,0]))||b.i64.gt(b.i64.cast([0,223]),b.i64.cast([0,259]))?d[73]=!1:(b.i64.eq(d[74],b.i64.cast([0,0]))?d[76]=!b.i64.eq(b.i64.and_(d[75],d[68]),b.i64.cast([0,0])):(b.i64.eq(d[74],b.i64.cast([0,1]))?d[77]=!b.i64.eq(b.i64.and_(d[75],d[69]),b.i64.cast([0,0])):(b.i64.eq(d[74],b.i64.cast([0,2]))?d[78]=!b.i64.eq(b.i64.and_(d[75],d[70]),b.i64.cast([0,0])):(b.i64.eq(d[74],b.i64.cast([0,3]))?d[79]=!b.i64.eq(b.i64.and_(d[75],d[71]),b.i64.cast([0,0])):(b.i64.eq(d[74],b.i64.cast([0,4]))?d[80]=!b.i64.eq(b.i64.and_(d[75],d[72]),b.i64.cast([0,0])):d[80]=!1,d[79]=d[80]),d[78]=d[79]),d[77]=d[78]),d[76]=d[77]),d[73]=d[76]),d[67]===d[73]?0:(function(a){b.logger(a).mustfix(a)}("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting"),b["throw"]("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting")),d[65]=d[67]):d[65]=!1,d[58]=d[65])})},function(a){return d[58]?d[56].set("perform_action_as_page",!0):0,d[60]=b.toJSON(d[56]),a=[d[60],b.i64.cast([0,46]),void 0],d[43]=a[0],d[44]=a[1],d[45]=a[2],a}])},function(a){return a=[d[43],d[44],d[45]],d[23]=a[0],d[24]=a[1],d[25]=a[2],a}]))})},function(a){return a=[d[23],d[24],d[25]],d[4]=a[0],d[5]=a[1],d[6]=a[2],a}]))})},function(a){return a=[d[4],d[5],d[6]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}]))})},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return b.resolve(e)}])}a.__sproc_name__="LSMailboxTaskSerializerSendMessageV2StoredProcedure";a.__tables__=["messages_optimistic_context","messages","threads","pending_tasks","attachments","participants","threads_optimistic_metadata"];b=a;g["default"]=b}),98);
__d("LSTaskSerializerSyncThreadCapabilities",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,void 0,void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],a,c.resolve(d)}a.__sproc_name__="LSMailboxTaskSerializerSyncThreadCapabilitiesStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSACSExperimentCapability",[],(function(a,b,c,d,e,f){a=Object.freeze({RETRY_AFTER_TASK_SERIALIZATION_FAILURE_EXPONENTIAL_BACKOFF:0,BUMP_TOKEN_SYNC_TASK_AT_TASK_SERIALIZATION:1,INSERT_PENDING_TASK_PARENT_ROW_WHEN_NO_ACS_TOKENS_AT_TASK_INSERTION:2});f["default"]=a}),66);
__d("LSIsExperimentCapabilityEnabled.nop",["LSACSExperimentCapability","LSIntEnum","MetaConfig","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("MetaConfig")._("87"),k=c("MetaConfig")._("156");a=function(a,e,f,g){switch((i||(i=d("LSIntEnum"))).toNumber(f)){case c("LSACSExperimentCapability").BUMP_TOKEN_SYNC_TASK_AT_TASK_SERIALIZATION:return(h||(h=b("Promise"))).resolve([k]);case c("LSACSExperimentCapability").INSERT_PENDING_TASK_PARENT_ROW_WHEN_NO_ACS_TOKENS_AT_TASK_INSERTION:return(h||(h=b("Promise"))).resolve([!1]);case c("LSACSExperimentCapability").RETRY_AFTER_TASK_SERIALIZATION_FAILURE_EXPONENTIAL_BACKOFF:return(h||(h=b("Promise"))).resolve([j])}return(h||(h=b("Promise"))).resolve([!1])};g["default"]=a}),98);
__d("LSMailboxTaskCompletionApiOnTaskCompletion",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(233).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({success:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreMailboxTaskCompletionApiOnTaskCompletionStoredProcedure";a.__tables__=["mailbox_task_completion_api_tasks"];e.exports=a}),null);
__d("LSVoprfHmac.nop",["ACSCipherSuiteModule","ACSTokenHmacUtil","Promise","XPlatReactTextEncoder","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){a=d("ACSCipherSuiteModule").getACSCipherSuiteByValue(d("ACSCipherSuiteModule").VOPRF_RISTRETTO_HMACSHA512.value);if(!a)return(h||(h=b("Promise"))).resolve([void 0]);c=(yield d("ACSTokenHmacUtil").hmac(a.macAlgorithm,new Uint8Array(f).slice(),new(d("XPlatReactTextEncoder").TextEncoder)().encode(e)));return(h||(h=b("Promise"))).resolve([c.buffer])});function c(b,c,d,e){return a.apply(this,arguments)}return c}();g["default"]=a}),98);
__d("LSTaskSerializerUnauthenticatedTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsExperimentCapabilityEnabled.nop","LSMailboxTaskCompletionApiOnTaskCompletion","LSRemoveUsedTokens","LSVoprfHmac.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return c.db.table(311).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=void 0:(b=a.item,d[0]=b.projectName)})},function(e){return d[0]!==void 0?c.sequence([function(e){return a[1]!==void 0?c.sequence([function(a){return d[9]=c.createArray(),d[10]=c.i64.of_float(Date.now()),c.forEach(c.filter(c.db.table(307).fetch(),function(a){return d[0]===a.projectName&&c.i64.gt(a.expirationTimestampMs,d[10])}),function(a){a=a.item;return d[16]=(d[9].push(a.configId),d[9])})},function(a){return c.sequence([function(a){return d[16]=c.createArray(),d[17]=c.i64.of_int32(d[9].length),c.i64.gt(d[17],c.i64.cast([0,0]))?c.loopAsync(d[17],function(a){return d[19]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[9],d[19]).then(function(a){return a=a,d[20]=a[0],d[21]=a[1],a})},function(a){return d[22]=(d[16].push(d[20]),d[16])}])}):c.resolve()},function(a){return d[18]=d[16].join(","),d[11]=d[18]}])},function(e){return c.filter(c.db.table(309).fetch(),function(a){return d[9].includes(a.configId)&&c.i64.gt(a.redeemLimit,c.i64.cast([0,0]))}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(a){return c.nativeOperation(b("LSIsExperimentCapabilityEnabled.nop"),c.i64.cast([0,0]),d[0]).then(function(a){return a=a,d[16]=a[0],a})},function(e){return d[16]?c.sequence([function(b){return c.db.table(311).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[20]=c.i64.cast([0,0]):(e=b.item,d[20]=e.failureCount)})},function(b){return c.forEach(c.db.table(311).fetch([[[a[0]]]]),function(a){a=a.item;return c.forEach(c.db.table(311).fetch([[[a.taskId]]]),function(a){var b=a.update;a.item;return b({failureCount:c.i64.add(d[20],c.i64.cast([0,1]))})})})},function(a){return a=[void 0,void 0,c.i64.mul(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.mod_(d[20],c.i64.cast([0,7])))),c.i64.cast([0,500]))],d[17]=a[0],d[18]=a[1],d[19]=a[2],a}]):c.sequence([function(d){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskCompletion"),a[0],!1)},function(b){return d[20]=c.createArray(),d[21]=(d[20].push("Unauthenticated Task Serializer: no valid tokens"),d[20]),d[22]=(d[20].push(a[0]),d[20]),d[23]=(d[20].push(d[0]),d[20]),d[24]=c.toJSON(d[20]),function(a){c.logger(a).mustfix(a)}(d[24]),b=[void 0,void 0,void 0],d[17]=b[0],d[18]=b[1],d[19]=b[2],b}])},function(a){return a=[d[17],d[18],d[19]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]):(f=e.item,c.sequence([function(e){return d[20]=f.tokenId,c.nativeOperation(b("LSVoprfHmac.nop"),a[2]==null?"":a[2],f.sharedSecret).then(function(a){return a=a,d[16]=a[0],a})},function(e){return c.blobs.neq(d[16],void 0)?c.sequence([function(a){return c.forEach(c.db.table(309).fetch([[[d[20]]]]),function(a){var b=a.update;a=a.item;return b({redeemLimit:c.i64.sub(a.redeemLimit,c.i64.cast([0,1]))})})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[16]).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),f.nonce).then(function(a){return a=a,d[22]=a[0],a})},function(b){return d[23]=new c.Map(),d[23].set("config_id",f.configId),d[23].set("tag",d[21]==null?"":d[21]),d[23].set("aux",d[22]==null?"":d[22]),d[23].set("project_name",d[0]),d[24]=c.toJSON(d[23]),d[25]=new c.Map(),d[25].set("payload",a[2]==null?"":a[2]),d[25].set("token",d[24]),d[26]=c.toJSON(d[25]),b=[d[26],c.i64.from_string(a[1]),void 0],d[17]=b[0],d[18]=b[1],d[19]=b[2],b}]):c.sequence([function(a){return c.forEach(c.db.table(309).fetch([[[d[20]]]]),function(a){return a["delete"]()})},function(d){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskCompletion"),a[0],!1)},function(b){return d[21]=c.createArray(),d[22]=(d[21].push("Unauthenticated Task Serializer: hmac failed"),d[21]),d[23]=(d[21].push(a[0]),d[21]),d[24]=c.toJSON(d[21]),function(a){c.logger(a).mustfix(a)}(d[24]),b=[void 0,void 0,void 0],d[17]=b[0],d[18]=b[1],d[19]=b[2],b}])},function(a){return a=[d[17],d[18],d[19]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]))})},function(a){return a=[d[12],d[13],d[14]],d[6]=a[0],d[7]=a[1],d[8]=a[2],a}]):c.sequence([function(d){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskCompletion"),a[0],!1)},function(b){return d[9]=c.createArray(),d[10]=(d[9].push("Unauthenticated Task Serializer: task has no write label"),d[9]),d[11]=(d[9].push(a[0]),d[9]),d[12]=c.toJSON(d[9]),function(a){c.logger(a).mustfix(a)}(d[12]),b=[void 0,void 0,void 0],d[6]=b[0],d[7]=b[1],d[8]=b[2],b}])},function(a){return a=[d[6],d[7],d[8]],d[2]=a[0],d[3]=a[1],d[4]=a[2],a}]):c.sequence([function(d){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskCompletion"),a[0],!1)},function(b){return d[6]=c.createArray(),d[7]=(d[6].push("Unauthenticated Task Serializer: anonymous_task_context row not found"),d[6]),d[8]=(d[6].push(a[0]),d[6]),d[9]=c.toJSON(d[6]),function(a){c.logger(a).mustfix(a)}(d[9]),b=[void 0,void 0,void 0],d[2]=b[0],d[3]=b[1],d[4]=b[2],b}])},function(a){return c.storedProcedure(b("LSRemoveUsedTokens"))},function(a){return d[0]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSIsExperimentCapabilityEnabled.nop"),c.i64.cast([0,1]),d[0]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[6]?c.sequence([function(a){return c.i64.neq(d[4],void 0)?c.resolve(d[8]=!0):c.sequence([function(a){return d[10]=c.createArray(),d[11]=c.i64.of_float(Date.now()),c.forEach(c.filter(c.db.table(307).fetch(),function(a){return d[0]===a.projectName&&c.i64.gt(a.expirationTimestampMs,d[11])}),function(a){a=a.item;return d[15]=(d[10].push(a.configId),d[10])})},function(a){return c.sequence([function(a){return d[15]=c.createArray(),d[16]=c.i64.of_int32(d[10].length),c.i64.gt(d[16],c.i64.cast([0,0]))?c.loopAsync(d[16],function(a){return d[18]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[10],d[18]).then(function(a){return a=a,d[19]=a[0],d[20]=a[1],a})},function(a){return d[21]=(d[15].push(d[19]),d[15])}])}):c.resolve()},function(a){return d[17]=d[15].join(","),d[12]=d[17]}])},function(a){return c.filter(c.db.table(309).fetch(),function(a){return d[10].includes(a.configId)&&c.i64.gt(a.redeemLimit,c.i64.cast([0,0]))}).next().then(function(a,b){b=a.done;a=a.value;return b?d[13]=!0:(a.item,d[13]=!1)})},function(a){return d[8]=d[13]}])},function(a){return d[8]?c.sequence([function(a){return c.filter(c.db.table(310).fetch(),function(a){return a.projectName===d[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[10]=void 0:(b=a.item,d[10]=b.taskId)})},function(a){return d[9]=d[10]}]):c.resolve(d[9]=void 0)},function(a){return d[7]=d[9]}]):c.resolve(d[7]=void 0)},function(a){return d[5]=d[7]}]):c.resolve(d[5]=void 0)},function(a){return a=[d[2],d[3],d[4],d[5]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAnonymousCredentialsTaskSerializerUnauthenticatedTaskStoredProcedure";a.__tables__=["anonymous_task_context","secure_acs_configurations","secure_acs_tokens","acs_request_context"];e.exports=a}),null);
__d("LSTaskSerializerUpdateThreadName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("taskSerializerUpdateThreadName: Task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2],f):(e=d.item,b.sequence([function(a){return c[8]=e.threadKey,b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?(c[9]=b.createArray(),c[10]=(c[9].push("taskSerializerUpdateThreadName: Thread not found"),c[9]),c[11]=(c[9].push(c[8]),c[9]),c[12]=b.toJSON(c[9]),function(a){b.logger(a).mustfix(a)}(c[12]),a=[void 0,void 0,void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2],a):(e=d.item,b.sequence([function(a){return b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?c[9]=b.i64.cast([0,1]):(e=d.item,c[14]=e.syncGroup,b.i64.neq(c[14],void 0)?c[13]=c[14]:c[13]=b.i64.cast([0,1]),c[9]=c[13])})},function(a){return c[11]=new b.Map(),c[11].set("thread_key",c[8]),c[11].set("thread_name",e.threadName==null?"":e.threadName),c[11].set("sync_group",c[9]),c[12]=b.toJSON(c[11]),a=[c[12],b.i64.cast([0,32]),void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2],a}]))})},function(a){return a=[c[4],c[5],c[6]],c[0]=a[0],c[1]=a[1],c[2]=a[2],a}]))})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxTaskSerializerUpdateThreadNameStoredProcedure";a.__tables__=["threads_optimistic_context","threads"];e.exports=a}),null);
__d("LSSerializeTask",["LSForceTaskExecutionImmediately","LSTaskSerializerAcsIssueNextSync","LSTaskSerializerDeleteChatHistory","LSTaskSerializerE2eeMessageIntegrityCheckV2","LSTaskSerializerE2eeMetadataThreadIntegrityCheck","LSTaskSerializerEncryptedBackupAction","LSTaskSerializerEncryptedBackupsLoopingUpload","LSTaskSerializerEncryptedBackupsOpenUpload","LSTaskSerializerEncryptedBackupsRestoreWithSerializer","LSTaskSerializerEncryptedBackupsUpload","LSTaskSerializerEncryptedBackupsUploadProtobufOnly","LSTaskSerializerMuteThreadV2","LSTaskSerializerRemoveThread","LSTaskSerializerSendMessageV2","LSTaskSerializerSyncThreadCapabilities","LSTaskSerializerUnauthenticatedTask","LSTaskSerializerUpdateThreadName"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return a[1]==="46"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerSendMessageV2"),a[0]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(a){return a=[d[8],c.i64.to_string(d[9]),void 0,void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],a}]):c.sequence([function(e){return a[1]==="144"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerMuteThreadV2"),a[0]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return a=[d[12],c.i64.to_string(d[13]),void 0,void 0],d[8]=a[0],d[9]=a[1],d[10]=a[2],d[11]=a[3],a}]):c.sequence([function(e){return a[1]==="146"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerRemoveThread"),a[0]).then(function(a){return a=a,d[16]=a[0],d[17]=a[1],a})},function(a){return a=[d[16],c.i64.to_string(d[17]),void 0,void 0],d[12]=a[0],d[13]=a[1],d[14]=a[2],d[15]=a[3],a}]):c.sequence([function(e){return a[1]==="32"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerUpdateThreadName"),a[0]).then(function(a){return a=a,d[20]=a[0],d[21]=a[1],d[22]=a[2],a})},function(a){return a=[d[20],c.i64.to_string(d[21]),void 0,void 0],d[16]=a[0],d[17]=a[1],d[18]=a[2],d[19]=a[3],a}]):c.sequence([function(e){return a[1]==="362"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerAcsIssueNextSync"),a[0]).then(function(a){return a=a,d[24]=a[0],d[25]=a[1],d[26]=a[2],a})},function(a){return a=[d[24],c.i64.to_string(d[25]),void 0,void 0],d[20]=a[0],d[21]=a[1],d[22]=a[2],d[23]=a[3],a}]):c.sequence([function(e){return a[1]==="50015"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsRestoreWithSerializer"),a[0]).then(function(a){return a=a,d[28]=a[0],d[29]=a[1],d[30]=a[2],a})},function(a){return a=[d[28],c.i64.to_string(d[29]),void 0,void 0],d[24]=a[0],d[25]=a[1],d[26]=a[2],d[27]=a[3],a}]):c.sequence([function(e){return a[1]==="319"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupAction"),a[0]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],d[34]=a[2],a})},function(a){return a=[d[32],c.i64.to_string(d[33]),void 0,void 0],d[28]=a[0],d[29]=a[1],d[30]=a[2],d[31]=a[3],a}]):c.sequence([function(e){return a[1]==="50026"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsUpload"),a[0]).then(function(a){return a=a,d[36]=a[0],d[37]=a[1],a})},function(a){return a=[d[36],c.i64.to_string(d[37]),void 0,void 0],d[32]=a[0],d[33]=a[1],d[34]=a[2],d[35]=a[3],a}]):c.sequence([function(e){return a[1]==="50042"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsUploadProtobufOnly"),a[0]).then(function(a){return a=a,d[40]=a[0],d[41]=a[1],d[42]=a[2],a})},function(a){return a=[d[40],c.i64.to_string(d[41]),void 0,void 0],d[36]=a[0],d[37]=a[1],d[38]=a[2],d[39]=a[3],a}]):c.sequence([function(e){return a[1]==="700"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerE2eeMetadataThreadIntegrityCheck"),a[0]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],d[46]=a[2],a})},function(a){return a=[d[44],c.i64.to_string(d[45]),void 0,void 0],d[40]=a[0],d[41]=a[1],d[42]=a[2],d[43]=a[3],a}]):c.sequence([function(e){return a[1]==="705"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerE2eeMessageIntegrityCheckV2"),a[0]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],d[50]=a[2],a})},function(a){return a=[d[48],c.i64.to_string(d[49]),void 0,void 0],d[44]=a[0],d[45]=a[1],d[46]=a[2],d[47]=a[3],a}]):c.sequence([function(e){return a[1]==="50043"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsLoopingUpload"),a[0]).then(function(a){return a=a,d[52]=a[0],d[53]=a[1],d[54]=a[2],a})},function(a){return a=[d[52],c.i64.to_string(d[53]),void 0,void 0],d[48]=a[0],d[49]=a[1],d[50]=a[2],d[51]=a[3],a}]):c.sequence([function(e){return a[1]==="50048"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsOpenUpload"),a[0]).then(function(a){return a=a,d[56]=a[0],d[57]=a[1],a})},function(a){return a=[d[56],c.i64.to_string(d[57]),void 0,void 0],d[52]=a[0],d[53]=a[1],d[54]=a[2],d[55]=a[3],a}]):c.sequence([function(e){return a[1]==="160013"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerSyncThreadCapabilities"),a[0]).then(function(a){return a=a,d[60]=a[0],d[61]=a[1],d[62]=a[2],a})},function(a){return a=[d[60],c.i64.to_string(d[61]),void 0,void 0],d[56]=a[0],d[57]=a[1],d[58]=a[2],d[59]=a[3],a}]):c.sequence([function(e){return a[1]==="903"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerDeleteChatHistory"),a[0]).then(function(a){return a=a,d[64]=a[0],d[65]=a[1],d[66]=a[2],a})},function(a){return a=[d[64],c.i64.to_string(d[65]),void 0,void 0],d[60]=a[0],d[61]=a[1],d[62]=a[2],d[63]=a[3],a}]):c.resolve((e=[a[2],a[1],void 0,void 0],d[60]=e[0],d[61]=e[1],d[62]=e[2],d[63]=e[3],e))},function(a){return a=[d[60],d[61],d[62],d[63]],d[56]=a[0],d[57]=a[1],d[58]=a[2],d[59]=a[3],a}])},function(a){return a=[d[56],d[57],d[58],d[59]],d[52]=a[0],d[53]=a[1],d[54]=a[2],d[55]=a[3],a}])},function(a){return a=[d[52],d[53],d[54],d[55]],d[48]=a[0],d[49]=a[1],d[50]=a[2],d[51]=a[3],a}])},function(a){return a=[d[48],d[49],d[50],d[51]],d[44]=a[0],d[45]=a[1],d[46]=a[2],d[47]=a[3],a}])},function(a){return a=[d[44],d[45],d[46],d[47]],d[40]=a[0],d[41]=a[1],d[42]=a[2],d[43]=a[3],a}])},function(a){return a=[d[40],d[41],d[42],d[43]],d[36]=a[0],d[37]=a[1],d[38]=a[2],d[39]=a[3],a}])},function(a){return a=[d[36],d[37],d[38],d[39]],d[32]=a[0],d[33]=a[1],d[34]=a[2],d[35]=a[3],a}])},function(a){return a=[d[32],d[33],d[34],d[35]],d[28]=a[0],d[29]=a[1],d[30]=a[2],d[31]=a[3],a}])},function(a){return a=[d[28],d[29],d[30],d[31]],d[24]=a[0],d[25]=a[1],d[26]=a[2],d[27]=a[3],a}])},function(a){return a=[d[24],d[25],d[26],d[27]],d[20]=a[0],d[21]=a[1],d[22]=a[2],d[23]=a[3],a}])},function(a){return a=[d[20],d[21],d[22],d[23]],d[16]=a[0],d[17]=a[1],d[18]=a[2],d[19]=a[3],a}])},function(a){return a=[d[16],d[17],d[18],d[19]],d[12]=a[0],d[13]=a[1],d[14]=a[2],d[15]=a[3],a}])},function(a){return a=[d[12],d[13],d[14],d[15]],d[8]=a[0],d[9]=a[1],d[10]=a[2],d[11]=a[3],a}])},function(a){return a=[d[8],d[9],d[10],d[11]],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],a}])},function(e){return a[3]?c.resolve((d[1]==="60009"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","60009"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[8]=e[0],d[9]=e[1],d[10]=e[2],d[11]=e[3],e):(d[1]==="60006"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","60006"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[12]=e[0],d[13]=e[1],d[14]=e[2],d[15]=e[3],e):(d[1]==="60008"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","60008"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[16]=e[0],d[17]=e[1],d[18]=e[2],d[19]=e[3],e):(d[1]==="60011"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","60011"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[20]=e[0],d[21]=e[1],d[22]=e[2],d[23]=e[3],e):(d[1]==="765"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","765"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[24]=e[0],d[25]=e[1],d[26]=e[2],d[27]=e[3],e):(d[1]==="1006"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","1006"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[28]=e[0],d[29]=e[1],d[30]=e[2],d[31]=e[3],e):(d[1]==="160009"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","160009"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[32]=e[0],d[33]=e[1],d[34]=e[2],d[35]=e[3],e):(d[1]==="761"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","761"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[36]=e[0],d[37]=e[1],d[38]=e[2],d[39]=e[3],e):(d[1]==="1018"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","1018"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[40]=e[0],d[41]=e[1],d[42]=e[2],d[43]=e[3],e):(d[1]==="632"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","632"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[44]=e[0],d[45]=e[1],d[46]=e[2],d[47]=e[3],e):(d[1]==="384"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","384"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[48]=e[0],d[49]=e[1],d[50]=e[2],d[51]=e[3],e):(d[1]==="384"?(function(a){c.logger(a).mustfix(a)}(["Deidentified task with label ","384"," is being executed through the 'identified' path. This should never happen!"].join("")),e=[void 0,void 0,void 0,void 0],d[52]=e[0],d[53]=e[1],d[54]=e[2],d[55]=e[3],e):(e=[d[0],d[1],d[2],d[3]],d[52]=e[0],d[53]=e[1],d[54]=e[2],d[55]=e[3],e),e=[d[52],d[53],d[54],d[55]],d[48]=e[0],d[49]=e[1],d[50]=e[2],d[51]=e[3],e),e=[d[48],d[49],d[50],d[51]],d[44]=e[0],d[45]=e[1],d[46]=e[2],d[47]=e[3],e),e=[d[44],d[45],d[46],d[47]],d[40]=e[0],d[41]=e[1],d[42]=e[2],d[43]=e[3],e),e=[d[40],d[41],d[42],d[43]],d[36]=e[0],d[37]=e[1],d[38]=e[2],d[39]=e[3],e),e=[d[36],d[37],d[38],d[39]],d[32]=e[0],d[33]=e[1],d[34]=e[2],d[35]=e[3],e),e=[d[32],d[33],d[34],d[35]],d[28]=e[0],d[29]=e[1],d[30]=e[2],d[31]=e[3],e),e=[d[28],d[29],d[30],d[31]],d[24]=e[0],d[25]=e[1],d[26]=e[2],d[27]=e[3],e),e=[d[24],d[25],d[26],d[27]],d[20]=e[0],d[21]=e[1],d[22]=e[2],d[23]=e[3],e),e=[d[20],d[21],d[22],d[23]],d[16]=e[0],d[17]=e[1],d[18]=e[2],d[19]=e[3],e),e=[d[16],d[17],d[18],d[19]],d[12]=e[0],d[13]=e[1],d[14]=e[2],d[15]=e[3],e),e=[d[12],d[13],d[14],d[15]],d[8]=e[0],d[9]=e[1],d[10]=e[2],d[11]=e[3],e),e=[d[8],d[9],d[10],d[11]],d[4]=e[0],d[5]=e[1],d[6]=e[2],d[7]=e[3],e)):c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerUnauthenticatedTask"),a[0],d[1],d[0]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],d[10]=a[2],d[11]=a[3],a})},function(a){return c.i64.neq(d[11],void 0)?c.storedProcedure(b("LSForceTaskExecutionImmediately"),d[11]):c.resolve()},function(a){return a=[d[8],c.i64.to_string(d[9]),void 0,d[10]],d[4]=a[0],d[5]=a[1],d[6]=a[2],d[7]=a[3],a}])},function(a){return a=[d[4],d[5],d[6],d[7]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreSerializeTaskStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSSerializeTaskStoredProcedure",["LSSerializeTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSerializeTask"),e.taskId,e.taskLabel,e.taskValue,e.requiresAuthentication);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSBeginHandlingPendingTasksForQueue2",["I64","LSFactory","LSIntEnum","LSPendingTasksPluginType","LSSerializeTaskStoredProcedure","LSShape","LSVec","Promise","ReQL","XPlatReactCrypto","asyncToGeneratorRuntime","gkx","isNativeTask"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=500,l=3e4,m=5,n=50,o=7;function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield a.lightspeed_task_context.get(b));return a==null||a.requiresAuthentication});return q.apply(this,arguments)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.pending_tasks.index("queueNameTaskId")).getKeyRange(b)));return a==null?{context:void 0,failureCount:(i||(i=d("I64"))).neg_one,httpUrlOverride:void 0,minTimeToSyncTimestampMs:i.neg_one,pluginType:(j||(j=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").LS_BROKER),queueName:""}:a});return s.apply(this,arguments)}function t(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange(b)));return a==null?0:(i||(i=d("I64"))).to_float(a.lastSyncRequestTimestampMs)});return u.apply(this,arguments)}function v(a,b,c){b=(i||(i=d("I64"))).equal(a.failureCount,(i||(i=d("I64"))).zero)||b;if(b)return 0;b=(i||(i=d("I64"))).to_float(a.failureCount)>o?(i||(i=d("I64"))).to_float(a.failureCount)-o:(i||(i=d("I64"))).to_float(a.failureCount);a=Math.min((1<<Math.min(b-1,o))*k,l);b=c+a;return Math.max(b-Date.now(),0)}function w(){var a=Array.from(d("XPlatReactCrypto").getRandomValues(new Uint32Array(2)));a[0]>>>=1;return(i||(i=d("I64"))).add(i.lsl_(i.of_float(a[0]),32),i.of_float(a[1]))}function x(){var a=(i||(i=d("I64"))).of_float(Date.now());return i.and_(i.or_(i.lsl_(a,22),i.and_(w(),i.castExn([0,4194303]))),i.castExn([2147483647,4294967295]))}function y(a,b){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=x(),e=(yield a.network_requests.get(b,(i||(i=d("I64"))).neg_one));e==null?yield a.network_requests.add({epochId:c,failureCount:(i||(i=d("I64"))).zero,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.of_float(Date.now()),syncDatabaseId:i.neg_one,taskQueueName:b}):yield a.network_requests.put(babelHelpers["extends"]({},e,{epochId:c,lastSyncRequestTimestampMs:(i||(i=d("I64"))).of_float(Date.now())}));return c});return z.apply(this,arguments)}function A(a,b){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange(b).filter(function(a){return a.epochId!=null})))!=null});return B.apply(this,arguments)}function C(a,b,c){var e=(i||(i=d("I64"))).to_float(a.minTimeToSyncTimestampMs),f=Date.now();e=e-f;f=e<=0;return f?v(a,b,c):e}function D(a){return a.httpUrlOverride!=null||(i||(i=d("I64"))).to_float(a.failureCount)>o}function E(a){return a.timeoutTimestampMs!=null?(i||(i=d("I64"))).to_float(a.timeoutTimestampMs)<=Date.now():!1}function F(a){return a===90..toString()||a===130..toString()||a===153..toString()}function G(a,b,c,d,e){e=e===0?void 0:e;return{failureCount:e,label:a,payload:b,queueName:c,taskId:d}}function H(a,b,c){return I.apply(this,arguments)}function I(){I=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){a=(yield c("LSSerializeTaskStoredProcedure")(c("LSFactory")(a),{requiresAuthentication:e,taskId:b.taskId,taskLabel:b.context,taskValue:b.taskValue}));e=a[0];var f=a[1];a[2];a=a[3];if(e==null){if(a!=null)return{minRetryDelayMs:a};return}return G(f,e,b.queueName,b.taskId,(i||(i=d("I64"))).to_float(b.failureCount))});return I.apply(this,arguments)}function J(a,b,c){return K.apply(this,arguments)}function K(){K=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){if(b.context==null){yield a.pending_tasks["delete"](b.taskId);return}var d=E(b);if(d){yield a.pending_tasks["delete"](b.taskId);return}return H(a,b,c)});return K.apply(this,arguments)}function L(a,b){b=b>=(c("gkx")("26373")&&a===String(207)?n:m)||F(a);return!b}function M(a,b){return N.apply(this,arguments)}function N(){N=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield a.pending_tasks.get(b.taskId));c!=null&&(i||(i=d("I64"))).equal(b.firstExecutedTimestampMs,(i||(i=d("I64"))).zero)&&(yield a.pending_tasks.put(babelHelpers["extends"]({},c,{firstExecutedTimestampMs:(i||(i=d("I64"))).of_float(Date.now())})))});return N.apply(this,arguments)}function O(a,b){return P.apply(this,arguments)}function P(){P=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){if(c.length===0)return{epochId:void 0,tasks:[]};var e=[],f=c[0].httpUrlOverride,g=(yield (h||(h=b("Promise"))).all(c.map(function(b){return p(a,b.taskId)}))).some(Boolean);for(c of c){var j=c.httpUrlOverride===f,k=(yield p(a,c.taskId))===g;yield M(a,c);if(!j||!k)break;j=(yield J(a,c,g));if(j!=null&&j.payload!=null)e.push(j);else if((j==null?void 0:j.minRetryDelayMs)!=null){k=(yield a.pending_tasks.get(c.taskId));if(k!=null){yield a.pending_tasks.put(babelHelpers["extends"]({},k,{failureCount:(i||(i=d("I64"))).add((k=k.failureCount)!=null?k:(i||(i=d("I64"))).zero,i.one),minTimeToSyncTimestampMs:i.add(j.minRetryDelayMs,i.of_float(Date.now()))}))}}else yield a.pending_tasks["delete"](c.taskId);if(!L(c.context,e.length))break}return{epochId:void 0,tasks:e}});return P.apply(this,arguments)}function Q(a,b,c,d,e){return R.apply(this,arguments)}function R(){R=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e){e===void 0&&(e=!0);b=(yield O(a,b));var f=b.tasks;if(f.length===0)return{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:void 0,queueName:c,skipRealtimeGateway:!1,workItemType:4};if(e===!0){f=(yield y(a,c));b.epochId=f}e=(yield r(a,c));return{httpUrlOverride:e.httpUrlOverride,networkPayload:b,nextSyncMs:void 0,queueName:c,skipRealtimeGateway:D(e),workItemType:d}});return R.apply(this,arguments)}function S(a,b,c){return T.apply(this,arguments)}function T(){T=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield r(a,b)),g=(yield t(a,b));f=C(f,e,g);e=f!==0;if(e)return[{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:f,queueName:b,skipRealtimeGateway:!1,workItemType:3}];g=[];e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.pending_tasks.index("queueNameTaskId")).getKeyRange(b)));f=e.filter(c("isNativeTask"));if(f.length>0){f=(yield Q(a,f,b,2,c("gkx")("4778")===!0));g.push(f)}f=e.filter(function(a){return!c("isNativeTask")(a)});if(f.length>0){e=(yield Q(a,f,b,1));g.push(e)}return g});return T.apply(this,arguments)}function U(a,b,c){return V.apply(this,arguments)}function V(){V=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var d=!(yield A(a,b));return d?S(a,b,c):[{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:void 0,queueName:b,skipRealtimeGateway:!1,workItemType:4}]});return V.apply(this,arguments)}function a(a,b){return W.apply(this,arguments)}function W(){W=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.ignoreSoftDelay;b=b.queueName;a=(yield U(a,b,e));return a.map(function(a){var b;return d("LSShape").ofRecord({network_payload:d("LSShape").ofRecord({epoch_id:(b=a.networkPayload)==null?void 0:b.epochId,tasks:c("LSVec").ofArray(((b=(b=a.networkPayload)==null?void 0:b.tasks)!=null?b:[]).map(function(a){var b;return d("LSShape").ofRecord({failure_count:a.failureCount!=null?(i||(i=d("I64"))).of_float(a.failureCount):void 0,label:(b=a.label)!=null?b:void 0,payload:a.payload,queue_name:a.queueName,task_id:a.taskId})}))}),next_sync_ms:a.nextSyncMs!=null?(i||(i=d("I64"))).of_float(a.nextSyncMs):void 0,queue_name:a.queueName,skip_realtime_gateway:a.skipRealtimeGateway,work_item_type:(j||(j=d("LSIntEnum"))).ofNumber(a.workItemType)})})});return W.apply(this,arguments)}a._updateTaskIfNeeded=M;a._getHeadOfNormalQueue=r;a._lastSyncRequestTimestampForQueue=t;a._exponentialBackoffForNormalQueue=v;a._generateNewEpoch=x;a._openNewEpochForQueue=y;a._isEpochOpenForQueue=A;a._calculateDelayForNormalQueue=C;a._queueShouldSkipRealtimeGateway=D;a._isNativeTask=c("isNativeTask");a._taskIsTimedOut=E;a._taskShouldStopBatching=F;a._buildTaskPayloadExpressionForNormalTaskWithParameters=G;a._buildTaskPayloadExpressionForValidatedNormalTask=H;a._buildTaskPayloadExpressionForUnvalidatedNormalTask=J;a._workForNormalQueueWithoutDelay=Q;a._workForNormalQueueWithClosedEpoch=S;a._buildWorkForNormalQueue=U;a._buildNetworkPayloadShapeForTasks=O;a._canContinueBatchingForQueue=L;g["default"]=a}),98);
__d("MWPBeginHandlingPendingTasksForQueue",["LSBeginHandlingFireForgetTasksForQueueStoredProcedure","LSBeginHandlingPendingTasksForQueue2","LSFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d){var e=d.fireAndForgetTask,g=d.ignoreSoftDelay,h=d.queueName;d=(yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(e===!0){var b=(yield c("LSBeginHandlingFireForgetTasksForQueueStoredProcedure")(c("LSFactory")(a),{queueName:h}));b=b[0];return[b]}return c("LSBeginHandlingPendingTasksForQueue2")(a,{ignoreSoftDelay:g,queueName:h})});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":37"));return d});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MWPlatformTaskUtils",["FBLogger","I64","JSScheduler","MetaConfig","Promise","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e){function f(){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield a(e)}catch(a){c("FBLogger")("messenger_web_product").catching(a).warn("Failed to calculate work for task queue %s",e.queueName)}});return g.apply(this,arguments)}if((j||(j=d("I64"))).gt(e.priority,(j||(j=d("I64"))).zero)&&c("MetaConfig")._("78")){var h=function(){f()};(i||(i=c("JSScheduler"))).scheduleLoggingPriCallback(h)}else c("promiseDone")(f())}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{yield a(b)}catch(a){c("FBLogger")("messenger_web_product").catching(a).warn("Failed to calculate work for fire forget queue %s",b.queueName)}});return m.apply(this,arguments)}function a(a,c){var e=new Set(),f=[],g=[];g.push(a.tables.pending_tasks.index("queueNameTaskId").subscribe(function(a,b){var c;if(b.operation==="delete"){e.add(a[0]);return}a=b.operation==="put"&&b.prevValue==null||b.operation==="add";c=b.operation==="put"&&(j||(j=d("I64"))).compare(b.value.failureCount,(c=(c=b.prevValue)==null?void 0:c.failureCount)!=null?c:(j||(j=d("I64"))).zero)>0;(a||c)&&e.add(b.value.queueName);(b.operation==="add"&&b.value.dataTraceId==null||b.value.dataTraceId==="")&&f.push(b.value)}));g.push(a.tables.network_requests.subscribe(function(a,b){a=a[0];if(a==="")return;b.operation==="delete"?e.add(a):b.value.epochId==null&&e.add(a)}));g.push(a.subscribeToCommit(function(){var g=Array.from(e);e.clear();f=[];g.forEach(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.pending_tasks.index("queueNameTaskId")).bounds({gte:[b]})));b!=null&&k(c,b)});return function(a){return e.apply(this,arguments)}}())}));return g}function e(a,e){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.pending_tasks))),c=new Set();for(b of b){if(c.has(b.queueName))continue;c.add(b.queueName);k(e,b)}})())}function n(a,e){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var g=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.pending_fire_and_forget_tasks)));yield (h||(h=b("Promise"))).all(g.map(function(a){return l(e,a)}));c("promiseDone")(a.runInTransaction(function(a){return(h||(h=b("Promise"))).all(g.map(function(b){return a.pending_fire_and_forget_tasks["delete"](b.taskId)}))},"readwrite","background",void 0,f.id+":196"))})())}function o(a,b){var c=!1,d=[];d.push(a.tables.pending_fire_and_forget_tasks.subscribe(function(a,b){if(b.operation==="delete")return;a=b.operation==="put"&&b.prevValue==null||b.operation==="add";a&&(c=!0)}));d.push(a.subscribeToCommit(function(){c&&n(a,b),c=!1}));return d}g.checkQueuesWhenPendingTaskTableUpdates=a;g.checkAllPendingTasksForWork=e;g.checkAllFireForgetTasksForWork=n;g.checkQueuesWhenPendingFireForgetTaskTableUpdates=o}),98);
__d("LSPlatformTaskSystemTransport",["CurrentMessengerUser","FBLogger","I64","JSResourceForInteraction","JSScheduler","LSDatabaseProviderType","LSHandleTaskSendFailureForQueue2","LSHandleTaskSendSuccessForQueue2","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSPlatformRealtimeTransport","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformServerResponseHandler","LSShape","LSVec","MWPBeginHandlingPendingTasksForQueue","MWPBumpEntityKey","MWPlatformTaskUtils","Promise","ReQL","asyncToGeneratorRuntime","cr:4031","cr:6668","gkx","isInstamadillo","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=500,m=c("JSResourceForInteraction")("publishLSPlatformDeidentifiedPayload").__setRef("LSPlatformTaskSystemTransport"),n=new Set([632,765,60011,1006,1018].map(function(a){return a.toString()}));a=function(){function a(a,e,f,g){var h=this;this.key="ls";this.$8=!1;this.$18=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield c("MWPBeginHandlingPendingTasksForQueue")(h.$1,{ignoreSoftDelay:b,queueName:a}));for(a of b)yield h.$17(d("LSShape").toRecord(a))});return function(b,c){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;this.$4=g;this.$8=d("LSDatabaseProviderType").isProviderPersisted(a);this.$5=new(c("LSPlatformRequestScheduler"))();this.$6=new(c("LSPlatformServerResponseHandler"))(f);this.$7=this.$9();this.$10()}var e=a.prototype;e.$11=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!(c("gkx")("5962")||c("isInstamadillo")())){var d=(yield this.$2.publish(b));return d}d=a.filter(function(a){return a.label!=null&&n.has(a.label)});if(d.length<a.length){d.length>0&&c("FBLogger")("maw_ohai").mustfix("Deidentifed tasks label %s sent together with normal tasks",d[0].label);a=(yield this.$2.publish(b));return a}a=d[0];d=(yield m.load());d=(yield d(babelHelpers["extends"]({},b,{taskLabel:a.label})));return d});function d(b,c){return a.apply(this,arguments)}return d}();e.$12=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield this.$1.runInTransaction(function(b){return c("LSHandleTaskSendFailureForQueue2")(b,a)},"readwrite",void 0,void 0,f.id+":153")});function d(b){return a.apply(this,arguments)}return d}();e.$13=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield this.$1.runInTransaction(function(b){return c("LSHandleTaskSendSuccessForQueue2")(b,a)},"readwrite","background",void 0,f.id+":162")});function d(b){return a.apply(this,arguments)}return d}();e.$14=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=c("LSVec").toArray(a.tasks).slice(0).map(function(a){return d("LSShape").toRecord(a)});a=a[0];if(a==null)return;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(this.$1.tables.pending_tasks).getKeyRange(a.task_id)));return a==null?void 0:a.dataTraceId});function e(b){return a.apply(this,arguments)}return e}();e.$15=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this;if(a.network_payload==null)return;var g=d("LSShape").toRecord(a.network_payload);(k||(k=c("JSScheduler"))).scheduleLoggingPriCallback(function(){return g&&(b("cr:6668")==null?void 0:b("cr:6668").recordTaskSending(g.tasks))});var i=this.$4;try{yield (j||(j=b("Promise"))).all(c("LSVec").toArray(g.tasks).map(function(a){return d("LSShape").toRecord(a)}).map(function(b){var g=c("LSPlatformRequestId").generate();return f.$11([b],{payload:d("LSJson").stringify(d("LSShape").ofRecord({label:b.label,payload:b.payload,version:i})),queueName:a.queue_name,requestId:g,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,type_:(h||(h=d("I64"))).of_int32(e)})}))}catch(a){}});function e(b,c){return a.apply(this,arguments)}return e}();e.$16=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(a.network_payload==null)return;var f=d("LSShape").toRecord(a.network_payload),g=c("LSVec").toArray(f.tasks).map(function(a){return d("LSShape").toRecord(a)}),j=(yield this.$14(f));(k||(k=c("JSScheduler"))).scheduleLoggingPriCallback(function(){return f&&(b("cr:6668")==null?void 0:b("cr:6668").recordTaskSending(f.tasks))});var l=c("LSPlatformRequestId").generate(),m,n=c("qex")._("789");if(n!=null&&n!=="default"){var o=n+"."+(i||(i=d("LSIntEnum"))).toNumber(d("LSMailboxInitialSyncCursor").syncChannel)+"."+e.toString();d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",o)}try{m=(yield this.$11(g,{payload:d("LSJson").stringify(d("LSShape").ofRecord(babelHelpers["extends"]({},f,{version_id:this.$4},j==null?{}:{data_trace_id:j}))),queueName:a.queue_name,requestId:l,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,type_:(h||(h=d("I64"))).of_int32(e)}))}catch(b){if(n!=null&&n!=="default"){o=n+"."+(i||(i=d("LSIntEnum"))).toNumber(d("LSMailboxInitialSyncCursor").syncChannel)+"."+e.toString();d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",o+".exception");b.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout?d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",o+".exception.timeout"):b.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",o+".exception.notconnected")}b.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout?d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_timeout"):b.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected?(d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_notconnected"),c("FBLogger")("messenger_web_product").warn("Publishing a task to the server not connected")):(d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_generic"),c("FBLogger")("messenger_web_product").warn("Error while publishing a task for request: %s, error %s",e,JSON.stringify(b)));yield this.$12(a.queue_name)}if(m!=null&&m.type==="taskresponse")try{j=m.downloadTask;var p=m.payload;l={experiments:p.ex,sp:p.sp,syncScript:p.payload,target:p.target,taskNames:g.map(function(a){return a.label}).filter(Boolean)};this.$8?yield this.$6.evalWhenReady(j,l):yield this.$3(l);yield this.$13(a.queue_name);(k||(k=c("JSScheduler"))).scheduleLoggingPriCallback(function(){return f&&(b("cr:6668")==null?void 0:b("cr:6668").recordTaskSent(f.tasks,p.payload))})}catch(b){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","handle_task_failure"),c("FBLogger")("messenger_web_product").catching(b).mustfix("Encountered an error while processing a task response via realtime transport"),yield this.$12(a.queue_name)}});function e(b,c){return a.apply(this,arguments)}return e}();e.decideWhatToDoWithTask=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){var h=this,i=(yield c("MWPBeginHandlingPendingTasksForQueue")(a,{fireAndForgetTask:g,ignoreSoftDelay:!1,queueName:e,transportKey:f}));c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){for(var a of i)yield h.$17(d("LSShape").toRecord(a))})())});function e(b,c,d,e){return a.apply(this,arguments)}return e}();e.$17=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=this.$5,f=this.$18;function g(a,b){e.schedule(function(){c("promiseDone")(f(a,!1))},a,b!=null?(h||(h=d("I64"))).to_float(b):l)}var i=(h||(h=d("I64"))).to_int32(a.work_item_type);switch(i){case 1:yield this.$16(a,3);break;case 5:yield this.$15(a,4);break;case 3:g(a.queue_name,a.next_sync_ms);break;case 2:yield b("cr:4031").handleLSWork(this.$1,a,d("CurrentMessengerUser").getAccountID());break;case 4:break;default:c("FBLogger")("messenger_web_product").warn("Unknown Task type of %s",i)}});function e(b){return a.apply(this,arguments)}return e}();e.$9=function(){var a=this,e=this.$1;return this.$2.onReconnect(function(){c("promiseDone")(e.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.network_requests).bounds({gte:d("ReQL").key("")})));yield (j||(j=b("Promise"))).all(e.map(function(b){b=b.taskQueueName;return c("LSHandleTaskSendFailureForQueue2")(a,b)}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":467")),a.$10()})};e.$10=function(){var a=this;d("MWPlatformTaskUtils").checkAllPendingTasksForWork(this.$1,function(b){b=b.queueName;return a.decideWhatToDoWithTask(a.$1,b)})};e.cleanup=function(){this.$7()};return a}();g["default"]=a}),98);
__d("LSProcessBackupIds",["LSAppendDataTraceAddon","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsProcessBackupIdsStoredProcedure] Beginning execution."),c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1487]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[9]?d[10]=!0:d[10]=!1,d[10]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[11],c.i64.cast([0,3]))):c.resolve()}])},function(e){return c.db.table(172).fetch([[[c.i64.cast([0,1])]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1488]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[9]?d[10]=!0:d[10]=!1,d[10]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[11],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[1]=c.i64.cast([0,0])}]):(f=e.item,c.sequence([function(e){return d[11]=f.backupId,d[10]=f.authorityLevel,c.i64.eq(d[10],c.i64.cast([0,20]))?c.resolve(d[9]=c.i64.cast([0,1])):c.sequence([function(e){return c.i64.eq(d[10],c.i64.cast([0,80]))?c.sequence([function(e){return c.i64.eq(d[11],void 0)?c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1492]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!0:d[15]=!1,d[15]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[16],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[13]=c.i64.cast([0,2])}]):c.sequence([function(e){return c.i64.eq(d[11],c.i64.cast([-1,4294967295]))?c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1489]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[15]=a[0],a})},function(a){return d[15]?d[16]=!0:d[16]=!1,d[16]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[17]=c.createArray(),void 0!==void 0?d[18]=(d[17].push(void 0),d[17]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[17],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[14]=c.i64.cast([-1,4294967295])}]):c.sequence([function(e){return c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.backupId,d[11])&&c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1490]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),void 0!==void 0?d[20]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[15]=c.i64.cast([0,4])}]):(e.item,c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1491]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),void 0!==void 0?d[20]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[15]=c.i64.cast([0,3])}]))})},function(a){return d[14]=d[15]}])},function(a){return d[13]=d[14]}])},function(a){return d[12]=d[13]}]):c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1489]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[13]?d[14]=!0:d[14]=!1,d[14]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[15]=c.createArray(),void 0!==void 0?d[16]=(d[15].push(void 0),d[15]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[15],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[12]=c.i64.cast([-1,4294967295])}])},function(a){return d[9]=d[12]}])},function(a){return d[1]=d[9]}]))})},function(a){return d[3]=c.i64.of_float(Date.now()),d[4]=c.i64.random(),d[6]="Finishing execution. Execution time: ",d[7]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[8]=" ms",d[5]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsProcessBackupIdsStoredProcedure] ",d[5],d[6],d[5],d[7],d[5],d[8]].join("")),c.i64.eq(c.i64.mod_(d[4],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[9]=",",d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsProcessBackupIdsStoredProcedure",[d[6],d[9],d[7],d[9],d[8]].join(""),d[10],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsProcessBackupIdsStoredProcedure";a.__tables__=["encrypted_backups","secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSProcessBackupIdsStoredProcedure",["LSProcessBackupIds","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){e===void 0&&(e={});a=a.storedProcedure(c("LSProcessBackupIds"),e.traceId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWEncryptedBackupsProcessBackupIdsDEPRECATED",["FBLogger","LSFactory","LSIntEnum","LSProcessBackupIdsStoredProcedure","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","Promise","QPLEvent","QPLUserFlow","ReQL","WebSession","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("gkx")("23914");function l(a){if(k){var e=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").getActiveFlowIDs().includes((i||(i=d("QPLEvent"))).getMarkerId(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent))||c("QPLUserFlow").start(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent,{annotations:{string:{ebSessionIdentifier:e,processBackupIdsVersion:"msys",sessionTabId:d("WebSession").getId()}}});return a.runInTransaction(function(a){return c("LSProcessBackupIdsStoredProcedure")(c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":53").then(function(a){a=(j||(j=d("LSIntEnum"))).unwrapIntEnum(a[0]);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent,"EB_STATE_"+a+".");d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent});return a})}else return(h||(h=b("Promise"))).resolve(0)}function a(a,b){return a.tables.encrypted_backups.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.encrypted_backups)),function(d){if(d!=null){c("promiseDone")(l(a),b,function(a){c("FBLogger")("labyrinth_web").catching(a).info("Error in db transaction")});return}})})}g.processBackupIdsStoredProcedure=l;g.subscribeToEncryptedBackupsRow=a}),98);
__d("MWEncryptedBackupsListenForChangesToBackupStateInitPath",["EBAPIWorkerCheck","I64","LSAuthorityLevel","LSDataTraceType","LSEncryptedBackupsBackupTenancy","LSFactory","LSFetchBackupIdsStoredProcedure","LSIntEnum","LSIssueMessageRangeQueryTaskStoredProcedure","LSMEBTaskCreationSource","MAWEBRestoreTrackingUtils","MAWMainTraceUtils","MAWOfflineQueueStatus","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsProcessBackupIdsDEPRECATED","Promise","QPLEvent","QPLUserFlow","ReQL","WAJids","WATagsLogger","WebSession","gkx","isInstamadilloEB","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[EB Prefetch] Issuing message range query for thread "," with params ",""]);l=function(){return a};return a}var m=c("gkx")("23961"),n=c("qex")._("121")===!0;function a(a){function b(){var b=d("ReQL").fromTableAscending(a.tables.encrypted_backups),e=b.subscribe(function(a,b){if(b.operation==="delete"||!(i||(i=d("I64"))).equal(b.value.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;e();c("QPLUserFlow").getActiveFlowIDs().includes((k||(k=d("QPLEvent"))).getMarkerId(d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent))&&d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent})});b=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").getActiveFlowIDs().includes((k||(k=d("QPLEvent"))).getMarkerId(d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent))||c("QPLUserFlow").start(d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent,{annotations:{string:{ebSessionIdentifier:b,fetchBackupIdsVersion:"msys",sessionTabId:d("WebSession").getId()}}});c("promiseDone")(a.runInTransaction(function(a){return c("LSFetchBackupIdsStoredProcedure")(c("LSFactory")(a),{backupTenancy:(j||(j=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION)})},"readwrite",void 0,void 0,f.id+":93"),function(){return p(a)})}(n||c("isInstamadilloEB")())&&b();var e=d("ReQL").fromTableAscending(a.tables.encrypted_backups_status_trigger);return e.subscribe(b)}function o(a){return a.runInTransaction(function(a){var e=d("MAWOfflineQueueStatus").getAllThreadsWithOfflineQueueIncomplete();return(h||(h=b("Promise"))).all(e.map(function(b){var e=d("WAJids").threadIdForChatJid(b),f=d("MAWMainTraceUtils").createTraceId();c("promiseDone")(d("MAWMainTraceUtils").startTraceWithTxn(a,(i||(i=d("I64"))).of_float(Date.now()),f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_RESTORE)));e={isPointQuery:!1,newerNumMessages:i.zero,numMessages:i.of_int32(20),source:j.ofNumber(c("LSMEBTaskCreationSource").UNKNOWN),threadId:e,traceId:f};d("WATagsLogger").TAGS(["labyrinth_web","eb_prefetch",f]).LOG(l(),b,JSON.stringify(e));d("MAWEBRestoreTrackingUtils").markEBRestoreFrontloaded(c("LSMEBTaskCreationSource").UNKNOWN,f,!1);return c("LSIssueMessageRangeQueryTaskStoredProcedure")(c("LSFactory")(a),e)}))},"readonly",void 0,void 0,f.id+":121")}function p(a){var b=d("MAWOfflineQueueStatus").isOfflineQueueComplete();m&&!b&&c("promiseDone")(d("MWEncryptedBackupsProcessBackupIdsDEPRECATED").processBackupIdsStoredProcedure(a),function(b){if(c("gkx")("3551")===!0&&d("EBAPIWorkerCheck").runningInWorker())return;b===3&&c("promiseDone")(o(a))})}e={listenForChangesToBackupState:a,preloadEBData:p};g["default"]=e}),98);
__d("MWPlatformTaskSystem",["LSPlatformRequestScheduler","MWPlatformTaskUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var e=this;this.$1=a;this.$2=b;this.$3=new(c("LSPlatformRequestScheduler"))();this.$4=d("MWPlatformTaskUtils").checkQueuesWhenPendingTaskTableUpdates(a,function(b){var c=b.queueName;b=b.transportKey;return e.$6(a,c,b,!1)});this.$5=d("MWPlatformTaskUtils").checkQueuesWhenPendingFireForgetTaskTableUpdates(a,function(b){var c=b.queueName;b=b.transportKey;return e.$6(a,c,b,!0)});this.$7()}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){yield this.$2.decideWhatToDoWithTask(a,b,c,d)});function c(b,c,d,e){return a.apply(this,arguments)}return c}();e.$7=function(){var a=this;d("MWPlatformTaskUtils").checkAllPendingTasksForWork(this.$1,function(b){b=b.queueName;return a.$6(a.$1,b)})};e.cleanup=function(){this.$4.forEach(function(a){return a()}),this.$5.forEach(function(a){return a()}),this.$2.cleanup()};return a}();g["default"]=a}),98);
__d("EBLS",["LSDataTraceFlushDeferred","LSDatascriptEvaluatorMaybeDeferred","LSDedicatedMqttChannel","LSDefaultSyncGroups","LSDeleteAllAndInsertConnectivityStatusStoredProcedure","LSFactory","LSIntEnum","LSInternetConnectionState","LSMetadata","LSPlatformDeviceId","LSPlatformMessengerSyncParams","LSPlatformMqttRealtimeTransport","LSPlatformRealtimeTransport","LSPlatformTaskSystemTransport","LSReStoreWrapper","LSVersion","MAWBridge","MAWLSVaultingHooks","MAWVaultMaterialsStorage","MWEncryptedBackupsListenForChangesToBackupStateInitPath","MWPlatformTaskSystem","MWSetupEBStateDB","MqttEnv","Promise","ServerAppID","WATagsLogger","WAWaitForUserUnblocked","asyncToGeneratorRuntime","cr:2970","cr:6197","emptyFunction","err","getMWLSRegion","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Platform client sync cleaning up"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Platform client sync starting sucess"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Subscribing to mqtt sync status change events"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Watching for expired traces"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Starting backup state listeners"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Starting task system"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Starting realtime transport"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Clearing epoch before resume sync..."]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["Getting datascript evaluator success"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["Platform client sync starting..."]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["finished init successfully"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["created config"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["Initialised db"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["Platform client sync connection status set failed: ",""]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["Platform client sync connection status set successfully"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["Platform client sync connection status: ",""]);y=function(){return a};return a}var z=d("WATagsLogger").TAGS(["EBLS"]);function a(){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWaitForUserUnblocked").waitForUserUnblocked();return D()});return A.apply(this,arguments)}var B,C;function D(){if(B)return B;B=E();return B}function E(){return F.apply(this,arguments)}function F(){F=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield G());z.DEV(v());var e={appId:c("nullthrows")(c("ServerAppID").app_id),executeGraphQLLightSpeedRequest:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var e=(yield d("MAWBridge").getBridge().sendAndReceive("event","executeGraphQLLightSpeedRequest",{args:b}));return e});function c(){return a.apply(this,arguments)}return c}(),getDb:G,getEval:function(){return c("LSDatascriptEvaluatorMaybeDeferred")()},platformName:"Messenger",realtimeUnderylingTransport:function(){return(i||(i=b("Promise"))).resolve(function(b,a){return c("LSPlatformMqttRealtimeTransport")(c("LSVersion"),a,{getInstance:d("LSDedicatedMqttChannel").getInstance(function(){return!0},(b={},b[d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter]=!1,b),function(a,b){return b},c("emptyFunction")),shutdownAndClear:d("LSDedicatedMqttChannel").shutdownAndClear})})},region:c("getMWLSRegion")(),schemaVersion:c("LSVersion"),sendHardcodedInitSync:!1,syncParams:c("LSPlatformMessengerSyncParams")};z.DEV(u());var f=d("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral");a=(yield K(a,e,f));z.DEV(t());return a});return F.apply(this,arguments)}function G(){return H.apply(this,arguments)}function H(){H=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(C)return C;b("cr:2970")!=null?yield b("cr:2970").setupVaultMaterials():yield d("MAWVaultMaterialsStorage").setupVaultMaterials();C=new(i||(i=b("Promise")))(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=(yield d("MWSetupEBStateDB").makeEBStateDB(!0));if(e==null)throw c("err")("persistence is null");e=d("LSReStoreWrapper").createLSReStore(e,d("LSMetadata").schema,[c("MAWLSVaultingHooks")],void 0);yield e.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("LSDefaultSyncGroups").seedDb(a,void 0)});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":151");a(e)});return function(b){return a.apply(this,arguments)}}());return C});return H.apply(this,arguments)}function I(a){var b=c("MWEncryptedBackupsListenForChangesToBackupStateInitPath").listenForChangesToBackupState(a);return function(){b&&b()}}function J(a,b){var e=b==="Connected"?(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED):(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").NOT_CONNECTED);z.DEV(y(),b);c("promiseDone")(a.runInTransaction(function(a){return c("LSDeleteAllAndInsertConnectivityStatusStoredProcedure")(c("LSFactory")(a),{internetConnectionState:e})},"readwrite",void 0,void 0,f.id+":183"),function(){z.DEV(x())},function(a){z.ERROR(w(),a==null?void 0:a.message);throw a})}function K(a,b,c){return L.apply(this,arguments)}function L(){L=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){z.DEV(s());var g=(yield e.getEval());z.DEV(r());var h=g()(a);z.DEV(q());z.DEV(p());g=(yield e.realtimeUnderylingTransport());var i=d("LSPlatformRealtimeTransport").LSPlatformRealtimeTransport(g,e.appId,f);z.DEV(o());var t=new(c("MWPlatformTaskSystem"))(a,new(c("LSPlatformTaskSystemTransport"))(a,i,h,e.schemaVersion));z.DEV(n());var u=null;b("cr:6197")!=null&&c("promiseDone")(b("cr:6197")(),function(b){u=b(a,i,h,e.schemaVersion,f,e.executeGraphQLLightSpeedRequest)});var v=I(a);z.DEV(m());var w;c("promiseDone")(d("LSDataTraceFlushDeferred").watchForExpiredTraces(a).then(function(a){w=a}));z.DEV(l());i.onConnectionStatusChange(function(b){J(a,b)});z.DEV(k());return{cleanup:function(){var a;z.DEV(j());t==null?void 0:t.cleanup();i.cleanup();(a=u)==null?void 0:a.cleanup();v();w==null?void 0:w()}}});return L.apply(this,arguments)}g.init=a;g.genLSClient=D;g.getLSStorage=G;g.platformClientInit=K}),98);
__d("LSJSONOp",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({BLOCK:1,LOAD:2,STORE:3,STORE_ARRAY:4,CALL_STORED_PROCEDURE:5,CALL_NATIVE_TYPE_OPERATION:6,CALL_NATIVE_OPERATION:7,LIST:8,UNDEFINED:9,INFINITY:10,NAN:11,RETURN:12,BOOL_TO_STR:13,BLOBS_TO_STRING:14,BLOBS_OF_STRING:15,TO_BLOB:16,I64_OF_FLOAT:17,I64_TO_FLOAT:18,I64_FROM_STRING:19,I64_TO_STRING:20,READ_GK:21,READ_QE:22,IF:23,OR:24,AND:25,NOT:26,IS_NULL:27,ENFORCE_NOT_NULL:28,GENERIC_EQUAL:29,I64_EQUAL:30,BLOB_EQUAL:31,GENERIC_NOT_EQUAL:32,I64_NOT_EQUAL:33,BLOB_NOT_EQUAL:34,GENERIC_GREATER_THAN:35,I64_GREATER_THAN:36,BLOB_GREATER_THAN:37,GENERIC_GREATER_THAN_OR_EQUAL:38,I64_GREATER_THAN_OR_EQUAL:39,BLOB_GREATER_THAN_OR_EQUAL:40,GENERIC_LESS_THAN:41,I64_LESS_THAN:42,BLOB_LESS_THAN:43,GENERIC_LESS_THAN_OR_EQUAL:44,I64_LESS_THAN_OR_EQUAL:45,BLOB_LESS_THAN_OR_EQUAL:46,THROW:47,LOG_CONSOLE:48,LOGGER_LOG:49,NATIVE_OP_ARRAY_CREATE:50,NATIVE_OP_ARRAY_APPEND:51,NATIVE_OP_ARRAY_GET_SIZE:52,NATIVE_OP_MAP_CREATE:53,NATIVE_OP_MAP_GET:54,NATIVE_OP_MAP_SET:55,NATIVE_OP_MAP_KEYS:56,NATIVE_OP_MAP_DELETE:57,NATIVE_OP_MAP_HAS:58,NATIVE_OP_STR_JOIN:59,NATIVE_OP_CURRENT_TIME:60,NATIVE_OP_JSON_STRINGIFY:61,NATIVE_OP_RNG_NUM:62,NATIVE_OP_LOCALIZATION_SUPPORTED:63,NATIVE_OP_LOCALIZATION_SUPPORTED_V2:64,NATIVE_OP_RESOLVE_LOCALIZED:65,NATIVE_OP_RESOLVE_LOCALIZED_V2:66,ADD:68,I64_ADD:69,I64_CAST:70,READ_JUSTKNOB:71,READ_IGGK:72,GET_RUN_MODE:73,STR_TRIM:74,STR_REPLACE:75,JOIN:76,STR_LIKE:77,LENGTH:78,IN:79,IN_VEC:80,SUB:81,MUL:82,DIV:83,MOD:84,I64_SUB:85,I64_MUL:86,I64_DIV:87,I64_MOD:88,I64_IN:89,I64_IN_VEC:90,BITWISE_LEFT_SHIFT:91,BITWISE_RIGHT_SHIFT:92,ARITHMETIC_RIGHT_SHIFT:93,BITWISE_AND:94,BITWISE_OR:95,BITWISE_XOR:96,TERNARY:97,XOR:98,NULLISH_COALESE:99,READ_COLUMN:100,READ_COLUMN_REF:101,READ_GROUP_COUNT:102,COMMENT:103,IMPORT:104,LOOP:105,QUERY_COMPARISON_EQUAL:106,QUERY_COMPARISON_NOT_EQUAL:107,QUERY_COMPARISON_GREATER_THAN:108,QUERY_COMPARISON_GREATER_THAN_OR_EQUAL:109,QUERY_COMPARISON_LESS_THAN:110,QUERY_COMPARISON_LESS_THAN_OR_EQUAL:111,QUERY_MERGE_CONSTRAINTS:112,QUERY_FETCH_ROWS:113,QUERY_FILTER_ROWS:114,QUERY_SORT_ROWS_BY:115,QUERY_DELETE_ROWS:116,QUERY_SLICE_ROWS:117,QUERY_COUNT_ROWS:118,QUERY_PEEK_NEXT_ROW_ID:119,QUERY_UPDATE_ROWS:120,QUERY_INSERT_ROWS:121,QUERY_PUT_ROWS:122,QUERY_FOREACH_ROW:123,QUERY_SELECT_MATCH_ROW:124,QUERY_CURSOR_SLICE:125,QUERY_GROUP_BY:126,SUB_STRING:127});c=a;f["default"]=c}),66);
__d("LSSelectOrder",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["ASC","DESC"]);c=a;f["default"]=c}),66);
__d("LSDatascriptJSONEval",["FBLogger","LS","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(a,b,d){if((h||(h=c("isPromise")))(a))return a.then(b,d);try{return b(a)}catch(a){if(d)return d(a);else throw a}}a=function(){function a(a,b,d,e){var f=this;e===void 0&&(e=[]);this.$4={};this.$5=[];this.$6=null;this.$7=function(a){return k(f.$8(a),function(a){return a},function(b){c("FBLogger")("messenger_web_product").catching(b).mustfix("Error evaluating step op: %s",Array.isArray(a)?a[0]:"<primitive value>");throw b})};this.$1=b;this.$2=a;this.$3=d;for(b=0;b<e.length;b++)this.$4[b]=e[b]}var d=a.prototype;d.eval=function(){return this.$2==null?this.$1.resolveGuaranteeAsync([]):this.$1.resolveGuaranteeAsync(this.$7(this.$2.step))};d.$8=function(a){var d=this;if(!Array.isArray(a))return a;var e=a[0];a=a.slice(1);var f=a;switch(e){case 8:return f.map(this.$7);case 2:return this.$4[f[0]];case 3:return k(this.$7(f[1]),function(a){return d.$4[f[0]]=a});case 4:return k(this.$7(f[2]),function(a){var b=f[0],c=f[1];for(var e=0;e<c;e++,b++)d.$4[b]=a[e];return a});case 12:a=f[0];e=f[1];var g=[];for(a=a;a<e;a++)g[a]=this.$4[a];return g;case 1:var h;a=function(a){h=k(h,function(){return d.$7(f[a])})};for(e=0;e<f.length;e++)a(e);return h;case 5:return(g=this.$1).storedProcedure.apply(g,f.map(this.$7));case 6:return(e=this.$1).nativeTypeOperation.apply(e,f.map(this.$7));case 7:return(a=this.$1).nativeOperation.apply(a,f.map(this.$7));case 9:return;case 10:return Infinity;case 11:return NaN;case 13:return this.$7(f[0])?"1":"0";case 14:return this.$1.blobs.to_string(this.$7(f[0]));case 15:return this.$1.blobs.of_string(this.$7(f[0]));case 16:return this.$1.blob(this.$7(f[0]));case 17:return this.$1.i64.of_float(this.$7(f[0]));case 18:g=this.$7(f[0]);return g!=null?this.$1.i64.to_float(g):void 0;case 19:return this.$1.i64.from_string(this.$7(f[0]));case 70:return this.$1.i64.cast(this.$7(f[0]));case 20:return this.$1.i64.to_string(this.$7(f[0]));case 21:return(e=this.$3)==null?void 0:(a=e.gk)==null?void 0:a[f[0]];case 22:var l;g=f[0];e=f[1];a=f[2];var m=f[3];l=(l=this.$3)==null?void 0:(l=l.qe)==null?void 0:(l=l[g])==null?void 0:(g=l[e])==null?void 0:g[a];if(l==null)return l;switch(m){case"BOOL":case"STR":return l;case"I64":if(typeof l!=="object")throw c("FBLogger")("messenger_web_product").mustfixThrow("Cannot convert value to string");return this.$1.i64.from_string(l.toString())}return;case 23:if(this.$7(f[0]))return this.$7(f[1]);else if(f[2]!=null)return this.$7(f[2]);return;case 24:return this.$7(f[0])||this.$7(f[1]);case 25:return this.$7(f[0])&&this.$7(f[1]);case 26:return!this.$7(f[0]);case 27:return this.$7(f[0])==null;case 28:return this.$1.notnull(this.$7(f[0]));case 29:return this.$7(f[0])===this.$7(f[1]);case 30:return this.$1.i64.eq(this.$7(f[0]),this.$7(f[1]));case 31:return this.$1.blobs.eq(this.$7(f[0]),this.$7(f[1]));case 32:return this.$7(f[0])!==this.$7(f[1]);case 33:return this.$1.i64.neq(this.$7(f[0]),this.$7(f[1]));case 34:return this.$1.blobs.neq(this.$7(f[0]),this.$7(f[1]));case 35:return this.$7(f[0])>this.$7(f[1]);case 36:return this.$1.i64.gt(this.$7(f[0]),this.$7(f[1]));case 37:return this.$1.blobs.gt(this.$7(f[0]),this.$7(f[1]));case 38:return this.$7(f[0])>=this.$7(f[1]);case 39:return this.$1.i64.ge(this.$7(f[0]),this.$7(f[1]));case 40:return this.$1.blobs.ge(this.$7(f[0]),this.$7(f[1]));case 41:return this.$7(f[0])<this.$7(f[1]);case 42:return this.$1.i64.lt(this.$7(f[0]),this.$7(f[1]));case 43:return this.$1.blobs.lt(this.$7(f[0]),this.$7(f[1]));case 44:return this.$7(f[0])<=this.$7(f[1]);case 45:return this.$1.i64.le(this.$7(f[0]),this.$7(f[1]));case 46:return this.$1.blobs.le(this.$7(f[0]),this.$7(f[1]));case 47:return this.$1["throw"](f[0]);case 48:return this.$1.print(this.$7(f[0]));case 49:e=this.$7(f[0]);g=f[1];a=this.$1.logger(e);switch(g){case"mustfix":return a.mustfix(e);case"info":return a.info(e);case"warn":return a.warn(e);case"debug":return a.debug(e);default:throw c("FBLogger")("messenger_web_product").mustfixThrow("Invalid logger level %s",g)}case 50:return f.length===0?this.$1.createArray():(m=this.$1).createArrayWithElements.apply(m,this.$7(f[0]));case 51:l=this.$7(f[0]);l.push(this.$7(f[1]));return l;case 52:return this.$1.i64.of_int32(this.$7(f[0]).length);case 53:return new this.$1.Map();case 54:return this.$7(f[0]).get(this.$7(f[1]));case 55:return this.$7(f[0]).set(this.$7(f[1]),this.$7(f[2]));case 56:return this.$7(f[0]).keys();case 57:return this.$7(f[0])["delete"](this.$7(f[1]));case 58:return this.$7(f[0]).has(this.$7(f[1]));case 59:return this.$7(f[0]).join(this.$7(f[1])||"");case 60:return this.$1.i64.of_float(Date.now());case 61:return this.$1.toJSON(this.$7(f[0]));case 62:return this.$1.i64.random();case 63:case 64:return!0;case 65:return this.$1.localizeAsync(this.$7(f[0]),this.$7(f[1]));case 66:return this.$1.localizeV2Async(this.$7(f[0]),this.$7(f[1]));case 68:return this.$7(f[0])+this.$7(f[1]);case 69:return this.$1.i64.add(this.$7(f[0]),this.$7(f[1]));case 71:return(a=this.$3)==null?void 0:(e=a.justknob)==null?void 0:e[f[0]];case 72:return(g=this.$3)==null?void 0:(m=g.iggk)==null?void 0:m[f[0]];case 100:return this.$5[f[0]][f[1]];case 101:if(this.$6==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("Attempting to read column ref when none exist!");return this.$6[f[0]];case 102:return this.$5[this.$7(f[0])].group_count;case 73:return this.$1.rm;case 74:return this.$7(f[0]).trim();case 75:return this.$7(f[0]).split(this.$7(f[1])).join(this.$7(f[2]));case 76:return f.map(this.$7).join("");case 77:return this.$1.like(this.$7(f[0]),this.$7(f[1]));case 78:return[0,this.$7(f[0]).length];case 79:l=f.map(this.$7);a=l[0];e=l.slice(1);return e.includes(a);case 80:return this.$7(f[1]).includes(this.$7(f[0]));case 81:return this.$7(f[0])-this.$7(f[1]);case 82:return this.$7(f[0])*this.$7(f[1]);case 83:return this.$7(f[0])/this.$7(f[1]);case 84:return this.$7(f[0])%this.$7(f[1]);case 91:return this.$1.i64.lsl_(this.$7(f[0]),this.$1.i64.to_int32(this.$7(f[1])));case 92:return this.$1.i64.lsr_(this.$7(f[0]),this.$1.i64.to_int32(this.$7(f[1])));case 93:return this.$1.i64.asr_(this.$7(f[0]),this.$1.i64.to_int32(this.$7(f[1])));case 94:return this.$1.i64.and_(this.$7(f[0]),this.$7(f[1]));case 95:return this.$1.i64.or_(this.$7(f[0]),this.$7(f[1]));case 96:return this.$1.i64.xor(this.$7(f[0]),this.$7(f[1]));case 85:return this.$1.i64.sub(this.$7(f[0]),this.$7(f[1]));case 86:return this.$1.i64.mul(this.$7(f[0]),this.$7(f[1]));case 87:return this.$1.i64.div(this.$7(f[0]),this.$7(f[1]));case 88:return this.$1.i64.mod_(this.$7(f[0]),this.$7(f[1]));case 89:g=f.map(this.$7);var n=g[0];m=g.slice(1);return m.some(function(a){return d.$1.i64.eq(n,a)});case 90:var o=this.$7(f[0]);return this.$7(f[1]).some(function(a){return d.$1.i64.eq(o,a)});case 97:return this.$7(f[0])?this.$7(f[1]):this.$7(f[2]);case 98:l=this.$7(f[0]);e=this.$7(f[1]);return(l||e)&&!(l&&e);case 99:return(a=this.$7(f[0]))!=null?a:this.$7(f[1]);case 103:return;case 104:return b.call(null,f[0]);case 105:g=function(){var b=d.$7(f[0]),e=f[1],g=c("LS").n,a,h=function(b){a=k(a,function(){d.$4[e]=b;return d.$7(f[2])})};for(var l=g(j());d.$1.i64.lt(l,b);l=d.$1.i64.add(l,g(i())))h(l);return{v:a}}();if(typeof g==="object")return g.v;case 106:return this.$7(f[0]);case 107:throw c("FBLogger")("messenger_web_product").mustfixThrow("not equal query comparison operator not supported");case 108:return{gt:this.$7(f[0])};case 109:return{gte:this.$7(f[0])};case 110:return{lt:this.$7(f[0])};case 111:return{lte:this.$7(f[0])};case 112:return f.length===1?this.$7(f[0]):(m=this.$1).merge.apply(m,f.map(this.$7));case 113:l=f[0];e=f[1];a=f.slice(2);g=a.map(this.$7);switch(e){case"ASC":return(m=this.$1.db.table(l)).fetch.apply(m,g);case"DESC":return(a=this.$1.db.table(l)).fetchDesc.apply(a,g)}return;case 114:return this.$1.filter(this.$7(f[0]),function(a){d.$6=a;a=d.$7(f[1]);d.$6=null;return a});case 115:return(e=this.$1).sortBy.apply(e,f.map(this.$7));case 116:return this.$1.forEach(this.$7(f[0]),function(a){return a["delete"]()});case 117:return this.$1.islc(this.$7(f[0]),0,this.$7(f[1]));case 118:return this.$1.count(this.$7(f[0]));case 119:return this.$1.db.table(f[0]).peekNextAutoIncrementId();case 120:return this.$1.forEach(this.$7(f[0]),function(a){var b=a.item;a=a.update;var c={};d.$6=b;for(b=1;b<f.length;b+=2)c[f[b]]=d.$7(f[b+1]);d.$6=null;return a(c)});case 121:m=f[0];l={};for(a=1;a<f.length;a+=2)l[f[a]]=this.$7(f[a+1]);return this.$1.db.table(m).add(l);case 122:g=f[0];e={};for(a=1;a<f.length;a+=2)e[f[a]]=this.$7(f[a+1]);return this.$1.db.table(g).put(e);case 123:return this.$1.forEach(this.$7(f[0]),function(a){a=a.item;d.$5[f[1]]=a;return d.$7(f[2])});case 124:return this.$7(f[0]).next().then(function(a){var b=a.done;a=a.value;if(b)return d.$7(f[3]);else{b=f[1];if(b!=null){d.$5[b]=a.item;return d.$7(f[2])}}return 0});case 125:return this.$7(f[0]).slice(0,this.$7(f[1]));case 126:return this.$1.groupBy(this.$7(f[0]),f[1]).forEach(function(a){d.$5[f[2]]=a;return d.$7(f[3])});case 127:return this.$7(f[0]).substr(this.$1.i64.to_int32(this.$7(f[1])),this.$1.i64.to_int32(this.$7(f[2])))}};return a}();g["default"]=a}),98);
__d("TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE",["Env","TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";var h;d={createScript:function(a){for(var b=arguments.length,d=new Array(b>1?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];d.forEach(function(a){if(typeof window!=="undefined"&&typeof window.trustedTypes!=="undefined"&&!window.trustedTypes.isScript(a))throw c("err")("Trusted Function requires TrustedScripts args only.")});var f=d.slice(0,-1).join(","),g=d.pop().toString();return"(function anonymous(\n     "+f+"\n     ) {\n     "+g+"\n     })"}};var i=c("TrustedTypes").createPolicy("unsafe-function-do-not-use",d);function b(){for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];if(c("TrustedTypes").isSupportedNatively()&&(h||(h=c("Env"))).useTrustedTypes){var f=i.createScript.apply(i,[""].concat(d));return a.eval(f)}else return babelHelpers.construct(Function,d)}g.TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE=i;g.createTrustedFunction=b}),98);
__d("LSDatascriptEvaluator",["FBLogger","LSDatascriptJSONEval","LSFactory","MWPBumpEntityKey","TrustedTypesNoOpPolicy_DO_NOT_USE","TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var e=function(b){return function(c,d){var e;return a==null?void 0:(e=a.qe)==null?void 0:(e=e[c])==null?void 0:(c=e[b])==null?void 0:c[d]}},f=new Proxy({getBool:e("fb"),getNumber:e("fb"),getString:e("fb")},{get:function(a,b){return b in a?a[b]:{getBool:e(b),getNumber:e(b),getString:e(b)}}}),g=function(b){var c;return a==null?void 0:(c=a.gk)==null?void 0:c[b]};g.ig=function(b){var c;return a==null?void 0:(c=a.iggk)==null?void 0:c[b]};var h={getBool:function(b){var c;return a==null?void 0:(c=a.justknob)==null?void 0:c[b]}};return function(a){var e;e=d("TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE").createTrustedFunction((e=c("TrustedTypesNoOpPolicy_DO_NOT_USE")).createScript("gkx"),e.createScript("qex"),e.createScript("justknobx"),e.createScript("return "+b));return e(g,f,h)(c("LSFactory")(a,{dynamic:!0}))}}var i=function(a){return c("FBLogger")("messenger_web_product","invalid_sync_script_target").mustfixThrow('Received a sync script with an illegal target of "%s"',(a=a)!=null?a:-1)};function j(a,b){var d=JSON.parse(b),e=(b=a)!=null?b:{gk:{},iggk:{},justknob:{},qe:{}};return function(a){return new(c("LSDatascriptJSONEval"))(d,c("LSFactory")(a,{dynamic:!0}),e).eval()}}function k(a,b,d){if(!c("justknobx")._("3078"))return l(a,b,d);if(d==null)throw i(d);switch(d){case 3:return j(a,b);default:throw i(d)}}function l(a,b,d){if(d==null){c("FBLogger")("lightspeed","null_target").mustfix("Received <null> target field for sync script!");return h(a,b)}switch(d){case 3:return j(a,b);case 2:return h(a,b);case 1:throw c("FBLogger")("messenger_web_product","invalid_sync_script_target").mustfixThrow("Received a sync script with LSProgramTarget of DASM, this should never happen!")}}function a(a){return function(b){if(b==null)throw c("FBLogger")("messenger_comet").mustfixThrow("Error creating eval function, db is undefined. This is likely a currying error in the definition for LSDatascriptEvaluator");return function(e){var g=e.experiments,h=e.priority,i=e.syncScript,j=e.target;e=e.taskNames;g=g!=null?JSON.parse(g):null;try{var l=k(g,i,j);return b.runInTransaction(function(b){a&&a();return l(b)},"readwrite",h,{taskNames:e,type:"sync_script"},f.id+":231")}catch(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform","eval_datascript_failure");c("FBLogger")("messenger_web_product").catching(a).mustfix("Error executing sync script");throw a}}}}a.__debugModuleName="LSDatascriptEvaluator";g.default=a}),98);
__d("MWPExecuteTaskBridge",["FBLogger","QuickPerformanceLogger","cr:6551"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,d,e){var f=d.event,g=d.taskID;(h||(h=c("QuickPerformanceLogger"))).markerPoint(f,"execute_task_through_bridge",{instanceKey:g});if(b("cr:6551")==null||b("cr:6551")[e]==null){(h||(h=c("QuickPerformanceLogger"))).markerPoint(f,"handler_not_found",{instanceKey:g});throw c("FBLogger")("ls_web_init").mustfixThrow("No bridge task handler found for %s",e)}h.markerPoint(f,"bridge_api_call",{instanceKey:g});return b("cr:6551")[e](a,d)}g.executeTask=a}),98);
__d("MWPHandleNativeTask",["FBLogger","I64","LSHandleTaskSendFailureForQueue2","LSHandleTaskSendSuccessForQueue2","LSJson","MWPExecuteTaskBridge","QuickPerformanceLogger","ReQL","asyncToGeneratorRuntime","isNativeTask","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g){var j=e.queue_name;e=c("qpl")._(164763515,"1216");var l=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.pending_tasks.index("queueNameTaskId")).getKeyRange(j).filter(c("isNativeTask"))));if(l==null){(i||(i=c("QuickPerformanceLogger"))).markerPoint(e,"fetch_pending_task_failed");c("FBLogger")("ls_web_init").warn("MWPHandleNativeTask: Error cannot find a pending task for queue: %s",j);return}if(!c("isNativeTask")(l)){(i||(i=c("QuickPerformanceLogger"))).markerPoint(e,"non_native_task_found");c("FBLogger")("ls_web_init").warn("MWPHandleNativeTask: Non-Native tasks should not be handled by MWPHandleNativeTask.",j);return}var m=(h||(h=d("I64"))).to_float(l==null?void 0:l.taskId);(i||(i=c("QuickPerformanceLogger"))).markerStart(e,m);i.markerAnnotate(e,{string:{source:"MWPHandleNativeTask_handleTask"}},{instanceKey:m});i.markerPoint(e,"fetch_pending_task",{instanceKey:m});var n;try{(i||(i=c("QuickPerformanceLogger"))).markerPoint(e,"parse_task",{instanceKey:m}),n=k(l)}catch(a){(i||(i=c("QuickPerformanceLogger"))).markerPoint(e,"parse_task_failed",{instanceKey:m});c("FBLogger")("ls_web_init").catching(a).warn("Error parsing native task payload with pluginType %s and transportKey %s for queue: %s",(h||(h=d("I64"))).to_string(l.pluginType),l.transportKey,j);return}var o=l.context;try{(i||(i=c("QuickPerformanceLogger"))).markerPoint(e,"task_execute",{instanceKey:m}),i.markerAnnotate(e,{string:{source:"MWPHandleNativeTask_handleTask",task:JSON.stringify(l),taskName:o}},{instanceKey:m}),yield d("MWPExecuteTaskBridge").executeTask(n,{actorID:g,event:e,source:"MWPHandleNativeTask_handleTask",taskID:(h||(h=d("I64"))).to_float(l.taskId)},o),i.markerPoint(e,"task_execute_success",{instanceKey:m}),yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield c("LSHandleTaskSendSuccessForQueue2")(a,j);return a.pending_tasks["delete"](l.taskId)});return function(b){return a.apply(this,arguments)}}(),"readwrite","background",void 0,f.id+":125"),i.markerEnd(e,2,m)}catch(b){(i||(i=c("QuickPerformanceLogger"))).markerPoint(e,"task_execute_failed",{instanceKey:m});i.markerEnd(e,3,m);c("FBLogger")("ls_web_init").catching(b).mustfix("Error handling native task for %s.",l==null?void 0:l.context);try{yield a.runInTransaction(function(a){return c("LSHandleTaskSendFailureForQueue2")(a,j)},"readwrite",void 0,void 0,f.id+":151")}catch(a){c("FBLogger")("ls_web_init").catching(a).mustfix("Error bumping failure cound for task")}}});return j.apply(this,arguments)}function k(a){if(a.taskValue==null)throw c("FBLogger")("ls_web_init").warn("MWPHandleNativeTask: task value is null, nothing to parse");try{var b=a.taskValue!==""?d("LSJson").parse(a.taskValue):"";return b}catch(b){throw c("FBLogger")("ls_web_init").catching(b).mustfix(" Error parsing native task payload for queue: %s, falling back to null payload",a.queueName)}}e={handleLSWork:a};g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("AutoplayRulesEngine",[],(function(a,b,c,d,e,f){"use strict";var g=-2,h=-1;a=function(){function a(a){this.$1=g,this.$2=a}var b=a.prototype;b.evaluateAutoplay=function(a,b){b=b();var c=h;if(a)for(var d=0;d<this.$2.length;d++){var e=this.$2[d](a);if(e!=="SKIP"){b=e;c=d;break}}this.$1=c;return b};b.getIndexOfLastWinningRule=function(){return this.$1};b.getRules=function(){return this.$2};return a}();f["default"]=a}),66);
__d("CVCv3DisabledPlayerOrigins",[],(function(a,b,c,d,e,f){a=Object.freeze({BEEPER:"beeper",FB_STORIES:"fb_stories"});f["default"]=a}),66);
__d("CVCv3DisabledPlayerSubOrigins",[],(function(a,b,c,d,e,f){a=Object.freeze({LIVE_BEEPER:"live_beeper"});f["default"]=a}),66);
__d("CvcV3HttpEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1856513");b=d("FalcoLoggerInternal").create("cvc_v3_http_event",a);e=b;g["default"]=e}),98);
__d("CVCv3SubscriptionHelper",["CvcV3HttpEventFalcoEvent","DateConsts","guid"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$1=a;this.$2=c("guid")();this.$3=((a=b)!=null?a:"null")+"::"+((b=d)!=null?b:"null");this.$4=null;this.$5=null}var b=a.prototype;b.isValidSubscription=function(){return!!this.$1};b.makeCVCv3StateUpdate=function(a,b,c,e){var f=null;a!=null&&!Number.isNaN(a)&&b!=null&&!Number.isNaN(b)&&(f={m:e,pf:Math.floor((b-a)*d("DateConsts").MS_PER_SEC),s:c,sa:Math.floor(a*d("DateConsts").MS_PER_SEC)});e={pps:this.$4,ps:f,si:this.$2,so:this.$3,vi:this.$1};this.$4=f;return e};b.makeUnifiedVideoCVCUpdate=function(a,b,c,d,e){a=this.makeCVCv3StateUpdate(a,b,c,d);this.$5!=null&&(a.tk=this.$5);return babelHelpers["extends"]({},a,e)};b.processUnifiedResponse=function(a){a=a;this.$5=a.tk;return a};b.clearAnyPreviousContext=function(){this.$4=null};b.logHttpRequestSuccess=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_success",duration_ms:a!=null?a.toString():null,countable_id:b.$1}})};b.logHttpRequestFailure=function(a,b){var d=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_failed",error_msg:a,duration_ms:b!=null?b.toString():null,countable_id:d.$1}})};b.logHttpRequestTimeout=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_timeout",duration_ms:a!=null?a.toString():null,countable_id:b.$1}})};b.logHttpResponseBad=function(a,b){var d=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_response_bad",error_msg:a,duration_ms:b!=null?b.toString():null,countable_id:d.$1}})};b.logDebugInfo=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:a,countable_id:b.$1}})};return a}();g["default"]=a}),98);
__d("CometAudioManagerHooks",["CometAudioManagerContexts","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(d("CometAudioManagerContexts").AudioApiContext);return a}g.useAudioApi=a}),98);
__d("makeAudioSymbol",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b+"::"+a}f["default"]=a}),66);
__d("CoreVideoPlayerAudioClient.react",["CometAudioManagerContexts","CometAudioManagerHooks","CometThrottle","VideoPlayerHooks","VideoPlayerPortalingPlaceInfoProvider.react","createVideoStateHook","makeAudioSymbol","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useContext,k=b.useEffect,l=b.useId,m=b.useMemo,n=b.useRef,o=b.useState;e=d("createVideoStateHook").createVideoStateHook();var p=e.valueHook;function a(){var a=p({isVolumeInitialized:!1}),b=l(),e=(i||(i=d("VideoPlayerHooks"))).useInstanceKey(),f=m(function(){return c("makeAudioSymbol")(b,e)},[b,e]),g=d("CometAudioManagerHooks").useAudioApi(),h=n(g);k(function(){h.current=g},[g]);var q=i.useController(),r=200,s=i.useLastPlayReason(),t=i.useLastMuteReason(),u=i.useMuted();r=c("CometThrottle")(i.useVolume,r,{trailing:!0});var v=r(),w=c("usePrevious")(v),x=i.usePaused(),y=j(d("CometAudioManagerContexts").CometAudioLocalScopeContext),z=j(d("CometAudioManagerContexts").CometAudioGroupContext),A=d("VideoPlayerPortalingPlaceInfoProvider.react").useVideoPlayerPortalingPlaceInfo(),B=i.useVolumeSetting(),C=m(function(){return(z==null?void 0:z.groupID)||d("CometAudioManagerContexts").makeAudioGroupID()},[z==null?void 0:z.groupID]);r=o(!0);var D=r[0];r=r[1];var E=m(function(){return{audioLocalScope:y,controller:q,groupID:C,instanceKey:e,lastMuteReason:t,lastPlayReason:s,muted:u,paused:x,previousVolume:w,symbol:f,videoPlayerPortalingPlaceInfo:A,volume:v}},[y,q,C,e,t,s,u,x,w,f,A,v]);k(function(){B!=null&&a.isVolumeInitialized!==!0&&(q.setVolume(B),a.isVolumeInitialized=!0)},[q,a,!0,B]);r=z||{allowSound:D,groupID:C,setAllowSound:r};var F=n(r);k(function(){g&&g.register(E,F.current);return function(){g&&g.unregister(f,C)}},[g,E,C,f]);k(function(){g&&g.update(E)},[g,E]);k(function(){!D&&h.current&&q.setMuted(!0,"audio_manager_initiated")},[D,h,q]);return null}g["default"]=a}),98);
__d("VideoPlayerAutoplayHooks",["VideoPlayerAutoplayContexts","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(d("VideoPlayerAutoplayContexts").AutoplayApiContext);if(a==null)throw c("unrecoverableViolation")("Empty AutoplayApiContext. Are you rendering useAutoplayApi outside of VideoAutoplayManagerX?","comet_video_player");return a}function b(){return i(d("VideoPlayerAutoplayContexts").VideoAutoplayLocalScopeContext)}g.useAutoplayApi=a;g.useVideoAutoplayLocalScope=b}),98);
__d("VideoPlayerDebugAutoplayAPI",["cr:1453865","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";d=(a=b("cr:1453865"))!=null?a:{useVideoPlayerDebugAPI:c("emptyFunction").thatReturns(null),useVideoPlayerDebugAPIDefinition:c("emptyFunction"),useVideoPlayerDebugInfo:c("emptyFunction").thatReturns(null)};g["default"]=d}),98);
__d("evaluateVideoAutoplayDefaultAllowRule",[],(function(a,b,c,d,e,f){"use strict";function a(){return"ALLOW"}a.displayName="evaluateVideoAutoplayDefaultRule";f["default"]=a}),66);
__d("makeSelectedAutoplayVideoSymbol",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b+"::"+a}f["default"]=a}),66);
__d("useAutoplayRulesEngine",["AutoplayRulesEngine","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(8),e=j(a),f;b[0]!==a?(f=function(){return new(c("AutoplayRulesEngine"))(a)},b[0]=a,b[1]=f):f=b[1];f=k(f);var g=f[0],h=f[1],l;b[2]!==a?(f=function(){e.current!==a&&h(function(){return new(c("AutoplayRulesEngine"))(a)})},l=[a],b[2]=a,b[3]=f,b[4]=l):(f=b[3],l=b[4]);i(f,l);b[5]!==g?(f=function(){e.current=g.getRules()},l=[g],b[5]=g,b[6]=f,b[7]=l):(f=b[6],l=b[7]);i(f,l);return g}g["default"]=a}),98);
__d("useConcurrentAutoplayManagementAPI",["react","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useId,j=e.useState;function a(){return i()}function k(){var a=[];return{isControllingComponent:function(b){var c=a.length;return a[c-1]===b},registerControllingComponent:function(b){c("removeFromArray")(a,b),a.push(b)},unregisterControllingComponent:function(b){var d=a.length;d>1&&c("removeFromArray")(a,b);return d>1}}}function b(){var a=j(l);a=a[0];return a}function l(){return k()}g.useAutoplayControlID=a;g.createConcurrentAutoplayManagementAPI=k;g.useConcurrentAutoplayManagementAPI=b}),98);
__d("VideoPlayerViewabilityHooks",["VideoPlayerHooks"],(function(a,b,c,d,e,f,g){"use strict";var h;g.useVideoPlayerExtendedPassiveViewabilityInfo=(h||(h=d("VideoPlayerHooks"))).useVideoPlayerExtendedPassiveViewabilityInfo;g.useVideoPlayerPassiveViewabilityInfo=h.useVideoPlayerPassiveViewabilityInfo;g.useVideoPlayerViewabilityInfo=h.useVideoPlayerViewabilityInfo}),98);
__d("useEventCallbackOn",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b,c){var e=d("react-compiler-runtime").c(5),f,g;e[0]!==c||e[1]!==b||e[2]!==a?(f=function(){a.addEventListener(b,c);return function(){a.removeEventListener(b,c)}},g=[a,b,c],e[0]=c,e[1]=b,e[2]=a,e[3]=f,e[4]=g):(f=e[3],g=e[4]);i(f,g)}g["default"]=a}),98);
__d("useIsBackgrounded",["emptyFunction","react","useEventCallbackOn"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useCallback,j=f.useState;function b(){var b=a.document;if(typeof b.hidden!=="undefined")return"visibilitychange";else if(typeof b.mozHidden!=="undefined")return"mozvisibilitychange";else if(typeof b.msHidden!=="undefined")return"msvisibilitychange";else if(typeof b.webkitHidden!=="undefined")return"webkitvisibilitychange";return"visibilitychange"}function k(){var b=a.document;if(typeof b.hidden!=="undefined")return b.hidden;else if(typeof b.mozHidden!=="undefined")return b.mozHidden;else if(typeof b.msHidden!=="undefined")return b.msHidden;else if(typeof b.webkitHidden!=="undefined")return b.webkitHidden;return!1}var l=b();function m(b){var c=a.document.hasFocus?a.document.hasFocus():!0,d=k();return d||(b?!1:!c)}function n(){return k()}function e(b){var d=(b==null?void 0:b.noPauseOnBlurOrFocus)===!0,e=j(function(){return m(d)}),f=e[0],g=e[1];e=j(function(){return n()});var h=e[0],k=e[1],o=!!b&&b.scrollTerminatesHiddenOrBlurred===!0;e=i(function(){g(m(d)),k(n())},[g,d]);b=e;var p=i(function(){var a=m(d);a&&o&&f&&g(!1)},[f,d,o]);d&&(b=c("emptyFunction"));c("useEventCallbackOn")(a.window,"blur",b);c("useEventCallbackOn")(a.window,"focus",b);c("useEventCallbackOn")(a.document,l,e);c("useEventCallbackOn")(a.window,"scroll",p);return{isDocumentHidden:h,isDocumentHiddenOrBlurred:f}}g["default"]=e}),98);
__d("VideoPlayerOzWWWGlobalConfig",["VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f,g){"use strict";var h="oz_www_";a={getBool:function(a,b){return d("VideoPlayerShakaGlobalConfig").getBool(h+a,b)},getNumber:function(a,b){return d("VideoPlayerShakaGlobalConfig").getNumber(h+a,b)},getString:function(a,b){return d("VideoPlayerShakaGlobalConfig").getString(h+a,b)}};b=a;g["default"]=b}),98);
__d("useVideoPlayerBandwidthEstimate",["VideoPlayerOzWWWGlobalConfig","oz-player/networks/OzBandwidthEstimator","react","react-compiler-runtime","useInterval"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState,j=5e3;function a(){var a=d("react-compiler-runtime").c(2),b=k,e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=b(),a[0]=e):e=a[0];e=i(e);var f=e[0],g=e[1];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){return g(b())},a[1]=e):e=a[1];c("useInterval")(e,j);return f}function k(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))}g["default"]=a}),98);
__d("useVideoAutoplayState",["HiddenSubtreePassiveContext","VideoPlayerHooks","VideoPlayerShakaGlobalConfig","VideoPlayerViewabilityHooks","react","useIsBackgrounded","useVideoPlayerBandwidthEstimate"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.startTransition,k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useRef,o=b.useState;function a(a){var b=(i||(i=d("VideoPlayerHooks"))).useAdClientToken(),e=i.useAutoplayGatingResult(),f=i.useBroadcastStatus(),g=i.useEnded(),h=i.useIsFrozenPassive(),p=i.useLastPauseReason(),q=i.useLastPlayReason(),r=i.useMuted(),s=i.usePaused(),t=k(c("HiddenSubtreePassiveContext")),u=!b;a=(a==null?void 0:a.noPauseOnBlurOrFocus)===!0||d("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1);a=c("useIsBackgrounded")({noPauseOnBlurOrFocus:a,scrollTerminatesHiddenOrBlurred:u});var v=a.isDocumentHidden,w=a.isDocumentHiddenOrBlurred,x=c("useVideoPlayerBandwidthEstimate")(),y=d("VideoPlayerViewabilityHooks").useVideoPlayerPassiveViewabilityInfo(),z=d("VideoPlayerViewabilityHooks").useVideoPlayerExtendedPassiveViewabilityInfo();u=o(t.getCurrentState().backgrounded);var A=u[0],B=u[1];a=o(t.getCurrentState().hidden);var C=a[0],D=a[1];l(function(){var a=function(){j(function(){var a=t.getCurrentState();D(a.hidden);B(a.backgrounded)})},b=t.subscribeToChanges(a);a();return function(){b.remove()}},[t,B,D]);u=o(function(){return h.getCurrentState()});var E=u[0],F=u[1];l(function(){var a=h.subscribeToChanges(function(a){F(a)}),b=h.getCurrentState();F(b);return function(){a.remove()}},[h,F]);var G=m(function(){return{adClientToken:b,autoplayGatingResult:e,bandwidthEstimate:x,broadcastStatus:f,controllerIsFrozen:E,currentSubtreeIsBackgrounded:A,currentSubtreeIsHidden:C,ended:g,hiddenSubtreePassive:t,isDocumentHidden:v,isDocumentHiddenOrBlurred:w,isFrozenPassive:h,lastPauseReason:p,lastPlayReason:q,muted:r,paused:s,videoPlayerExtendedPassiveViewabilityInfo:z,videoPlayerPassiveViewabilityInfo:y}},[b,e,x,f,E,A,C,g,t,v,w,h,p,q,r,s,z,y]);a=o(G);var H=a[0],I=a[1],J=n(H);l(function(){J.current=H},[H]);l(function(){var a=!1;for(var b in G)if(Object.prototype.hasOwnProperty.call(G,b)&&G[b]!==J.current[b]){a=!0;break}a&&I(G)},[G,I]);return H}g["default"]=a}),98);
__d("CoreVideoPlayerAutoplayClient.react",["CoreVideoPlayerAutoplayClientUtils","HiddenSubtreePassiveContext","VideoPlayerAutoplayHooks","VideoPlayerDebugAutoplayAPI","VideoPlayerHooks","VideoPlayerViewabilityConstants","WwwCometVideoAutoplayFalcoEvent","evaluateVideoAutoplayDefaultAllowRule","evaluateVideoAutoplayDefaultIgnoreRule","makeSelectedAutoplayVideoSymbol","react","react-compiler-runtime","useAutoplayRulesEngine","useConcurrentAutoplayManagementAPI","useVideoAutoplayState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");b.useCallback;var j=b.useContext,k=b.useEffect,l=b.useId;b.useMemo;var m=b.useRef,n=b.useState;function a(){var a=d("react-compiler-runtime").c(72),b=l(),e=(i||(i=d("VideoPlayerHooks"))).useCanAutoplay(),f=i.useInstanceKey(),g;a[0]!==b||a[1]!==f?(g=c("makeSelectedAutoplayVideoSymbol")(b,f),a[0]=b,a[1]=f,a[2]=g):g=a[2];b=g;var h=b,o=m(h);a[3]!==h?(g=function(){o.current=h},b=[h],a[3]=h,a[4]=g,a[5]=b):(g=a[4],b=a[5]);k(g,b);var p=j(c("HiddenSubtreePassiveContext")),q=i.useController(),r=m(!1),s=d("useConcurrentAutoplayManagementAPI").useAutoplayControlID();a[6]!==s||a[7]!==q?(g=function(){d("CoreVideoPlayerAutoplayClientUtils").log(o.current,"[ASSUME CONTROL] "+s),q.registerControllingComponent(s)},b=[q,s],a[6]=s,a[7]=q,a[8]=g,a[9]=b):(g=a[8],b=a[9]);k(g,b);var t=i.useVideoPlayerPassiveViewabilityInfo();a[10]!==q?(g=q.getCurrentState(),a[10]=q,a[11]=g):g=a[11];b=g;g=b.paused;var u=m(g),v=d("VideoPlayerAutoplayHooks").useVideoAutoplayLocalScope(),w=m(v);a[12]!==v?(b=function(){w.current=v},g=[v],a[12]=v,a[13]=b,a[14]=g):(b=a[13],g=a[14]);k(b,g);a[15]!==q||a[16]!==t?(b=function(){var a=q.getCurrentState(),b=a.lastPlayReason;a=a.paused;var d=u.current;u.current=a;var e=t==null?void 0:t.getCurrent();if(e){e=e.visiblePercentage;a=!a&&a!==d;d=e<c("VideoPlayerViewabilityConstants").DEFAULT_VIEWABILITY_PERCENTAGE_FOR_PAUSE&&e>0;w.current.disableScrollBeforePlayWhenOffscreen!==!0&&a&&b==="user_initiated"&&d&&(r.current=!0)}},a[15]=q,a[16]=t,a[17]=b):b=a[17];var x=b,y=m(x);a[18]!==x?(g=function(){y.current=x},b=[x],a[18]=x,a[19]=g,a[20]=b):(g=a[19],b=a[20]);k(g,b);a[21]!==q||a[22]!==x?(g=function(){var a=q.subscribe(function(){x()});return function(){a.remove()}},b=[q,x],a[21]=q,a[22]=x,a[23]=g,a[24]=b):(g=a[23],b=a[24]);k(g,b);a[25]!==v.noPauseOnBlurOrFocus?(g={noPauseOnBlurOrFocus:v.noPauseOnBlurOrFocus},a[25]=v.noPauseOnBlurOrFocus,a[26]=g):g=a[26];var z=c("useVideoAutoplayState")(g),A=c("useAutoplayRulesEngine")(v.autoplayLocalRules),B=e==="allow"?c("evaluateVideoAutoplayDefaultAllowRule"):c("evaluateVideoAutoplayDefaultIgnoreRule");a[27]!==B?(b=function(){return B},a[27]=B,a[28]=b):b=a[28];g=n(b);b=g[0];var C=g[1];g=n(null);var D=g[0],E=g[1];a[29]!==A||a[30]!==B||a[31]!==z?(g=function(){return A.evaluateAutoplay(z,B)},a[29]=A,a[30]=B,a[31]=z,a[32]=g):g=a[32];g=n(g);var F=g[0],G=g[1];g=n(null);var H=g[0],I=g[1],J=m(F),K=d("VideoPlayerAutoplayHooks").useAutoplayApi(),L=m(K),M;a[33]!==K?(g=function(){L.current=K},M=[K],a[33]=K,a[34]=g,a[35]=M):(g=a[34],M=a[35]);k(g,M);var N=e!=="dangerously_disable_autoplay_management";a[36]!==K||a[37]!==v||a[38]!==q||a[39]!==p||a[40]!==f||a[41]!==N||a[42]!==h?(g=function(){K.register(h,f,v,q,p,N);c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"register",autoplay_scope_id:w.current.autoplayScopeID,event_creation_time:Date.now(),initiator:o.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(w.current).selectedAutoplayVideoSymbol,target:o.current,target_current_autoplay_decision:J.current}});return function(){K.unregister(h),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"unregister",autoplay_scope_id:w.current.autoplayScopeID,event_creation_time:Date.now(),initiator:o.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(w.current).selectedAutoplayVideoSymbol,target:o.current,target_current_autoplay_decision:J.current}})}},M=[K,v,q,p,f,N,h],a[36]=K,a[37]=v,a[38]=q,a[39]=p,a[40]=f,a[41]=N,a[42]=h,a[43]=g,a[44]=M):(g=a[43],M=a[44]);k(g,M);a[45]!==K||a[46]!==s||a[47]!==A||a[48]!==q||a[49]!==B||a[50]!==p||a[51]!==D||a[52]!==H||a[53]!==h||a[54]!==z||a[55]!==t?(e=function(){var a=function(){var a=A.evaluateAutoplay(z,B);J.current=a;var b=A.getRules(),e=A.getIndexOfLastWinningRule(),f=e>=0?b[e]:B;b=t&&t.getCurrent();e=q.getCurrentState();e=e.paused;(H===null||H!==a)&&(G(a),I(a));if(a==="PAUSE"&&!e&&q.isControllingComponent(s)){e=!0;y.current();if(r.current){r.current=!1;var g=b==null?void 0:b.positionToViewport;g&&q.scrollIntoView(g.top<0);e=!1}if(e){g="[PAUSE] via short-circuit on "+f.name+".";d("CoreVideoPlayerAutoplayClientUtils").log(o.current,g);q.pause("autoplay_initiated");c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:w.current.autoplayScopeID,event_creation_time:Date.now(),initiator:o.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(w.current).selectedAutoplayVideoSymbol,target:o.current,target_current_autoplay_decision:a}})}}(D===null||D!==f)&&(C(function(){return f}),E(function(){return f}),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"rule_changed",autoplay_scope_id:w.current.autoplayScopeID,event_creation_time:Date.now(),initiator:o.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(w.current).selectedAutoplayVideoSymbol,target:o.current,target_current_autoplay_decision:a}}));d("CoreVideoPlayerAutoplayClientUtils").log(o.current,"[DECISION: "+a+"] from "+f.name);b&&K.update(h,a,b)},b=p.subscribeToChanges(function(a){p.getCurrentState().hidden||p.getCurrentState().backgrounded?q.isControllingComponent(s)||q.unregisterControllingComponent(s):q.registerControllingComponent(s)}),e=t?t.subscribe(function(){p.getCurrentState().hidden||p.getCurrentState().backgrounded?q.isControllingComponent(s)||q.unregisterControllingComponent(s):q.registerControllingComponent(s),a()}):null;a();return function(){b.remove(),e&&e.remove()}},g=[K,s,A,q,B,p,D,H,C,G,E,I,h,z,t],a[45]=K,a[46]=s,a[47]=A,a[48]=q,a[49]=B,a[50]=p,a[51]=D,a[52]=H,a[53]=h,a[54]=z,a[55]=t,a[56]=e,a[57]=g):(e=a[56],g=a[57]);k(e,g);a[58]!==s||a[59]!==F||a[60]!==q?(M=function(){var a=q.isControllingComponent(s),b=q.getCurrentState();b=b.paused;d("CoreVideoPlayerAutoplayClientUtils").componentShouldPause(F,J.current,b,a)&&(d("CoreVideoPlayerAutoplayClientUtils").log(o.current,"[PAUSE] the video for "+F),q.pause("autoplay_initiated"),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:w.current.autoplayScopeID,event_creation_time:Date.now(),initiator:o.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:L.current.getAutoplayManagerDebugInfo(w.current).selectedAutoplayVideoSymbol,target:o.current,target_current_autoplay_decision:F}}))},e=[F,q,s],a[58]=s,a[59]=F,a[60]=q,a[61]=M,a[62]=e):(M=a[61],e=a[62]);k(M,e);a[63]!==s||a[64]!==q?(g=function(){return function(){d("CoreVideoPlayerAutoplayClientUtils").log(o.current,"[RELEASE CONTROL] "+s),q.unregisterControllingComponent(s)}},M=[q,s],a[63]=s,a[64]=q,a[65]=g,a[66]=M):(g=a[65],M=a[66]);k(g,M);a[67]!==b||a[68]!==F||a[69]!==v||a[70]!==h?(e={applicableRule:b,autoplayApiRef:L,autoplayDecision:F,autoplayLocalScope:v,symbol:h},a[67]=b,a[68]=F,a[69]=v,a[70]=h,a[71]=e):e=a[71];c("VideoPlayerDebugAutoplayAPI").useVideoPlayerDebugAPIDefinition(e);return null}g["default"]=a}),98);
__d("VideoPlayerViewabilityProvider.react",["VideoPlayerViewabilityContexts","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),c=a.children,e=a.isDesktopPictureInPicture,f=a.isFullscreen;a=a.videoPlayerPassiveViewabilityInfo;var g;b[0]!==c||b[1]!==f?(g=i.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:f,children:c}),b[0]=c,b[1]=f,b[2]=g):g=b[2];b[3]!==e||b[4]!==g?(c=i.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerDesktopPictureInPictureContext.Provider,{value:e,children:g}),b[3]=e,b[4]=g,b[5]=c):c=b[5];b[6]!==c||b[7]!==a?(f=i.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext.Provider,{value:a,children:c}),b[6]=c,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("useBlockCappedListItemWhenPlayingVideo",["CappedListItemContext","err","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a,b){var e;b=d("react-compiler-runtime").c(4);var f=(e=i(c("CappedListItemContext")))==null?void 0:e.registerBlocker,g;b[0]!==a||b[1]!==f?(e=function(){if(!f)return;var b;b=null;var c;c=null;var d=function(){var d=a.getCurrentState().playing;if(d!==b){b=d;c&&(c(),c=null);if(d){var e;c=f({reason:"playing_video",source:e})}}};d();var e=a.subscribe(d);return function(){e.remove(),c&&(c(),c=null)}},g=[a,f],b[0]=a,b[1]=f,b[2]=e,b[3]=g):(e=b[2],g=b[3]);j(e,g)}g["default"]=a}),98);
__d("useDisableVirtualizationWhenPlayingVideo",["VirtualizationContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a,b){var e=d("react-compiler-runtime").c(5),f=i(c("VirtualizationContext")),g,h;e[0]!==f||e[1]!==a||e[2]!==b?(g=function(){if(f==null)return;var c=f.createFlag,d=f.createPin,e;e=null;var g;g=null;var h=function(){g==null&&(g=c("HAS_PLAYER","playerInstanceKey: "+b));var f=a.getCurrentState();f.playing||f.stalling?e||(e=d("player "+b+" is playing")):f.isFullscreen?e||(e=d("player "+b+" is fullscreen")):(e==null?void 0:e(),e=null)};h();var i=a.subscribe(h);return function(){i.remove(),g==null?void 0:g(),g=null,e==null?void 0:e(),e=null}},h=[a,b,f],e[0]=f,e[1]=a,e[2]=b,e[3]=g,e[4]=h):(g=e[3],h=e[4]);j(g,h)}g["default"]=a}),98);
__d("wrapWithContextProviders",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){return b.reduceRight(function(a,b){return b(a)},a)}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return function(c){return i.jsx(a.Provider,{value:b,children:c})}}g.wrapWithContextProviders=a;g.makeRenderProviderFn=b}),98);
__d("VideoPlayerComponentContainer.react",["CometVisualCompletionAttributes","VideoPlayerContexts","VideoPlayerHooks","VideoPlayerViewabilityProvider.react","clearTimeout","cr:6094","react","react-compiler-runtime","setTimeout","stylex","useBlockCappedListItemWhenPlayingVideo","useDisableVirtualizationWhenPlayingVideo","wrapWithContextProviders"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;e.useCallback;var m=e.useEffect,n=e.useRef,o=e.useState,p={"default":{height:"x5yr21d",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},hiddenCursor:{cursor:"xjfk50j",$$css:!0}};function q(a){var b=d("react-compiler-runtime").c(10),e=n(a),f,g;b[0]!==a?(f=function(){e.current=a},g=[a],b[0]=a,b[1]=f,b[2]=g):(f=b[1],g=b[2]);m(f,g);f=o(!1);g=f[0];var h=f[1];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){var a;a=null;return{cleanup:function(){a&&a()},pingNotIdle:function(){a&&a();h(!1);var b=c("setTimeout")(function(){h(!0)},e.current);a=function(){c("clearTimeout")(b),a=null}}}},b[3]=f):f=b[3];f=o(f);f=f[0];var i=f.cleanup;f=f.pingNotIdle;var j,k;b[4]!==i?(j=function(){return i},k=[i],b[4]=i,b[5]=j,b[6]=k):(j=b[5],k=b[6]);m(j,k);b[7]!==g||b[8]!==f?(j={isIdle:g,pingNotIdle:f},b[7]=g,b[8]=f,b[9]=j):j=b[9];return j}function r(){var a=d("react-compiler-runtime").c(18),b=o(!1),c=b[0],e=b[1];b=q(3e3);var f=b.isIdle,g=b.pingNotIdle;a[0]!==g?(b=function(){e(!0),g()},a[0]=g,a[1]=b):b=a[1];b=b;var h;a[2]!==g?(h=function(){e(!1),g()},a[2]=g,a[3]=h):h=a[3];h=h;var i;a[4]!==g?(i=function(){e(!0),g()},a[4]=g,a[5]=i):i=a[5];i=i;var j;a[6]!==g?(j=function(){g()},a[6]=g,a[7]=j):j=a[7];j=j;var k;a[8]!==g?(k=function(){g()},a[8]=g,a[9]=k):k=a[9];k=k;var l;a[10]!==c||a[11]!==f||a[12]!==j||a[13]!==b||a[14]!==h||a[15]!==i||a[16]!==k?(l={isHovering:c,isIdle:f,onMouseDown:j,onMouseEnter:b,onMouseLeave:h,onMouseMove:i,onMouseUp:k},a[10]=c,a[11]=f,a[12]=j,a[13]=b,a[14]=h,a[15]=i,a[16]=k,a[17]=l):l=a[17];return l}function s(a){var b=d("react-compiler-runtime").c(16);a=a.children;var e=r(),f=e.isHovering,g=e.isIdle,i=e.onMouseDown,m=e.onMouseEnter,n=e.onMouseLeave,o=e.onMouseMove;e=e.onMouseUp;var q=(k||(k=d("VideoPlayerHooks"))).useIsFullscreen();q=q&&g&&p.hiddenCursor;var s;b[0]!==q?(s=(h||(h=c("stylex")))(p["default"],q),b[0]=q,b[1]=s):s=b[1];b[2]!==a||b[3]!==g?(q=l.jsx((j||(j=d("VideoPlayerContexts"))).VideoPlayerMouseIdleContext.Provider,{value:g,children:a}),b[2]=a,b[3]=g,b[4]=q):q=b[4];b[5]!==f||b[6]!==q?(a=l.jsx((j||(j=d("VideoPlayerContexts"))).VideoPlayerMouseHoverContext.Provider,{value:f,children:q}),b[5]=f,b[6]=q,b[7]=a):a=b[7];b[8]!==i||b[9]!==m||b[10]!==n||b[11]!==o||b[12]!==e||b[13]!==s||b[14]!==a?(g=l.jsx("div",babelHelpers["extends"]({className:s},c("CometVisualCompletionAttributes").IGNORE,{onMouseDown:i,onMouseEnter:m,onMouseLeave:n,onMouseMove:o,onMouseUp:e,children:a})),b[8]=i,b[9]=m,b[10]=n,b[11]=o,b[12]=e,b[13]=s,b[14]=a,b[15]=g):g=b[15];return g}function a(a){var e=d("react-compiler-runtime").c(75),f,g;e[0]!==a?(f=a.children,g=babelHelpers.objectWithoutPropertiesLoose(a,["children"]),e[0]=a,e[1]=f,e[2]=g):(f=e[1],g=e[2]);a=g;var h=a.adClientToken,i=a.audioAvailabilityInfo,k=a.autoplayGatingResult,m=a.broadcastStatus,n=a.canAutoplay,o=a.controller,p=a.dimensions,q=a.initialTracePolicy,r=a.instanceKey,t=a.isDesktopPictureInPicture,u=a.isFullscreen,v=a.isNCSR,w=a.isPremiumMusicVideo,x=a.lastMuteReason,y=a.lastPauseReason,z=a.lastPlayReason,A=a.videoFBID,B=a.videoPixelsAspectRatio,C=a.videoPlayerPassiveViewabilityInfo,D=a.videoState;a=a.volumeSetting;var E=D.activeCaptions,F=D.activeEmsgBoxes,G=D.availableAudioTracks,H=D.availableVideoQualities,I=D.availableVideoTracks,J=D.bufferEnd,K=D.captionDisplayStyle,L=D.captionsLoaded,M=D.captionsVisible,N=D.currentAudioTrackID,O=D.currentVideoQuality,P=D.duration,Q=D.ended,R=D.error,S=D.inbandCaptionsAutogenerated,T=D.inPlayStalling,U=D.isAbrEnabled,V=D.isLiveRewindActive,W=D.isLiveRewindAvailable,X=D.lastPlayedTimeMs,Y=D.latencyLevel,Z=D.loopCount,aa=D.loopCurrent,ba=D.muted,ca=D.paused,da=D.playerVersion,ea=D.playing,fa=D.seekableRanges,ga=D.seeking,ha=D.selectedVideoQuality,ia=D.stalling,ja=D.streamInterrupted,ka=D.targetAudioTrack,la=D.targetPlaybackRate,ma=D.targetVideoQuality,na=D.volume;D=D.watchTimeMs;var $;e[3]!==f?($=l.jsx(s,{children:f}),e[3]=f,e[4]=$):$=e[4];f=$;e[5]!==o||e[6]!==g||e[7]!==C?($={controller:o,coreVideoStates:g,videoPlayerPassiveViewabilityInfo:C},e[5]=o,e[6]=g,e[7]=C,e[8]=$):$=e[8];b("cr:6094")(r,$);if(e[9]!==E||e[10]!==F||e[11]!==h||e[12]!==i||e[13]!==k||e[14]!==G||e[15]!==H||e[16]!==I||e[17]!==m||e[18]!==J||e[19]!==n||e[20]!==K||e[21]!==L||e[22]!==M||e[23]!==o||e[24]!==N||e[25]!==O||e[26]!==p||e[27]!==P||e[28]!==Q||e[29]!==R||e[30]!==T||e[31]!==S||e[32]!==q||e[33]!==r||e[34]!==U||e[35]!==t||e[36]!==u||e[37]!==V||e[38]!==W||e[39]!==v||e[40]!==w||e[41]!==x||e[42]!==y||e[43]!==z||e[44]!==X||e[45]!==Y||e[46]!==Z||e[47]!==aa||e[48]!==ba||e[49]!==ca||e[50]!==da||e[51]!==ea||e[52]!==fa||e[53]!==ga||e[54]!==ha||e[55]!==ia||e[56]!==ja||e[57]!==ka||e[58]!==la||e[59]!==ma||e[60]!==A||e[61]!==B||e[62]!==C||e[63]!==na||e[64]!==a||e[65]!==D||e[66]!==f){e[68]!==t||e[69]!==u||e[70]!==C?(g=function(a){return l.jsx(c("VideoPlayerViewabilityProvider.react"),{isDesktopPictureInPicture:t,isFullscreen:u,videoPlayerPassiveViewabilityInfo:C,children:a})},e[68]=t,e[69]=u,e[70]=C,e[71]=g):g=e[71];$=d("wrapWithContextProviders").wrapWithContextProviders(f,[d("wrapWithContextProviders").makeRenderProviderFn((j||(j=d("VideoPlayerContexts"))).VideoFBIDContext,A),d("wrapWithContextProviders").makeRenderProviderFn(j.StallingContext,ia),d("wrapWithContextProviders").makeRenderProviderFn(j.PlayingContext,ea),d("wrapWithContextProviders").makeRenderProviderFn(j.InPlayStallingContext,T),d("wrapWithContextProviders").makeRenderProviderFn(j.BufferEndContext,J),d("wrapWithContextProviders").makeRenderProviderFn(j.LastMuteReasonContext,x),d("wrapWithContextProviders").makeRenderProviderFn(j.LastPlayReasonContext,z),d("wrapWithContextProviders").makeRenderProviderFn(j.LastPauseReasonContext,y),d("wrapWithContextProviders").makeRenderProviderFn(j.PausedContext,ca),d("wrapWithContextProviders").makeRenderProviderFn(j.CurrentAudioTrackIDContext,N),d("wrapWithContextProviders").makeRenderProviderFn(j.CurrentVideoQualityContext,O),d("wrapWithContextProviders").makeRenderProviderFn(j.MutedContext,ba),d("wrapWithContextProviders").makeRenderProviderFn(j.TargetAudioTrackContext,ka),d("wrapWithContextProviders").makeRenderProviderFn(j.VolumeContext,na),d("wrapWithContextProviders").makeRenderProviderFn(j.SelectedVideoQualityContext,ha),d("wrapWithContextProviders").makeRenderProviderFn(j.SeekingContext,ga),d("wrapWithContextProviders").makeRenderProviderFn(j.DurationContext,P),d("wrapWithContextProviders").makeRenderProviderFn(j.EndedContext,Q),d("wrapWithContextProviders").makeRenderProviderFn(j.ErrorContext,R),d("wrapWithContextProviders").makeRenderProviderFn(j.DimensionsContext,p||null),d("wrapWithContextProviders").makeRenderProviderFn(j.InstanceKeyContext,r),d("wrapWithContextProviders").makeRenderProviderFn(j.ControllerContext,o),d("wrapWithContextProviders").makeRenderProviderFn(j.AvailableAudioTracksContext,G),d("wrapWithContextProviders").makeRenderProviderFn(j.AvailableVideoQualitiesContext,H),d("wrapWithContextProviders").makeRenderProviderFn(j.AvailableVideoTracksContext,I),d("wrapWithContextProviders").makeRenderProviderFn(j.PlayerVersionContext,da),d("wrapWithContextProviders").makeRenderProviderFn(j.IsAbrEnabledContext,U),d("wrapWithContextProviders").makeRenderProviderFn(j.TargetVideoQualityContext,ma),d("wrapWithContextProviders").makeRenderProviderFn(j.PlaybackRateContext,la),d("wrapWithContextProviders").makeRenderProviderFn(j.CanAutoplayContext,n),d("wrapWithContextProviders").makeRenderProviderFn(j.VolumeSettingContext,a),d("wrapWithContextProviders").makeRenderProviderFn(j.AutoplayGatingResultContext,k),d("wrapWithContextProviders").makeRenderProviderFn(j.BroadcastStatusContext,m),d("wrapWithContextProviders").makeRenderProviderFn(j.LoopCountContext,Z),d("wrapWithContextProviders").makeRenderProviderFn(j.LoopCurrentContext,aa),d("wrapWithContextProviders").makeRenderProviderFn(j.AdClientTokenContext,h),d("wrapWithContextProviders").makeRenderProviderFn(j.ActiveCaptionsContext,E),d("wrapWithContextProviders").makeRenderProviderFn(j.CaptionsVisibleContext,M),d("wrapWithContextProviders").makeRenderProviderFn(j.CaptionDisplayStyleContext,K),d("wrapWithContextProviders").makeRenderProviderFn(j.CaptionsLoadedContext,L),d("wrapWithContextProviders").makeRenderProviderFn(j.InbandCaptionsAutogeneratedContext,S),d("wrapWithContextProviders").makeRenderProviderFn(j.StreamInterruptedContext,ja),d("wrapWithContextProviders").makeRenderProviderFn(j.WatchTimeContext,D),d("wrapWithContextProviders").makeRenderProviderFn(j.LastPlayedTimeContext,X),d("wrapWithContextProviders").makeRenderProviderFn(j.SeekableRangesContext,fa),d("wrapWithContextProviders").makeRenderProviderFn(j.LatencyLevelContext,Y),d("wrapWithContextProviders").makeRenderProviderFn(j.IsLiveRewindActiveContext,V),d("wrapWithContextProviders").makeRenderProviderFn(j.IsLiveRewindAvailableContext,W),d("wrapWithContextProviders").makeRenderProviderFn(j.AudioAvailabilityInfoContext,i),d("wrapWithContextProviders").makeRenderProviderFn(j.IsNCSRContext,v),d("wrapWithContextProviders").makeRenderProviderFn(j.IsPremiumMusicVideoContext,w),d("wrapWithContextProviders").makeRenderProviderFn(j.InitialTracePolicyContext,q),d("wrapWithContextProviders").makeRenderProviderFn(j.ActiveEmsgBoxesContext,F),d("wrapWithContextProviders").makeRenderProviderFn(j.VideoPixelsAspectRatioContext,($=B)!=null?$:null),g]);e[9]=E;e[10]=F;e[11]=h;e[12]=i;e[13]=k;e[14]=G;e[15]=H;e[16]=I;e[17]=m;e[18]=J;e[19]=n;e[20]=K;e[21]=L;e[22]=M;e[23]=o;e[24]=N;e[25]=O;e[26]=p;e[27]=P;e[28]=Q;e[29]=R;e[30]=T;e[31]=S;e[32]=q;e[33]=r;e[34]=U;e[35]=t;e[36]=u;e[37]=V;e[38]=W;e[39]=v;e[40]=w;e[41]=x;e[42]=y;e[43]=z;e[44]=X;e[45]=Y;e[46]=Z;e[47]=aa;e[48]=ba;e[49]=ca;e[50]=da;e[51]=ea;e[52]=fa;e[53]=ga;e[54]=ha;e[55]=ia;e[56]=ja;e[57]=ka;e[58]=la;e[59]=ma;e[60]=A;e[61]=B;e[62]=C;e[63]=na;e[64]=a;e[65]=D;e[66]=f;e[67]=$}else $=e[67];g=$;c("useBlockCappedListItemWhenPlayingVideo")(o,r);c("useDisableVirtualizationWhenPlayingVideo")(o,r);e[72]!==g||e[73]!==r?(E=l.jsx("div",{"data-instancekey":r,"data-testid":void 0,children:g}),e[72]=g,e[73]=r,e[74]=E):E=e[74];return E}f=l.memo(a);g["default"]=f}),98);
__d("VideoPlayerFullscreenController",["CometFullScreen","removeFromArray","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.current!=null&&d("CometFullScreen").getFullScreenElement()===a.current}function a(a){var b=[];function e(){b.forEach(function(a){a()})}var f=null;return{getIsFullscreen:function(){return h(a)},requestSetIsFullscreen:function(b,e){var f=a.current;if(f==null)throw c("unrecoverableViolation")("Requested full screen while the element is not present","comet_video_player");d("CometFullScreen").isSupported()?b!==h(a)&&(b===!0?d("CometFullScreen").requestFullScreen(f):b===!1&&d("CometFullScreen").exitFullScreen()):b&&e!=null&&typeof e.webkitEnterFullScreen==="function"?e.webkitEnterFullScreen():!b&&e!=null&&typeof e.webkitExitFullScreen==="function"&&e.webkitExitFullscreen()},subscribe:function(a){b.length===0&&f==null&&(f=d("CometFullScreen").subscribeToFullScreenChangeEvent(e));b.push(a);return{remove:function(){c("removeFromArray")(b,a),b.length===0&&f!=null&&(f(),f=null)}}}}}g.createFullscreenController=a}),98);
__d("VideoPlayerPortalingPlaceState",["GlobalVideoPortsContexts","GlobalVideoPortsID","gkx","react","react-compiler-runtime","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useEffect,j=f.useState;function a(a,b){var e=d("react-compiler-runtime").c(5),f=c("usePrevious")(a),g,h;e[0]!==a||e[1]!==f||e[2]!==b?(g=function(){a!==f&&(f!==null&&f&&!a&&b(d("GlobalVideoPortsID").makeVideoID()))},h=[a,f,b],e[0]=a,e[1]=f,e[2]=b,e[3]=g,e[4]=h):(g=e[3],h=e[4]);i(g,h)}function b(a,b){var c=j(null),e=c[0];c=c[1];a!==e&&(e!==null&&e&&!a&&b(d("GlobalVideoPortsID").makeVideoID()),c(a))}var k=c("gkx")("24382")?b:a;function e(a){var b=d("react-compiler-runtime").c(11),c=a.portalingEnabled;a=a.portalingFromVideoID;var e=d("GlobalVideoPortsContexts").useGlobalVideoPortsLoader(),f=d("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),g=d("GlobalVideoPortsContexts").useGlobalVideoPortsState(),h=f!=null&&g!=null,n=(h||e!=null)&&(c||a!=null),o=j(m);o=o[0];var p=j(l),q=p[0];p=p[1];c=n&&c&&a!=null;a=c&&a!=null?a:q;k(c,p);b[0]!==h||b[1]!==n||b[2]!==e?(q=function(){n&&!h&&e&&e()},c=[h,n,e],b[0]=h,b[1]=n,b[2]=e,b[3]=q,b[4]=c):(q=b[3],c=b[4]);i(q,c);b[5]!==n||b[6]!==a||b[7]!==f||b[8]!==g||b[9]!==o?(p={canBecomePortableLater:n,currentVideoID:a,globalVideoPortsManager:f,globalVideoPortsState:g,thisPlaceID:o},b[5]=n,b[6]=a,b[7]=f,b[8]=g,b[9]=o,b[10]=p):p=b[10];return p}function l(){return d("GlobalVideoPortsID").makeVideoID()}function m(){return d("GlobalVideoPortsID").makePlaceID()}g.useRegenerateUniqueVideoID_exportedForTest=k;g.useVideoPlayerPortalingPlaceState=e}),98);
__d("VideoPlayerPortalingPlaceWithPortaling.react",["BaseContextualLayerAnchorRootContext","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsRenderers.react","getOwnObjectValues","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=a.coreVideoPlayerMetaData,e=a.currentPlaceID,f=a.currentVideoID,g=a.fullscreenController,h=a.globalVideoPortsManager,n=a.globalVideoPortsState_DEPRECATED,o=a.implementations,p=a.isFullscreen,q=a.portablePlaceMetaData,r=a.previousPlaceMetaData,s=a.renderComponents,t=a.renderPlaceholder,u=a.thisPlaceID,v=a.trackingDataEncrypted,w=a.trackingNodes,x=a.viewportMarginsForViewability;a=m(function(){return d("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})});var y=a[0],z=l(null);k(function(){h.addOrUpdatePlace({coreVideoPlayerMetaData:b,fullscreenController:g,implementations:o,injectCoreVideoStatesRef:z,isFullscreen:p,portablePlaceContainer:y,portablePlaceID:u,portablePlaceMetaData:q,portableVideoID:f,renderComponents:s,renderPlaceholder:t,trackingDataEncrypted:v,trackingNodes:w,viewportMarginsForViewability:x})},[].concat(c("getOwnObjectValues")(b),[f,g,p,h,y],c("getOwnObjectValues")(q||{}),[s,t,u,v,w,x]));k(function(){return function(){h.removePlace({portablePlaceID:u})}},[h,u]);a=j(c("BaseContextualLayerAnchorRootContext"));var A=l(null);return i.jsxs(c("BaseContextualLayerAnchorRootContext").Provider,{value:p?A:a,children:[i.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:y},u),i.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsVideoComponentsRenderer,{currentPlaceID:n!=null?(a=(a=h.getCurrentPlaceStateForVideo(n,f))==null?void 0:a.portablePlaceID)!=null?a:null:e,currentVideoID:f,injectCoreVideoStatesRef:z,previousPlaceMetaData:n!=null?(e=(a=h.getPortableVideoState(n,f))==null?void 0:a.previousPlaceMetaData)!=null?e:null:r,renderComponents:s,thisPlaceID:u}),i.jsx("div",{ref:A})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerPortalingPlace.react",["BaseViewportMarginsContext","CometTrackingCodeContext","CometTrackingNodesContext","CoreVideoPlayer.react","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsID","GlobalVideoPortsRenderers.react","VideoPlayerFullscreenController","VideoPlayerPortalingPlaceInfoProvider.react","VideoPlayerPortalingPlaceState","VideoPlayerPortalingPlaceWithPortaling.react","react","react-compiler-runtime","recoverableViolation","useStable","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useEffect,m=b.useState,n={bottom:0,left:0,right:0,top:0},o=j.forwardRef(function(a,b){var c=a.children,e=a.debugRole;a=a.testid;return j.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentContainer,{debugRole:e,ref:b,testid:void 0,children:c})});function a(a){var b=d("react-compiler-runtime").c(77),e,f,g,i,q,r,s;b[0]!==a?(f=a.implementations,g=a.portalingEnabled,i=a.portalingFromVideoID,q=a.portalingPlaceMetaData,r=a.renderComponents,s=a.renderPlaceholder,e=babelHelpers.objectWithoutPropertiesLoose(a,["implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","renderComponents","renderPlaceholder"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=q,b[6]=r,b[7]=s):(e=b[1],f=b[2],g=b[3],i=b[4],q=b[5],r=b[6],s=b[7]);b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=[],b[8]=a):a=b[8];l(p,a);b[9]!==i?(a=i!=null?d("GlobalVideoPortsID").ensureVideoID(i):null,b[9]=i,b[10]=a):a=b[10];a=a;i!=null&&a==null&&c("recoverableViolation")("The provided portalingFromVideoID ("+String(i)+") does not look like such an ID. The video player will not use portaling until a valid ID is provided","comet_video_player");b[11]!==g||b[12]!==a?(i={portalingEnabled:g,portalingFromVideoID:a},b[11]=g,b[12]=a,b[13]=i):i=b[13];g=d("VideoPlayerPortalingPlaceState").useVideoPlayerPortalingPlaceState(i);a=g.canBecomePortableLater;i=g.currentVideoID;var t=g.globalVideoPortsManager,u=g.globalVideoPortsState;g=g.thisPlaceID;var v=k(c("BaseViewportMarginsContext")),w=(h||(h=c("useUnsafeRef_DEPRECATED")))(null),x;b[14]!==w?(x=function(){return d("VideoPlayerFullscreenController").createFullscreenController(w)},b[14]=w,b[15]=x):x=b[15];var y=c("useStable")(x);b[16]!==y?(x=y.getIsFullscreen(),b[16]=y,b[17]=x):x=b[17];x=m(x);var z=x[0],A=x[1],B;b[18]!==y?(x=function(){var a=y.subscribe(function(){var a=y.getIsFullscreen();A(a)});A(y.getIsFullscreen());return function(){a.remove()}},B=[y,A],b[18]=y,b[19]=x,b[20]=B):(x=b[19],B=b[20]);l(x,B);x=k(c("CometTrackingNodesContext"));b[21]!==x?(B=x.join(""),b[21]=x,b[22]=B):B=b[22];x=B;B=k(c("CometTrackingCodeContext"));B=(B=B.encrypted_tracking[0])!=null?B:"";v=z?n:v;var C="comet-video-player-place"+(e.videoFBID!=null?"-vid-"+e.videoFBID:"");if(!a){b[23]!==e||b[24]!==v||b[25]!==y||b[26]!==f||b[27]!==z||b[28]!==r||b[29]!==B||b[30]!==x?(a=j.jsx(c("CoreVideoPlayer.react"),babelHelpers["extends"]({},e,{fullscreenController:y,implementations:f,isFullscreen:z,renderWithCoreVideoStates:r,trackingDataEncrypted:B,trackingNodes:x,viewportMarginsForViewability:v})),b[23]=e,b[24]=v,b[25]=y,b[26]=f,b[27]=z,b[28]=r,b[29]=B,b[30]=x,b[31]=a):a=b[31];var D;b[32]!==i||b[33]!==a||b[34]!==g?(D=j.jsx(d("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:g,currentVideoID:i,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:g,children:a}),b[32]=i,b[33]=a,b[34]=g,b[35]=D):D=b[35];b[36]!==D||b[37]!==C||b[38]!==w?(a=j.jsx(o,{debugRole:null,ref:w,testid:void 0,children:D}),b[36]=D,b[37]=C,b[38]=w,b[39]=a):a=b[39];return a}if(t&&u){if(b[40]!==i||b[41]!==t||b[42]!==u){D=(a=(D=t.getCurrentPlaceStateForVideo(u,i))==null?void 0:D.portablePlaceID)!=null?a:null;b[40]=i;b[41]=t;b[42]=u;b[43]=D}else D=b[43];if(b[44]!==i||b[45]!==t||b[46]!==u){a=(a=(a=t.getPortableVideoState(u,i))==null?void 0:a.previousPlaceMetaData)!=null?a:null;b[44]=i;b[45]=t;b[46]=u;b[47]=a}else a=b[47];b[48]!==e||b[49]!==i||b[50]!==v||b[51]!==y||b[52]!==t||b[53]!==f||b[54]!==z||b[55]!==q||b[56]!==r||b[57]!==s||b[58]!==a||b[59]!==D||b[60]!==g||b[61]!==B||b[62]!==x?(u=j.jsx(c("VideoPlayerPortalingPlaceWithPortaling.react"),{coreVideoPlayerMetaData:e,currentPlaceID:D,currentVideoID:i,fullscreenController:y,globalVideoPortsManager:t,globalVideoPortsState_DEPRECATED:null,implementations:f,isFullscreen:z,portablePlaceMetaData:q,previousPlaceMetaData:a,renderComponents:r,renderPlaceholder:s,thisPlaceID:g,trackingDataEncrypted:B,trackingNodes:x,viewportMarginsForViewability:v}),b[48]=e,b[49]=i,b[50]=v,b[51]=y,b[52]=t,b[53]=f,b[54]=z,b[55]=q,b[56]=r,b[57]=s,b[58]=a,b[59]=D,b[60]=g,b[61]=B,b[62]=x,b[63]=u):u=b[63];b[64]!==u||b[65]!==C||b[66]!==w?(v=j.jsx(o,{debugRole:null,ref:w,testid:void 0,children:u}),b[64]=u,b[65]=C,b[66]=w,b[67]=v):v=b[67];return v}else{f=(t=e.videoPixelsAspectRatio)!=null?t:null;b[68]!==i||b[69]!==s||b[70]!==f||b[71]!==g?(z=j.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:null,currentVideoID:i,previousPlaceMetaData:null,renderPlaceholder:s,thisPlaceID:g,videoPixelsAspectRatio:f}),b[68]=i,b[69]=s,b[70]=f,b[71]=g,b[72]=z):z=b[72];b[73]!==z||b[74]!==C||b[75]!==w?(q=j.jsx(o,{debugRole:null,ref:w,testid:void 0,children:z}),b[73]=z,b[74]=C,b[75]=w,b[76]=q):q=b[76];return q}}function p(){return q}function q(){}g["default"]=a}),98);
__d("VideoPlayerTracePolicyContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext;c={initialTracePolicy:null,routeTracePolicy:null};var j=b.createContext(c);function a(){return i(j)}g.VideoPlayerTracePolicyContext=j;g.useVideoPlayerTracePolicy=a}),98);
__d("VideoPlayerTracePolicyProvider.react",["VideoPlayerTracePolicyContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(12),c=a.children,e=a.initialTracePolicy,f=a.routeTracePolicy;a=k(e);var g=a[0],h=a[1];a=k(f);var l=a[0],m=a[1],n;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==l?(a=function(){g!==e&&h(e),l!==f&&m(f)},n=[e,f,g,l],b[0]=e,b[1]=f,b[2]=g,b[3]=l,b[4]=a,b[5]=n):(a=b[4],n=b[5]);j(a,n);b[6]!==g||b[7]!==l?(a={initialTracePolicy:g,routeTracePolicy:l},b[6]=g,b[7]=l,b[8]=a):a=b[8];b[9]!==c||b[10]!==a?(n=i.jsx(d("VideoPlayerTracePolicyContext").VideoPlayerTracePolicyContext.Provider,{value:a,children:c}),b[9]=c,b[10]=a,b[11]=n):n=b[11];return n}g["default"]=a}),98);
__d("CoreVideoPlayerWithComponents.react",["VideoPlayerComponentContainer.react","VideoPlayerPortalingPlace.react","VideoPlayerTracePolicyProvider.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(22),e,f,g,h,j,k,l;b[0]!==a?(e=a.children,g=a.implementations,h=a.portalingEnabled,j=a.portalingFromVideoID,k=a.portalingPlaceMetaData,l=a.portalingRenderPlaceholder,f=babelHelpers.objectWithoutPropertiesLoose(a,["children","implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7]);b[8]!==e?(a=function(a){return i.jsx(c("VideoPlayerComponentContainer.react"),babelHelpers["extends"]({},a,{children:e}))},b[8]=e,b[9]=a):a=b[9];a=a;var m;b[10]!==f||b[11]!==g||b[12]!==h||b[13]!==j||b[14]!==k||b[15]!==l||b[16]!==a?(m=i.jsx(c("VideoPlayerPortalingPlace.react"),babelHelpers["extends"]({},f,{implementations:g,portalingEnabled:h,portalingFromVideoID:j,portalingPlaceMetaData:k,renderComponents:a,renderPlaceholder:l})),b[10]=f,b[11]=g,b[12]=h,b[13]=j,b[14]=k,b[15]=l,b[16]=a,b[17]=m):m=b[17];b[18]!==f.initialTracePolicy||b[19]!==f.routeTracePolicy||b[20]!==m?(g=i.jsx(c("VideoPlayerTracePolicyProvider.react"),{initialTracePolicy:f.initialTracePolicy,routeTracePolicy:f.routeTracePolicy,children:m}),b[18]=f.initialTracePolicy,b[19]=f.routeTracePolicy,b[20]=m,b[21]=g):g=b[21];return g}g["default"]=a}),98);
__d("GraphQLVideoAutoplayGatingResult",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a!=null?a:"unknown";b=b?b:null;return{autoplayGatingResult:a,autoplaySetting:b,canAutoplay:c!=null?c:!1}}f.makeGraphQLVideoAutoplayGatingResult=a}),66);
__d("LiveTraceWwwVideoPlayerFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743810");b=d("FalcoLoggerInternal").create("live_trace_www_video_player",a);e=b;g["default"]=e}),98);
__d("MediaPlaybackCompoundFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2074");b=d("FalcoLoggerInternal").create("media_playback_compound",a);e=b;g["default"]=e}),98);
__d("MediaPlaybackCompoundEventLogger",["MediaPlaybackCompoundFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a={logComet:function(a){c("MediaPlaybackCompoundFalcoEvent").log(function(){return a})},logCometImmediately:function(a){c("MediaPlaybackCompoundFalcoEvent").logImmediately(function(){return a})}};b=a;g["default"]=b}),98);
__d("MediaPlaybackCompoundEventStateMachineLogger",["NetworkStatus","emptyFunction","gkx","hashString"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4,i=1e3,j=Object.freeze(["paused","completed","cancelled","error","heartbeat"]);d=b=c("emptyFunction");e=b;f=b;d=b;function k(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,errorRecoveryAttemptState:{eventsLogged:0},hasPendingRequestedPlaying:!1,isLoggingBufferingSequence:!1,isLoggingScrubbingSequence:!1,lastLoggedError:null,lastLoggedTagMetadata:{},nextHeartbeatTime:null,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1}}function a(a){var b={},d=a.initialLoggingMetaData;d;var e=[],f=k(),g=[],l={};function m(b){var c,f=b.events;b=b.state;var g=babelHelpers["extends"]({},d.coreVideoPlayerMetaData.loggingToSNAPLAdditionalData,l);g=(c=(c=a.metadataProvider)==null?void 0:c.getRequiredMetadata({logDataAdditions:g,loggingMetaData:d,state:b}))!=null?c:{current_watching_module:"",media_id:"",tracking_type:""};b={events:f,required_metadata:g};e.push(b)}function n(a){var c=a.event;a=a.state;g.push(c);if(j.includes(c.event_name)){c=[].concat(g);g=[];m({events:c,state:a})}return b}function o(a,b){var e=a.uncontrolledState.videoElementDuration;return{client_time_ms:a.uncontrolledState.clockTimestamp.toString(),event_name:b,media_time_ms:a.uncontrolledState.videoElementPlayheadPosition!=null?Math.round(a.uncontrolledState.videoElementPlayheadPosition*1e3).toString():"0",player_instance_id:Math.abs(c("hashString")(d.instanceKey)).toString(),player_instance_key:d.instanceKey,video_client_duration:e!=null?Math.trunc(e*1e3).toString():void 0}}function p(a){d;if(a.type==="notify_logging_metadata_change"){a=a.payload.loggingMetaData;d=a}}function q(a,c,d){if(a.controlledState.playbackState!==c.controlledState.playbackState&&c.controlledState.playbackState==="ended"&&f.canLogPausedOrFinishedPlaying){s(c);d=o(c,"completed");n({event:d,state:c});f.canLogPausedOrFinishedPlaying=!1;return b}else return b}function r(a,c){var d=o(a,"requested_playing");c=c!=null?babelHelpers["extends"]({},d,{media_time_ms:Math.round(c*1e3).toString()}):d;n({event:c,state:a});f.hasPendingRequestedPlaying=!0;f.canLogPausedOrFinishedPlaying=!0;return b}function s(c){var e,f=babelHelpers["extends"]({},d.coreVideoPlayerMetaData.loggingToSNAPLAdditionalData,l);e=(e=a.metadataProvider)==null?void 0:e.getTagMetadata({logDataAdditions:f,loggingMetaData:d,state:c});if(Object.keys((f=e)!=null?f:{}).length>0){f=babelHelpers["extends"]({},o(c,"tags_changed"),{tag_metadata:e});n({event:f,state:c})}return b}function t(a){if(!f.canLogPausedOrFinishedPlaying)return b;else if(f.hasPendingRequestedPlaying){s(a);u(a);f.canLogPausedOrFinishedPlaying=!1;f.hasPendingRequestedPlaying=!1;return b}else{s(a);var c=o(a,"paused");n({event:c,state:a});f.canLogPausedOrFinishedPlaying=!1;f.hasPendingRequestedPlaying=!1;return b}}function u(a){var c=o(a,"cancelled");n({event:c,state:a});return b}function v(a,c,d){if(d.type==="dom_event_play_promise_rejected"&&f.hasPendingRequestedPlaying){a=d.payload.playPromiseRejectionReason;if(a!=null&&a.name==="NotAllowedError"){u(c);return b}else return b}else return b}function w(a,c,d){if((d.type==="controller_play_requested"||d.type==="dom_event_play"&&!f.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==c.controlledState.playbackState){r(c);return b}else return b}function x(a){var c=o(a,"requested_seek");n({event:c,state:a});return b}function y(a,c,d){var e=c.controlledState.playbackState,g=a.controlledState.playbackState;if(d.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){t(c);x(c);f.isLoggingScrubbingSequence=!0;return b}else if(!a.controlledState.seeking&&c.controlledState.seeking&&!f.isLoggingScrubbingSequence&&e!=="paused"&&e!=="ended"&&!f.hasPendingRequestedPlaying){t(c);x(c);f.shouldLogRequestedPlayingForScrub=!0;return b}else if(d.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){r(c,d.payload.seekTargetPosition);return b}else if(a.controlledState.seeking&&!c.controlledState.seeking){f.shouldLogRequestedPlayingForScrub&&e!=="paused"&&e!=="ended"&&r(c);f.isLoggingScrubbingSequence=!1;f.shouldLogRequestedPlayingForScrub=!1;g!=="paused"&&g!=="ended"&&(f.canLogPlayingEvent=!0);return b}else return b}function z(a,c,d){if(a.controlledState.playbackState==="stalling"&&c.controlledState.playbackState==="playing"&&f.canLogPlayingEvent){d=o(c,"started_playing");n({event:d,state:c});f.canLogPlayingEvent=!1;f.hasPendingRequestedPlaying=!1;s(c);return b}else return b}function A(a,c,d){if((d.type==="controller_pause_requested"||d.type==="dom_event_pause"&&!f.shouldIgnoreDomPause)&&a.controlledState.playbackState!==c.controlledState.playbackState){t(c);return b}else return b}function B(a,c,d){var e=c.controlledState.playbackState;if(e!=="paused"&&e!=="ended"){d.type==="implementation_video_node_unmounted"?t(a):(d.type==="implementation_unmounted"||d.type==="implementation_engine_destroy_requested")&&t(c);return b}else return b}function C(c,d,e){c=d.controlledState.error;if(c!=null&&c!==f.lastLoggedError&&c.errorCode!=="410"){s(d);e=babelHelpers["extends"]({},(e=a.metadataProvider)==null?void 0:e.getErrorMetadata({videoPlayerError:c}),{name:"failed_playing"});e=babelHelpers["extends"]({},o(d,"error"),{error_metadata:e});n({event:e,state:d});f.lastLoggedError=c}return b}function D(d,e,g){if(g.type==="error_recovery_attempt"&&f.errorRecoveryAttemptState.eventsLogged<i){d=g.payload.recoverableError;if(d!=null&&d.errorName==="OZ_NETWORK"&&!c("NetworkStatus").isOnline())return b;g=babelHelpers["extends"]({},(g=a.metadataProvider)==null?void 0:g.getErrorMetadata({videoPlayerError:d}),{name:"error_recovery_attempt"});d=babelHelpers["extends"]({},o(e,"error"),{error_metadata:g});n({event:d,state:e});f.errorRecoveryAttemptState.eventsLogged++}return b}function E(a,c,d){d=a.controlledState.playbackState;a=c.controlledState.playbackState;if(f.hasPendingRequestedPlaying||f.shouldLogRequestedPlayingForScrub||f.isLoggingBufferingSequence)return b;if(d!=="stalling"&&a==="stalling"){d=o(c,"started_buffering");n({event:d,state:c});f.isLoggingBufferingSequence=!0;f.shouldIgnoreDomPause=!0;f.shouldIgnoreDomPlay=!0}return b}function F(a,c,d){a=a.controlledState.playbackState;var e=c.controlledState.playbackState;if(!f.isLoggingBufferingSequence)return b;if((d.type==="dom_event_playing"||d.type==="buffering_end_requested")&&a==="stalling"&&e!=="stalling"){a=0;d.payload.domEventPerfTimestamp!=null&&(a=Math.max(c.uncontrolledState.perfTimestamp-d.payload.domEventPerfTimestamp,0));e=c.uncontrolledState.clockTimestamp-a;d=babelHelpers["extends"]({},o(c,"stopped_buffering"),{client_time_ms:e.toString()});n({event:d,state:c});f.isLoggingBufferingSequence=!1;f.shouldIgnoreDomPause=!1;f.shouldIgnoreDomPlay=!1}return b}function G(a,c,d){a=c.controlledState.playbackState;a==="paused"||a==="ended"?f.nextHeartbeatTime=null:a!=="stalling"&&f.nextHeartbeatTime==null&&(f.nextHeartbeatTime=c.uncontrolledState.clockTimestamp+h);d=f.nextHeartbeatTime;if(d!=null){var e=c.uncontrolledState.clockTimestamp;if(e>=d){if(a!=="stalling"){d=o(c,"heartbeat");n({event:d,state:c})}f.nextHeartbeatTime=e+h}}return b}function H(c,e,g){c=babelHelpers["extends"]({},d.coreVideoPlayerMetaData.loggingToSNAPLAdditionalData,l);var h=f.lastLoggedTagMetadata,i=(g=a.metadataProvider)==null?void 0:g.getTagMetadata({logDataAdditions:c,loggingMetaData:d,state:e});if(i&&JSON.stringify(i)!==JSON.stringify(h)){var j={};Object.keys(i).forEach(function(a){if(i[a]!==h[a]){var b;j=babelHelpers["extends"]({},j,(b={},b[a]=i[a],b))}});g=babelHelpers["extends"]({},o(e,"tags_changed"),{tag_metadata:j});n({event:g,state:e});f.lastLoggedTagMetadata=babelHelpers["extends"]({},h,i)}return b}return{consumeLoggerEvents:function(){return e.length>0?e.splice(0):[]},handleStateMachine:function(a,b,c){p(c);var d=b.controlledState.playbackState,e=[H,v,w,y,E,F,z,q,A,B,C,D,G];e.forEach(function(d){d(a,b,c)});(d==="paused"||d==="ended")&&(f.canLogPlayingEvent=!0);c.type==="controller_pause_requested"&&(f.shouldIgnoreDomPause=!0);c.type==="controller_play_requested"&&(f.shouldIgnoreDomPlay=!0);c.type==="dom_event_pause"&&(f.shouldIgnoreDomPause=!1);c.type==="dom_event_play"&&(f.shouldIgnoreDomPlay=!1)},setLoggingToSNAPLAdditionalData:function(a){Object.assign(l,a)}}}g.HEARTBEAT_INTERVAL=h;g.createMediaPlaybackCompoundEventStateMachineLogger=a}),98);
__d("MediaPlaybackLogFlusher",["MediaPlaybackCompoundEventLogger","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("emptyFunction");b=function(){function a(a){this.$1=a}var b=a.prototype;b.flushLogs=function(){var a=this.$1.consumeLoggerEvents();a.forEach(function(a){a.required_metadata.tracking_type==="paid"?c("MediaPlaybackCompoundEventLogger").logCometImmediately(a):c("MediaPlaybackCompoundEventLogger").logComet(a)})};b.discardLogsWithoutFlushing=function(){var a=this.$1.consumeLoggerEvents()};return a}();g["default"]=b}),98);
__d("Mp4DASHEventMessageBox",[],(function(a,b,c,d,e,f){a=function(){function a(a,b){this.$1=b,this.$2=null,b.getVersion()==0?this.$2={version:0,schemeIdUri:a.readZeroTerminatedString(this.$4(a,b)),value:a.readZeroTerminatedString(this.$4(a,b)),timescale:a.readUint32(),presentationTimeDelta:a.readUint32(),eventDuration:a.readUint32(),id:a.readUint32()}:b.getVersion()==1&&(this.$2={version:1,timescale:a.readUint32(),presentationTime:a.readUint64(),eventDuration:a.readUint32(),id:a.readUint32(),schemeIdUri:a.readZeroTerminatedString(this.$4(a,b)),value:a.readZeroTerminatedString(this.$4(a,b))}),this.$3=new DataView(a.getDataView().buffer,a.getCursor())}var b=a.prototype;b.getFullBox=function(){return this.$1};b.getEmsgFields=function(){return this.$2};b.getMessageData=function(){return this.$3};b.getStartTime=function(){var a=this.$2;if(a==null)return null;switch(a.version){case 0:return null;case 1:return this.$5(a)}};b.getDuration=function(){var a=this.$2;if(a==null)return null;var b=a.eventDuration;a=a.timescale;return a!==0?b/a:b};b.$5=function(a){var b=a.timescale;a=a.presentationTime;return b!==0?a/b:a};b.$4=function(a,b){return b.getBox().getSize()-(a.getCursor()-b.getBox().getStart())};return a}();a.canonicalType="emsg";f["default"]=a}),66);
__d("XVideoUnifiedCVCControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/video/unified_cvc/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("UnifiedVideoCVCSubscription",["CVCv3DisabledPlayerOrigins","CVCv3DisabledPlayerSubOrigins","CVCv3SubscriptionHelper","DateConsts","XVideoUnifiedCVCControllerRouteBuilder","clearTimeout","cometAsyncFetch","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.values(c("CVCv3DisabledPlayerOrigins")),i=Object.values(c("CVCv3DisabledPlayerSubOrigins")),j=10;a=function(){function a(a,b,d,e,f,g){var j=this;this.$1=new(c("CVCv3SubscriptionHelper"))(a,b,d);this.$5=f;this.$6=null;this.$9=null;this.$10=!this.$1.isValidSubscription();this.$3=null;this.$2=null;a=b!=null?h.includes(b):!1;f=d!=null?i.includes(d):!1;!a&&!f&&(this.$3=e,this.$11=g,this.$4=e.subscribe(function(){if(j.$3==null){j.$1.logDebugInfo("empty_video_controller");return}var a=j.$3.getCurrentState();a.playing?j.$12(a):j.$13()}))}var b=a.prototype;b.$12=function(a){if(this.$3==null){this.$1.logDebugInfo("empty_video_controller");return}if(a.playing){if(this.$2==null){a=this.$3.getPlayheadPosition();a>=0&&(this.$2=a)}}else this.$2=null;this.$14(0)};b.stopUnifiedCVC=function(){this.$13()};b.destroy=function(){this.$13(),this.$4!=null&&this.$4.remove(),this.$4=null,this.$3=null};b.$13=function(){c("clearTimeout")(this.$8),c("clearTimeout")(this.$7),this.$8=null,this.$7=null,this.$2=null,this.$1.clearAnyPreviousContext(),this.$9=null};b.$15=function(){c("clearTimeout")(this.$7),this.$7=null};b.$16=function(){this.$9=null,this.$15(),this.$14(0)};b.$14=function(a){var b=this;if(this.$3==null||this.$8!=null||this.$9!=null||this.$10)return;this.$8=c("setTimeout")(function(){b.$8=null;var a=b.$17();if(a==null){b.$1.logDebugInfo("empty_request");return}b.$9=a;var e=Date.now(),f=!1;c("promiseDone")(a,function(c){if(a!==b.$9)return;b.$9=null;if(c!=null){c=b.$1.processUnifiedResponse(c);b.$18(c,e)}else b.$1.logHttpResponseBad("null payload",Date.now()-e)},function(a){f=!0,b.$1.logHttpRequestFailure(a!=null?JSON.stringify(a):null,Date.now()-e)});b.$7=c("setTimeout")(function(){f||b.$1.logHttpRequestTimeout(Date.now()-e),b.$16()},j*d("DateConsts").MS_PER_SEC)},a)};b.$18=function(a,b){this.$15();b=Date.now()-b;a.d!=null?(this.$1.logHttpRequestSuccess(b),this.$11!=null&&this.$11(a.d)):this.$1.logHttpResponseBad("no data field",b);if(a.a!=null){b=a.a.t;switch(b){case"p":b=a.a.pi;b==null&&(b=j);this.$14(b*d("DateConsts").MS_PER_SEC);break;case"s":this.$10=!0;break}}};b.$17=function(){var a=this.$19();if(a==null)return null;a={d:JSON.stringify(a)};return c("cometAsyncFetch")(c("XVideoUnifiedCVCControllerRouteBuilder").buildURL({}),{data:a,method:"POST"})};b.$19=function(){if(this.$3==null)return null;var a={};this.$6!=null&&(a.lc=this.$6);this.$5&&(a.ls=!0);var b=0,c=0;this.$2!=null&&(b=this.$2,c=this.$3.getPlayheadPosition());var d=this.$3.getCurrentState();b=this.$1.makeUnifiedVideoCVCUpdate(b,c,this.$20(d),d.muted,a);return b};b.$20=function(a){if(a.playing||a.seeking)return"playing";else if(a.ended)return"ended";else if(a.paused)return"paused";else return"unknown"};b.testing_setLastStartPosition=function(a){this.$2=a};b.testing_makeUnifiedStateUpdate=function(){return this.$19()};b.testing_handleUnifiedResponse=function(a){return this.$18(a,Date.now())};return a}();g["default"]=a}),98);
__d("VideoLiveTrace",["DataViewReader","LiveTraceWwwVideoPlayerFalcoEvent","Mp4DASHEventMessageBox","Mp4Demuxer","throttle"],(function(a,b,c,d,e,f,g){var h="x-fb-video-livetrace-ids",i="x-fb-video-livetrace-parentsource",j="x-fb-video-livetrace-streamtype",k="x-fb-origin-hit",l="x-fb-edge-hit",m="PLY:WWW:",n=m+"DL:",o=m+"DIS:",p=1e3,q=/[\r\n]+/;a=function(){function a(a,b,d){var e=this;this.$6=[];this.$1=a;this.$2=null;a=d+":"+b.substring(0,5);this.$3=m+a;this.$4=n+a;this.$5=o+a;this.$7=c("throttle")(function(a){return e.$8(a)},p)}var b=a.prototype;b.setStreamType=function(a){this.$2=a};b.$9=function(a,b,d,e,f,g){var h,i=this,j=Date.now(),k=(h=this.$2)!=null?h:0;c("LiveTraceWwwVideoPlayerFalcoEvent").log(function(){return{stream_id:i.$1,stream_type:k,event_name:b,event_severity:f,event_creation_time:j,source:a,trace_id:d,parent_source:e,metadata:g}})};b.onUpdateStatus=function(a){this.$7(a)};b.$8=function(a){a=a.position*1e3;for(var b=this.$6.length-1;b>=0;b--){var c=this.$6[b];if(c.presentationTimestamp>a)continue;if(c.displayTimestamp==null)c.displayTimestamp=Date.now();else continue;this.$9(this.$5,"FRAME",c.traceId,this.$4,"SUCCESS",null)}};b.getAndFlushTracedFrames=function(){var a,b={currentTimeMs:Date.now(),streamId:this.$1},c={dl:[],dis:[]},d=[];this.$6.forEach(function(a){a.hasBeenFlushedAsDownloaded||(c.dl.push({id:a.traceId,timeMs:a.downloadTimestamp}),a.hasBeenFlushedAsDownloaded=!0),a.displayTimestamp!=null?c.dis.push({id:a.traceId,timeMs:a.displayTimestamp}):d.push(a)});this.$6=d;b[(a=this.$2)!=null?a:0]=c;return c.dl.length>0||c.dis.length>0?b:null};b.handleHeadersString=function(a,b){a=a.trim().split(q);this.$10(a.map(function(a){a=a.split(": ");return[a.shift().toLowerCase(),a.shift()]}),b)};b.handleHeaders=function(a,b){this.$10(this.$11(a),b)};b.handleHeadersAndBody=function(a,b,c){this.$12(this.$11(a),b,c)};b.$11=function(a){var b=[];for(var a=a.entries(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.push(e)}return b};b.$13=function(a){var b=Date.now(),d=new Map(),e=a.reduce(function(a,b){return a+b.byteLength},0),f=new Uint8Array(e),g=0;a.forEach(function(a){f.set(a,g),g+=a.byteLength});e=new(c("Mp4Demuxer"))(new DataView(f.buffer,f.byteOffset,f.byteLength));while(!e.atEnd()){a=e.parseBox();if(a.getType()===c("Mp4DASHEventMessageBox").canonicalType){var h=e.parseCanonicalBox(c("Mp4DASHEventMessageBox"),e.parseFullBox(a));if(h instanceof c("Mp4DASHEventMessageBox")){var i;i=(i=h.getEmsgFields())==null?void 0:i.schemeIdUri;if(i==null?void 0:i.startsWith("livedash:trace:")){i=h.getMessageData();h=new(c("DataViewReader"))(i).readZeroTerminatedString(i.byteLength);try{i=JSON.parse(h);Array.isArray(i)&&i.filter(function(a){return Array.isArray(a)&&a.length===2}).forEach(function(a){var c=a[0];a=a[1];d.set(c,{displayTimestamp:null,downloadTimestamp:b,hasBeenFlushedAsDownloaded:!1,presentationTimestamp:a,traceId:c})})}catch(a){}}}}e.skipBox(a)}return d};b.$14=function(a,b){var c=this,d="null",e=Date.now(),f=new Map(),g="";a.forEach(function(a){var b=a[0].toLowerCase();a=a[1];if(b===h&&a){var m=a.split(",");m.forEach(function(a){a=a.split(":");var b=+a[0];a=+a[1];f.set(b,{displayTimestamp:null,downloadTimestamp:e,hasBeenFlushedAsDownloaded:!1,presentationTimestamp:a,traceId:b})})}b===i&&(g=a);c.$2===null&&b===j&&(c.$2=parseInt(a,10));(b===k||b===l)&&parseInt(a,10)&&(d=b===k?"origin":"edge")});a=b||{};a.hit=d;return g!==""?{tracedFrames:f,eventMetaData:a,parentSource:g,streamType:this.$2}:null};b.$12=function(a,b,c){var d=this.$14(a,c);if(d==null||d.parentSource==="")return;if(b==null?void 0:b.length){a=this.$13(b);a.forEach(function(a,b){d.tracedFrames.set(b,a)})}this.$6=this.$6.concat(Array.from(d.tracedFrames.values()));c=d.tracedFrames.keys();for(b=c,a=Array.isArray(b),c=0,b=a?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(a){if(c>=b.length)break;e=b[c++]}else{c=b.next();if(c.done)break;e=c.value}e=e;this.$9(this.$4,"SEGMENT",e,d.parentSource,"SUCCESS",d.eventMetaData)}};b.$10=function(a,b){this.$12(a,null,b)};b.handleXHR=function(a,b){this.handleHeadersString(a.getAllResponseHeaders(),b)};b.getLiveTraceContext=function(){return this.$2!=null?{streamId:this.$1,streamType:this.$2,sourceId:this.$3}:null};return a}();g["default"]=a}),98);
__d("VideoMimeTypes",[],(function(a,b,c,d,e,f){function a(a,b,c){return a+'; codecs="'+b+", "+c+'"'}e="mp4a.40.2";function b(a){return"avc1.42E0"+a.toString(16).toUpperCase()}function c(a){return"avc1.4D40"+a.toString(16).toUpperCase()}function d(a){return"avc1.6400"+a.toString(16).toUpperCase()}var g="video/mp4";b=a(g,b(30),e);var h=a(g,c(30),e);c=a(g,c(31),e);var i=a(g,d(50),e);a=a(g,d(51),e);g={h264baseline:b,h264main30avc:h,h264main31avc:c,h264high50avc:i,h264high51avc:a};f["default"]=g}),66);
__d("VideoPlayerWwwFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1914651");b=d("FalcoLoggerInternal").create("video_player_www",a);e=b;g["default"]=e}),98);
__d("VideoPlayerWwwLogger",["VideoPlayerWwwFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b,c=a.logData.live_trace_stream_id!==null&&a.logData.live_trace_stream_type!==null;return{access_token:a.logData.access_token,ad_client_token:a.logData.ad_client_token,attribution_id:a.logData.attribution_id,attribution_id_v2:a.logData.attribution_id_v2,attribution_id_v2_root:a.logData.attribution_id_v2_root,audio_only:a.logData.audio_only,audio_representation_id:a.logData.audio_representation_id,autoplay_eligible:a.logData.autoplay_eligible,autoplay_failure_reasons:a.logData.autoplay_failure_reasons,autoplay_setting:a.logData.autoplay_setting,available_qualities:a.logData.available_qualities,broadcaster_origin:a.logData.broadcaster_origin,browser_tab_id:a.logData.browser_tab_id,caption_state:a.logData.caption_state,cast_client_app_id:a.logData.cast_client_app_id,client_latency_setting:a.logData.client_latency_setting,current_playback_speed:a.logData.current_playback_speed,current_viewability_percentage:Number(a.logData.current_viewability_percentage),current_volume:a.logData.current_volume,dash_perf_logging_enabled:a.logData.dash_perf_logging_enabled,data_connection_quality:a.logData.data_connection_quality,debug_reason:a.logData.debug_reason,device_id:a.logData.device_id,device_type:a.logData.device_type,downstream_share_origin_uri:a.logData.downstream_share_origin_uri,downstream_share_start_time:a.logData.downstream_share_start_time,downstream_share_visit_uuid:a.logData.downstream_share_visit_uuid,dropped_frame_count:Number(a.logData.dropped_frame_count),error:a.logData.error,error_code:a.logData.error_code,error_description:a.logData.error_description,error_domain:a.logData.error_domain,error_type:a.logData.error_type,error_user_info:a.logData.error_user_info,event_name:a.eventType,event_seq_num:a.logData.event_seq_num,external_log_id:a.logData.external_log_id,external_log_type:a.logData.external_log_id,fb_manifest_identifier:a.logData.fb_manifest_identifier,feed_aggregation_type:a.logData.feed_aggregation_type,feed_position:a.logData.feed_position,frame_events:a.logData.frame_events,ft:a.logData.ft,imf_emsg_id:a.logData.imf_emsg_id,imf_event_type:a.logData.imf_event_type,imf_topic:a.logData.imf_topic,interrupt_count:a.logData.interrupt_count!==null?Number(a.logData.interrupt_count):null,interrupt_time:Number(a.logData.interrupt_time),is_abr_enabled:a.logData.is_abr_enabled,is_fbms:a.logData.is_fbms,is_live_preview:(b=a.logData.is_live_preview)!=null?b:!1,is_live_video_rewound:a.logData.is_live_video_rewound,is_mixed_codec_manifest:a.logData.is_mixed_codec_manifest,is_p2p_playback:a.logData.is_p2p_playback,is_pip:a.logData.is_pip,is_predictive_playback:a.logData.is_predictive_playback,is_sound_on:a.logData.is_sound_on,is_stalling:a.logData.is_stalling,is_templated_manifest:a.logData.is_templated_manifest,last_viewability_percentage:Number(a.logData.last_viewability_percentage),live_trace_source_id:a.logData.live_trace_source_id,live_trace_stream_id:c?a.logData.live_trace_stream_id:null,live_trace_stream_type:c?a.logData.live_trace_stream_type:null,mpd_validation_errors:a.logData.mpd_validation_errors,network_connected:a.logData.network_connected,next_quality_label:a.logData.next_quality_label,next_representation_id:a.logData.next_representation_id,next_video_codecs:a.logData.next_video_codecs,notification_id:a.logData.notification_id,notification_medium:a.logData.notification_medium,offset_ms:a.logData.offset_ms!=null?String(a.logData.offset_ms):null,permalink_share_id:a.logData.permalink_share_id,playback_caption_format:a.logData.playback_caption_format,playback_caption_locale:a.logData.playback_caption_locale,playback_duration:a.logData.playback_duration,playback_is_broadcast:a.logData.playback_is_broadcast,playback_is_drm:a.logData.playback_is_drm,playback_is_live_streaming:a.logData.playback_is_live_streaming,player_format:a.logData.player_format,player_instance_key:a.logData.player_instance_key,player_mode:a.logData.player_mode,player_origin:a.logData.player_origin,player_state:a.logData.player_state,player_suborigin:a.logData.player_suborigin,player_version:a.logData.player_version,projection:a.logData.projection,quality_label:a.logData.quality_label,reaction_video_channel_type:a.logData.reaction_video_channel_type,representation_id:a.logData.representation_id,resource_url:a.logData.resource_url,routeTracePolicy:a.routeTracePolicy,seq_num:a.logData.seq_num,source:a.source_VPL_LOGGING_HACK,source_VPL_LOGGING_HACK:a.logData.source_VPL_LOGGING_HACK,srt_job_id:a.logData.srt_job_id,srt_job_tracking_id:a.logData.srt_job_tracking_id,stall_count:Number(a.logData.stall_count),stall_count_200_ms:Number(a.logData.stall_count_200_ms),stall_time:Number(a.logData.stall_time),state:a.logData.state,streaming_format:a.logData.streaming_format,time_ms:a.logData.time_ms,total_frame_count:Number(a.logData.total_frame_count),tracking_data_encrypted:a.logData.tracking_data_encrypted,tracking_nodes:a.logData.tracking_nodes,tv_session_id:a.logData.tv_session_id,v2_heart_beat:a.logData.v2_heart_beat,video_bandwidth:a.logData.video_bandwidth,video_buffer_end_position:a.logData.video_buffer_end_position,video_chaining_depth_level:a.logData.video_chaining_depth_level,video_chaining_parent_video_id:a.logData.video_chaining_parent_video_id,video_chaining_session_id:a.logData.video_chaining_session_id,video_channel_id:a.logData.video_channel_id,video_codecs:a.logData.video_codecs,video_id:a.logData.video_id,video_last_start_time_position:a.logData.video_last_start_time_position,video_play_reason:a.logData.video_play_reason,video_player_height:Number(a.logData.video_player_height),video_player_width:Number(a.logData.video_player_width),video_time_position:a.logData.video_time_position,vpts:a.logData.vpts,web_client_revision:a.logData.web_client_revision}}a={logComet:function(a){c("VideoPlayerWwwFalcoEvent").log(function(){return h(a)})},logCometImmediately:function(a){c("VideoPlayerWwwFalcoEvent").logImmediately(function(){return h(a)})}};b=a;g["default"]=b}),98);
__d("VideoPlayerBanzaiLogFlusher",["VideoPlayerWwwLogger","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("emptyFunction"),i=!1;c("gkx")("5551")&&(i=!0,h=function(a,b){try{var c;for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];(c=window.console).info.apply(c,["["+a+"][VideoPlayerBanzaiLogFlusher]"+b].concat(e))}catch(a){}});a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.flushLogs=function(){var a=this,b=this.$2.consumeLoggerEvents();b.forEach(function(b){var d,e={event:b.eventType,logData:b.logData,routeTracePolicy:b.routeTracePolicy,source:b.source_VPL_LOGGING_HACK};if(b.source_VPL_LOGGING_HACK==="animated_image_share"){i&&h(a.$1,"[flushLogs] "+b.eventType+" SKIP ANIMATED_IMAGE_SHARE",{videoPlayerLogData:e});return}d=(d=b.logData)==null?void 0:d.ad_client_token;i&&h(a.$1,"[flushLogs] "+b.eventType,{videoPlayerLogData:e});d!=null?c("VideoPlayerWwwLogger").logCometImmediately(b):c("VideoPlayerWwwLogger").logComet(b)})};b.discardLogsWithoutFlushing=function(){var a=this.$2.consumeLoggerEvents();i&&h(this.$1,"[discardLogsWithoutFlushing] "+a.map(function(a){return a.eventType}).join(","),a)};return a}();g["default"]=a}),98);
__d("VideoPlayerCaptionsAreaDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerCaptionsArea.react").__setRef("VideoPlayerCaptionsAreaDeferred.react"));g["default"]=a}),98);
__d("VideoPlayerCaptionsController",["JSResourceForInteraction","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("VideoPlayerHTML5ApiCea608State").__setRef("VideoPlayerCaptionsController"),i=c("JSResourceForInteraction")("VideoPlayerHTML5ApiWebVttState").__setRef("VideoPlayerCaptionsController");function a(a){var b=a.captionsUrl,d=a.inbandCaptionsExpected,e=a.onCaptionsLoaded,f=null,g=null,j=null,k=null;function l(a){var b=i.load().then(function(c){if(b!==j)return;f=new c({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(b){b.loadFromUrl(a)}})})["catch"](function(a){if(b!==j)return;c("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiWebVttState module: "+a.message,"comet_video_player")});return b}function m(){var a=h.load().then(function(b){if(a!==k)return;g=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(a){a.processQueue()}})})["catch"](function(b){if(a!==k)return;c("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiCea608State module: "+b.message,"comet_video_player")});return a}b!=null?j=l(b):d===!0&&(k=m());return{destroy:function(){f&&(f.destroy(),f=null),g&&(g.destroy(),g=null),j&&(j=null),k&&(k=null)},getCaptionFormat:function(){return f?"webvtt":g?"cea608":null},handleCea608BytesReceived:function(a){g&&g.enqueueBytes(a)},handleTimeUpdate:function(a){if(f){var b;f.source&&f.source.handleTimeUpdate(a);return(b=(b=f)==null?void 0:b.getCurrentScreenRepresentation())!=null?b:null}else if(g){g.source&&g.source.handleTimeUpdate(a);return(a=(b=g)==null?void 0:b.getCurrentScreenRepresentation())!=null?a:null}return null},updateCaptionsUrl:function(a){f&&(f.destroy(),f=null),a!=null&&(j=l(a))},updateInbandCaptionsExpected:function(a){g&&(g.destroy(),g=null),a&&(k=m())}}}g.createCaptionsController=a}),98);
__d("VideoPlayerEmsgForStateMachine",["deepEquals"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c;return[a.type,a.emsgScheme,(c=a.emsgId)!=null?c:""].concat(b?[(c=a.emsgStartTimeInSec)!=null?c:"",(b=a.emsgDurationInSec)!=null?b:""]:[]).join(":")}function i(a,b){a.set(h(b,!0),b);return a}function a(a,b){return b.reduce(i,new Map(a))}function b(a,b,d){a=b==null?[]:Array.from(a.values()).filter(function(a){var c=a.emsgStartTimeInSec;a=a.emsgDurationInSec||0;return c!=null&&b>=c&&b<c+a}).sort(function(a,b){return(a.emsgStartTimeInSec||0)-(b.emsgStartTimeInSec||0)});a=Array.from(a.reduce(function(a,b){a.set(h(b,!1),b);return a},new Map()).values());return c("deepEquals")(d,a)?d:a}g.makeEmsgBoxDedupKey=h;g.makeUpdatedAllEmsgBoxes=a;g.makeUpdatedActiveEmsgBoxes=b}),98);
__d("VideoPlayerErrorBoundary.react",["FBLogger","getErrorSafe","oz-player/utils/OzErrorUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={error:null},c.suppressReactDefaultErrorLoggingIUnderstandThisWillMakeBugsHarderToFindAndFix=!0,b)||babelHelpers.assertThisInitialized(c)}b.getDerivedStateFromError=function(a){return{error:c("getErrorSafe")(a)}};var e=b.prototype;e.componentDidCatch=function(a,b){b=b.componentStack;var e=c("getErrorSafe")(a);e.componentStack=b;b=this.props;var f=b.description,g=b.onError;b=b.project;a=d("oz-player/utils/OzErrorUtils").isOzError(a)?a.getType():a!=null&&typeof a.name==="string"?a.name:e.name;e.name=a;a="VideoPlayerErrorBoundary caught an "+a;f!=null&&(a=a+" ("+f+")");f=["OZ_NETWORK","BUFFERING_TIMEOUT","MEDIA_ERR_DECODE","OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR"];var h=["Network failure:","Network failure.","HTTP error.","Bad URL timestamp","URL signature expired","No license for com.widevine.alpha","OZ_DRM_MANAGER: Endpoint returned error: DEVICE_CERTIFICATE_REVOKED"];f=f.every(function(a){return e.name!==a})&&h.every(function(a){return!e.message.startsWith(a)});h=c("FBLogger")(b==null?"comet_video_player":b).catching(e);["OZ_DRM_MANAGER","OZ_JAVASCRIPT_NATIVE","OZ_INITIALIZATION"].includes(e.name)&&(h=h.addToCategoryKey(e.message));f?h.fatal(a):h.warn(a);g!=null&&g(e)};e.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.error;return c?typeof a==="function"?a(c):a:b};return b}(a.PureComponent);g["default"]=b}),98);
__d("VideoPlayerFallbackLearnMoreLink.react",["fbt","CometLink.react","FDSText.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(1),b=c("gkx")("20836")?"/help/work/1876956335887765/i-cant-view-or-play-videos-on-workplace":"https://www.facebook.com/help/396404120401278/list";a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"headlineEmphasized3",children:j.jsx(c("CometLink.react"),{href:b,target:"_blank",children:h._(/*BTDS*/"__JHASH__GWeGP0j1NWF__JHASH__")})}),a[0]=b):b=a[0];return b}g["default"]=a}),226);
__d("VideoPlayerFallbackCoverImplWithoutRetry.react",["FDSText.react","VideoPlayerFallbackLearnMoreLink.react","cr:1672302","cr:4149","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={banner:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"x3es6ox",$$css:!0},showOverBackground:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(21),f=a.background,g=a.debugError,i=a.message,l=a.showDebugWithoutError;a=a.showLearnMoreLink;l=l===void 0?!0:l;a=a===void 0?!0:a;var m;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(m={className:"x6s0dn4 xatbrnm x9f619 x78zum5 x5yr21d xl56j7k x6ikm8r x10wlt62 x889kno x1iji9kk x1a8lsjc x1sln4lm x1n2onr6 xh8yej3"},e[0]=m):m=e[0];var n;e[1]!==f?(n=(h||(h=c("stylex"))).props([k.banner,f!=null&&k.showOverBackground]),e[1]=f,e[2]=n):n=e[2];var o;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x6s0dn4 x78zum5 xdt5ytf x193iq5w"},e[3]=o):o=e[3];e[4]!==i?(o=j.jsx("div",babelHelpers["extends"]({},o,{children:j.jsx(c("FDSText.react"),{align:"center",color:"primaryOnMedia",type:"bodyLink3",children:i})})),e[4]=i,e[5]=o):o=e[5];e[6]!==a?(i=a&&j.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf xw7yly9 x193iq5w"},{children:j.jsx(c("VideoPlayerFallbackLearnMoreLink.react"),{})})),e[6]=a,e[7]=i):i=e[7];e[8]!==g||e[9]!==l?(a=(g!=null||l)&&j.jsxs(j.Fragment,{children:[b("cr:4149")?j.jsx(b("cr:4149"),{error:g}):null,b("cr:1672302")?j.jsx(b("cr:1672302"),{error:g}):null]}),e[8]=g,e[9]=l,e[10]=a):a=e[10];e[11]!==n||e[12]!==o||e[13]!==i||e[14]!==a?(g=j.jsxs("div",babelHelpers["extends"]({},n,{children:[o,i,a]})),e[11]=n,e[12]=o,e[13]=i,e[14]=a,e[15]=g):g=e[15];e[16]!==f?(l=f!=null&&j.jsx("div",babelHelpers["extends"]({className:"x1ey2m1c xds687c x17qophe x10l6tqk x13vifvy"},{children:f})),e[16]=f,e[17]=l):l=e[17];e[18]!==l||e[19]!==g?(n=j.jsxs("div",babelHelpers["extends"]({},m,{children:[g,l]})),e[18]=l,e[19]=g,e[20]=n):n=e[20];return n}g["default"]=a}),98);
__d("VideoPlayerFallbackCover.react",["fbt","VideoPlayerFallbackCoverImplWithoutRetry.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.background,f=a.debugError,g=a.message,i=a.showDebugWithoutError;a=a.showLearnMoreLink;if(b[0]!==g){var k;k=(k=g)!=null?k:h._(/*BTDS*/"__JHASH__dzG08k88Xfs__JHASH__");b[0]=g;b[1]=k}else k=b[1];g=k;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==i||b[6]!==a?(k=j.jsx(c("VideoPlayerFallbackCoverImplWithoutRetry.react"),{background:e,debugError:f,message:g,showDebugWithoutError:i,showLearnMoreLink:a}),b[2]=e,b[3]=f,b[4]=g,b[5]=i,b[6]=a,b[7]=k):k=b[7];return k}g["default"]=a}),226);
__d("VideoPlayerFullscreenControl.react",["fbt","ix","VideoPlayerControlIcon.react","VideoPlayerHooks","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react");function a(a){var b=d("react-compiler-runtime").c(15),e=a.onPress,f=a.onUserInteraction,g=a.shouldUnmute,j=(k||(k=d("VideoPlayerHooks"))).useController(),m=k.useIsFullscreen(),n=k.useLastMuteReason();b[0]!==m?(a=m?h._(/*BTDS*/"__JHASH__hwf7JoNGQNh__JHASH__"):h._(/*BTDS*/"__JHASH__5hSxdUd3nQi__JHASH__"),b[0]=m,b[1]=a):a=b[1];a=a;var o;b[2]!==j||b[3]!==m||b[4]!==n||b[5]!==e||b[6]!==f||b[7]!==g?(o=function(){e&&e(),j.requestSetIsFullscreen(!m),g===!0&&n!=="user_initiated"&&j.setMuted(!1,"product_initiated"),f&&f({name:"video_fullscreen_button",type:"happened"})},b[2]=j,b[3]=m,b[4]=n,b[5]=e,b[6]=f,b[7]=g,b[8]=o):o=b[8];o=o;var p;b[9]!==m?(p=m?d("fbicon")._(i("517758"),20):d("fbicon")._(i("517763"),20),b[9]=m,b[10]=p):p=b[10];var q;b[11]!==a||b[12]!==o||b[13]!==p?(q=l.jsx(c("VideoPlayerControlIcon.react"),{icon:p,label:a,onPress:o,tooltip:a}),b[11]=a,b[12]=o,b[13]=p,b[14]=q):q=b[14];return q}g["default"]=a}),226);
__d("VideoPlayerIMFMetadataContext",["react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j={imfExpectedFromEmsg:!1,specInlineJson:null},k=b.createContext(j);k.displayName="VideoPlayerIMFMetadataContext";e=k.Provider;function a(){var a=i(k);if(a===j)throw c("unrecoverableViolation")("useVideoPlayerIMFMetadata is not called from a component nested under VideoPlayerRelay/VideoPlayerX.","comet_video_player");return a}g.VideoPlayerIMFMetadataContextProvider=e;g.useVideoPlayerIMFMetadataFromContext=a}),98);
__d("VideoPlayerImplementationReactVideoElement.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(14),c=a.alt,e=a.poster,f=a.seoSrc,g=a.seoWebCrawlerVideoTracks,h=a.videoElementCallbacks,j=a.videoElementPreloadDisabled,k=a.videoElementRefCallback;a=a.videoPixelsFit;var l;b[0]!==f||b[1]!==h?(l=f!=null?babelHelpers["extends"]({},h,{src:f}):h,b[0]=f,b[1]=h,b[2]=l):l=b[2];f=l;l=(h=c)!=null?h:void 0;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(c="x1lliihq x5yr21d xh8yej3",b[3]=c):c=b[3];h=j===!0?"none":void 0;b[4]!==a?(j=a?{objectFit:a.objectFit}:void 0,b[4]=a,b[5]=j):j=b[5];b[6]!==e||b[7]!==f||b[8]!==g||b[9]!==l||b[10]!==h||b[11]!==j||b[12]!==k?(a=i.jsx("video",babelHelpers["extends"]({"aria-label":l,className:c,controls:!1,"data-testid":void 0,muted:!0,playsInline:!0,preload:h},f,{poster:e,ref:k,style:j,children:g})),b[6]=e,b[7]=f,b[8]=g,b[9]=l,b[10]=h,b[11]=j,b[12]=k,b[13]=a):a=b[13];return a}g["default"]=a}),98);
__d("VideoPlayerODS",["ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,b,c){d("Random").coinflip(c)&&(h||(h=d("ODS"))).bumpEntityKey(2079,a,b,c)};g.bumpEntityKey=a}),98);
__d("VideoPlayerImplementationStateMachine",["VideoPlayerEmsgForStateMachine","VideoPlayerImplementationErrors","VideoPlayerODS","gkx","recoverableViolation","shallowEqual","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.bufferingDetected,c=a.seeking;a=a.waitingForDomPlaying;return!b&&!c&&!a}function i(a){var b=a.bufferingDetected,d=a.prevPlaybackState,e=a.seeking;a=a.waitingForDomPlaying;b=h({bufferingDetected:b,seeking:e,waitingForDomPlaying:a});e=d;switch(d){case"stalling":e=b?"playing":"stalling";break;case"ended":case"paused":case"playing":break;default:d;c("recoverableViolation")("unexpected playbackState: "+d,"comet_video_player");break}return e}function j(a){return a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1}function k(a,b,e){switch(e.type){case"host_call_pause":case"host_call_play":case"host_call_set_current_time":case"host_call_set_volume":case"host_call_set_muted":case"host_call_set_playback_rate":case"host_call_set_video_quality":case"host_call_set_latency_level":return babelHelpers["extends"]({},a,{hostCallQueue:a.hostCallQueue.concat([e])});case"controller_set_latency_level_requested":case"implementation_set_latency_level_requested":return babelHelpers["extends"]({},a,{latencyLevel:e.payload.latencyLevel,ullIneligibilityReason:e.payload.ullIneligibilityReason});case"dom_event_loadedmetadata":return babelHelpers["extends"]({},a,{domEventsLatestPerfMs:babelHelpers["extends"]({},a.domEventsLatestPerfMs,{clockMs:b.clockTimestamp,loadedmetadata:e.payload.domEventPerfTimestamp,perfMs:b.perfTimestamp})});case"dom_event_loadeddata":return babelHelpers["extends"]({},a,{domEventsLatestPerfMs:babelHelpers["extends"]({},a.domEventsLatestPerfMs,{clockMs:b.clockTimestamp,loadeddata:e.payload.domEventPerfTimestamp,perfMs:b.perfTimestamp})});case"dom_event_canplay":return babelHelpers["extends"]({},a,{domEventsLatestPerfMs:babelHelpers["extends"]({},a.domEventsLatestPerfMs,{canplay:e.payload.domEventPerfTimestamp,clockMs:b.clockTimestamp,perfMs:b.perfTimestamp})});case"dom_event_ended":return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});case"dom_event_pause":if(a.playbackState==="ended")return a;if(b.videoElementEnded===!0)return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});return a.playbackState==="paused"?a:babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play":var f=a.playbackState,g=f;switch(f){case"playing":case"stalling":case"ended":case"paused":g="stalling";break;default:f;c("recoverableViolation")("unexpected playbackState: "+f,"comet_video_player");break}f=!0;return babelHelpers["extends"]({},a,{playbackState:g,waitingForDomPlaying:f});case"dom_event_playing":g=a.bufferingDetected;f=a.seeking;var h=!1,k=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:i({bufferingDetected:g,prevPlaybackState:k,seeking:f,waitingForDomPlaying:h}),waitingForDomPlaying:h});case"dom_event_timeupdate":g=d("VideoPlayerEmsgForStateMachine").makeUpdatedActiveEmsgBoxes(a.allEmsgBoxes,b.videoElementPlayheadPosition,a.activeEmsgBoxes);if(a.waitingForDomTimeUpdateAfterSeeked){k=a.bufferingDetected;f=a.seeking;h=!1;var l=a.playbackState;return babelHelpers["extends"]({},a,{activeEmsgBoxes:g,playbackState:i({bufferingDetected:k,prevPlaybackState:l,seeking:f,waitingForDomPlaying:h}),waitingForDomPlaying:h,waitingForDomTimeUpdateAfterSeeked:!1})}return babelHelpers["extends"]({},a,{activeEmsgBoxes:g});case"dom_event_seeking":k=a.playbackState;l=k;switch(k){case"paused":case"ended":break;case"stalling":case"playing":l="stalling";break;default:k,c("recoverableViolation")("unexpected playbackState: "+k,"comet_video_player")}return babelHelpers["extends"]({},a,{playbackState:l,seeking:!0,waitingForDomPlaying:!0});case"dom_event_seeked":f=a.bufferingDetected;h=a.waitingForDomPlaying;g=!1;k=a.playbackState;return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:null,playbackState:i({bufferingDetected:f,prevPlaybackState:k,seeking:g,waitingForDomPlaying:h}),seeking:g,waitingForDomTimeUpdateAfterSeeked:!0});case"dom_event_error":e.payload.videoElementError==null&&d("VideoPlayerODS").bumpEntityKey("comet_video_player","dom_event_error.error_is_nullish",14);return babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play_promise_created":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:e.payload.hostCallPlayID});case"dom_event_play_promise_resolved":return a.hostCallPlayIDLast!==e.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"dom_event_play_promise_rejected":if(a.hostCallPlayIDLast!==e.payload.hostCallPlayID)return a;if(c("gkx")("30214")){l=e.payload.playPromiseRejectionReason;return babelHelpers["extends"]({},a,{hostCallPlayIDLast:null},!(l!=null&&l.name==="AbortError")&&a.playbackState==="stalling"?{playbackState:"paused",waitingForDomPlaying:!1}:{})}return babelHelpers["extends"]({},a,{hostCallPlayIDLast:null,playbackState:a.playbackState==="stalling"?"paused":a.playbackState,waitingForDomPlaying:!1});case"dom_event_durationchange":if(c("gkx")("30214")){f=b.videoElementEnded===!0?"ended":b.videoElementPaused===!0?"paused":a.playbackState;if((a.playbackState==="stalling"||a.playbackState==="playing")&&f!==a.playbackState)return babelHelpers["extends"]({},a,{playbackState:f,waitingForDomPlaying:!1})}return a;case"implementation_host_call_queue_flushed":return babelHelpers["extends"]({},a,{hostCallQueue:[]});case"implementation_host_call_failed":k=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError({errorLocation:e.payload.errorLocation,hostCallError:e.payload.hostCallError,videoElementError:e.payload.videoElementError,videoElementNetworkState:e.payload.videoElementNetworkState,videoElementReadyState:e.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:k,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_mounted":return babelHelpers["extends"]({},a,{mountState:"mounted_onscreen"});case"implementation_unmounted":return babelHelpers["extends"]({},a,{mountState:"unmounted"});case"implementation_onscreen":return babelHelpers["extends"]({},a,{mountState:"mounted_onscreen"});case"implementation_offscreen":return babelHelpers["extends"]({},a,{mountState:"mounted_offscreen"});case"implementation_video_node_unmounted":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"implementation_engine_initialized":g=(h=e.payload.streamingFormat)!=null?h:a.streamingFormat;return babelHelpers["extends"]({},a,{selectedVideoQuality:e.payload.selectedVideoQuality,streamingFormat:g});case"implementation_engine_qualities_changed":f=(l=e.payload.streamingFormat)!=null?l:a.streamingFormat;return babelHelpers["extends"]({},a,{selectedVideoQuality:e.payload.selectedVideoQuality,streamingFormat:f});case"implementation_engine_destroyed":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"implementation_fatal_error":return babelHelpers["extends"]({},a,{error:e.payload.fatalError,hostCallPlayIDLast:null,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:e.payload.seekSourcePosition});case"representation_changed":return babelHelpers["extends"]({},a);case"controller_pause_requested":return a.playbackState==="ended"?a:babelHelpers["extends"]({},a,{lastPausedTimeMs:Date.now(),lastPauseReason:e.payload.reason,lastPlayedTimeMs:0,playbackState:"paused",waitingForDomPlaying:!1,watchTimeMs:a.lastPlayedTimeMs>0?a.watchTimeMs+(Date.now()-a.lastPlayedTimeMs):a.watchTimeMs});case"controller_play_requested":return a.playbackState!=="paused"&&a.playbackState!=="ended"?a:babelHelpers["extends"]({},a,{hasPlayEverBeenRequested:!0,lastPlayedTimeMs:a.lastPlayedTimeMs===0?Date.now():a.lastPlayedTimeMs,lastPlayReason:e.payload.reason,loopCurrent:j(a)?e.payload.reason==="loop_initiated"?a.loopCurrent+1:a.loopCurrent:0,playbackState:"stalling",waitingForDomPlaying:!0});case"controller_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(k=b.videoElementPlayheadPosition)!=null?k:a.implementationSeekSourcePosition,seeking:!0,seekTargetPosition:e.payload.seekTargetPosition});case"controller_quality_requested":return babelHelpers["extends"]({},a,{selectedVideoQuality:e.payload.selectedVideoQuality});case"controller_video_variant_requested":return babelHelpers["extends"]({},a,{selectedVideoVariant:e.payload.selectedVideoVariant});case"controller_set_caption_display_style_requested":return babelHelpers["extends"]({},a,{captionDisplayStyle:e.payload.captionDisplayStyle});case"controller_set_picture_in_picture_state_requested":return babelHelpers["extends"]({},a,{isDesktopPictureInPicture:e.payload.isInPictureInPictureMode});case"controller_set_caption_format_requested":return babelHelpers["extends"]({},a,{captionFormat:e.payload.captionFormat});case"controller_set_playback_rate":return babelHelpers["extends"]({},a,{targetPlaybackRate:e.payload.playbackRate});case"controller_muted_requested":return babelHelpers["extends"]({},a,{lastMuteReason:e.payload.reason,muted:e.payload.muted});case"controller_volume_requested":return babelHelpers["extends"]({},a,{volume:e.payload.volume});case"controller_scrub_begin_requested":return a.scrubbing?a:babelHelpers["extends"]({},a,{scrubbing:!0,seekTargetPosition:null});case"controller_scrub_end_requested":return!a.scrubbing?a:babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(h=b.videoElementPlayheadPosition)!=null?h:a.implementationSeekSourcePosition,scrubbing:!1,seeking:e.payload.seekTargetPosition!=null,seekTargetPosition:e.payload.seekTargetPosition});case"buffering_begin_requested":g=a.playbackState;l=g;switch(g){case"paused":case"ended":break;case"playing":case"stalling":l="stalling";break;default:g;c("recoverableViolation")("unexpected playbackState: "+g,"comet_video_player");break}f=e.payload.bufferingType;return babelHelpers["extends"]({},a,{bufferingDetected:!0,lastBufferingType:f,playbackState:l});case"buffering_end_requested":k=a.seeking;h=a.waitingForDomPlaying;g=!1;f=a.playbackState;return babelHelpers["extends"]({},a,{bufferingDetected:g,playbackState:i({bufferingDetected:g,prevPlaybackState:f,seeking:k,waitingForDomPlaying:h})});case"controller_set_captions_visible_requested":l=e.payload.captionsVisible;return a.captionsVisible===l?a:babelHelpers["extends"]({},a,{activeCaptions:l?a.activeCaptions:null,captionsLocale:l?a.captionsLocale:null,captionsVisible:l});case"controller_set_active_captions_requested":g=e.payload.activeCaptions;k=(f=g==null?void 0:g.rows)!=null?f:[];h=e.payload.captionsLocale;l=a.activeCaptions;var m=(f=l==null?void 0:l.rows)!=null?f:[];return m.length===k.length&&k.every(function(a,b){return m[b]===a})?a:babelHelpers["extends"]({},a,{activeCaptions:g,captionsLocale:h});case"captions_loaded":return babelHelpers["extends"]({},a,{activeCaptions:a.activeCaptions,captionsLoaded:!0});case"captions_unloaded":return babelHelpers["extends"]({},a,{activeCaptions:null,captionsLoaded:!1,captionsLocale:null});case"inband_captions_autogenerated_changed":l=e.payload.inbandCaptionsAutogenerated;return a.inbandCaptionsAutogenerated===l?a:babelHelpers["extends"]({},a,{inbandCaptionsAutogenerated:l});case"stream_ended":return babelHelpers["extends"]({},a,{streamEnded:!0});case"stream_gone_before_start":return babelHelpers["extends"]({},a,{playbackState:"ended",streamEnded:!0,waitingForDomPlaying:!1});case"stream_interrupted":return babelHelpers["extends"]({},a,{streamInterrupted:!0});case"stream_resumed":return babelHelpers["extends"]({},a,{streamInterrupted:!1});case"seekable_ranges_changed":f=e.payload.seekableRanges;return babelHelpers["extends"]({},a,{seekableRanges:f});case"controller_set_is_live_rewind_active_requested":k=e.payload.isLiveRewindActive;return babelHelpers["extends"]({},a,{isLiveRewindActive:k});case"loop_count_change_requested":g=e.payload.loopCount;return g===a.loopCount?a:babelHelpers["extends"]({},a,{loopCount:g,loopCurrent:0});case"player_dimensions_changed":h=e.payload.dimensions;l=h.height;f=h.width;return f===a.dimensions.width&&l===a.dimensions.height?a:babelHelpers["extends"]({},a,{dimensions:{height:l,width:f}});case"emsg_boxes_parsed":k=d("VideoPlayerEmsgForStateMachine").makeUpdatedAllEmsgBoxes(a.allEmsgBoxes,e.payload.emsgBoxes);g=d("VideoPlayerEmsgForStateMachine").makeUpdatedActiveEmsgBoxes(k,b.videoElementPlayheadPosition,a.activeEmsgBoxes);return babelHelpers["extends"]({},a,{activeEmsgBoxes:g,allEmsgBoxes:k});case"register_emsg_observer":h=new Set(a.emsgObserverTokens);h.add(e.payload.token);return babelHelpers["extends"]({},a,{emsgObserverTokens:h});case"unregister_emsg_observer":l=new Set(a.emsgObserverTokens);l["delete"](e.payload.token);return babelHelpers["extends"]({},a,{emsgObserverTokens:l});default:return a}}function l(a,b,d){var e=b.type!=="dom_seeking";e=e?d:a.uncontrolledState;d=!c("shallowEqual")(e,a.uncontrolledState);b=k(a.controlledState,e,b);var f=!c("shallowEqual")(b,a.controlledState);return d||f?babelHelpers["extends"]({},a,{controlledState:f?b:a.controlledState,uncontrolledState:d?e:a.uncontrolledState}):a}var m,n;function o(a){var b=a.collectUncontrolledState,d=a.debugLogId;d=a.initialState;var e=a.onDispatched,f=a.onFatalError,g=d,h=g,i=0,j=!1,k=!1,m=!0,n=!0;return{dispatch:function(a){if(!n)return;var d=null,g=null;try{++i;if(i>=10)if(!j){j=!0;throw c("unrecoverableViolation")("Video player state machine loop detected","comet_video_player")}else return;var o=h.uncontrolledState;if(m)try{o=b()}catch(a){m=!1,g=a}var p=h;o=l(p,a,o);h=o;e(p,o,a)}catch(a){n=!1,d=a}finally{if(!k&&(d!=null||g!=null)){k=!0;try{f((p=d)!=null?p:g)}catch(a){}}--i}},getCurrentState:function(){return h},getInitialState:function(){return g}}}var p,q;function a(a){var b=a.collectUncontrolledState,c=a.debugLogId,d=a.initialState,e=a.onFatalError,f=a.stateTransitionHandlers;function g(a,b,c){try{var d=!0,e=0;while(d&&e<f.length){var g=f[e];d=g(a,b,c);++e}}finally{}}return o({collectUncontrolledState:b,debugLogId:c,initialState:d,onDispatched:g,onFatalError:e})}function b(a,b){function c(){}function d(a){return a}function e(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c)}}function f(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c(e,f))}}return{onAbort:c,onCanPlay:f(function(a){return{payload:{domEventPerfTimestamp:a.timeStamp},type:"dom_event_canplay"}}),onCanPlayThrough:c,onDurationChange:e({type:"dom_event_durationchange"}),onEmptied:c,onEncrypted:c,onEnded:e({type:"dom_event_ended"}),onError:f(function(a,b){return{payload:{videoElementError:b.error,videoElementNetworkState:b.networkState,videoElementReadyState:b.readyState},type:"dom_event_error"}}),onLoadedData:f(function(a){return{payload:{domEventPerfTimestamp:a.timeStamp},type:"dom_event_loadeddata"}}),onLoadedMetadata:f(function(a){return{payload:{domEventPerfTimestamp:a.timeStamp},type:"dom_event_loadedmetadata"}}),onLoadStart:c,onPause:e({type:"dom_event_pause"}),onPlay:e({type:"dom_event_play"}),onPlaying:f(function(a){return{payload:{domEventPerfTimestamp:a.timeStamp},type:"dom_event_playing"}}),onProgress:e({type:"dom_event_progress"}),onRateChange:e({type:"dom_event_ratechange"}),onSeeked:e({type:"dom_event_seeked"}),onSeeking:e({type:"dom_event_seeking"}),onStalled:c,onSuspend:c,onTimeUpdate:e({type:"dom_event_timeupdate"}),onVolumeChange:e({type:"dom_event_volumechange"}),onWaiting:e({type:"dom_event_waiting"})}}g.createVideoPlayerImplementationStateMachine=o;g.createVideoPlayerImplementationStateMachineWithStateTransitionHandlers=a;g.createReactVideoElementCallbacksForStateMachine=b}),98);
__d("VideoPlayerImplementationStateMachineHostCallQueue",["cometUniqueID","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";b=c("emptyFunction");function h(){return"id-vpdom-"+c("cometUniqueID")()}function i(a){var b=a.engineExtrasAPI,d=a.hostCall,e=a.machine;a=a.videoElementAPI;switch(d.type){case"host_call_play":var f=a.play();f&&(e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_created"}),c("promiseDone")(f.then(function(){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_resolved"})},function(a){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID,playPromiseRejectionReason:a},type:"dom_event_play_promise_rejected"})})));break;case"host_call_pause":a.pause();break;case"host_call_set_playback_rate":a.setPlaybackRate(d.payload.playbackRate);break;case"host_call_set_muted":a.setMuted(d.payload.muted);break;case"host_call_set_volume":a.setVolume(d.payload.volume);break;case"host_call_set_current_time":a.setPlayheadPosition(d.payload.currentTime);break;case"host_call_set_video_quality":b.setUserSelectedVideoQuality(d.payload.selectedVideoQuality);break;case"host_call_set_video_variant":b.setUserSelectedVideoVariant(d.payload.selectedVideoVariant);break;case"host_call_set_latency_level":b.setLatencyLevel(d.payload.latencyLevel);break;case"host_call_picture_in_picture":a.requestPictureInPicture();break;case"host_call_exit_picture_in_picture":a.exitPictureInPicture();break;default:d.type;return!1}return!0}function j(a){var b=a.engineExtrasAPI,c=a.hostCall,d=a.machine;a=a.videoElementAPI;if(!a||!b)d.dispatch(c);else{var e=!1;try{e=i({engineExtrasAPI:b,hostCall:c,machine:d,videoElementAPI:a})}catch(b){d.dispatch({payload:{errorLocation:"apply_host_call_catch",hostCall:c,hostCallError:b,videoElementError:a.getError(),videoElementNetworkState:a.getNetworkState(),videoElementReadyState:a.getReadyState()},type:"implementation_host_call_failed"})}e&&d.dispatch({payload:{hostCall:c},type:"implementation_host_call_applied"})}}function k(a){var b=[];function c(){b=b.filter(function(a){return a.type!=="host_call_play"&&a.type!=="host_call_pause"})}function d(a){b=b.filter(function(b){return b.type!==a})}a.forEach(function(a){switch(a.type){case"host_call_play":c();break;case"host_call_pause":c();break;case"host_call_set_playback_rate":d(a.type);break;case"host_call_set_muted":d(a.type);break;case"host_call_set_volume":d(a.type);break;case"host_call_set_current_time":d(a.type);break;case"host_call_set_video_quality":d(a.type);break;case"host_call_set_video_variant":d(a.type);break;case"host_call_set_latency_level":d(a.type);break;case"host_call_picture_in_picture":d(a.type);break;case"host_call_exit_picture_in_picture":d(a.type);break;default:a.type}b=b.concat([a])});return b}function a(a){var b=a.engineExtrasAPI,c=a.machine,d=a.reason,e=a.state,f=a.videoElementAPI;a=[{payload:{hostCallID:h(),reason:d,volume:e.controlledState.volume},type:"host_call_set_volume"},{payload:{hostCallID:h(),muted:e.controlledState.muted,reason:d},type:"host_call_set_muted"},{payload:{hostCallID:h(),reason:d,selectedVideoQuality:e.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"},{payload:{hostCallID:h(),reason:d,selectedVideoVariant:e.controlledState.selectedVideoVariant},type:"host_call_set_video_variant"}];d=k(e.controlledState.hostCallQueue.concat(a));d.forEach(function(a){j({engineExtrasAPI:b,hostCall:a,machine:c,videoElementAPI:f})});c.dispatch({payload:{hostCallsFlushed:d},type:"implementation_host_call_queue_flushed"})}g.makeHostCallID=h;g.applyOrQueueHostCall=j;g.flushHostCallQueue=a}),98);
__d("VideoPlayerLoggerPlayerStates",[],(function(a,b,c,d,e,f){a="started";b="unpaused";c={STARTED:a,UNPAUSED:b};f["default"]=c}),66);
__d("VideoPlayerMutedStateChange",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.currMuted,c=a.currVolume,d=a.prevMuted;a=a.prevVolume;b=b||c===0;c=d||a===0;if(c===b)return null;return b?"muted":"unmuted"}f.getVideoPlayerMutedStateChange=a}),66);
__d("VideoPlayerImplementationStateMachineLogger",["CometProductAttribution","NetworkStatus","PlaybackSpeedExperiments","SiteData","VideoMimeTypes","VideoPlayerConnectionQuality","VideoPlayerImplementationErrorNormalization","VideoPlayerLoggerPlayerStates","VideoPlayerMutedStateChange","VideoPlayerStateBasedLoggingEvents","emptyFunction","getPlayerFormatForLogData","getVideoBrowserTabId","gkx","justknobx","mapObject","performanceAbsoluteNow","qex","recoverableViolation","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=6e4,k=(b=c("qex")._("1675"))!=null?b:0,l=1e3,m=null,n=function(a){var b;m=(b=m)!=null?b:document.createElement("video");return!("canPlayType"in m)?"":m.canPlayType(a)},o=c("emptyFunction"),p=c("emptyFunction"),q=c("emptyFunction"),r=c("emptyFunction"),s=!1;c("gkx")("5551")&&(s=!0,o=function(a,b){try{var c;for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];(c=window.console).info.apply(c,["["+a+"][VideoPlayerImplementationStateMachineLogger]"+b].concat(e))}catch(a){}},p=function(a,b,c,d){o(a,"[handleMetaData]",{loggingMetaData:c,loggingMetaDataPrevious:b,trackedChanges:d})},q=function(a,b,c,d){o(a,"[handleStateMachine]",{prevState:b,state:c,action:d})},r=function(a,b,c){o(a,"[setAdditionalLogData]",{key:b,value:c})});var t=(e=d("PlaybackSpeedExperiments").enablePlaybackSpeedLogging())!=null?e:!1;function u(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,debugSubscribers:[],dontLogPauseOnUnpausedSeeking:!1,errorRecoveryAttemptState:{currentRecoverableError:null,eventsLogged:0,repeatCount:0},hasLoggedStallData:!1,hasLoggedStartedPlaying:!1,hasPausedOnce:!1,hasPendingRequestedPlaying:!1,initialSuborigin:void 0,inPlayStallCount200ms:0,interruptCount:0,interruptDuration:0,interruptEndTimestamp:0,interruptStartTimestamp:0,isLoggingScrubbingSequence:!1,lastLoggedError:null,lastLoggedFullscreenState:!1,lastLoggedPlaybackSpeed:null,lastLoggedViewabilityPercentage:void 0,lastStartTimePosition:null,lastTrackedAudioRepresentation:null,lastTrackedVideoRepresentation:null,nextHeartbeatTime:null,nextPlayedThreeSecondsPlayheadPosition:null,sequenceNumber:0,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1,stallCount:0,stallCount200ms:0,stallCountTotal:0,stallDuration:0,stallDurationTotal:0,stallStartTimestamp:0,startStallCountTotal:0,startStallDurationTotal:0,vplEventSequenceNumber:0,warningState:{eventsLoggedPerKey:new Map(),eventsLoggedTotal:0,eventsMaxLoggedPerKey:function(){try{return Math.max(0,c("justknobx")._("1831")||0)}catch(a){return 0}}(),eventsMaxLoggedTotal:function(){try{return Math.max(0,c("justknobx")._("1832")||0)}catch(a){return 0}}()}}}function v(a,b){return b==="muted"||b==="unmuted"||b==="started_playing"||b==="caption_change"||b==="unpaused"?a.controlledState.captionsVisible?"on":"off":void 0}function a(a){var b=new Map(),e=a.initialLoggingMetaData,f=e,g=[],m=u(),w=new Set(c("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames),x=!c("gkx")("646");function y(a){m.debugSubscribers.push(a);return function(){c("removeFromArray")(m.debugSubscribers,a)}}function z(a){m.debugSubscribers.forEach(function(b){return b(a)})}function A(a){var b=m.stallStartTimestamp;if(b>0){m.stallCount+=1;m.stallCountTotal+=1;m.hasPendingRequestedPlaying&&(m.startStallCountTotal+=1);a=a-b;b=a>200;m.stallDurationTotal+=a;m.stallDuration+=a;m.stallCount200ms+=b?1:0;m.inPlayStallCount200ms+=b&&!m.hasPendingRequestedPlaying?1:0;m.hasPendingRequestedPlaying&&(m.startStallDurationTotal+=a)}}function B(a,b){a=a.uncontrolledState.videoElementPlayheadPosition==null?null:a.uncontrolledState.videoElementPlayheadPosition;var c=null;switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"heart_beat":case"playback_speed_changed":case"representation_ended":c=m.lastStartTimePosition;break;case"scrubbed":c=a;break;default:break}switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"scrubbed":m.lastStartTimePosition=null;break;case"started_playing":case"unpaused":case"heart_beat":case"playback_speed_changed":case"representation_ended":m.lastStartTimePosition=a;break;default:break}return{video_last_start_time_position:c}}function C(a,b){var c=b.uncontrolledState.clockTimestamp;a=a.controlledState.streamInterrupted;b=b.controlledState.streamInterrupted;!a&&b?m.interruptStartTimestamp=c:a&&!b&&m.interruptStartTimestamp>0&&(m.interruptEndTimestamp=c,m.interruptCount+=1,m.interruptDuration+=m.interruptEndTimestamp-m.interruptStartTimestamp)}function D(a,b,c){var d=b.uncontrolledState.clockTimestamp;a=a.controlledState.playbackState;var e=b.controlledState.playbackState;a!=="stalling"&&e==="stalling"&&(z("stall_start"),m.stallStartTimestamp=d);if(a==="stalling"&&e!=="stalling"){d=0;(c.type==="dom_event_playing"||c.type==="buffering_end_requested")&&c.payload.domEventPerfTimestamp!=null&&(d=Math.max(b.uncontrolledState.perfTimestamp-c.payload.domEventPerfTimestamp,0));A(b.uncontrolledState.clockTimestamp-d);m.stallStartTimestamp=0;z("stall_end")}}function E(a,b,c){a=b.uncontrolledState;b=a.videoElementPlayheadPosition;switch(c){case"unpaused":case"started_playing":m.nextPlayedThreeSecondsPlayheadPosition=((a=b)!=null?a:0)+3;break;case"paused":case"finished_playing":m.nextPlayedThreeSecondsPlayheadPosition=null;break;default:break}}function F(a,b,c){if(m.interruptCount>0&&m.interruptDuration>0){a={interrupt_count:m.interruptCount,interrupt_time:m.interruptDuration};m.interruptCount=0;m.interruptDuration=0;m.interruptStartTimestamp=0;m.interruptEndTimestamp=0;return a}return{interrupt_count:null,interrupt_time:null}}function G(a,b,c){var d={stall_count:null,stall_count_200_ms:null,stall_time:null},e=b.uncontrolledState.clockTimestamp,f=function(){var a={stall_count:m.stallCount,stall_count_200_ms:m.stallCount200ms,stall_time:m.stallDuration};m.stallCount=0;m.stallCount200ms=0;m.stallDuration=0;m.stallStartTimestamp=0;return a};a=a.controlledState.playbackState;var g=b.controlledState.playbackState;a!=="stalling"&&g==="stalling"&&(m.stallStartTimestamp=e);switch(c){case"started_playing":case"unpaused":case"finished_playing":case"paused":case"cancelled_requested_playing":case"playback_speed_changed":case"representation_ended":A(b.uncontrolledState.clockTimestamp);d=f();break;case"heart_beat":b.controlledState.playbackState!=="stalling"&&(A(b.uncontrolledState.clockTimestamp),d=f());break;default:break}return d}function H(a,b,c){a=b.controlledState.playbackState==="paused"&&a.controlledState.playbackState==="stalling";return c>0&&(b.controlledState.playbackState==="stalling"||a)}function I(a,b){a=a.current;var c=null;switch(b){case"finished_playing":case"paused":case"heart_beat":a&&(c=a.getAndFlushTracedFrames());return c!=null?JSON.stringify(c):null;default:return null}}function J(a){a=a.controlledState.playbackState;switch(a){case"playing":case"stalling":return"playing";case"paused":return"paused";case"ended":return"finished";default:a;return"unknown"}}function K(a){switch(a){case"normal":return"normal";case"low":return"low";case"ultra-low":return"ultra_low";default:return null}}function L(){return{state:m.hasLoggedStartedPlaying?c("VideoPlayerLoggerPlayerStates").UNPAUSED:c("VideoPlayerLoggerPlayerStates").STARTED}}function M(a){if((a==null?void 0:a.v2)&&(a==null?void 0:a.v2.length)>0){var b=a==null?void 0:a.v2;b=b[b.length-1];return[b["class"],b.module].map(d("CometProductAttribution").filterEntryValue).join(":")}return(a=a==null?void 0:(b=a.v2)==null?void 0:b.map(function(a){return[a["class"],a.module].map(d("CometProductAttribution").filterEntryValue).join(":")}).join(";"))!=null?a:""}function N(f){var i,j=f.eventType,k=f.logDataOverrides,l=f.prevState,n=f.state;f=B(n,j);f=f.video_last_start_time_position;var p=G(l,n,j),q=p.stall_count,r=p.stall_count_200_ms;p=p.stall_time;var u=F(l,n,j),y=u.interrupt_count;u=u.interrupt_time;var z=I(a.videoLiveTraceRef,j),A=[],C=a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplayGatingResult;C&&A.push(C);C=j==="entered_fs"?!0:j==="exited_fs"?!1:m.lastLoggedFullscreenState;i=c("getPlayerFormatForLogData")({isDesktopPictureInPicture:(i=n.controlledState.isDesktopPictureInPicture)!=null?i:!1,isFullscreen:C},e.coreVideoPlayerMetaData.playerFormat);var D=n.uncontrolledState.viewabilityPercentage,L=Boolean(n.uncontrolledState.isFBIsLiveTemplated),N=Boolean(n.uncontrolledState.isFBWasLive),O=n.uncontrolledState.videoElementPlaybackRate;O=O==null||O===0?m.lastLoggedPlaybackSpeed:O;var P=a.initialLoggingMetaData.productAttribution;if(i==="watch_scroll"&&P&&P.v2){var Q,R={0:babelHelpers["extends"]({},P["0"]),v2:[babelHelpers["extends"]({},P.v2[0])]};Q=(Q=e.productAttribution)==null?void 0:(Q=Q.v2)==null?void 0:Q[0];if(Q){var S=R.v2[0];S["class"]=Q["class"];S.scope_id=Q.scope_id;S.ts=Q.ts}P=R}S=null;Q=null;S=P!=null?d("CometProductAttribution").minifyProductAttributionV2(P):null;Q=P!=null?M(P):null;R=H(l,n,(R=p)!=null?R:0);S={access_token:a.initialLoggingMetaData.accessToken,ad_client_token:e.coreVideoPlayerMetaData.adClientToken,attribution_id:P!=null&&Object.prototype.hasOwnProperty.call(P,"0")?JSON.stringify({0:P["0"]}):null,attribution_id_v2:S,attribution_id_v2_root:Q,audio_only:e.coreVideoPlayerMetaData.audioOnly,audio_representation_id:n.uncontrolledState.audioRepresentationID,autoplay_eligible:a.initialLoggingMetaData.coreVideoPlayerMetaData.canAutoplay==="allow",autoplay_failure_reasons:JSON.stringify(A),autoplay_setting:a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplaySetting,available_qualities:n.uncontrolledState.availableQualities.length,broadcaster_origin:a.initialLoggingMetaData.coreVideoPlayerMetaData.broadcasterOrigin,browser_tab_id:c("getVideoBrowserTabId")(),caption_state:v(n,j),client_latency_setting:K(n.controlledState.latencyLevel),current_playback_speed:t?O:null,current_viewability_percentage:D,dash_perf_logging_enabled:e.coreVideoPlayerMetaData.VideoPlayerShakaPerformanceLoggerClass!=null&&e.coreVideoPlayerMetaData.VideoPlayerShakaPerformanceLoggerClass.isEnabled(),data_connection_quality:d("VideoPlayerConnectionQuality").evaluate(function(){return n.uncontrolledState.estimatedBandwidth}),downstream_share_origin_uri:(P=e.downstreamShareSignalTracking)==null?void 0:P.downstream_share_session_origin_uri,downstream_share_start_time:(S=e.downstreamShareSignalTracking)==null?void 0:S.downstream_share_session_start_time,downstream_share_visit_uuid:(Q=e.downstreamShareSignalTracking)==null?void 0:Q.downstream_share_session_id,dropped_frame_count:n.uncontrolledState.videoElementDroppedFrameCount,external_log_id:e.coreVideoPlayerMetaData.externalLogID,external_log_type:e.coreVideoPlayerMetaData.externalLogType,fb_manifest_identifier:n.uncontrolledState.manifestIdentifier,frame_events:z,interrupt_count:y,interrupt_time:u,is_abr_enabled:n.isAbrEnabled,is_fbms:n.uncontrolledState.isFBMS,is_live_video_rewound:n.controlledState.isLiveRewindActive,is_mixed_codec_manifest:n.uncontrolledState.isMixedCodecManifest,is_pip:n.controlledState.isDesktopPictureInPicture,is_predictive_playback:n.uncontrolledState.isPredictiveDash,is_sound_on:!n.controlledState.muted,is_stalling:R,is_templated_manifest:L||N,last_viewability_percentage:m.lastLoggedViewabilityPercentage,mpd_validation_errors:n.uncontrolledState.mpdValidationErrors,network_connected:n.uncontrolledState.networkConnected,playback_caption_format:n.controlledState.captionFormat,playback_caption_locale:n.controlledState.captionsLocale,playback_duration:n.uncontrolledState.videoElementDuration,playback_is_broadcast:a.initialLoggingMetaData.coreVideoPlayerMetaData.isVideoBroadcast,playback_is_drm:Boolean(a.initialLoggingMetaData.coreVideoPlayerMetaData.graphQLVideoDRMInfo),playback_is_live_streaming:a.initialLoggingMetaData.coreVideoPlayerMetaData.isLiveStreaming,player_format:i,player_instance_key:e.instanceKey,player_origin:e.coreVideoPlayerMetaData.playerOriginOverride,player_state:J(n),player_suborigin:e.coreVideoPlayerMetaData.subOrigin,player_version:n.playerVersion,projection:n.uncontrolledState.videoProjection,representation_id:n.uncontrolledState.videoRepresentationID,source_VPL_LOGGING_HACK:e.coreVideoPlayerMetaData.source_VPL_LOGGING_HACK,stall_count:q,stall_count_200_ms:r,stall_time:p,streaming_format:n.controlledState.streamingFormat,total_frame_count:n.uncontrolledState.videoElementTotalFrameCount,tracking_data_encrypted:a.initialLoggingMetaData.trackingDataEncrypted,tracking_nodes:a.initialLoggingMetaData.trackingNodes,v2_heart_beat:c("gkx")("24377")&&j==="heart_beat"?!0:null,video_bandwidth:n.uncontrolledState.estimatedBandwidth,video_buffer_end_position:n.uncontrolledState.videoElementLastBufferEndPosition,video_id:e.coreVideoPlayerMetaData.videoFBID,video_last_start_time_position:f,video_play_reason:n.controlledState.lastPlayReason,video_player_height:(A=e.dimensions)==null?void 0:A.height,video_player_width:(P=e.dimensions)==null?void 0:P.width,video_time_position:n.uncontrolledState.videoElementPlayheadPosition,web_client_revision:c("SiteData").client_revision};Q=w.has(j)?++m.sequenceNumber:null;z={event_seq_num:++m.vplEventSequenceNumber,seq_num:Q,time_ms:Date.now(),vpts:(h||(h=c("performanceAbsoluteNow")))()};var T={};b.forEach(function(a,b){T[b]=a});y=e.coreVideoPlayerMetaData.loggingToVPLAdditionalData;u=babelHelpers["extends"]({},y,T);R=babelHelpers["extends"]({},u,S,k,z);N=(L=m.initialSuborigin)!=null?L:e.coreVideoPlayerMetaData.subOrigin;q=(i=R.source_VPL_LOGGING_HACK)!=null?i:N;p=(r=e.coreVideoPlayerMetaData.initialTracePolicy)!=null?r:e.coreVideoPlayerMetaData.routeTracePolicy;f={eventType:j,logData:R,routeTracePolicy:p,source_VPL_LOGGING_HACK:q};g.push(f);x&&E(l,n,j);m.initialSuborigin==null&&N!=null&&(m.initialSuborigin=N);m.lastLoggedFullscreenState=C;m.lastLoggedPlaybackSpeed=O;j==="viewability_changed"&&(m.lastLoggedViewabilityPercentage=D);s&&o(a.debugLogId,"[_push] "+j,{loggedEvent:f,loggerEventsLength:g.length,loggingState:JSON.stringify(m)})}var O={};function P(a,b,c){N({eventType:"requested_playing",logDataOverrides:babelHelpers["extends"]({},c,L()),prevState:a,state:b});m.hasPendingRequestedPlaying=!0;m.canLogPausedOrFinishedPlaying=!0;return O}function Q(a,b,c){if(!m.canLogPausedOrFinishedPlaying)return O;else if(m.hasPendingRequestedPlaying){R(a,b,c);m.canLogPausedOrFinishedPlaying=!1;m.hasPendingRequestedPlaying=!1;return O}else{N({eventType:"paused",logDataOverrides:babelHelpers["extends"]({},c,{error_user_info:JSON.stringify({is_document_hidden:b.uncontrolledState.isDocumentHidden})}),prevState:a,state:b});m.canLogPausedOrFinishedPlaying=!1;m.hasPendingRequestedPlaying=!1;return O}}function R(a,b,c){var d=b.uncontrolledState.liveTraceContext;c=babelHelpers["extends"]({},c,L(),{live_trace_source_id:d?d.sourceId:void 0,live_trace_stream_id:d?d.streamId:void 0,live_trace_stream_type:d?d.streamType:void 0});N({eventType:"cancelled_requested_playing",logDataOverrides:c,prevState:a,state:b});return O}function S(a,b,d){if(d.type==="dom_event_play_promise_rejected"&&d.payload.hostCallPlayID===a.controlledState.hostCallPlayIDLast&&b.controlledState.hostCallPlayIDLast==null&&m.hasPendingRequestedPlaying){d=d.payload.playPromiseRejectionReason;if(d!=null&&d.name==="NotAllowedError"){R(a,b,{debug_reason:"not_allowed"});return O}else if(!c("gkx")("30214")&&d!=null&&d.name==="AbortError"){R(a,b,{debug_reason:"aborted"});return O}else return O}else return O}function T(a,b,c){if((c.type==="controller_play_requested"||c.type==="dom_event_play"&&!m.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==b.controlledState.playbackState){c=b.uncontrolledState.liveTraceContext;c=c?{live_trace_source_id:c.sourceId,live_trace_stream_id:c.streamId,live_trace_stream_type:c.streamType}:null;P(a,b,c);return O}else return O}function U(a,b,c){if(a.controlledState.playbackState==="stalling"&&b.controlledState.playbackState==="playing"&&m.canLogPlayingEvent){c=b.uncontrolledState.liveTraceContext;c=c?{live_trace_source_id:c.sourceId,live_trace_stream_id:c.streamId,live_trace_stream_type:c.streamType}:null;N({eventType:m.hasLoggedStartedPlaying?"unpaused":"started_playing",logDataOverrides:c,prevState:a,state:b});m.hasLoggedStartedPlaying=!0;m.canLogPlayingEvent=!1;m.hasPendingRequestedPlaying=!1;return O}else return O}function V(a,b,c){var d=b.controlledState.playbackState,e=a.controlledState.playbackState;if(c.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&d!=="paused"&&d!=="ended"){Q(a,b);m.isLoggingScrubbingSequence=!0;return O}else if(!a.controlledState.seeking&&b.controlledState.seeking&&!m.isLoggingScrubbingSequence&&d!=="paused"&&d!=="ended"&&!m.hasPendingRequestedPlaying){Q(a,b);m.shouldLogRequestedPlayingForScrub=!0;return O}else if(c.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&d!=="paused"&&d!=="ended"){P(a,b,{video_time_position:c.payload.seekTargetPosition});return O}else if(a.controlledState.seeking&&!b.controlledState.seeking){m.shouldLogRequestedPlayingForScrub&&d!=="paused"&&d!=="ended"&&P(a,b);N({eventType:"scrubbed",prevState:a,state:b});m.isLoggingScrubbingSequence=!1;m.shouldLogRequestedPlayingForScrub=!1;e!=="paused"&&e!=="ended"&&(m.canLogPlayingEvent=!0);return O}else return O}function W(a,b,c){if(a.controlledState.playbackState!==b.controlledState.playbackState&&b.controlledState.playbackState==="ended"&&m.canLogPausedOrFinishedPlaying){N({eventType:"finished_playing",prevState:a,state:b});m.canLogPausedOrFinishedPlaying=!1;return O}else return O}function X(a,b,c){if((c.type==="controller_pause_requested"||c.type==="dom_event_pause"&&!m.shouldIgnoreDomPause)&&a.controlledState.playbackState!==b.controlledState.playbackState){Q(a,b,{debug_reason:"paused"});return O}else return O}function aa(a,b,c){var d=b.controlledState.playbackState;if(d!=="paused"&&d!=="ended"){c.type==="implementation_video_node_unmounted"?Q(a,a,{debug_reason:"unloaded"}):(c.type==="implementation_unmounted"||c.type==="implementation_engine_destroy_requested")&&Q(a,b,{debug_reason:"unloaded"});return O}else return O}function ba(a,b,c){if(c.type==="implementation_engine_representation_blocked"){c=c.payload.blockedRepresentationID;N({eventType:"video_playback_fallback",logDataOverrides:{representation_id:c},prevState:a,state:b})}return O}function ca(a,b,e){e=b.controlledState.muted;var f=b.controlledState.volume,g=a.controlledState.muted,h=a.controlledState.volume;e=d("VideoPlayerMutedStateChange").getVideoPlayerMutedStateChange({currMuted:e,currVolume:f,prevMuted:g,prevVolume:h});g={current_volume:Math.round(f*100)};switch(e){case"muted":N({eventType:"muted",logDataOverrides:g,prevState:a,state:b});return O;case"unmuted":N({eventType:"unmuted",logDataOverrides:g,prevState:a,state:b});return O;case null:if(h<f){N({eventType:"volume_increase",logDataOverrides:g,prevState:a,state:b});return O}else if(h>f){N({eventType:"volume_decrease",logDataOverrides:g,prevState:a,state:b});return O}else return O;default:e;c("recoverableViolation")('Unexpected mutedStateChange "'+e+'"',"comet_video_player");return O}}function da(a,b,c){c=b.uncontrolledState.videoRepresentationID;var d=m.lastTrackedVideoRepresentation,e=b.uncontrolledState.audioRepresentationID,f=m.lastTrackedAudioRepresentation,g=b.controlledState.playbackState,h=b.controlledState.seeking;if(!h&&g!=="paused"&&g!=="ended"&&d!=null&&d!==c){var i=b.uncontrolledState.availableVideoTracks.find(function(a){return a.id===b.uncontrolledState.videoRepresentationID}),j=b.uncontrolledState.availableVideoTracks.find(function(a){return a.id===m.lastTrackedVideoRepresentation});N({eventType:"representation_ended",logDataOverrides:{next_quality_label:i==null?void 0:i.qualityLabel,next_representation_id:i==null?void 0:i.id,next_video_codecs:i==null?void 0:i.codec,quality_label:j==null?void 0:j.qualityLabel,representation_id:j==null?void 0:j.id,video_codecs:j==null?void 0:j.codec},prevState:a,state:b});m.lastTrackedVideoRepresentation=c;z("quality_change")}else d==null&&d!==c&&(m.lastTrackedVideoRepresentation=c);!h&&g!=="paused"&&g!=="ended"&&f!=null&&f!==e?(N({eventType:"representation_ended",logDataOverrides:{audio_representation_id:f,next_representation_id:e},prevState:a,state:b}),m.lastTrackedAudioRepresentation=e,z("audio_change")):f==null&&f!==e&&(m.lastTrackedAudioRepresentation=e);return O}function ea(a,b,d){var f=a.controlledState.error===d?babelHelpers["extends"]({},a,{controlledState:babelHelpers["extends"]({},a.controlledState,{error:{$ref:"$.player.lastError"}})}):a;a.uncontrolledState.videoElementError!=null&&(f=babelHelpers["extends"]({},f,{uncontrolledState:babelHelpers["extends"]({},f.uncontrolledState,{videoElementError:{code:a.uncontrolledState.videoElementError.code,message:a.uncontrolledState.videoElementError.message}})}));var g=b,h=typeof b.payload==="object"&&b.payload!=null?b.payload:null;if(h!=null){var j={};Object.keys(h).forEach(function(a){var b=h[a];b===d?j[a]={$ref:"$.player.lastError"}:j[a]=b});g=babelHelpers["extends"]({},b,{payload:j})}return{currentVideo:{audioStreamId:a.uncontrolledState.audioRepresentationID,dashAudioFormat:void 0,hasHD:void 0,hasRateLimit:void 0,hasSubtitles:a.controlledState.captionsLoaded,isDrm:Boolean(e.coreVideoPlayerMetaData.graphQLVideoDRMInfo),isHD:void 0,isLiveStream:e.coreVideoPlayerMetaData.isLiveStreaming,isRateLimited:void 0,liveManifestUrl:void 0,projection:a.uncontrolledState.videoProjection,resourceUrl:void 0,streamId:a.uncontrolledState.videoRepresentationID,streamType:a.controlledState.streamingFormat,tagHD:void 0,tagSD:void 0,videoID:e.coreVideoPlayerMetaData.videoFBID},player:{canPlayType:(i||(i=c("mapObject")))(c("VideoMimeTypes"),n),dimensions:e.dimensions?{height:e.dimensions.height,width:e.dimensions.width}:null,droppedFrames:a.uncontrolledState.videoElementDroppedFrameCount,initializationTime:void 0,initializationTimestamp:void 0,inPlayStallCount:void 0,inPlayStallTime:void 0,interruptCount:void 0,interruptTime:void 0,lastError:d,loggedError:m.lastLoggedError===d?{$ref:"$.player.lastError"}:m.lastLoggedError,stallCount:m.stallCount,stallTime:m.stallDuration,state:J(a),totalFrames:a.uncontrolledState.videoElementTotalFrameCount,version:a.playerVersion,videoSource:void 0,viewabilityPercentage:a.uncontrolledState.viewabilityPercentage},playerStateMachine:{action:g,state:f}}}function fa(a){var b=a.errorMessageFormat,c=a.errorName;a=a.errorCode==null||a.errorCode===""?c:a.errorCode;c=c+"#"+a+": "+ga(b);return c}function Y(a,b,c,e){a=ea(a,b,c);b=c.errorMessageFormat;var f=c.errorName,g=c.errorType,h=c.url;c=c.errorCode==null||c.errorCode===""?f:c.errorCode;return{error:f,error_code:c,error_description:b,error_domain:f,error_type:(c=g)!=null?c:d("VideoPlayerImplementationErrorNormalization").getErrorTypeFromErrorName(f,b),error_user_info:JSON.stringify(babelHelpers["extends"]({},a,e)),resource_url:h}}var ga=function(a){return a.replace(/([0-9]{2,})/g,function(a){var b="";while(b.length<a.length)b+="#";return b})};function ha(a,b,d){if(!c("gkx")("24360"))return O;if(d.type==="implementation_warning"){var e,f=d.payload.warningError,g=fa(f),h=m.warningState.eventsLoggedTotal;e=(e=m.warningState.eventsLoggedPerKey.get(g))!=null?e:0;if(h<m.warningState.eventsMaxLoggedTotal&&e<m.warningState.eventsMaxLoggedPerKey){m.warningState.eventsLoggedTotal++;m.warningState.eventsLoggedPerKey.set(g,e+1);g=Y(b,d,f,{warning:{loggedPerKey:e+1,loggedTotal:h+1}});N({eventType:"player_warning",logDataOverrides:babelHelpers["extends"]({},L(),g),prevState:a,state:b})}}return O}function ia(a,b,c){var d=b.controlledState.error;if(d!=null&&d!==m.lastLoggedError&&d.errorCode!=="410"){c=Y(b,c,d);N({eventType:"error",logDataOverrides:babelHelpers["extends"]({},L(),c),prevState:a,state:b});m.lastLoggedError=d}return O}function Z(a,b,c){var d=m.errorRecoveryAttemptState.currentRecoverableError;if(d!=null){c=Y(b,c,d);m.errorRecoveryAttemptState.eventsLogged++;m.errorRecoveryAttemptState.repeatCount=0;N({eventType:"error_recovery_attempt",logDataOverrides:babelHelpers["extends"]({},c),prevState:a,state:b})}return O}function ja(a,b,d){if(d.type==="error_recovery_attempt"&&m.errorRecoveryAttemptState.eventsLogged<l){var e=m.errorRecoveryAttemptState.currentRecoverableError,f=d.payload.recoverableError;if(f!=null&&f.errorName==="OZ_NETWORK"&&!c("NetworkStatus").isOnline())return O;m.errorRecoveryAttemptState.currentRecoverableError=f;e==null||e.errorName!==f.errorName||e.errorCode!==f.errorCode?Z(a,b,d):(m.errorRecoveryAttemptState.repeatCount++,m.errorRecoveryAttemptState.repeatCount>k&&Z(a,b,d))}return O}function ka(a,b,c){if(!t)return O;var d=b.uncontrolledState.videoElementPlaybackRate;c.type==="dom_event_ratechange"&&m.lastLoggedPlaybackSpeed!=null&&d!==0&&d!==m.lastLoggedPlaybackSpeed&&N({eventType:"playback_speed_changed",prevState:a,state:b});return O}function la(a,b,c){c=b.controlledState.playbackState;c==="paused"||c==="ended"?m.nextHeartbeatTime=null:c!=="stalling"&&m.nextHeartbeatTime==null&&(m.nextHeartbeatTime=Date.now()+j);var d=m.nextHeartbeatTime;if(d!=null){var e=Date.now();e>=d&&(c!=="stalling"&&N({eventType:"heart_beat",prevState:a,state:b}),m.nextHeartbeatTime=e+j)}return O}function ma(a,b,c){if(c.type==="implementation_mounted"){N({eventType:"player_loaded",prevState:a,state:b});return O}else return O}function $(a,b,c){N({eventType:c?"entered_fs":"exited_fs",prevState:a,state:b})}function na(a,b,c){e.coreVideoPlayerMetaData.playerFormat!==f.coreVideoPlayerMetaData.playerFormat&&N({eventType:"player_format_changed",prevState:a,state:b});return O}function oa(a,b,c){if(c.type==="dom_event_timeupdate"){c=m.nextPlayedThreeSecondsPlayheadPosition;if(c!=null){var d=b.uncontrolledState;d=d.videoElementPlayheadPosition;d!=null&&c<=d&&(N({eventType:"played_for_three_seconds",prevState:a,state:b}),m.nextPlayedThreeSecondsPlayheadPosition=null)}}return O}function pa(a,b,c){if(c.type!=="notify_fullscreen_changed")return O;c=m.lastLoggedFullscreenState;var d=b.uncontrolledState.isFullscreen;if(c!==!0&&d===!0){$(a,b,d);return O}else if(c===!0&&d===!1){$(a,b,d);return O}else return O}function qa(a,b,d){d=e.coreVideoPlayerMetaData.adClientToken;if((d==null||d==="")&&c("gkx")("24380"))return O;d=b.controlledState.playbackState;var f=m.lastLoggedViewabilityPercentage,g=b.uncontrolledState.viewabilityPercentage;if(d!=="paused"&&d!=="ended"&&f!=null&&f!==g){N({eventType:"viewability_changed",prevState:a,state:b});return O}else return O}function ra(a,b,c){if(c.type==="controller_set_captions_visible_requested"){N({eventType:"caption_change",prevState:a,state:b});return O}else return O}function sa(b){f=e;if(b.type==="notify_logging_metadata_change"){b=b.payload.loggingMetaData;if(s){var c=b.coreVideoPlayerMetaData.initialTracePolicy!==e.coreVideoPlayerMetaData.initialTracePolicy;p(a.debugLogId,e,b,{initialTracePolicyChanged:c})}e=b}}return{addDebugSubscriber:function(a){return y(a)},consumeLoggerEvents:function(){var b=g.splice(0);s&&(b.length>0&&o(a.debugLogId,"[consumeLoggerEvents] ("+b.length+" events)",b));return b},getLoggerState:function(){return m},handleStateMachine:function(b,c,d){sa(d);var e=c.controlledState.playbackState;D(b,c,d);C(b,c);var f=[na,pa,qa,S,T,V,U,W,X,ba,ca,aa,ma,ra,da,ha,ia,ja,la,ka].concat(x?[oa]:[]);f.forEach(function(a){a(b,c,d)});s&&q(a.debugLogId,b,c,d);(e==="paused"||e==="ended")&&(m.canLogPlayingEvent=!0);d.type==="controller_pause_requested"&&(m.hasPausedOnce=!0,m.shouldIgnoreDomPause=!0);d.type==="controller_play_requested"&&(m.hasPausedOnce=!0,m.shouldIgnoreDomPlay=!0);d.type==="dom_event_pause"&&(m.shouldIgnoreDomPause=!1);d.type==="dom_event_play"&&(m.shouldIgnoreDomPlay=!1,m.lastLoggedViewabilityPercentage=c.uncontrolledState.viewabilityPercentage)},logVPLEvent:function(a){var b=a.eventType,c=a.logDataOverrides;a=a.state;N({eventType:b,logDataOverrides:c,prevState:a,state:a})},setLoggingToVPLAdditionalData:function(a,c){b.set(a,c),s&&r(a,c)}}}g.HEARTBEAT_INTERVAL=j;g.createVideoPlayerImplementationStateMachineLogger=a}),98);
__d("convertToViewabilityPercentage",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a>=.99)return 100;else if(a>=.75)return 75;else if(a>=.5)return 50;else if(a>=.25)return 25;else if(a>=0)return 0;else return-2}f["default"]=a}),66);
__d("VideoPlayerImplementationStateMachineStateUncontrolledState",["NetworkStatus","convertToViewabilityPercentage","gkx","performance"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b,d=a.engineExtrasAPI,e=a.fullscreenControllerRef,f=a.videoElementAPI,g=a.videoLiveTraceRef;a=a.videoPlayerPassiveViewabilityInfoRef;g=g.current;var i=Date.now(),j=typeof (h||(h=c("performance"))).now==="function"?(h||(h=c("performance"))).now():0;if(f==null){var k;return{audioRepresentationID:void 0,availableAudioTracks:[],availableQualities:[],availableVideoTracks:[],clockTimestamp:i,currentPlayingAudioTrackID:void 0,currentPlayingVideoQuality:void 0,estimatedBandwidth:void 0,isDocumentHidden:document.hidden,isDRM:void 0,isFBIsLiveTemplated:void 0,isFBMS:void 0,isFBWasLive:void 0,isFullscreen:e.current?e.current.getIsFullscreen():void 0,isLiveRewindAvailable:void 0,isMixedCodecManifest:null,isPredictiveDash:void 0,liveTraceContext:g?(k=g.getLiveTraceContext())!=null?k:void 0:void 0,manifestIdentifier:void 0,mpdValidationErrors:void 0,networkConnected:void 0,perfTimestamp:j,targetAudioTrack:null,targetVideoQuality:"",videoElementDebugCurrentSrc:void 0,videoElementDebugSrc:void 0,videoElementDroppedFrameCount:void 0,videoElementDuration:void 0,videoElementEnded:void 0,videoElementError:void 0,videoElementLastBufferEndPosition:void 0,videoElementMuted:void 0,videoElementNetworkState:void 0,videoElementPaused:void 0,videoElementPlaybackRate:void 0,videoElementPlayheadPosition:void 0,videoElementReadyState:void 0,videoElementTotalFrameCount:void 0,videoElementVolume:void 0,videoProjection:void 0,videoRepresentationID:void 0,viewabilityPercentage:void 0}}k=f.getPlayheadPosition();a=a&&a.current;a=a&&a.getCurrent();return{audioRepresentationID:d?d.getCurrentPlayingAudioRepresentationID():void 0,availableAudioTracks:(b=d==null?void 0:d.getAvailableAudioTracks())!=null?b:[],availableQualities:(b=d==null?void 0:d.getAvailableVideoQualities())!=null?b:[],availableVideoTracks:(b=d==null?void 0:d.getAvailableVideoTracks())!=null?b:[],clockTimestamp:i,currentPlayingAudioTrackID:d?d.getCurrentPlayingAudioRepresentationID():void 0,currentPlayingVideoQuality:d?d.getCurrentPlayingVideoQuality():void 0,estimatedBandwidth:d?d.getEstimatedBandwidth():void 0,isDocumentHidden:document.hidden,isDRM:d?d.isDrm():void 0,isFBIsLiveTemplated:d?d.isFBIsLiveTemplated():void 0,isFBMS:d?d.isFBMS():void 0,isFBWasLive:d?d.isFBWasLive():void 0,isFullscreen:e.current?e.current.getIsFullscreen():void 0,isLiveRewindAvailable:d?d.isLiveRewindAvailable():void 0,isMixedCodecManifest:d?d.isMixedCodecManifest():null,isPredictiveDash:d?d.isPredictiveDash():void 0,liveTraceContext:g?(b=g.getLiveTraceContext())!=null?b:void 0:void 0,manifestIdentifier:d?d.getManifestIdentifier():void 0,mpdValidationErrors:d?d.getMpdValidationErrors():void 0,networkConnected:c("NetworkStatus").isOnline(),perfTimestamp:j,targetAudioTrack:(i=d==null?void 0:d.getTargetAudioTrack())!=null?i:null,targetVideoQuality:(e=d==null?void 0:d.getCurrentTargetVideoQuality())!=null?e:"",videoElementDebugCurrentSrc:c("gkx")("24351")?(g=f.getUnderlyingVideoElement())==null?void 0:g.currentSrc:void 0,videoElementDebugSrc:c("gkx")("24351")?(b=f.getUnderlyingVideoElement())==null?void 0:b.src:void 0,videoElementDroppedFrameCount:f.getDroppedFrameCount(),videoElementDuration:f.getDuration(),videoElementEnded:f.getEnded(),videoElementError:f.getError(),videoElementLastBufferEndPosition:f.getLastBufferEndPosition(),videoElementMuted:f.getMuted(),videoElementNetworkState:f.getNetworkState(),videoElementPaused:f.getPaused(),videoElementPlaybackRate:f.getPlaybackRate(),videoElementPlayheadPosition:k,videoElementReadyState:f.getReadyState(),videoElementTotalFrameCount:f.getTotalFrameCount(),videoElementVolume:f.getVolume(),videoProjection:d==null?void 0:d.getVideoProjectionType(),videoRepresentationID:d?d.getCurrentPlayingVideoRepresentationID():void 0,viewabilityPercentage:a?c("convertToViewabilityPercentage")(a.visiblePercentage):void 0}}g.createVideoPlayerImplementationStateMachineStateUncontrolledState=a}),98);
__d("VideoPlayerImplementationStateMachineState",["VideoPlayerImplementationStateMachineStateUncontrolledState"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.alwaysShowCaptions,c=a.areCaptionsAutogenerated,e=a.captionDisplayStyle,f=a.dimensions,g=a.isAbrEnabled,h=a.playerVersion;a=a.streamingFormat;var i=!0,j=1,k=d("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:null,fullscreenControllerRef:{current:null},videoElementAPI:null,videoLiveTraceRef:{current:null},videoPlayerPassiveViewabilityInfoRef:{current:null}});return{controlledState:{activeCaptions:null,activeEmsgBoxes:[],allEmsgBoxes:new Map(),bufferingDetected:!1,captionDisplayStyle:e,captionFormat:null,captionsLoaded:!1,captionsLocale:null,captionsVisible:b,dimensions:f,domEventsLatestPerfMs:{},emsgObserverTokens:new Set(),error:null,hasPlayEverBeenRequested:!1,hostCallPlayIDLast:null,hostCallQueue:[],implementationSeekSourcePosition:null,inbandCaptionsAutogenerated:c,isDesktopPictureInPicture:!1,isLiveRewindActive:!1,lastBufferingType:null,lastMuteReason:null,lastPausedTimeMs:0,lastPauseReason:null,lastPlayedTimeMs:0,lastPlayReason:null,latencyLevel:"normal",loopCount:0,loopCurrent:0,mountState:"before_mounted",muted:i,playbackState:"paused",scrubbing:!1,seekableRanges:null,seeking:!1,seekTargetPosition:null,selectedVideoQuality:"notselected",selectedVideoVariant:null,streamEnded:!1,streamingFormat:a,streamInterrupted:!1,targetPlaybackRate:1,ullIneligibilityReason:null,volume:j,waitingForDomPlaying:!1,waitingForDomTimeUpdateAfterSeeked:!1,watchTimeMs:0},isAbrEnabled:g,playerVersion:h,uncontrolledState:k}}g.createVideoPlayerImplementationStateMachineInitialState=a}),98);
__d("useSEOLoggedOutWebCrawler",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("23157")}g["default"]=a}),98);
__d("VideoPlayerImplementationEngineAPI",["CometEventListener","CometVideoPictureInPictureManagerContext","CometVisualCompletion","CurrentUser","ErrorMetadata","FBLogger","MediaPlaybackCompoundEventStateMachineLogger","MediaPlaybackLogFlusher","PlaybackSpeedExperiments","RunComet","SubscriptionsHandler","VideoLiveTrace","VideoPlayerBanzaiLogFlusher","VideoPlayerCaptionsController","VideoPlayerImplementationReactVideoElement.react","VideoPlayerImplementationStateMachine","VideoPlayerImplementationStateMachineHostCallQueue","VideoPlayerImplementationStateMachineLogger","VideoPlayerImplementationStateMachineState","VideoPlayerImplementationStateMachineStateUncontrolledState","VideoPlayerVideoPixelsFitContext","clearTimeout","cr:2336","cr:355","cr:4596","cr:506","deepEquals","err","gkx","qex","react","recoverableViolation","removeFromArray","setTimeout","unrecoverableViolation","useConcurrentAutoplayManagementAPI","useSEOLoggedOutWebCrawler","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));f=h;var j=f.useEffect,k=f.useRef,l=f.useState,m=function(){function a(a){var b=a.pauseRequestCallbacks,c=a.playRequestCallbacks,d=a.scrubBeginRequestCallbacks;a=a.scrubEndRequestCallbacks;this.$1=c;this.$2=b;this.$3=d;this.$4=a}var b=a.prototype;b.playRequest=function(a){var b=this;this.$1.push(a);return function(){c("removeFromArray")(b.$1,a)}};b.pauseRequest=function(a){var b=this;this.$2.push(a);return function(){c("removeFromArray")(b.$2,a)}};b.scrubBeginRequest=function(a){var b=this;this.$3.push(a);return function(){c("removeFromArray")(b.$3,a)}};b.scrubEndRequest=function(a){var b=this;this.$4.push(a);return function(){c("removeFromArray")(b.$4,a)}};return a}();function n(a){var b=a.concurrentAutoplayManagementAPI,d=a.debugAPI,e=a.exitPictureInPictureImpl,f=a.fullscreenControllerRef,g=a.getCurrentExposedState,h=a.getCurrentIsDesktopPictureInPicture,i=a.getCurrentIsFullscreen,j=a.getCurrentLiveRewindPlayheadPosition,k=a.getCurrentPlayheadPosition,l=a.internal_getCurrentStateMachineState,n=a.loggerAPI,o=a.pauseImpl,p=a.playImpl,q=a.registerEmsgObserverImpl,r=a.requestPictureInPictureImpl,s=a.scrubBeginImpl,t=a.scrubEndImpl,u=a.seekImpl,v=a.selectVideoQualityImpl,w=a.selectVideoVariantImpl,x=a.setCaptionsDisplayStyleImpl,y=a.setCaptionsUrlImpl,z=a.setCaptionsVisibleImpl,A=a.setIsLiveRewindActiveImpl,B=a.setLatencyLevelImpl,C=a.setMutedImpl,D=a.setPictureInPictureStateImpl,E=a.setPlaybackRateImpl,F=a.setVolumeImpl,G=a.subscribers,H=a.unregisterEmsgObserverImpl,I=a.videoElementAPIRef,J=new Set(),K=!1,L=null,M=[],N=[],O=[],P=[],Q=new m({pauseRequestCallbacks:N,playRequestCallbacks:M,scrubBeginRequestCallbacks:O,scrubEndRequestCallbacks:P}),R={freeze:function(){if(!g().paused)throw c("unrecoverableViolation")("Video player must be paused before the controller freeze","comet_video_player");var a={};try{var b=!1;J.size===0&&(b=!0,L={exposedState:g(),isFullscreen:i(),liveRewindPlayheadPosition:j(),playheadPosition:k(),stateMachineState:l()});J.add(a);b&&(K=!0,G.forEach(function(a){a()}))}finally{K=!1}return a},isFrozen:function(){return L!=null},unfreeze:function(a){if(!J.has(a))throw c("unrecoverableViolation")("Video player controller unfreeze token not found","comet_video_player");J["delete"](a);J.size===0&&(L=null,G.forEach(function(a){a()}))}},S=babelHelpers["extends"]({},b,R,n,{debugAPI:d,exitPictureInPicture:function(){if(R.isFrozen())return;e()},getCurrentState:function(){return L!=null?L.exposedState:g()},getIsDesktopPictureInPicture:function(){return L!=null?L.isFullscreen:h()},getIsFullscreen:function(){return L!=null?L.isFullscreen:i()},getLiveRewindPlayheadPosition:function(){return L!=null?L.liveRewindPlayheadPosition:j()},getPlayheadPosition:function(){return L!=null?L.playheadPosition:k()},internal_getStateMachineState:function(){return L!=null?L.stateMachineState:l()},internal_getVideoElement:function(){var a=I.current;if(a!=null){a=a.getUnderlyingVideoElement();return a}return null},internal_getVideoPixelsDimensions:function(){var a=I.current;return(a=a==null?void 0:a.getVideoPixelsDimensions())!=null?a:null},observeOn:function(){return Q},pause:function(a){if(R.isFrozen())return;N.forEach(function(b){return b(a)});o(a)},play:function(a){if(R.isFrozen())return;M.forEach(function(b){return b(a)});p(a)},registerEmsgObserver:function(){var a={};q(a);return a},requestPictureInPicture:function(){if(R.isFrozen())return;r()},requestSetIsFullscreen:function(a){if(R.isFrozen())return;var b=f.current;if(b){var c=S.internal_getVideoElement();b.requestSetIsFullscreen(a,c)}},scrollIntoView:function(a){var b=S.internal_getVideoElement();b&&b.scrollIntoView(a)},scrubBegin:function(){if(R.isFrozen())return;O.forEach(function(a){return a()});s()},scrubEnd:function(a){if(R.isFrozen())return;P.forEach(function(b){return b(a)});t(a)},seek:function(a){if(R.isFrozen())return;u(a)},selectVideoQuality:function(a){if(R.isFrozen())return;v(a)},selectVideoVariant:function(a){if(R.isFrozen())return;w(a)},setCaptionsDisplayStyle:function(a){if(R.isFrozen())return;x(a)},setCaptionsUrl:function(a){if(R.isFrozen())return;y(a)},setCaptionsVisible:function(a){if(R.isFrozen())return;z(a)},setIsLiveRewindActive:function(a){if(R.isFrozen())return;A(a)},setLatencyLevel:function(a){if(R.isFrozen())return;B(a)},setMuted:function(a,b){if(R.isFrozen())return;C(a,b)},setPictureInPictureState:function(a){if(R.isFrozen())return;D(a)},setPlaybackRate:function(a){if(R.isFrozen())return;E(a)},setVolume:function(a){if(R.isFrozen())return;F(a)},subscribe:function(a){var b=function(){if(R.isFrozen()&&!K)return;a()},d=f.current,e=d?d.subscribe(b):null;G.push(b);return{remove:function(){e&&e.remove(),c("removeFromArray")(G,b)}}},unregisterEmsgObserver:function(a){H(a)},videoElementAPIRef:I});return S}function o(a){var b=a.concurrentAutoplayManagementAPI,c=a.createExposedState,d=a.debugAPI,e=a.fullscreenControllerRef,f=a.loggerToSNAPL,g=a.loggerToVPL,h=a.machine,i=a.subscribers,j=a.videoElementAPIRef;a={logVPLEvent_DO_NOT_USE:function(a,b){g.logVPLEvent({eventType:a,logDataOverrides:b,state:h.getCurrentState()})},setLoggingToSNAPLAdditionalData:function(a){f==null?void 0:f.setLoggingToSNAPLAdditionalData(a)},setLoggingToVPLAdditionalData:function(a,b){g.setLoggingToVPLAdditionalData(a,b)}};return n({concurrentAutoplayManagementAPI:b,debugAPI:d,exitPictureInPictureImpl:function(){h.dispatch({type:"controller_picture_in_picture_exit_requested"})},fullscreenControllerRef:e,getCurrentExposedState:function(){return c(h.getCurrentState())},getCurrentIsDesktopPictureInPicture:function(){var a;return(a=h.getCurrentState().controlledState.isDesktopPictureInPicture)!=null?a:!1},getCurrentIsFullscreen:function(){var a=e.current;return a?a.getIsFullscreen():!1},getCurrentLiveRewindPlayheadPosition:function(){var a=h.getCurrentState();a=a.controlledState;var b=a.isLiveRewindActive,c=a.seekableRanges;a=a.seekTargetPosition;if(!b||a==null)return null;c=(b=c==null?void 0:c.end(0))!=null?b:0;return a-c},getCurrentPlayheadPosition:function(){var a,b=0;return(a=(a=(a=j.current)==null?void 0:a.getPlayheadPosition())!=null?a:h.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?a:b},internal_getCurrentStateMachineState:function(){return h.getCurrentState()},loggerAPI:a,pauseImpl:function(a){h.dispatch({payload:{reason:a},type:"controller_pause_requested"})},playImpl:function(a){h.dispatch({payload:{reason:a},type:"controller_play_requested"})},registerEmsgObserverImpl:function(a){h.dispatch({payload:{token:a},type:"register_emsg_observer"})},requestPictureInPictureImpl:function(){h.dispatch({type:"controller_picture_in_picture_requested"})},scrubBeginImpl:function(){h.dispatch({type:"controller_scrub_begin_requested"})},scrubEndImpl:function(a){h.dispatch({payload:{seekTargetPosition:a},type:"controller_scrub_end_requested"})},seekImpl:function(a){h.dispatch({payload:{seekTargetPosition:a},type:"controller_seek_requested"})},selectVideoQualityImpl:function(a){h.dispatch({payload:{selectedVideoQuality:a},type:"controller_quality_requested"})},selectVideoVariantImpl:function(a){h.dispatch({payload:{selectedVideoVariant:a},type:"controller_video_variant_requested"})},setCaptionsDisplayStyleImpl:function(a){h.dispatch({payload:{captionDisplayStyle:a},type:"controller_set_caption_display_style_requested"})},setCaptionsUrlImpl:function(a){h.dispatch({payload:{captionsUrl:a},type:"controller_set_captions_url_requested"})},setCaptionsVisibleImpl:function(a){h.dispatch({payload:{captionsVisible:a},type:"controller_set_captions_visible_requested"})},setIsLiveRewindActiveImpl:function(a){h.dispatch({payload:{isLiveRewindActive:a},type:"controller_set_is_live_rewind_active_requested"})},setLatencyLevelImpl:function(a){h.dispatch({payload:{latencyLevel:a},type:"controller_set_latency_level_requested"})},setMutedImpl:function(a,b){h.dispatch({payload:{muted:a,reason:b},type:"controller_muted_requested"})},setPictureInPictureStateImpl:function(a){h.dispatch({payload:{isInPictureInPictureMode:a},type:"controller_set_picture_in_picture_state_requested"})},setPlaybackRateImpl:function(a){h.dispatch({payload:{playbackRate:a},type:"controller_set_playback_rate"})},setVolumeImpl:function(a){h.dispatch({payload:{volume:a},type:"controller_volume_requested"})},subscribers:i,unregisterEmsgObserverImpl:function(a){h.dispatch({payload:{token:a},type:"unregister_emsg_observer"})},videoElementAPIRef:j})}function p(a){a=a.current;if(a==null)throw c("unrecoverableViolation")("Attempted to access VideoElementAPI while it is not available.","comet_video_player");return a}function q(a){var b=a.alwaysShowCaptions,e=a.areCaptionsAutogenerated,f=a.captionDisplayStyle,g=a.captionsControllerRef,h=a.debugLogId,i=a.dimensions,j=a.engineExtrasAPI,k=a.engineMetadata,l=a.fullscreenControllerRef,m=a.handleFatalError,n=a.handleStateMachine,o=a.videoElementAPIRef,q=a.videoLiveTraceRef,s=a.videoPlayerPassiveViewabilityInfoRef;function t(a){d("VideoPlayerImplementationStateMachineHostCallQueue").applyOrQueueHostCall({engineExtrasAPI:j,hostCall:a,machine:v,videoElementAPI:o.current})}var u=null;a=[function(a,b,d){d.type==="implementation_host_call_applied"&&d.payload.hostCall.type==="host_call_play"&&b.controlledState.lastPlayReason==="autoplay_initiated"?c("CometVisualCompletion").addFirstMarkerPoint("firstVideoAutoplayStalling"):b.controlledState.playbackState!==a.controlledState.playbackState&&b.controlledState.playbackState==="playing"&&b.controlledState.lastPlayReason==="autoplay_initiated"&&c("CometVisualCompletion").addFirstMarkerPoint("firstVideoAutoplayPlaying");return!0},function(a,b,c){n(a,b,c);return!0},function(a,b,c){return!0},function(a,b,c){if(a.controlledState.bufferingDetected===!1&&b.controlledState.bufferingDetected===!0||a.controlledState.bufferingDetected===!0&&b.controlledState.bufferingDetected===!1)if(b.controlledState.bufferingDetected){a=(c=b.controlledState.lastBufferingType)!=null?c:"in_play";c=j.getPerfLoggerProvider();u=c?c.getOperationLogger("buffering").setState("buffering").setType(a).start():null}else!b.controlledState.bufferingDetected&&u!=null&&(u.log(),u=null);return!0},function(a,b,c){return c.type!=="implementation_engine_destroy_requested"?!0:!1},function(a,b,c){if(c.type!=="implementation_engine_initialized")return!0;a=p(o);c=c.type;d("VideoPlayerImplementationStateMachineHostCallQueue").flushHostCallQueue({engineExtrasAPI:j,machine:v,reason:c,state:b,videoElementAPI:a});return!1},function(a,b,c){if(c.type!=="dom_event_ended")return!0;a=b.controlledState;(a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1)&&v.dispatch({payload:{reason:"loop_initiated"},type:"controller_play_requested"});return!1},function(a,b,c){if(c.type!=="controller_pause_requested")return!0;a=b.controlledState.playbackState;if(a!=="paused")return!1;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_pause"});return!1},function(a,b,c){if(c.type!=="controller_play_requested")return!0;a=b.controlledState.playbackState;if(a!=="stalling")return!1;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_play"});return!1},function(a,b,c){if(c.type!=="controller_seek_requested")return!0;a=b.controlledState;b=a.seeking;a=a.seekTargetPosition;b&&a!=null&&t({payload:{currentTime:a,hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_set_current_time"});return!1},function(a,b,c){if(c.type!=="controller_muted_requested")return!0;a=b.controlledState.muted;if(a!==c.payload.muted)return!1;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),muted:a,reason:c.type},type:"host_call_set_muted"});return!1},function(a,b,c){if(c.type!=="controller_scrub_begin_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_scrub_end_requested")return!0;a=b.controlledState;b=a.seeking;var e=a.seekTargetPosition;a=a.targetPlaybackRate;b&&e!=null?(t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:c.type+":seek"},type:"host_call_set_playback_rate"}),t({payload:{currentTime:e,hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type+":seek"},type:"host_call_set_current_time"})):t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:c.type+":cancel"},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="buffering_begin_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_set_playback_rate")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:c.payload.playbackRate,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="buffering_end_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:b.controlledState.targetPlaybackRate,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_volume_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type,volume:b.controlledState.volume},type:"host_call_set_volume"});return!1},function(a,b,c){if(c.type!=="controller_video_variant_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type,selectedVideoVariant:b.controlledState.selectedVideoVariant},type:"host_call_set_video_variant"});return!1},function(a,b,c){if(c.type!=="controller_quality_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type,selectedVideoQuality:b.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"});return!1},function(a,b,c){if(!(c.type==="controller_set_latency_level_requested"||c.type==="implementation_set_latency_level_requested"))return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),latencyLevel:c.payload.latencyLevel,reason:c.type},type:"host_call_set_latency_level"});return!1},function(a,b,c){if(!(c.type==="dom_event_timeupdate"||c.type==="captions_loaded"))return!0;c=g.current;var e=b.controlledState.captionsVisible,f=o.current;f=f?f.getPlayheadPosition():0;if(d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&b.controlledState.isLiveRewindActive){var h=b.controlledState.seekableRanges;h=h!=null?(h=h.end(h.length()-1))!=null?h:0:0;f>=h&&v.dispatch({payload:{isLiveRewindActive:!1},type:"controller_set_is_live_rewind_active_requested"})}if(!j.getRepresentationCaptionsExpectedFromManifest()&&c&&e&&b.controlledState.captionsLoaded){h=c.handleTimeUpdate(f);e=c.getCaptionFormat();b=a.controlledState.activeCaptions;c=a.controlledState.captionFormat;e!==c&&v.dispatch({payload:{captionFormat:e},type:"controller_set_caption_format_requested"});r(b,h)&&v.dispatch({payload:{activeCaptions:h,captionsLocale:null},type:"controller_set_active_captions_requested"})}a=q.current;a!=null&&a.onUpdateStatus({position:f});return!1},function(a,b,c){if(c.type!=="cea608_bytes_received")return!0;a=g.current;if(a){b=c.payload;c=b.timescale;b=b.videoBytes;a.handleCea608BytesReceived({timescale:c,videoBytes:b})}return!1},function(a,b,c){if(c.type!=="controller_set_captions_url_requested")return!0;a=g.current;if(a){b=c.payload.captionsUrl;a.updateCaptionsUrl(b)}return!1},function(a,b,c){if(c.type!=="controller_set_is_live_rewind_active_requested")return!0;j.setEnableLiveheadCatchup(!c.payload.isLiveRewindActive);!!d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&!c.payload.isLiveRewindActive&&v.dispatch({payload:{playbackRate:1},type:"controller_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_picture_in_picture_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_picture_in_picture"});return!1},function(a,b,c){if(c.type!=="controller_picture_in_picture_exit_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_exit_picture_in_picture"});return!1}];var v=d("VideoPlayerImplementationStateMachine").createVideoPlayerImplementationStateMachineWithStateTransitionHandlers({collectUncontrolledState:function(){var a=o.current;return d("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:j,fullscreenControllerRef:l,videoElementAPI:a,videoLiveTraceRef:q,videoPlayerPassiveViewabilityInfoRef:s})},debugLogId:h,initialState:d("VideoPlayerImplementationStateMachineState").createVideoPlayerImplementationStateMachineInitialState({alwaysShowCaptions:b,areCaptionsAutogenerated:e,captionDisplayStyle:f,dimensions:i,isAbrEnabled:k.isAbrEnabled,playerVersion:k.playerVersion,streamingFormat:k.streamingFormat}),onFatalError:m,stateTransitionHandlers:a});return v}function r(a,b){if(a===null&&b===null)return!1;if(a===null||b===null)return!0;var c=(b=b.rows)!=null?b:[];a=(b=a.rows)!=null?b:[];return a.length!==c.length||a.some(function(a,b){return a!==c[b]})}function s(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_fullscreen_changed"})}))}function t(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_viewability_changed"})}))}function u(a){var b=a.engineMetadata;a=a.state;var c=a.controlledState,d=c.activeCaptions,e=c.activeEmsgBoxes,f=c.captionDisplayStyle,g=c.captionsLoaded,h=c.captionsVisible,i=c.domEventsLatestPerfMs,j=c.error,k=c.hasPlayEverBeenRequested,l=c.implementationSeekSourcePosition,m=c.inbandCaptionsAutogenerated,n=c.isDesktopPictureInPicture,o=c.isLiveRewindActive,p=c.lastMuteReason,q=c.lastPauseReason,r=c.lastPlayedTimeMs,s=c.lastPlayReason,t=c.latencyLevel,u=c.loopCount,v=c.loopCurrent,w=c.muted,x=c.playbackState,y=c.seekableRanges,z=c.seeking,A=c.seekTargetPosition,B=c.selectedVideoQuality,C=c.streamingFormat,D=c.streamInterrupted,E=c.targetPlaybackRate,F=c.ullIneligibilityReason,G=c.volume;c=c.watchTimeMs;var H=a.uncontrolledState,I=H.availableAudioTracks,J=H.availableQualities,K=H.availableVideoTracks,L=H.currentPlayingAudioTrackID,M=H.currentPlayingVideoQuality,N=H.isDRM,O=H.isFullscreen,P=H.isLiveRewindAvailable,Q=H.targetAudioTrack,R=H.targetVideoQuality,S=H.videoElementDuration,T=H.videoElementLastBufferEndPosition,U=H.videoProjection;H=H.videoRepresentationID;var V=x==="ended",W=x==="paused"||V,X=x==="playing",aa=x==="inPlayStalling";x=x==="stalling"||aa;g={activeCaptions:d,activeEmsgBoxes:e,availableAudioTracks:I,availableVideoQualities:J,availableVideoTracks:K,bufferEnd:(d=T)!=null?d:0,captionDisplayStyle:f,captionsLoaded:g,captionsVisible:h,currentAudioTrackID:(e=L)!=null?e:null,currentVideoQuality:(I=M)!=null?I:"",domEventsLatestPerfMs:i,duration:(J=S)!=null?J:0,ended:V,error:j,hasPlayEverBeenRequested:k,inbandCaptionsAutogenerated:m,inPlayStalling:aa,isAbrEnabled:b.isAbrEnabled,isDesktopPictureInPicture:(K=n)!=null?K:!1,isDRM:(T=N)!=null?T:null,isFullscreen:(d=O)!=null?d:!1,isLiveRewindActive:o,isLiveRewindAvailable:(f=P)!=null?f:!1,lastMuteReason:p,lastPauseReason:q,lastPlayedTimeMs:r,lastPlayReason:s,latencyLevel:t,loopCount:u,loopCurrent:v,muted:w,paused:W,playerVersion:a.playerVersion,playing:X,seekableRanges:y,seeking:z,seekSourcePosition:l,seekTargetPosition:A,selectedVideoQuality:B,stalling:x,streamingFormat:C,streamInterrupted:D,targetAudioTrack:Q,targetPlaybackRate:E,targetVideoQuality:R,ullIneligibilityReason:F,videoProjection:U,videoRepresentationID:H,volume:G,watchTimeMs:c};return g}function a(a){var e=a.checkInDOM,f=a.createDebugAPI,g=a.createVideoPlayerError,h=a.debugLog,i=a.debugLogId,j=a.destroyEngineParts,k=a.engineExtrasAPI,l=a.engineMetadata,m=a.handleFatalError,n=a.handleVideoElementChanged,p=a.handleVideoInfoChange,r=a.initialProps,v=a.setExposedStateInReact,w=r.loggingMetaData.instanceKey;h=r.loggingMetaData.coreVideoPlayerMetaData;a=h.broadcastId;var x=h.isLiveStreaming;h=h.isLiveTraceEnabled;var y={current:Boolean(x)&&Boolean(h)&&a!=null?new(c("VideoLiveTrace"))(a,w,c("CurrentUser").getAccountID()):null},z=r.loggingConfig.loggingToVPLEnabled==null?!0:r.loggingConfig.loggingToVPLEnabled,A=d("VideoPlayerImplementationStateMachineLogger").createVideoPlayerImplementationStateMachineLogger({debugLogId:i,initialLoggingMetaData:r.loggingMetaData,videoLiveTraceRef:y}),B=new(c("VideoPlayerBanzaiLogFlusher"))(i,A),C=r.loggingConfig.loggingToSNAPLEnabled==null?c("gkx")("8610"):r.loggingConfig.loggingToSNAPLEnabled;x=r.loggingConfig.loggingToSNAPLCreateMetadataProvider;var D=C?d("MediaPlaybackCompoundEventStateMachineLogger").createMediaPlaybackCompoundEventStateMachineLogger({debugLogId:i,initialLoggingMetaData:r.loggingMetaData,metadataProvider:x==null?void 0:x()}):null,E=D!=null?new(c("MediaPlaybackLogFlusher"))(D):null,F={current:(h=r.videoPlayerPassiveViewabilityInfo)!=null?h:null},G={current:(a=r.fullscreenController)!=null?a:null},H={current:null};x=d("useConcurrentAutoplayManagementAPI").createConcurrentAutoplayManagementAPI();var I=[],J=function(){I.forEach(function(a){a()}),!z||r.loggingConfig.disableLogging===!0?B.discardLogsWithoutFlushing():B.flushLogs(),!C||r.loggingConfig.disableLogging===!0?E==null?void 0:E.discardLogsWithoutFlushing():E==null?void 0:E.flushLogs()},K={current:r.onExposedStateChanged},L={current:null},M=null,N={current:{inbandCaptionsAutogeneratedFromManifest:!1,inbandCaptionsExpectedFromManifest:!1,inbandCaptionsExpectedFromProps:r.inbandCaptionsExpected,representationCaptionsExpectedFromManifest:!1,sideLoadCaptionsExpectedFromProps:r.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(h=r.sideLoadCaptionsUrl)!=null?h:null}},O={current:null},P={current:null},Q=new(c("SubscriptionsHandler"))(),R=new(c("SubscriptionsHandler"))(),S="before_mounted";function T(a){if(c("gkx")("24349"))return a.controlledState.mountState==="mounted_onscreen"||a.controlledState.mountState==="mounted_offscreen";else return S==="mounted"}var U={current:null},V=function(a){a=u({engineMetadata:l,state:a});return a},W={current:null},X={current:null},aa=function(a){if(T(a)){if(a===W.current)return;var b=V(a);if(X.current!=null&&c("deepEquals")(X.current,b))return;W.current=a;X.current=b;v(b);a=K.current;a&&a({implementationController:oa,implementationExposedState:b})}};a=function(a,b,c){A.handleStateMachine(a,b,c),D==null?void 0:D.handleStateMachine(a,b,c),aa(b),J()};var ba=function(a,b){};h=function(a){ba(a,"state_machine_fatal_error")};var Y=q({alwaysShowCaptions:Boolean(r.alwaysShowCaptions),areCaptionsAutogenerated:Boolean(r.areCaptionsAutogenerated),captionDisplayStyle:r.captionDisplayStyle,captionsControllerRef:H,debugLogId:i,dimensions:r.dimensions,engineExtrasAPI:k,engineMetadata:l,fullscreenControllerRef:G,handleFatalError:h,handleStateMachine:a,videoElementAPIRef:U,videoLiveTraceRef:y,videoPlayerPassiveViewabilityInfoRef:F}),ca=!1,Z=function(a){var b=L.current!=null,d=U.current!=null;Q.release();Y.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:b},type:"implementation_engine_destroy_requested"});try{ca||(ca=!0,j(["destroyEngine("+a+")"]))}catch(g){try{var e=c("FBLogger")("comet_video_player").catching(g),f=r.videoFBID;f!=null&&(e=e.addMetadata("COMET_VIDEO","VIDEO_ID",f));e=e.addMetadata("COMET_VIDEO","VIDEO_IMPLEMENTATION_DEBUG_DATA",JSON.stringify({destroy_reason:a,player_instance_key:w,player_version:l.playerVersion,video_element_api_existed:d,video_element_existed:b}));e.warn("Error thrown by destroyEngineParts: %s",g.message)}catch(a){}}f=H.current;f!=null&&(Y.getCurrentState().controlledState.captionsLoaded&&Y.dispatch({type:"captions_unloaded"}),H.current=null,f.destroy());s(null,G,O,Y);t(null,F,P,Y);Y.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:b},type:"implementation_engine_destroyed"});b&&c("gkx")("5923")&&ka(null,["destroy",a])};ba=function(a,b){a=g(a,b);Y.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"});Z("implementation_fatal_error");m(a)};function da(a){return a.sideLoadCaptionsExpectedFromProps||a.sideLoadCaptionsUrlFromProps!=null}function ea(a){return a.inbandCaptionsExpectedFromProps&&((a=a.inbandCaptionsExpectedFromManifest)!=null?a:!1)}function fa(a){return(a=a.inbandCaptionsAutogeneratedFromManifest)!=null?a:!1}var ga=function(a){var b=da(a),c=ea(a),e=fa(a),f=H.current;e!==fa(N.current)&&Y.dispatch({payload:{inbandCaptionsAutogenerated:e},type:"inband_captions_autogenerated_changed"});f!=null?c!==ea(N.current)&&(f.updateInbandCaptionsExpected(c),!c&&Y.getCurrentState().controlledState.captionsLoaded&&Y.dispatch({type:"captions_unloaded"})):(b||c)&&f==null&&(H.current=d("VideoPlayerCaptionsController").createCaptionsController({captionsUrl:b?a.sideLoadCaptionsUrlFromProps:null,inbandCaptionsExpected:c,onCaptionsLoaded:function(){Y.dispatch({type:"captions_loaded"})}}));N.current=a},ha=function(a){k!=null&&a&&a.width>0&&a.height>0&&(k.setDimensions(a),Y.dispatch({payload:{dimensions:{height:a.height,width:a.width}},type:"player_dimensions_changed"}))},ia=function(a){a!==Y.getCurrentState().controlledState.loopCount&&Y.dispatch({payload:{loopCount:a},type:"loop_count_change_requested"})},ja=function(a){"srcObject"in a&&(a.srcObject=null),a.removeAttribute("src"),R.release(),R.engage()},ka=function(a,e){if(L.current===a)return;a!=null&&L.current!=null&&L.current!==a&&c("recoverableViolation")("The video element was recreated","comet_video_player");M!=null&&M();var f=L.current;f&&ja(f);L.current=a;b("cr:506")!=null&&a!=null&&(M=b("cr:506")(a,i));a!=null?(R.addSubscriptions(c("CometEventListener").listen(a,"enterpictureinpicture",function(){var a=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExp();a&&Y.dispatch({payload:{isInPictureInPictureMode:!0},type:"controller_set_picture_in_picture_state_requested"})}),c("CometEventListener").listen(a,"leavepictureinpicture",function(){var a=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExp();a&&Y.dispatch({payload:{isInPictureInPictureMode:!1},type:"controller_set_picture_in_picture_state_requested"})})),Y.dispatch({type:"implementation_video_node_mounted"}),n(a,[].concat(e,["handleVideoElement(non-null)"]))):(Y.dispatch({type:"implementation_video_node_unmounted"}),n(null,[].concat(e,["handleVideoElement(null)"])))};h=r.loggingMetaData.instanceKey;a=function(a){var b;K.current=a.onExposedStateChanged;if(!T(Y.getCurrentState()))return;s((b=a.fullscreenController)!=null?b:null,G,O,Y);t((b=a.videoPlayerPassiveViewabilityInfo)!=null?b:null,F,P,Y);if(!p(a)){b={inbandCaptionsAutogeneratedFromManifest:N.current.inbandCaptionsAutogeneratedFromManifest,inbandCaptionsExpectedFromManifest:N.current.inbandCaptionsExpectedFromManifest,inbandCaptionsExpectedFromProps:a.inbandCaptionsExpected,representationCaptionsExpectedFromManifest:N.current.representationCaptionsExpectedFromManifest,sideLoadCaptionsExpectedFromProps:a.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(b=a.sideLoadCaptionsUrl)!=null?b:null};ga(b);ha(a.dimensions);ia((b=a.loopCount)!=null?b:0)}Y.dispatch({payload:{loggingMetaData:a.loggingMetaData},type:"notify_logging_metadata_change"})};var $=null;h=function(){var a=Y.getCurrentState().controlledState.mountState;switch(a){case"before_mounted":Q.addSubscriptions(d("RunComet").onUnload(function(){Z("page_unload")}));Y.dispatch({type:"implementation_mounted"});n(L.current,["handleReactEffectInit(before_mounted)"]);break;case"mounted_onscreen":break;case"mounted_offscreen":c("clearTimeout")($);$=null;Y.dispatch({type:"implementation_onscreen"});break;case"unmounted":break;default:a}};var la=function(){var a=function a(){c("clearTimeout")($);$=null;if(Y.getCurrentState().controlledState.mountState==="unmounted")return;var b=e();!b?(Y.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),Z("implementation_unmounted:react_effect_cleanup")):$=c("setTimeout")(a,1e3)},b=Y.getCurrentState().controlledState.mountState;switch(b){case"before_mounted":break;case"mounted_onscreen":Y.dispatch({type:"implementation_offscreen"});a();break;case"mounted_offscreen":a();break;case"unmounted":break}},ma=function(){T(Y.getCurrentState())||(S="mounted",Q.addSubscriptions(d("RunComet").onUnload(function(){Z("page_unload")})),Y.dispatch({type:"implementation_mounted"}),n(L.current,["handleReactMount"]))},na=function(){T(Y.getCurrentState())&&(S="unmounted",Y.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),Z("implementation_unmounted:react_effect_cleanup"))},oa=o({concurrentAutoplayManagementAPI:x,createExposedState:V,debugAPI:f({getVideoElementAPI:function(){return U.current},loggerToVPL:A}),fullscreenControllerRef:G,loggerToSNAPL:D,loggerToVPL:A,machine:Y,subscribers:I,videoElementAPIRef:U});x=d("VideoPlayerImplementationStateMachine").createReactVideoElementCallbacksForStateMachine(Y,ka);f=V(Y.getInitialState());la={handleReactEffectCleanup:c("gkx")("24349")?la:na,handleReactEffectInit:c("gkx")("24349")?h:ma,handleReactPropsChanged:a,implementationController:oa,initialExposedState:f,logFlusherToVPL:B,machine:Y,notifySubscribers:J,videoElementCallbacks:x,videoElementRefCallback:function(a){if(a==null&&c("gkx")("5923"))return;ka(a,["videoElementRefCallback"])}};return{engine:la,getCaptionsInfo:function(){return N.current},getVideoElement:function(){return L.current},getVideoLiveTrace:function(){return y.current},handleCaptionsInfoChange:ga,handleFatalImplementationError:ba,loggerToVPL:A,machine:Y,videoElementAPIRef:U}}function v(a,b){var d,e=c("err").apply(void 0,[a.errorName+": "+a.errorMessageFormat].concat(a.errorMessageParams));e.name=a.errorName;e.errorName=a.errorName;e.type="error";a.stack!=null&&a.stack!==""&&(e.stack=a.stack);var f=new(c("ErrorMetadata"))();f.addEntries(["COMET_VIDEO","ERROR_LOCATION",a.errorLocation],["COMET_VIDEO","ERROR_CODE",(d=a.errorCode)!=null?d:""],["COMET_VIDEO","ERROR_URL",(d=a.url)!=null?d:""]);b!=null&&f.addEntry("COMET_VIDEO","VIDEO_ID",b);d=a.originalError;d!=null&&(typeof d==="string"?f.addEntry("COMET_VIDEO","ORIGINAL_ERROR",d):d instanceof Error&&d.message!=null&&f.addEntry("COMET_VIDEO","ORIGINAL_ERROR",d.message));e.metadata=f;return e}function e(a,d){var e=l(null),f=e[0],g=e[1];e=l(null);var h=e[0],m=e[1];e=a.wrapVideoPixels_EXPERIMENTAL;var n=k(a),o=k(d),p=k(null),q=c("useStable")(function(){return o.current({checkInDOM:function(){var a=document.body,b=p.current;return a!=null&&b!=null&&a.contains(b)},debugLogId:String(n.current.loggingMetaData.instanceKey),handleFatalError:function(a){m(a)},initialProps:n.current,setExposedStateInReact:g})});f=(d=f)!=null?d:q.initialExposedState;d=(d=f.error)!=null?d:h;if(d!=null){h=a.VideoPlayerShakaPerformanceLoggerClass;h&&(c("gkx")("24350")||c("qex")._("1655"))&&h.flushQueuedLogs();throw v(d,n.current.videoFBID)}j(function(){q.handleReactEffectInit();return function(){q.handleReactEffectCleanup()}},[q]);var r=k(null);j(function(){a!==r.current&&q.handleReactPropsChanged(a),r.current=a});h=c("useSEOLoggedOutWebCrawler")();d=a.renderVideoPixelsFit?a.renderVideoPixelsFit(f):null;h=h?i.jsx(c("VideoPlayerImplementationReactVideoElement.react"),{alt:a.alt,poster:a.poster,seoSrc:a.seoWebCrawlerLookasideUrl,seoWebCrawlerVideoTracks:a.seoWebCrawlerVideoTracks,videoElementCallbacks:null,videoElementPreloadDisabled:a.preloadForProgressiveDisabled,videoElementRefCallback:null,videoPixelsFit:d}):i.jsx(c("VideoPlayerImplementationReactVideoElement.react"),{alt:a.alt,poster:a.poster,videoElementCallbacks:q.videoElementCallbacks,videoElementPreloadDisabled:a.preloadForProgressiveDisabled,videoElementRefCallback:q.videoElementRefCallback,videoPixelsFit:d});var s=a.renderWithExposedState({implementationController:q.implementationController,implementationExposedState:f});e=i.jsxs(i.Fragment,{children:[c("gkx")("24349")?i.jsx("div",{ref:p,style:{display:"none"}}):null,f.isDRM===!0?b("cr:2336")?i.jsx(b("cr:2336"),{controller:q.implementationController}):b("cr:4596")?i.jsx(b("cr:4596"),{controller:q.implementationController}):null:null,e?e(h):h,b("cr:355")!=null&&f.playerVersion==="comet_nextgendash"?i.jsx(b("cr:355"),{}):null,i.jsx(c("VideoPlayerVideoPixelsFitContext").Provider,{value:d,children:s})]});return{engine:q,exposedState:f,reactVideoComponents:s,reactVideoFrame:h,reactVideoFrameAndComponents:e}}g.internal_createVideoPlayerImplementationControllerImpl=n;g.internal_createVideoPlayerImplementationEngineStateMachineWithEffects=q;g.internal_createVideoPlayerImplementationExposedStateFromStateMachineState=u;g.createVideoPlayerImplementationEngine=a;g.internal_makeExpandedErrorFromVideoPlayerError=v;g.useVideoPlayerImplementationEngine=e}),98);
__d("VideoPlayerImplementationEngineVideoElementAPI",["Promise","VideoPlaybackQuality","VideoPlayerOzWWWGlobalConfig"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return isNaN(a)?0:a}function j(a){return i(a.duration)}function k(a){var b=[];try{a=a.buffered;for(var c=0;c<a.length;++c)b.push({endTime:a.end(c),startTime:a.start(c)})}catch(a){}return b}function l(a){try{a=a.buffered;if(a.length>0)return a.end(a.length-1)}catch(a){}return 0}function m(a){return i(a.currentTime)}function n(a){try{a=a.buffered;if(a.length>0)return a.start(0)}catch(a){}return 0}function a(a){return{exitPictureInPicture:function(){window.document.exitPictureInPicture()},getBufferedRanges:function(){return k(a)},getCanPlayPromise:function(){return new(h||(h=b("Promise")))(function(b,c){a.readyState===4?b():a.addEventListener("canplay",function(){return b()})})},getDOMLoadedMetadataPromise:function(){return new(h||(h=b("Promise")))(function(b,c){a.addEventListener("loadedmetadata",function(){return b()})})},getDroppedFrameCount:function(){return d("VideoPlaybackQuality").getDroppedFrames(a)},getDuration:function(){return j(a)},getEnded:function(){return a.ended},getError:function(){return a.error},getLastBufferEndPosition:function(){return l(a)},getMuted:function(){return a.muted},getNetworkState:function(){return a.networkState},getPaused:function(){return a.paused},getPlaybackRate:function(){return a.playbackRate},getPlayheadPosition:function(){return m(a)},getReadyState:function(){return a.readyState},getTotalFrameCount:function(){return d("VideoPlaybackQuality").getTotalFrames(a)},getUnderlyingVideoElement:function(){return a},getVideoPixelsDimensions:function(){if(a.readyState<a.HAVE_CURRENT_DATA)return null;var b=a.videoWidth,c=a.videoHeight;if(b<=0||c<=0)return null;var d=a.offsetWidth,e=a.offsetHeight;if(d<=0||e<=0)return null;b=b/c;c=d/e;c>b?d=e*b:e=d/b;return{height:e,width:d}},getVolume:function(){return a.volume},pause:function(){a.pause()},play:function(){var c=a.play();c=c&&typeof c.then==="function"?(h||(h=b("Promise"))).resolve(c):null;return c},requestPictureInPicture:function(){typeof a.requestPictureInPicture==="function"&&a.requestPictureInPicture()},setDuration:function(b){a.duration=b},setMuted:function(b){a.muted=b},setPlaybackRate:function(b){a.playbackRate=b},setPlayheadPosition:function(b){var d=b;if(b===0){b=c("VideoPlayerOzWWWGlobalConfig").getNumber("clamp_seek_to_first_buffer_range_epsilon",0);if(b>0){var e=n(a);e>0&&e<=b&&(d=e)}}a.currentTime=d},setVolume:function(b){a.volume=b}}}g.getDurationFromVideoElement=j;g.getBufferedRangesFromVideoElement=k;g.getLastBufferEndPositionFromVideoElement=l;g.getPlayheadPositionFromVideoElement=m;g.createVideoPlayerImplementationEngineVideoElementAPI=a}),98);
__d("VideoPlayerProgressiveImplementationData",["err"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return/\.mpd(\?|$)/.test(a)}function a(a){var b=a.hdSrc,d=a.hdSrcPreferred;a=a.sdSrc;if(b==null&&a==null){var e=c("err")("Both HD and SD browser-native URLs are not available");e.name="GotNoBrowserNativeURLs";return e}if(a==null){e=c("err")("Browser-native SD URL is not available");e.name="GotNoBrowserNativeSDURL";return e}e=h(a);var f=b!=null&&h(b);if(e||f){e=c("err")("HD or SD browser-native URL points to a DASH manifest");e.name="GotBrowserNativeURLsPointToDASH";return e}return{hdSrc:b,hdSrcPreferred:d,sdSrc:a}}g.makeProgressiveImplementationData=a}),98);
__d("VideoPlayerProgressiveImplementationEngineExtrasAPI",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a!==null&&a.indexOf(".m3u8")!==-1}function a(a){var b=a.getPlayingVideoInfo;a=a.setUserSelectedVideoQuality;function d(){var a=b(),c="progressive_SD",d="progressive_HD";return a==null?null:h(a.hdSrc)||h(a.sdSrc)?null:a.hdSrc!=null&&a.playingSrc===a.hdSrc?d:a.sdSrc!=null&&a.playingSrc===a.sdSrc?c:null}return{getApproximateFBLSToPlayerDisplayLatency:function(){return null},getAvailableAudioTracks:function(){var a;return(a=(a=b())==null?void 0:a.availableAudioTracks)!=null?a:[]},getAvailableVideoQualities:function(){var a;return(a=(a=b())==null?void 0:a.availableQualities)!=null?a:[]},getAvailableVideoTracks:function(){var a;return(a=(a=b())==null?void 0:a.availableVideoTracks)!=null?a:[]},getCurrentAudioRepresentation:function(){return null},getCurrentPlayingAudioRepresentationID:function(){if(c("gkx")("440"))return d();else return null},getCurrentPlayingAudioTrackID:function(){var a;return(a=(a=b())==null?void 0:a.playingAudioTrackID)!=null?a:null},getCurrentPlayingVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentPlayingVideoRepresentationID:function(){if(c("gkx")("440"))return d();else return"oep_hd"},getCurrentTargetVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentVideoRepresentation:function(){return null},getEstimatedBandwidth:function(){return null},getInbandCaptionsAutogeneratedFromManifest:function(){return!1},getInbandCaptionsExpectedFromManifest:function(){return!1},getManifestIdentifier:function(){return null},getMpdValidationErrors:function(){return null},getPerfLoggerProvider:function(){return null},getRepresentationCaptionsExpectedFromManifest:function(){return!1},getStreamType:function(){var a=b();return a==null?"progressive":h(a.hdSrc)||h(a.sdSrc)?"hls":"progressive"},getTargetAudioTrack:function(){return null},getUserSelectedVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.selectedQuality)!=null?a:"notselected"},getUserSelectedVideoVariant:function(){return null},getVideoProjectionType:function(){return"cubemap"},getVideoRepresentations:function(){return null},isDrm:function(){var a;return((a=b())==null?void 0:a.graphQLVideoDRMInfo)!=null},isFBIsLiveTemplated:function(){return!1},isFBMS:function(){return!1},isFBWasLive:function(){return!1},isLiveRewindAvailable:function(){return!1},isMixedCodecManifest:function(){return!1},isPredictiveDash:function(){return!1},setDimensions:function(a){},setEnableLiveheadCatchup:function(){},setLatencyLevel:function(){},setUserSelectedVideoQuality:a,setUserSelectedVideoVariant:function(a){}}}g.createVideoPlayerProgressiveImplementationEngineExtrasAPI=a}),98);
__d("VideoPlayerProgressiveImplementationEngineUtils",[],(function(a,b,c,d,e,f){"use strict";var g="hd",h="sd";function a(a){var b=[];a.sdSrc!=null&&b.push(h);a.hdSrc!=null&&b.push(g);var c=[],d=[],e=a.hdSrcPreferred&&a.hdSrc!=null?g:h;return babelHelpers["extends"]({},a,{availableAudioTracks:c,availableQualities:b,availableVideoTracks:d,playingAudioTrackID:null,playingQuality:null,playingSrc:null,selectedQuality:e,targetQuality:e,targetSrc:null})}function b(a,b){var c=a.hdSrc,d=a.sdSrc,e,f;b==="notselected"||b==="auto"?(e=d!=null?h:c!=null?g:h,f=d!=null?d:c!=null?c:null):b===g&&c!=null?(e=g,f=c):b===h&&d!=null?(e=h,f=d):(e=h,f=null);f===""&&(f=null);return babelHelpers["extends"]({},a,{selectedQuality:b,targetQuality:e,targetSrc:f})}function c(a,b,c){return babelHelpers["extends"]({},a,{playingQuality:b,playingSrc:c})}f.createResolvedVideoInfoProgressive=a;f.updatePlayingVideoInfoProgressiveWithUserSelectedQuality=b;f.updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality=c}),66);
__d("videoUrlUtils",[],(function(a,b,c,d,e,f){"use strict";b=1<<31;var g=~b,h=b+1;function i(a){a=a|0;return Math.max(h,Math.min(a,g))}function j(a){a=Number.parseInt(a,16);return Number.isFinite(a)?new Date(i(a)*1e3):null}function k(){return i(Date.now()/1e3)}var l={OE:"oe"};function m(a){a=a instanceof URL?a.searchParams:new URL(a).searchParams;a=a.get(l.OE);a=a==null?void 0:j(a);return{expirationDate:a}}function a(a){a=m(a);a=a.expirationDate;return a!=null&&a<=new Date(k()*1e3)}f.DEFAULT_UNIXTIME=b;f.MAX_INT=g;f.parseCdnUrlParams=m;f.isCdnUrlExpired=a}),66);
__d("VideoPlayerProgressiveImplementationEngine",["FBLogger","Promise","UserAgent","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerODS","VideoPlayerProgressiveImplementationEngineExtrasAPI","VideoPlayerProgressiveImplementationEngineUtils","cr:1473550","cr:1680308","emptyFunction","err","getErrorNameFromMediaErrorCode","getErrorSafe","gkx","promiseDone","unrecoverableViolation","videoUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("emptyFunction");function j(a,b,c){var e=typeof a==="object"&&a!=null&&typeof a.name==="string"?a.name:null;return d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError(["PROGRESSIVE_JAVASCRIPT_NATIVE",e].filter(Boolean).join("/"),a,b,c)}function a(a){var e=a.checkInDOM,f=a.debugLogId,g=a.handleFatalError,m=a.initialProps;a=a.setExposedStateInReact;var n={current:null},o={current:null},p={current:null},q={current:null},r=function(){var a=x(),e=o.current;if(a==null||e==null)return;a.addEventListener("error",function(){var e=a.error,f=e==null?void 0:e.code,g=c("getErrorNameFromMediaErrorCode")(f);f=e==null?void 0:e.message;var i=f==null||f===""?"Unknown media error":f,j=[],k=f!=null?d("VideoPlayerImplementationErrors").getMoreGranularErrorNameFromHTMLVideoElementErrorMessage(f):null,l=a.src;if(l!==""){var m=null;(h||(h=b("Promise"))).resolve().then(function(){return window.fetch(l)}).then(function(a){var b,c=a.status;b=(b=a.headers.get("Content-Type"))!=null?b:"unknown";i=i+". Fetched video content with Status:"+c+" Content-Type:"+b;m="URL_RESPONSE_HTTP_"+c;if(c<200||c>=300)return a.text().then(function(a){j.push(a.length.toString()),i+=" Body:%s:"+a.substr(0,200)+(a.length>200?"...":"")},function(){})})["catch"](function(a){if(typeof a==="object"&&a!=null&&typeof a.name==="string"&&typeof a.message==="string"){var b;m=(b=m)!=null?b:"URL_RESPONSE_FETCH_FAILED/"+a.name;i=i+". Failed fetching video content with error: "+a.name+" "+a.message}else{m=(b=m)!=null?b:"URL_RESPONSE_FETCH_FAILED";i=i+". Failed fetching video content with unknown error"}})["finally"](function(){var a=c("err").apply(void 0,[i].concat(j));a.name=[g,k,m].filter(Boolean).join("/");z(a,"progressive_implementation_error_with_more_info")})}else{e=c("err").apply(void 0,[i].concat(j));e.name=[g,k,"VIDEO_ELEMENT_SRC_EMPTY"].filter(Boolean).join("/");z(e,"progressive_implementation_error_with_empty_src")}});try{var f=e.audioOnly,g=e.graphQLVideoDRMInfo,i=e.videoFBID;f===!0&&(a.style.display="none");f=g?(f=g.fairplayCert)!=null?f:null:null;if(b("cr:1680308")&&g&&f!=null&&i!=null){q.current=b("cr:1680308").newIfSupported(f,a,i,g.videoLicenseUriMap);if(q.current==null){f=c("err")("Fairplay not supported");z(f,"progressive_player_fairplay_handler_missing")}else q.current.addListener("error",function(a){a=c("err")(a.error);z(a,"progressive_player_fairplay_handler_error")})}var j=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);B.current=j;p.current=e;i=w();y({inbandCaptionsAutogeneratedFromManifest:u.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:u.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:i==null?void 0:i.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:u.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:i==null?void 0:i.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:i==null?void 0:i.sideLoadCaptionsUrlFromProps});A.dispatch({payload:{selectedVideoQuality:u.getUserSelectedVideoQuality(),streamingFormat:u.getStreamType()},type:"implementation_engine_initialized"});g=function(){j.setPlayheadPosition(m.startTimestamp)};c("UserAgent").isBrowser("IE11")?c("promiseDone")(j.getDOMLoadedMetadataPromise().then(g)):g()}catch(a){z(a,"progressive_player_create_exception")}},s=function(a,b){if(b==null)return!0;else if(a.videoFBID!==b.videoFBID){var c=14;d("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.video_fbid_changed",c);return!1}else if(a.hdSrc!==b.hdSrc||a.sdSrc!==b.sdSrc){c=14;d("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.src_changed",c);return!1}else return!1},t=function(a){var b;b={audioOnly:a.audioOnly,graphQLVideoDRMInfo:(b=a.graphQLVideoDRMInfo)!=null?b:null,hdSrc:a.hdSrc===""?null:(b=a.hdSrc)!=null?b:null,hdSrcPreferred:a.hdSrcPreferred,sdSrc:a.sdSrc===""?null:(b=a.sdSrc)!=null?b:null,videoFBID:a.videoFBID};if(!s(b,n.current))return!1;if(b.hdSrc==null&&b.sdSrc==null)throw c("unrecoverableViolation")("Empty hdSrc and sdSrc","comet_video_player");n.current=b;o.current=d("VideoPlayerProgressiveImplementationEngineUtils").createResolvedVideoInfoProgressive(b);r();return!0},u=d("VideoPlayerProgressiveImplementationEngineExtrasAPI").createVideoPlayerProgressiveImplementationEngineExtrasAPI({getPlayingVideoInfo:function(){if(c("gkx")("440")){var a,b=p.current;if(!b)return null;a=(a=B.current)==null?void 0:a.getUnderlyingVideoElement().currentSrc;return babelHelpers["extends"]({},b,{playingSrc:a!=null&&a!==""?a:null})}else return p.current},setUserSelectedVideoQuality:function(a){var b=p.current;if(!b)throw c("unrecoverableViolation")("Attempt to switch quality when playingVideoInfo does not exist","comet_video_player");var e=B.current;if(!e)throw c("unrecoverableViolation")("Attempt to switch quality when videoElementAPI does not exist","comet_video_player");p.current=d("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithUserSelectedQuality(b,a);var f=p.current.targetSrc;if(f===null){c("FBLogger")("comet_video_player").addMetadata("COMET_VIDEO","VIDEO_ID",m.videoFBID==null?"":String(m.videoFBID)).warn("Received null targetSrc from setUserSelectedVideoQuality, selectedQuality: %s",String(a));return}k(f,m.expiredVideoUrlRefreshHandler).then(function(a){var b;if(((b=p.current)==null?void 0:b.targetSrc)!==f)return;l(e.getUnderlyingVideoElement(),{crossOrigin:m.crossOrigin_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOURE_DOING},a);a=(b=A.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?b:0;a>0&&e.setPlayheadPosition(a);A.getCurrentState().controlledState.playbackState==="playing"&&e.play();A.dispatch({payload:{},type:"representation_changed"})})["catch"](function(a){var b;if(((b=p.current)==null?void 0:b.targetSrc)!==f)return;b=c("getErrorSafe")(a);c("FBLogger")("comet_video_player").addMetadata("COMET_VIDEO","VIDEO_ID",m.videoFBID==null?"":String(m.videoFBID)).catching(b).warn("Failed refreshing video URL with original error: %s",String(b))})}}),v=function(){q.current&&(q.current.destroy(),q.current=null)};e=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({checkInDOM:e,createDebugAPI:function(a){var c=a.getVideoElementAPI;a=a.loggerToVPL;return b("cr:1473550")?b("cr:1473550").createVideoPlayerImplementationDebugAPI({engineExtrasAPI:u,getVideoElementAPI:c,loggerToVPL:a}):null},createVideoPlayerError:function(a,b){return j(a,b,(a=p.current)==null?void 0:a.targetSrc)},debugLog:i,debugLogId:f,destroyEngineParts:function(){v()},engineExtrasAPI:u,engineMetadata:{isAbrEnabled:!1,playerVersion:"comet_progressive",streamingFormat:"progressive"},handleFatalError:g,handleVideoElementChanged:function(a){a!=null&&r()},handleVideoInfoChange:t,initialProps:m,setExposedStateInReact:a});f=e.engine;var w=e.getCaptionsInfo,x=e.getVideoElement,y=e.handleCaptionsInfoChange,z=e.handleFatalImplementationError,A=e.machine,B=e.videoElementAPIRef;return f}function k(a,e){if(c("gkx")("4621")&&e&&d("videoUrlUtils").isCdnUrlExpired(a))return e(a).then(function(a){var d;return(d=a.refreshedUrl)!=null?d:(h||(h=b("Promise"))).reject(c("err")("Failed refreshing URL"+(a.reason!==null?" with reason: "+a.reason:"")))});else return(h||(h=b("Promise"))).resolve(a)}function l(a,b,c){b=b.crossOrigin;if(c==null||c==="")a.removeAttribute("src");else{var d=a.playbackRate;a.setAttribute("src",c);var e=null;if(b!=null){try{e=new URL(c).origin}catch(a){}if(e!=null&&location.origin!==e)switch(b){case"anonymous":case"use-credentials":a.setAttribute("crossOrigin",b);break;default:a.removeAttribute("crossOrigin");break}}a.playbackRate=d}}g.createVideoPlayerProgressiveImplementationEngine=a;g.internal_setHTMLVideoElementSrc=l}),98);
__d("VideoPlayerProgressiveImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerProgressiveImplementationEngine"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerProgressiveImplementationEngine").createVideoPlayerProgressiveImplementationEngine);a=a.reactVideoFrameAndComponents;return a}g["default"]=a}),98);
__d("WebSessionExtender",["WebSession","clearInterval","cr:13141","cr:913","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=2e4,i=new Set(),j=null;function a(a,e){e===void 0&&(e="extender"),i.add(a),j==null&&(d("WebSession").extend(Date.now()+h+2e3),b("cr:13141")==null?void 0:b("cr:13141").extend(),j=c("setInterval")(function(){d("WebSession").extend(Date.now()+h+2e3),b("cr:13141")==null?void 0:b("cr:13141").extend(),b("cr:913")&&new(b("cr:913"))().setClientTime(Date.now()).setWebsessionID(d("WebSession").getId()).setReason(e).log()},h))}function e(a){i["delete"](a);a=i.size;a===0&&j!=null&&(c("clearInterval")(j),j=null)}g.subscribe=a;g.unsubscribe=e}),98);
__d("VideoPlayerWebSessionExtender.react",["VideoPlayerHooks","WebSessionExtender","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useId;function a(){var a=d("react-compiler-runtime").c(4),b=(i||(i=d("VideoPlayerHooks"))).usePlaying(),c=k(),e,f;a[0]!==b||a[1]!==c?(e=function(){if(b){d("WebSessionExtender").subscribe(c,"video");return function(){d("WebSessionExtender").unsubscribe(c)}}},f=[b,c],a[0]=b,a[1]=c,a[2]=e,a[3]=f):(e=a[2],f=a[3]);j(e,f);return null}g["default"]=a}),98);
__d("useVideoPlayerDefaultLoadingIndicatorsLogic",["VideoPlayerHooks","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=d("VideoPlayerHooks"))).useStalling(),c=h.useStreamInterrupted(),e=h.useIsLiveRewindActive();c=c&&!e;e=b;b=c?"live_video_interrupted_overlay":e?"spinner":"none";var f;a[0]!==c||a[1]!==b||a[2]!==e?(f={liveVideoInterruptedOverlayVisible:c,loadingIndicatorType:b,spinnerVisible:e},a[0]=c,a[1]=b,a[2]=e,a[3]=f):f=a[3];return f}g["default"]=a}),98);
__d("useVideoPlayerDefaultLoadingIndicators",["CometPlaceholder.react","deferredLoadComponent","once","react","react-compiler-runtime","requireDeferred","requireDeferredForDisplay","useVideoPlayerDefaultLoadingIndicatorsLogic"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerSpinner.react").__setRef("useVideoPlayerDefaultLoadingIndicators")),k=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerWithLiveVideoInterruptedOverlay.react").__setRef("useVideoPlayerDefaultLoadingIndicators")),l=c("once")(function(){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(k,{})})});function a(){var a=d("react-compiler-runtime").c(6),b=c("useVideoPlayerDefaultLoadingIndicatorsLogic")(),e=b.loadingIndicatorType;b=b.spinnerVisible;var f;a[0]!==b?(f=i.jsx(j,{isVisible:b}),a[0]=b,a[1]=f):f=a[1];b=f;var g;bb0:switch(e){case"spinner":g=b;break bb0;case"live_video_interrupted_overlay":a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=l(),a[2]=f):f=a[2];g=f;break bb0;case"none":default:g=b}a[3]!==g||a[4]!==e?(f={loadingIndicatorElement:g,loadingIndicatorType:e},a[3]=g,a[4]=e,a[5]=f):f=a[5];return f}g["default"]=a}),98);
__d("useVideoPlayerUnifiedCVCProvider",["CvcV3HttpEventFalcoEvent","UnifiedVideoCVCSubscription","VideoPlayerHooks","createVideoStateHook","getPlayerFormatForLogData","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;b=d("createVideoStateHook").createVideoStateHook(null);var k=b.setterHook;e=d("createVideoStateHook").createVideoStateHook(null);var l=e.setterHook;f=e.valueHook;function a(a){var b=d("react-compiler-runtime").c(12),e=a.disableSubscription,f=a.playerFormat,g=a.subOrigin,h=a.videoFBID,m=(i||(i=d("VideoPlayerHooks"))).useIsLive(),n=i.useIsFullscreen(),o=i.useIsDesktopPictureInPicture(),p=i.useController(),q=k(),r=l(),s;b[0]!==e||b[1]!==o||b[2]!==n||b[3]!==m||b[4]!==f||b[5]!==r||b[6]!==q||b[7]!==g||b[8]!==p||b[9]!==h?(a=function(){if(e===!0){c("CvcV3HttpEventFalcoEvent").log(function(){return{countable_id:h,name:"disable_subscription"}});return}var a=new(c("UnifiedVideoCVCSubscription"))(h,c("getPlayerFormatForLogData")({isDesktopPictureInPicture:o,isFullscreen:n},f),g,p,m,function(a){r(a)});q(a);return function(){a.destroy()}},s=[o,n,m,e,f,r,q,g,p,h],b[0]=e,b[1]=o,b[2]=n,b[3]=m,b[4]=f,b[5]=r,b[6]=q,b[7]=g,b[8]=p,b[9]=h,b[10]=a,b[11]=s):(a=b[10],s=b[11]);j(a,s)}b=f;g.useVideoPlayerUnifiedCVCProvider=a;g.useVideoPlayerUnifiedCVCData=b}),98);
__d("VideoPlayerXImplSurface.react",["CoreVideoPlayerAudioClient.react","CoreVideoPlayerAutoplayClient.react","VideoPlayerCaptionsAreaDeferred.react","VideoPlayerIMFMetadataContext","VideoPlayerInteractionOverlay.react","VideoPlayerWebSessionExtender.react","cr:1954434","cr:99","gkx","react","react-compiler-runtime","useVideoPlayerDefaultLoadingIndicators","useVideoPlayerUnifiedCVCProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(21),f=a.children,g=a.disableCVCSubscription,h=a.disableLoadingIndicator,j=a.disableLogging,k=a.instreamVideoAdBreaksPlayer,l=a.playerFormat,m=a.subOrigin,n=a.videoFBID,o=a.videoPlayerIMFFromVideoMetadata;a=a.videoPlayerSpherical;h=h===void 0?!1:h;j=j===!0||g===!0;e[0]!==l||e[1]!==m||e[2]!==j||e[3]!==n?(g={disableSubscription:j,playerFormat:l,subOrigin:m,videoFBID:n},e[0]=l,e[1]=m,e[2]=j,e[3]=n,e[4]=g):g=e[4];d("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCProvider(g);l=c("useVideoPlayerDefaultLoadingIndicators")();j=l.loadingIndicatorElement;g=(n=o)!=null?n:null;l=h?null:j;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(o=c("gkx")("24328")?i.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{}):null,e[5]=o):o=e[5];e[6]!==f||e[7]!==k?(n=i.jsxs(c("VideoPlayerCaptionsAreaDeferred.react"),{children:[f,k]}),e[6]=f,e[7]=k,e[8]=n):n=e[8];e[9]===Symbol["for"]("react.memo_cache_sentinel")?(h=i.jsx(c("CoreVideoPlayerAutoplayClient.react"),{}),j=i.jsx(c("CoreVideoPlayerAudioClient.react"),{}),f=b("cr:1954434")?i.jsx(b("cr:1954434"),{}):null,e[9]=f,e[10]=h,e[11]=j):(f=e[9],h=e[10],j=e[11]);e[12]!==m?(k=b("cr:99")?i.jsx(b("cr:99"),{subOrigin:m}):null,e[12]=m,e[13]=k):k=e[13];e[14]===Symbol["for"]("react.memo_cache_sentinel")?(m=i.jsx(c("VideoPlayerWebSessionExtender.react"),{}),e[14]=m):m=e[14];e[15]!==k||e[16]!==g||e[17]!==l||e[18]!==n||e[19]!==a?(o=i.jsxs(d("VideoPlayerIMFMetadataContext").VideoPlayerIMFMetadataContextProvider,{value:g,children:[a,l,o,n,h,j,f,k,m]}),e[15]=k,e[16]=g,e[17]=l,e[18]=n,e[19]=a,e[20]=o):o=e[20];return o}g["default"]=a}),98);
__d("normalizeVideoPlayerLoopCount",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){b===void 0&&(b=null);d===void 0&&(d=null);if(a==null){var e;d=((e=b)!=null?e:!1)?(e=d)!=null?e:0:0;d===-1?e=-1:d<0||!Number.isFinite(d)||Math.floor(d)!==d?e=0:d===0&&b===!0?e=-1:e=d}else if(a===-1||a===Number.POSITIVE_INFINITY)e=-1;else if(a<0||!Number.isFinite(a)||Math.floor(a)!==a)throw c("unrecoverableViolation")("Invalid loopingCount: "+a,"comet_video_player");else e=a;return e}g["default"]=a}),98);
__d("VideoPlayerXImpl.react",["CoreVideoPlayerWithComponents.react","VideoPlayerXImplSurface.react","normalizeVideoPlayerLoopCount","react","react-compiler-runtime","usePlayerOriginRouteTracePolicy","useRouteProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(36),e,f,g,h,j,k,l,m,n,o,p;b[0]!==a?(e=a.children,g=a.disableLoadingIndicator,h=a.implementations,j=a.instreamVideoAdBreaksPlayer,k=a.portalingEnabled,l=a.portalingFromVideoID,m=a.portalingPlaceMetaData,n=a.portalingRenderPlaceholder,o=a.videoPlayerIMFFromVideoMetadata,p=a.videoPlayerSpherical,f=babelHelpers.objectWithoutPropertiesLoose(a,["children","disableLoadingIndicator","implementations","instreamVideoAdBreaksPlayer","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","videoPlayerIMFFromVideoMetadata","videoPlayerSpherical"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l,b[8]=m,b[9]=n,b[10]=o,b[11]=p):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7],m=b[8],n=b[9],o=b[10],p=b[11]);a=c("usePlayerOriginRouteTracePolicy")();var q=c("useRouteProductAttribution")();q||(q=f.productAttribution);var r=f,s=r.loopCount,t=r.playerFormat,u=r.subOrigin;r=r.videoFBID;var v;b[12]!==s?(v=c("normalizeVideoPlayerLoopCount")(s),b[12]=s,b[13]=v):v=b[13];s=v;b[14]!==e||b[15]!==f.loggingConfig.disableCVCSubscription||b[16]!==f.loggingConfig.disableLogging||b[17]!==g||b[18]!==j||b[19]!==t||b[20]!==u||b[21]!==r||b[22]!==o||b[23]!==p?(v=i.jsx(c("VideoPlayerXImplSurface.react"),{children:e,disableCVCSubscription:f.loggingConfig.disableCVCSubscription,disableLoadingIndicator:g,disableLogging:f.loggingConfig.disableLogging,instreamVideoAdBreaksPlayer:j,playerFormat:t,subOrigin:u,videoFBID:r,videoPlayerIMFFromVideoMetadata:o,videoPlayerSpherical:p}),b[14]=e,b[15]=f.loggingConfig.disableCVCSubscription,b[16]=f.loggingConfig.disableLogging,b[17]=g,b[18]=j,b[19]=t,b[20]=u,b[21]=r,b[22]=o,b[23]=p,b[24]=v):v=b[24];b[25]!==f||b[26]!==h||b[27]!==s||b[28]!==k||b[29]!==l||b[30]!==m||b[31]!==n||b[32]!==q||b[33]!==a||b[34]!==v?(e=i.jsx(c("CoreVideoPlayerWithComponents.react"),babelHelpers["extends"]({},f,{implementations:h,loopCount:s,portalingEnabled:k,portalingFromVideoID:l,portalingPlaceMetaData:m,portalingRenderPlaceholder:n,productAttribution:q,routeTracePolicy:a,children:v})),b[25]=f,b[26]=h,b[27]=s,b[28]=k,b[29]=l,b[30]=m,b[31]=n,b[32]=q,b[33]=a,b[34]=v,b[35]=e):e=b[35];return e}g["default"]=a}),98);
__d("computeAspectRatio",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a!=null&&b!=null&&a!==0&&b!==0?a/b:null}f["default"]=a}),66);
__d("defaultErrorBoundaryFallback",["VideoPlayerFallbackCover.react","getVideoPlayerUserFacingErrorMessageFromError","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=c("getVideoPlayerUserFacingErrorMessageFromError")(a);return i.jsx(c("VideoPlayerFallbackCover.react"),{debugError:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getVideoPlayerAutoplayProps",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){b=b!=null?b:"respect_user_settings";var d=b==="dangerously_always_autoplay";c=c!=null?c:"unknown";var e=a.autoplaySetting||"default_autoplay",f=e==="off";d=d||b==="respect_user_settings"&&!f&&a.canAutoplay;f=b==="do_not_autoplay"?c:a.autoplayGatingResult;c=d?"allow":b==="dangerously_disable_autoplay_management"?"dangerously_disable_autoplay_management":"deny";return{autoplayGatingResult:f,autoplaySetting:e,canAutoplay:c}}f["default"]=a}),66);
__d("useVideoPlayerClickToPauseInteraction",["fbt","VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(5),b=(j||(j=d("VideoPlayerHooks"))).usePlaying(),c=j.useController(),e=j.useIsLive(),f;a[0]!==c?(f=function(){c.pause("user_initiated")},a[0]=c,a[1]=f):f=a[1];f=f;b=b&&!e;a[2]!==b||a[3]!==f?(e=b?{ariaLabel:h._(/*BTDS*/"__JHASH__VtoypU98LZ___JHASH__"),handler:f,overlayLabel:""}:null,a[2]=b,a[3]=f,a[4]=e):e=a[4];return e}g["default"]=a}),226);
__d("useVideoPlayerClickToPlayInteraction",["fbt","VideoPlayerHooks","react","react-compiler-runtime","useFeedClickEventHandler"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;(i||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(9),e;b[0]!==a?(e=a===void 0?{}:a,b[0]=a,b[1]=e):e=b[1];a=e;var f=a.shouldUnmute;e=(j||(j=d("VideoPlayerHooks"))).usePaused();var g=j.useController(),i=j.useLastMuteReason();b[2]!==g||b[3]!==i||b[4]!==f?(a=function(){g.play("user_initiated"),f===!0&&i!=="user_initiated"&&g.setMuted(!1,"product_initiated")},b[2]=g,b[3]=i,b[4]=f,b[5]=a):a=b[5];a=a;a=c("useFeedClickEventHandler")(a);e=e;var k;b[6]!==e||b[7]!==a?(k=e?{ariaLabel:h._(/*BTDS*/"__JHASH__hpqc6JvA6ND__JHASH__"),handler:a,overlayLabel:""}:null,b[6]=e,b[7]=a,b[8]=k):k=b[8];return k}g["default"]=a}),226);
__d("useVideoPlayerDefaultControlsVisibility",["VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerUserInteractionCounter","clearTimeout","react","react-compiler-runtime","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useState,l=5e3;function a(a){var b=d("react-compiler-runtime").c(9),e;b[0]!==a?(e=a===void 0?{}:a,b[0]=a,b[1]=e):e=b[1];a=e;e=a.forceVisible;a=a.forceVisibleOnMount;var f=d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteractionCounter(),g=f.ongoingInteractionsCount;f=f.onUserInteraction;var h=(i||(i=d("VideoPlayerHooks"))).useEnded(),m=i.useIsHovering(),n=i.usePaused(),o=i.useIsMouseIdle(),p=i.useVideoPlaybackEnded(),q=d("VideoPlayerInstreamAdsStateHooks").useInstreamAdsIsStart();d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_pointer_active",m&&!o,f);m=k(a===!0);var r=m[0],s=m[1];b[2]!==r||b[3]!==n?(o=function(){if(!n&&r){var a=c("setTimeout")(function(){s(!1)},l);return function(){c("clearTimeout")(a)}}},a=[r,n],b[2]=r,b[3]=n,b[4]=o,b[5]=a):(o=b[4],a=b[5]);j(o,a);e===!0||e===!1?m=e:q?m=!1:g>0||r?m=!0:n?m=h?p:!0:m=!1;b[6]!==m||b[7]!==f?(o={isControlsVisible:m,onUserInteraction:f},b[6]=m,b[7]=f,b[8]=o):o=b[8];return o}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("AsyncStorage",["Promise","WebAsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";var h;a={getItem:function(a,d){return new(h||(h=b("Promise")))(function(b,e){c("WebAsyncStorage").getItem(a,function(a,c){d&&d(a,c),a!=null?e(a):b(c)})})},removeItem:function(a,d){return new(h||(h=b("Promise")))(function(b,e){c("WebAsyncStorage").removeItem(a,function(a){d&&d(a),a!=null?e(a):b()})})},setItem:function(a,d,e){return new(h||(h=b("Promise")))(function(b,f){c("WebAsyncStorage").setItem(a,d,function(a){e&&e(a),a!=null?f(a):b()})})}};d=a;g["default"]=d}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(9),c=a.dataSource;a=k(!1);var e=a[0],f=a[1],g=j(null);b[0]!==c?(a=function(a){var b,d=a.onResolvePayload;a=a.requestParams;(b=g.current)==null?void 0:b.unsubscribe();g.current=c.fetchNetwork(a).subscribe({complete:function(){f(!1)},error:function(a){f(!1)},next:function(a){return d(a)},start:function(a){f(!0)},unsubscribe:function(){f(!1)}})},b[0]=c,b[1]=a):a=b[1];a=a;var h,l;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){return function(){var a;(a=g.current)==null?void 0:a.unsubscribe()}},l=[],b[2]=h,b[3]=l):(h=b[2],l=b[3]);i(h,l);b[4]!==e?(h={isLoading:e},b[4]=e,b[5]=h):h=b[5];b[6]!==a||b[7]!==h?(l=[h,a],b[6]=a,b[7]=h,b[8]=l):l=b[8];return l}g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:2557","react","react-compiler-runtime","recoverableViolation","useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");e.useCallback;var i=e.useEffect,j=e.useRef;function a(a,e){var f=d("react-compiler-runtime").c(17),g=a.dataSource,h=a.dataSourceFetchConfigParams,k=a.onResolvePayload;f[0]!==h?(a=h===void 0?{}:h,f[0]=h,f[1]=a):a=f[1];h=a;a=h.requestFlow;h=h.shouldDebounceNetwork;var l=h===void 0?!0:h;f[2]!==g?(h={dataSource:g},f[2]=g,f[3]=h):h=f[3];g=c("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork")(h);h=g[0];var m=g[1];g=h.isLoading;var n=c("useDebouncedComet")(m);f[4]!==k?(h=function(a,b){var d=b.isTraceComplete;b=b.source;try{k(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},f[4]=k,f[5]=h):h=f[5];var o=h,p=j(a);f[6]!==o?(h=function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:2557")&&b("cr:2557")(["all"],a)},f[6]=o,f[7]=h):h=f[7];var q=h;f[8]!==m||f[9]!==n||f[10]!==e||f[11]!==q||f[12]!==l?(a=function(){var a=function(a){a=a.requestParams;var b=a.requestFlow;b!=null&&(p.current=b);b={onResolvePayload:q,requestParams:babelHelpers["extends"]({},a,{requestFlow:p.current})};Boolean(l)?n(b):m(b)};e!=null&&a(e)},h=[m,n,e,q,l],f[8]=m,f[9]=n,f[10]=e,f[11]=q,f[12]=l,f[13]=a,f[14]=h):(a=f[13],h=f[14]);i(a,h);f[15]!==g?(a=[{isLoading:g}],f[15]=g,f[16]=a):a=f[16];return a}g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetch",["react","react-compiler-runtime","recoverableViolation","useBaseTypeaheadSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useState;function a(a){var b,e=d("react-compiler-runtime").c(9),f=i(null),g=f[0],h=f[1];f=c("useBaseTypeaheadSubscriptionDataSourceFetchResolver")(a,g);a=f[0];f=a.isLoading;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a,b){b=b===void 0?"all":b;h({requestParams:a,source:b})},e[0]=a):a=e[0];var j=a;e[1]!==g?(a=function(a){a=a||{};var b=a.requestFlow;a=a.source;if(g==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var d=g.requestParams,e=d.loggingEventTrace;d=babelHelpers.objectWithoutPropertiesLoose(d,["loggingEventTrace"]);e=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},e,{sequenceID:String(Date.now())}),requestFlow:b},d);j(e,a)},e[1]=g,e[2]=a):a=e[2];a=a;b=(b=g==null?void 0:g.source)!=null?b:"all";var k;e[3]!==f||e[4]!==b?(k={isLoading:f,source:b},e[3]=f,e[4]=b,e[5]=k):k=e[5];e[6]!==a||e[7]!==k?(f=[k,j,a],e[6]=a,e[7]=k,e[8]=f):f=e[8];return f}g["default"]=a}),98);
__d("TypeaheadLoggingFetchRequestFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1880031");b=d("FalcoLoggerInternal").create("typeahead_logging_fetch_request",a);e=b;g["default"]=e}),98);
__d("CometTypeaheadVolumeLoggingProvider",["TypeaheadLoggingFetchRequestFalcoEvent","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){return Math.random().toString()};a=function(){function a(a){this.$2=null,this.$1=a,this.$2=h()}var b=a.prototype;b.getContext=function(){return this.$1};b.getSessionID=function(){this.$2==null&&c("recoverableViolation")("Logging sessionID requested from "+this.getContext()+" surface does not exist.","search");return this.$2};b.logRequest=function(a){var b={context:this.getContext(),requestType:a,sessionID:this.getSessionID()};c("TypeaheadLoggingFetchRequestFalcoEvent").log(function(){return{fetchRequest:b}})};return a}();g["default"]=a}),98);
__d("useCometTypeaheadVolumeLoggingProvider",["CometTypeaheadVolumeLoggingProvider","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(2);a=a===void 0?"UNKNOWN":a;var e;b[0]!==a?(e=new(c("CometTypeaheadVolumeLoggingProvider"))(a),b[0]=a,b[1]=e):e=b[1];a=e;return a}g["default"]=a}),98);
__d("CometInternalTypeaheadSubscriptionProvider",["CometInternalTypeaheadEmptyFetchProvider","CometInternalTypeaheadFetchContext","react","useBaseTypeaheadSubscriptionDataSourceFetch","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadVolumeLoggingProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.loggingContext,g=a.onFetchEntries_DO_NOT_USE,h=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var l=a.dispatchActiveEntries,m=c("useCometTypeaheadVolumeLoggingProvider")(f);a=c("useBaseTypeaheadSubscriptionDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:j(function(a,b){var c;a=a.entries;var d=b.isTraceComplete;b=b.source;l((c=a)!=null?c:[]);m.logRequest(o);g&&g(a);h&&!h.isResolved()&&(d&&(b==="cache"&&a.length>=h.getEntriesCountForVisualComplete()?h.setEndReason("max_suggestions_reached"):b==="network"?h.setEndReason("all_queries_completed"):b==="network-no-results"&&h.setEndReason("all_queries_completed_no_network_results"),h.resolve()))},[l,g,h])});f=a[0];var n=f.isLoading,o=f.source,p=a[1],q=a[2];d=k(function(){return{fetch:p,isLoading:n,refetch:q,source:o}},[p,n,q,o]);return i.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:d,children:i.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:n,source:o,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseSubscriptionTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadStateProvider","CometInternalTypeaheadSubscriptionProvider","emptyFunction","react","react-compiler-runtime","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useId;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(77),e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;b[0]!==a?(r=a.autoOpen,B=a.autoFocus,C=a.isDisabled,D=a.errorMessage,e=a.inputStrategyRenderer,g=a.dataSource,h=a.dataSourceFetchConfigParams,E=a.decorators,k=a.emptyEntries_DO_NOT_USE,n=a.id,F=a.label,m=a.loggingContext,G=a.onBackspace,H=a.onBlur,o=a.onChange,I=a.onClose,s=a.onEnter,t=a.onEscape,p=a.onFetchEntries_DO_NOT_USE,u=a.onFocus,v=a.onOpen,q=a.onPressEntry,w=a.placeholder,x=a.shouldQueryStringFollowHighlightedEntry,y=a.shouldQueryStringUpdateFromSelectedEntryOnClick,z=a.testid,J=a.traceProvider,l=a.inputRef,A=a.viewRole,f=a.viewStrategyRenderer,K=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","isDisabled","errorMessage","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","inputRef","viewRole","viewStrategyRenderer"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B,b[23]=C,b[24]=D,b[25]=E,b[26]=F,b[27]=G,b[28]=H,b[29]=I,b[30]=J,b[31]=K):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22],C=b[23],D=b[24],E=b[25],F=b[26],G=b[27],H=b[28],I=b[29],J=b[30],K=b[31]);a=r===void 0?!1:r;r=B===void 0?!1:B;B=C===void 0?!1:C;C=D===void 0?null:D;b[32]!==E?(D=E===void 0?[]:E,b[32]=E,b[33]=D):D=b[33];E=D;D=F===void 0?"":F;F=G===void 0?c("emptyFunction"):G;G=H===void 0?c("emptyFunction"):H;H=I===void 0?c("emptyFunction"):I;I=s===void 0?c("emptyFunction"):s;s=t===void 0?c("emptyFunction"):t;t=u===void 0?c("emptyFunction"):u;u=v===void 0?c("emptyFunction"):v;v=w===void 0?"":w;w=x===void 0?!0:x;var L=y===void 0?!0:y;x=z===void 0?"":z;y=A===void 0?"listbox":A;z=j();var M;b[34]!==E?(M=c("CometInternalTypeahead.react"),E.forEach(function(a){var b=a.decorate;a=a.params;M=b(M,a)}),b[34]=E,b[35]=M):M=b[35];A=M;E=A;b[36]!==o||b[37]!==q||b[38]!==L?(A=function(a){L&&o(a.label),q&&q(a)},b[36]=o,b[37]=q,b[38]=L,b[39]=A):A=b[39];A=A;var N;b[40]!==e||b[41]!==w?(N=c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(e,{shouldQueryStringFollowHighlightedEntry:w}),b[40]=e,b[41]=w,b[42]=N):N=b[42];e=N;w=e;N=D||v;D=(e=n)!=null?e:z;if(b[43]!==w||b[44]!==E||b[45]!==f||b[46]!==r||b[47]!==C||b[48]!==l||b[49]!==F||b[50]!==G||b[51]!==I||b[52]!==s||b[53]!==t||b[54]!==A||b[55]!==B||b[56]!==o||b[57]!==v||b[58]!==N||b[59]!==D||b[60]!==x||b[61]!==K||b[62]!==y){e=i.jsx(E,babelHelpers["extends"]({},K,{autoFocus:r,errorMessage:C,id:D,inputRef:l,inputStrategyRenderer:w,isDisabled:B,label:N,onBackspace:F,onBlur:G,onChange:o,onDownArrow:n=c("emptyFunction"),onEnter:I,onEscape:s,onFocus:t,onHighlightEntry:n,onPressEntry:A,onShiftTab:n,onTab:n,onUpArrow:n,placeholder:v,testid:void 0,viewRole:y,viewStrategyRenderer:f}));b[43]=w;b[44]=E;b[45]=f;b[46]=r;b[47]=C;b[48]=l;b[49]=F;b[50]=G;b[51]=I;b[52]=s;b[53]=t;b[54]=A;b[55]=B;b[56]=o;b[57]=v;b[58]=N;b[59]=D;b[60]=x;b[61]=K;b[62]=y;b[63]=e}else e=b[63];b[64]!==g||b[65]!==h||b[66]!==m||b[67]!==p||b[68]!==e||b[69]!==J?(z=i.jsx(c("CometInternalTypeaheadSubscriptionProvider"),{dataSource:g,dataSourceFetchConfigParams:h,loggingContext:m,onFetchEntries_DO_NOT_USE:p,traceProvider:J,children:e}),b[64]=g,b[65]=h,b[66]=m,b[67]=p,b[68]=e,b[69]=J,b[70]=z):z=b[70];b[71]!==a||b[72]!==k||b[73]!==H||b[74]!==u||b[75]!==z?(n=i.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:i.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:a,emptyEntries_DO_NOT_USE:k,onClose:H,onOpen:u,children:z})}),b[71]=a,b[72]=k,b[73]=H,b[74]=u,b[75]=z,b[76]=n):n=b[76];return n}g["default"]=a}),98);
__d("CancellablePromise",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i="CancellationToken.TokenCancelled";function a(a,d,e){return e.then(function(e){return a.isCancelled()?(h||(h=b("Promise"))).reject(c("err")(i)):d(e)})}function d(a,d){return d["catch"](function(d){return d instanceof Error&&d.message===i?(h||(h=b("Promise"))).resolve(a):(h||(h=b("Promise"))).reject(c("err"))})}g.then_=a;g.ignoreFailed=d}),98);
__d("CancellationToken",[],(function(a,b,c,d,e,f){"use strict";function a(){var a={contents:!1};return{cancel:function(){a.contents=!0},isCancelled:function(){return a.contents}}}f["default"]=a}),66);
__d("CometMessagingJewelCommunitiesQPBannerContainer_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelCommunitiesQPBannerContainer_viewer",selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:10713},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"xxYRh"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelCommunitiesQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"xxYRh")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10713,trigger:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN")'}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometMessagingJewelCommunitiesQPBannerContainer.react",["CometMessagingJewelCommunitiesQPBannerContainer_viewer.graphql","CometMessagingJewelDropdownQPBannerPlaceholder.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","react","react-compiler-runtime","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f=d("react-compiler-runtime").c(13),g=a.messagingEntryPoint,i=a.onClose;a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMessagingJewelCommunitiesQPBannerContainer_viewer.graphql"),a);var l;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(l={context_surface_id:10713,context_trigger:"messaging_jewel_communities_tab_open"},f[0]=l):l=f[0];l=c("useQuickPromotionFalcoEvent")(l);if(f[1]!==(a==null?void 0:(e=a.eligible_promotions)==null?void 0:e.nodes)){e=a==null?void 0:(e=a.eligible_promotions)==null?void 0:(e=e.nodes)==null?void 0:e.find(k);f[1]=a==null?void 0:(a=a.eligible_promotions)==null?void 0:a.nodes;f[2]=e}else e=f[2];a=e;a=a==null?void 0:(e=a.comet_qp_sections)==null?void 0:e.renderer_strategy;if(a==null)return null;f[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("CometMessagingJewelDropdownQPBannerPlaceholder.react"),{}),f[3]=e):e=f[3];var m;f[4]!==g||f[5]!==i?(m={messagingEntryPoint:g,onClose:i},f[4]=g,f[5]=i,f[6]=m):m=f[6];f[7]!==a||f[8]!==m?(g=j.jsx(d("CometRelay").MatchContainer,{match:a,props:m}),f[7]=a,f[8]=m,f[9]=g):g=f[9];f[10]!==l||f[11]!==g?(i=j.jsx(c("CometPlaceholder.react"),{fallback:e,name:"CometMessagingJewelCommunitiesQPBannerContainer",children:j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:l,children:g})}),f[10]=l,f[11]=g,f[12]=i):i=f[12];return i}function k(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}g["default"]=a}),98);
__d("CometTopNavListDropdownTitle.react",["fbt","ix","BaseHeading.react","CometRow.react","CometRowItem.react","FDSCircleButton.react","FDSText.react","Locale","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=[];function a(a){var b=d("react-compiler-runtime").c(16),e=a.actions,f=a.onReturn,g=a.testid;a=a.title;e=e===void 0?l:e;var j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x6s0dn4 x78zum5 x2lah0s x1qughib x21xpn4 xz9dl7a x1pi30zi xjkvuk6 x1swvt13"},b[0]=j):j=b[0];var n;b[1]!==f?(n=f!=null?k.jsx(c("CometRowItem.react"),{children:k.jsx(c("FDSCircleButton.react"),{icon:d("Locale").isRTL()?d("fbicon")._(i("514454"),20):d("fbicon")._(i("512647"),20),label:h._(/*BTDS*/"__JHASH__v6nfNn2Wv-y__JHASH__"),onPress:f,size:32,type_DEPRECATED:"deemphasized"})}):null,b[1]=f,b[2]=n):n=b[2];b[3]!==a?(f=k.jsx(c("CometRowItem.react"),{verticalAlign:"center",children:k.jsx(c("BaseHeading.react"),{isPrimaryHeading:!0,children:k.jsx(c("FDSText.react"),{type:"headlineEmphasized1",children:a})})}),b[3]=a,b[4]=f):f=b[4];b[5]!==n||b[6]!==f?(a=k.jsxs(c("CometRow.react"),{paddingHorizontal:0,paddingTop:0,spacingHorizontal:8,children:[n,f]}),b[5]=n,b[6]=f,b[7]=a):a=b[7];b[8]!==e?(n=e.map(m),b[8]=e,b[9]=n):n=b[9];b[10]!==n?(f=k.jsx(c("CometRow.react"),{paddingHorizontal:0,paddingTop:0,spacingHorizontal:8,children:n}),b[10]=n,b[11]=f):f=b[11];b[12]!==a||b[13]!==f||b[14]!==g?(e=k.jsxs("header",babelHelpers["extends"]({},j,{"data-testid":void 0,children:[a,f]})),b[12]=a,b[13]=f,b[14]=g,b[15]=e):e=b[15];return e}function m(a,b){return k.jsx(c("CometRowItem.react"),{children:a},b)}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometMessagingJewelDropdownContentGlimmer.react",["CometTopNavListDropdownTitle.react","FDSListCellGlimmer.react","emptyFunction","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={loadingStateCard:{boxSizing:"x9f619",height:"x20eyyc",maxWidth:"xvv7f4i",width:"x1cvmir6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.isFullHeight,f=a.title;a=a.withBackButton;e=e===void 0?!1:e;a=a===void 0?!1:a;var g;b[0]!==e?(g=(h||(h=c("stylex"))).props(e&&k.loadingStateCard),b[0]=e,b[1]=g):g=b[1];b[2]!==f||b[3]!==a?(e=f!=null&&j.jsx(c("CometTopNavListDropdownTitle.react"),{onReturn:a?c("emptyFunction"):void 0,title:f}),b[2]=f,b[3]=a,b[4]=e):e=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("FDSListCellGlimmer.react"),{imageSize:56,imageStyle:"circle",numberOfItems:Math.max(Math.ceil((window.innerHeight-72-45)/76),1)}),b[5]=f):f=b[5];b[6]!==g||b[7]!==e?(a=j.jsxs("div",babelHelpers["extends"]({},g,{children:[e,f]})),b[6]=g,b[7]=e,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("CometMessagingJewelDropdownContent_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"qpWithPinEnabled"}],kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownContent_query",selections:[{args:[{kind:"Variable",name:"qpWithPinEnabled",variableName:"qpWithPinEnabled"}],kind:"FragmentSpread",name:"MWEncryptedBackupsJewelNuxWrapper_query"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMessagingJewelDropdownQPBannerContainer_viewer"},{args:null,kind:"FragmentSpread",name:"CometMessagingJewelCommunitiesQPBannerContainer_viewer"},{args:null,kind:"FragmentSpread",name:"MWCMBlendedThreadListV2_viewer"}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("CometMessagingJewelDropdownQPBannerContainer_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownQPBannerContainer_viewer",selections:[{alias:"jewel_qp",args:[{kind:"Literal",name:"surface_nux_id",value:8439},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3t4y6p"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMWXCardRendererStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometQuickPromotionMWXCardRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3t4y6p")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometMessagingJewelDropdownQPBannerContainer.react",["CometMessagingJewelDropdownQPBannerContainer_viewer.graphql","CometMessagingJewelDropdownQPBannerPlaceholder.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","react","react-compiler-runtime","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f=d("react-compiler-runtime").c(9);a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMessagingJewelDropdownQPBannerContainer_viewer.graphql"),a);var g;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={context_surface_id:8439,context_trigger:"messaging_jewel_open"},f[0]=g):g=f[0];g=c("useQuickPromotionFalcoEvent")(g);if(f[1]!==(a==null?void 0:(e=a.jewel_qp)==null?void 0:e.nodes)){e=a==null?void 0:(e=a.jewel_qp)==null?void 0:(e=e.nodes)==null?void 0:e.find(k);f[1]=a==null?void 0:(a=a.jewel_qp)==null?void 0:a.nodes;f[2]=e}else e=f[2];a=e;a=a==null?void 0:(e=a.comet_qp_sections)==null?void 0:e.renderer_strategy;if(a==null)return null;f[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("CometMessagingJewelDropdownQPBannerPlaceholder.react"),{}),f[3]=e):e=f[3];var i;f[4]!==a?(i=j.jsx(d("CometRelay").MatchContainer,{match:a}),f[4]=a,f[5]=i):i=f[5];f[6]!==g||f[7]!==i?(a=j.jsx(c("CometPlaceholder.react"),{fallback:e,name:"CometMessagingJewelDropdownQPBannerContainer",children:j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:g,children:i})}),f[6]=g,f[7]=i,f[8]=a):a=f[8];return a}function k(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}g["default"]=a}),98);
__d("MWEncryptedBackupsJewelNuxWrapperDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWEncryptedBackupsJewelNuxWrapper.react").__setRef("MWEncryptedBackupsJewelNuxWrapperDeferred.react"));function a(a){return i.jsx(j,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxContextSwitcherGlimmer.react",["MDSGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={tabPlaceholder:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",babelHelpers["extends"]({className:"x78zum5 xu0aao5 x1y1aw1k xwib8y2 x1swvt13 x1pi30zi x3bhodz"},{children:i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.tabPlaceholder})})),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("MWInboxQuickPromotionWrapper.react",["CometErrorBoundary.react","CometPlaceholder.react","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MAWUserVisibleErrorsNuxWrapper.react").__setRef("MWInboxQuickPromotionWrapper.react"));function a(a){var b=d("react-compiler-runtime").c(5),e=a.children;a=a.onError;c("vulture")("785BEJIrMSs");var f;b[0]!==e?(f=i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWInboxQuickPromotionWrapper",children:i.jsx(j,{children:e})}),b[0]=e,b[1]=f):f=b[1];b[2]!==a||b[3]!==f?(e=i.jsx(c("CometErrorBoundary.react"),{onError:a,children:f}),b[2]=a,b[3]=f,b[4]=e):e=b[4];return e}g["default"]=a}),98);
__d("MWJewelDropdownHeaderOpenInAppButton.react",["fbt","ix","Actor","FDSCircleButton.react","FDSTooltip.react","ImageIconSource","MessengerDesktopDeeplinkEventFalcoEvent","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","react","useCurrentDisplayMode","uuidv4"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useRef;function a(a){var b=a.onClose;a=d("Actor").useActor();a=a[0];var e=m(!1),f=m(c("uuidv4")()).current,g=c("useCurrentDisplayMode")();g=g==="dark";l(function(){e.current||(e.current=!0,c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_in_app_button_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}))});var j=h._(/*BTDS*/"__JHASH___3DTfSod6m3__JHASH__");a=(a=c("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri({funnel_session_id:f,id:a,origin:"FB"}).setDomain("messenger.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString();g=g?new(c("ImageIconSource"))(i("2009370"),32,32):new(c("ImageIconSource"))(i("1996477"),32,32);return k.jsx(c("FDSTooltip.react"),{align:"end",tooltip:j,children:k.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",icon:g,label:j,linkProps:{url:a},onPress:function(){c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_in_app_button_click",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}),b()},size:32,testid:void 0,type_DEPRECATED:"deemphasized"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWJewelDropdownHeaderSeeAllButton.react",["fbt","ix","FDSCircleButton.react","FDSTooltip.react","MWFacebookUserWithoutMessengerAccess","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.onClose,f=a.testid;a=a.url;var g=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess(),j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=h._(/*BTDS*/"__JHASH__oavSR1mxJiV__JHASH__"),b[0]=j):j=b[0];j=j;var l;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"__JHASH__62ieWPu8LFJ__JHASH__"),b[1]=l):l=b[1];l=l;g=g?l:j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(l=d("fbicon")._(i("580260"),20),b[2]=l):l=b[2];b[3]!==a?(j={url:a},b[3]=a,b[4]=j):j=b[4];b[5]!==g||b[6]!==e||b[7]!==j||b[8]!==f?(a=k.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",icon:l,label:g,linkProps:j,onPress:e,size:32,testid:void 0,type_DEPRECATED:"deemphasized"}),b[5]=g,b[6]=e,b[7]=j,b[8]=f,b[9]=a):a=b[9];b[10]!==g||b[11]!==a?(l=k.jsx(c("FDSTooltip.react"),{align:"end",tooltip:g,children:a}),b[10]=g,b[11]=a,b[12]=l):l=b[12];return l}g["default"]=a}),226);
__d("useMWJewelSettingsButtonBadge",["cr:4042","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(){var a;a=(a=b("cr:4042")==null?void 0:b("cr:4042")())!=null?a:{};a=a.badge;a=a===void 0?null:a;return{badge:a,onButtonPress:function(){}}}g["default"]=a}),98);
__d("MWJewelDropdownHeader.react",["fbt","ix","CometHomeChatSettings.entrypoint","CometTopNavListDropdownTitle.react","FDSCircleButton.react","FDSEntryPointPopoverTrigger.react","FDSTooltip.react","MWFacebookUserWithoutMessengerAccess","MWJewelDropdownHeaderOpenInAppButton.react","MWJewelDropdownHeaderSeeAllButton.react","MWJewelPopoverDialogContext.react","MWPSearchSystem","MessengerDesktopDeepLinkUtils","MessengerWebUXLogger","XCometMessengerControllerRouteBuilder","emptyFunction","fbicon","gkx","react","react-compiler-runtime","useCometPreloader","useMWChatOpenNewTab","useMWJewelSettingsButtonBadge","useMWNewChatTabContainerPreload","useReStore","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;b.useCallback;var m=b.useContext;function n(a){var b=d("react-compiler-runtime").c(13),e=a.onOpenArchivedChats,f=a.onOpenMessageRequests;a=a.onOpenRestrictedAccountsList;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"__JHASH__wPDFO2UUg3d__JHASH__"),b[0]=g):g=b[0];var j=g;g=m(c("MWJewelPopoverDialogContext.react"));var k=g.setIsOpenForDialog;g=c("useMWJewelSettingsButtonBadge")();var n=g.badge,o=g.onButtonPress;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g={},b[1]=g):g=b[1];e=(e=e)!=null?e:void 0;f=(f=f)!=null?f:void 0;a=(a=a)!=null?a:void 0;var p;b[2]!==e||b[3]!==f||b[4]!==a?(p={onOpenArchivedChats:e,onOpenMessageRequests:f,onOpenRestrictedAccountsList:a},b[2]=e,b[3]=f,b[4]=a,b[5]=p):p=b[5];b[6]!==n||b[7]!==o||b[8]!==k?(e=function(a,b,e,f,g,h){return l.jsxs(c("FDSTooltip.react"),{align:"end",tooltip:j,children:[n,l.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",icon:d("fbicon")._(i("484387"),20),label:j,onHoverIn:f,onHoverOut:g,onPress:function(){k(!1),b(),o()},onPressIn:h,ref:a,size:32,testid:void 0,type_DEPRECATED:"deemphasized"})]})},b[6]=n,b[7]=o,b[8]=k,b[9]=e):e=b[9];b[10]!==p||b[11]!==e?(f=l.jsx(c("FDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:g,otherProps:p,popoverEntryPoint:c("CometHomeChatSettings.entrypoint"),position:"below",preloadTrigger:"button",children:e}),b[10]=p,b[11]=e,b[12]=f):f=b[12];return f}function a(a){var b=d("react-compiler-runtime").c(42),e=a.inboxUrl,f=a.onClose,g=a.onOpenArchivedChats,k=a.onOpenMessageRequests,m=a.onOpenRestrictedAccountsList,o=a.onReturn;a=a.title;var p=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),q=c("useMWChatOpenNewTab")("jewelNewMessage"),r;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(r=c("XCometMessengerControllerRouteBuilder").buildURL({thread_key:"new"}),b[0]=r):r=b[0];r=r;var s=c("MessengerWebUXLogger").useInteractionLogger(),t;b[1]!==p||b[2]!==s||b[3]!==f||b[4]!==q?(t=function(){p&&(q(!1),f()),s==null?void 0:s({eventName:"create_thread"})},b[1]=p,b[2]=s,b[3]=f,b[4]=q,b[5]=t):t=b[5];t=t;var u=c("useMWNewChatTabContainerPreload")(),v=u[0],w=u[1],x=(j||(j=c("useReStore")))();b[6]!==x?(u=function(){return d("MWPSearchSystem").makeAll(x)},b[6]=x,b[7]=u):u=b[7];u=u;var y=c("useCometPreloader")("button_aggressive",c("emptyFunction"),u),z=y.onHoverInPreloader,A=y.onHoverMovePreloader,B=y.onHoverOutPreloader;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(y=h._(/*BTDS*/"__JHASH__JTlMNMvbiI7__JHASH__"),b[8]=y):y=b[8];y=y;var C=d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEnabled,D=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess();C=!c("gkx")("2669")&&C()&&!D;if(C){b[9]!==f?(D=l.jsx(c("MWJewelDropdownHeaderOpenInAppButton.react"),{onClose:f}),b[9]=f,b[10]=D):D=b[10];C=D}else{b[11]!==e||b[12]!==f?(D=l.jsx(c("MWJewelDropdownHeaderSeeAllButton.react"),{onClose:f,testid:void 0,url:e}),b[11]=e,b[12]=f,b[13]=D):D=b[13];C=D}b[14]!==g||b[15]!==k||b[16]!==m?(e=l.jsx(n,{onOpenArchivedChats:g,onOpenMessageRequests:k,onOpenRestrictedAccountsList:m},"mw-jewel-settings"),b[14]=g,b[15]=k,b[16]=m,b[17]=e):e=b[17];D=C;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("fbicon")._(i("507170"),16),b[18]=g):g=b[18];b[19]!==p?(k={preventLocalNavigation:p,url:r},b[19]=p,b[20]=k):k=b[20];b[21]!==v||b[22]!==z?(m=function(a){v(a),z(a)},b[21]=v,b[22]=z,b[23]=m):m=b[23];b[24]!==w||b[25]!==B?(r=function(){w(),B()},b[24]=w,b[25]=B,b[26]=r):r=b[26];b[27]!==t||b[28]!==u||b[29]!==A||b[30]!==r||b[31]!==k||b[32]!==m?(g=l.jsx(c("FDSTooltip.react"),{align:"end",tooltip:y,children:l.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",icon:g,label:y,linkProps:k,onFocusIn:u,onHoverIn:m,onHoverMove:A,onHoverOut:r,onPress:t,role:"button",size:32,testid:void 0,type_DEPRECATED:"deemphasized"})},"mw-jewel-new-message"),b[27]=t,b[28]=u,b[29]=A,b[30]=r,b[31]=k,b[32]=m,b[33]=g):g=b[33];b[34]!==C||b[35]!==g||b[36]!==e?(y=[e,D,g].filter(Boolean),b[34]=C,b[35]=g,b[36]=e,b[37]=y):y=b[37];b[38]!==o||b[39]!==y||b[40]!==a?(t=l.jsx(c("CometTopNavListDropdownTitle.react"),{actions:y,onReturn:o,title:a}),b[38]=o,b[39]=y,b[40]=a,b[41]=t):t=b[41];return t}g["default"]=a}),226);
__d("MWJewelNestedFolderThreadListHeader.react",["CometTopNavListDropdownTitle.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.onReturn;a=a.title;var f;b[0]!==e||b[1]!==a?(f=i.jsx(c("CometTopNavListDropdownTitle.react"),{onReturn:e,title:a}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("MWJewelMessageRequestsThread.react",["fbt","ix","FDSIcon.react","I64","LSIntEnum","Locale","MWJewelThreadSnippet.react","MWXListCellStrict.react","ReQL","ReQLSuspense","fbicon","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=m||d("react");function o(){var a=d("react-compiler-runtime").c(5),b=(j||(j=c("useReStore")))(),e;a[0]!==b.tables.contacts||a[1]!==b.tables.threads?(e=function(){return d("ReQL").fromTableDescending(b.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange((k||(k=d("LSIntEnum"))).ofNumber(-1)).filter(p).map(function(a){a=a.snippetSenderContactId;if(a!=null){a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a),f.id+":50");return a?a.name:void 0}})},a[0]=b.tables.contacts,a[1]=b.tables.threads,a[2]=e):e=a[2];var g;a[3]!==b?(g=[b],a[3]=b,a[4]=g):g=a[4];return d("ReQLSuspense").useFirst(e,g,f.id+":35")}function p(a){return(l||(l=d("I64"))).gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs)}function a(a){var b=d("react-compiler-runtime").c(17),e=a.onOpenMessageRequests;a=a.unreadRequestsCount;var f;b[0]!==a?(f=h._(/*BTDS*/"__JHASH__SQMsXxQB2ND__JHASH__",[h._plural(a)]),b[0]=a,b[1]=f):f=b[1];f=f;var g;b[2]!==a?(g=h._(/*BTDS*/"__JHASH__jhOYdnXiHj7__JHASH__",[h._enum(a===1?"someone":"people",{someone:"someone",people:"people"})]),b[2]=a,b[3]=g):g=b[3];g=g;var j=o();if(j!=null)if(a===1){var k;b[4]!==j?(k=h._(/*BTDS*/"__JHASH__Lhb1JePxKuz__JHASH__",[h._param("name",j)]),b[4]=j,b[5]=k):k=b[5];g=k}else{b[6]!==j||b[7]!==a?(k=h._(/*BTDS*/"__JHASH__CG_5_9rh3Rj__JHASH__",[h._param("name",j),h._param("count",a-1)]),b[6]=j,b[7]=a,b[8]=k):k=b[8];g=k}b[9]===Symbol["for"]("react.memo_cache_sentinel")?(j={addOn:n.jsx(c("FDSIcon.react"),{color:"secondary",icon:d("Locale").isRTL()?d("fbicon")._(i("492485"),16):d("fbicon")._(i("492533"),16)}),type:"body"},a={icon:d("fbicon")._(i("542884"),24),size:56,type:"contained-icon"},b[9]=j,b[10]=a):(j=b[9],a=b[10]);b[11]!==g?(k=n.jsx(c("MWJewelThreadSnippet.react"),{isUnread:!0,text:g}),b[11]=g,b[12]=k):k=b[12];b[13]!==e||b[14]!==k||b[15]!==f?(g=n.jsx(c("MWXListCellStrict.react"),{addOnEnd:j,addOnStart:a,body:k,headline:f,level:4,onPress:e}),b[13]=e,b[14]=k,b[15]=f,b[16]=g):g=b[16];return g}g["default"]=a}),226);
__d("useMWLSJewelLoadMoreThreads",["Int64Hooks","loadMoreLSThreads","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(4),e=(h||(h=c("useReStore")))(),g,i;b[0]!==a||b[1]!==e?(g=function(){return function(){var b=e.runInTransaction(function(b){return c("loadMoreLSThreads")(b,a)},"readwrite",void 0,void 0,f.id+":26");c("promiseDone")(b)}},i=[e,a],b[0]=a,b[1]=e,b[2]=g,b[3]=i):(g=b[2],i=b[3]);return d("Int64Hooks").useMemoInt64(g,i)}g["default"]=a}),98);
__d("useMWLSLoadThreadFolderIfNotPresent",["CancellablePromise","CancellationToken","I64","Int64Hooks","ReQL","promiseDone","react-compiler-runtime","useMWLSJewelLoadMoreThreads","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(8),e=(i||(i=c("useReStore")))(),f=c("useMWLSJewelLoadMoreThreads")(a),g;b[0]!==e.tables.threads_ranges_v2__generated||b[1]!==f||b[2]!==a?(g=function(){var b=c("CancellationToken")();c("promiseDone")(d("CancellablePromise").ignoreFailed(void 0,d("CancellablePromise").then_(b,function(a){a==null&&f()},d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads_ranges_v2__generated).filter(function(b){return(h||(h=d("I64"))).equal(b.parentThreadKey,a)})))));return b.cancel},b[0]=e.tables.threads_ranges_v2__generated,b[1]=f,b[2]=a,b[3]=g):g=b[3];var j;b[4]!==e||b[5]!==f||b[6]!==a?(j=[f,e,a],b[4]=e,b[5]=f,b[6]=a,b[7]=j):j=b[7];d("Int64Hooks").useEffectInt64(g,j)}g["default"]=a}),98);
__d("MWLSJewelMessageRequestsThreadContainer.react",["I64","LSIntEnum","MWJewelMessageRequestsThread.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWLSLoadThreadFolderIfNotPresent","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react");function m(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e;a[0]!==b.tables.threads?(e=function(){return d("ReQL").fromTableDescending(b.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange((i||(i=d("LSIntEnum"))).ofNumber(-1)).filter(n)},a[0]=b.tables.threads,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];a=d("ReQLSuspense").useArray(e,g,f.id+":26");return a.length}function n(a){return(j||(j=d("I64"))).gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs)}function a(a){var b=d("react-compiler-runtime").c(4);a=a.onOpenMessageRequests;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=(i||(i=d("LSIntEnum"))).ofNumber(-1),b[0]=e):e=b[0];c("useMWLSLoadThreadFolderIfNotPresent")(e);e=m();if(a==null||e===0)return null;var f;b[1]!==a||b[2]!==e?(f=l.jsx(c("MWJewelMessageRequestsThread.react"),{onOpenMessageRequests:a,unreadRequestsCount:e}),b[1]=a,b[2]=e,b[3]=f):f=b[3];return f}g["default"]=a}),98);
__d("LSFilteredThreadsRangesQuery",["LSGetCursor","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.neq(a[10],void 0)?d[0]=a[10]:d[0]=c.i64.cast([0,0]),a[11]!==void 0?d[1]=a[11]:d[1]="",(a[2]&&c.i64.neq(a[7],void 0)&&c.i64.neq(a[4],void 0)||a[3]&&c.i64.neq(a[6],void 0)&&c.i64.neq(a[5],void 0))&&!(a[2]&&c.i64.neq(a[7],void 0)&&c.i64.neq(a[4],void 0)&&a[3]&&c.i64.neq(a[6],void 0)&&c.i64.neq(a[5],void 0))?c.sequence([function(e){return d[3]=a[4]==null?c.i64.cast([-2147483648,0]):a[4],d[4]=a[7]==null?c.i64.cast([0,1]):a[7],d[10]=c.i64.gt(d[4],c.i64.cast([0,1]))&&c.i64.gt(d[3],c.i64.cast([-2147483648,0])),c.storedProcedure(b("LSGetCursor"),c.i64.cast([0,1])).then(function(a){return a=a,d[2]=a[0],a})},function(e){return d[5]=new c.Map(),d[5].set("cursor",d[2]),d[5].set("filter",a[1]),d[5].set("is_after",a[3]),d[5].set("parent_thread_key",a[0]),d[5].set("reference_activity_timestamp",a[3]?a[6]:a[7]),d[5].set("reference_thread_key",a[3]?a[5]:a[4]),d[5].set("secondary_filter",d[0]),d[5].set("filter_value",d[1]),d[5].set("sync_group",c.i64.cast([0,1])),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[11]=c.i64.of_float(Date.now()),d[6]=c.i64.add(d[11],c.i64.cast([0,0]))):d[6]=c.i64.cast([0,0]),d[7]=c.toJSON(d[5]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),"trq",c.i64.cast([0,313]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[6],c.i64.cast([0,0])).then(function(a){return a=a,d[8]=a[0],a})},function(b){return c.filter(c.db.table(247).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])&&b.threadRangeFilterValue===d[1]}).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(247).add({folderName:"",parentThreadKey:a[0],minThreadKey:d[3]==null?c.i64.cast([-2147483648,0]):d[3],minLastActivityTimestampMs:d[4]==null?c.i64.cast([0,1]):d[4],threadRangeFilter:a[1],secondaryThreadRangeFilter:d[0],threadRangeFilterValue:d[1],maxLastActivityTimestampMs:c.i64.cast([0,1]),maxThreadKey:c.i64.cast([-2147483648,0]),isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:d[10],hasMoreAfter:!1,syncGroup:c.i64.cast([0,1])}):(b.item,c.forEach(c.filter(c.db.table(247).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])&&b.threadRangeFilterValue===d[1]}),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:d[10],hasMoreAfter:!1})}))})}]):c.resolve()},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxFilteredThreadsRangesQueryStoredProcedure";a.__tables__=["filtered_threads_ranges_v3__generated"];e.exports=a}),null);
__d("LSFilteredThreadsRangesQueryStoredProcedure",["LSFilteredThreadsRangesQuery","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSFilteredThreadsRangesQuery"),e.parentThreadKey,e.filter,e.isLoadingBefore,e.isLoadingAfter,e.minThreadKey,e.maxThreadKey,e.maxLastActivityTimestampMs,e.minLastActivityTimestampMs,e.numThreads,e.numMessages,e.secondaryFilter,e.filterValue);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("ReQLScrollAnchored.react",["BaseScrollableAreaContext","BaseThemeProvider.react","CometPlaceholder.react","CometSSRSuspendOnServer.react","MWXScrollableAreaStyles","gkx","intersectionObserverEntryIsIntersecting","react","react-compiler-runtime","stylex","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;var aa=b.useContext,ba=b.useEffect,ca=b.useImperativeHandle,da=b.useLayoutEffect;b.useMemo;var k=b.useRef,ea=b.useState,fa=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.render=function(){return c.props.children},a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.componentDidUpdate=function(a,b,c){b=a.children;this.props.componentDidUpdate(b,c)};c.getSnapshotBeforeUpdate=function(a){a=a.children;return this.props.getSnapshotBeforeUpdate(a)};return a}(j.PureComponent),l={contentMinHeight:{minHeight:"x1us19tq",$$css:!0},disableScrollAnchoring:{overflowAnchor:"x1xzczws",$$css:!0},overscrollBehaviorContain:{overscrollBehavior:"xish69e",$$css:!0},scrollArea:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowAnchor:"x1xzczws",overflowX:"x6ikm8r",overflowY:"x1odjw0f",position:"x1n2onr6",width:"xh8yej3",$$css:!0},wrapper:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}},ga=typeof ResizeObserver!=="undefined";function ha(a){var b=a.clientHeight;a=a.scrollTop;return a>b*2}function ia(a,b){return a-b.scrollTop>b.clientHeight*2}var ja=5;e=j.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(97),f=a.hasReachedBottom,g=a.hasReachedTop,i=a.setScrollTopInResetForBottomAnchor,m=a.initialAnchor,n=a.initialRenderComplete,o=a.onReachingBottom,p=a.onReachingTop,q=a.onScroll,r=a.onUserScroll,s=a.renderEmptyContent,t=a.renderFooter,u=a.renderHeader,v=a.renderHeaderContentSpacer,w=a.renderLoadingAnimation,x=a.isSufficientContentLoadedAbove,y=a.isSufficientContentLoadedBelow,z=a.headerStyle,A=a.snapThreshold,B=a.xstyle,C=a.shouldOverscrollBehaviourContain,D=a.elements,E=f===void 0?!0:f,F=g===void 0?!0:g,G=i===void 0?!0:i,H=x===void 0?ha:x,I=y===void 0?ia:y,J=A===void 0?5:A;a=aa(c("BaseScrollableAreaContext"));var K=k();e[0]===Symbol.for("react.memo_cache_sentinel")?(f={getDOMNode:function(){return K==null?void 0:K.current}},e[0]=f):f=e[0];e[1]!==a?(g=[].concat(a,[f]),e[1]=a,e[2]=g):g=e[2];i=g;x=i;var ka=k(),L=k();y=ea(m);A=y[0];var M=y[1],N=k(m),O=k(null);e[3]!==E||e[4]!==F||e[5]!==H||e[6]!==I||e[7]!==o||e[8]!==p?(f=function(){var a=K.current,b=L.current;if(a==null||b==null||a.offsetParent===null||b.offsetParent===null)return;b=I(b.clientHeight,a);O.current=a.scrollTop;if(!b&&!E&&o!=null){o();return}b=H(a);O.current=a.scrollTop;!b&&!F&&p!=null&&p()},e[3]=E,e[4]=F,e[5]=H,e[6]=I,e[7]=o,e[8]=p,e[9]=f):f=e[9];var P=f;e[10]!==D.length||e[11]!==P?(a=[P,D.length],e[10]=D.length,e[11]=P,e[12]=a):a=e[12];ba(P,a);e[13]!==E||e[14]!==J?(g=function(a){if(a.scrollHeight===a.clientHeight)return;var b=a.scrollHeight-a.clientHeight-a.scrollTop<J&&E?"bottom":"top";M(N.current=b);O.current=a.scrollTop},e[13]=E,e[14]=J,e[15]=g):g=e[15];var Q=g;e[16]!==q?(i=function(){var a=K.current,b=O.current;if(b==null||a==null)return;a.scrollTop!==b&&(a.scrollTop=b,q&&q(a))},e[16]=q,e[17]=i):i=e[17];var R=i;e[18]!==E||e[19]!==F||e[20]!==m||e[21]!==q||e[22]!==G||e[23]!==J?(y=function(){var a=K.current,b=L.current;if(a==null||b==null)return;m==="bottom"?(G&&(a.scrollTop=a.scrollHeight),q&&q(a)):F||(a.scrollTop=b.offsetTop,q&&q(a));E&&a.scrollHeight-a.clientHeight-a.scrollTop<J?M(N.current="bottom"):M(N.current=m);O.current=a.scrollTop},e[18]=E,e[19]=F,e[20]=m,e[21]=q,e[22]=G,e[23]=J,e[24]=y):y=e[24];var S=y,la=k(!1);e[25]!==S?(f=function(){if(la.current)return;S();la.current=!0},a=[S],e[25]=S,e[26]=f,e[27]=a):(f=e[26],a=e[27]);da(f,a);e[28]!==n||e[29]!==q?(g=function(a){a=a===void 0?!1:a;var b=K.current;if(b==null)return;n&&b.scrollHeight>b.clientHeight&&n();if(N.current==="bottom"){var d=b.scrollTop;b.scrollTop=b.scrollHeight;var e=b.scrollTop;q&&q(b);e-d>0&&a&&c("gkx")("26394")&&(b.animate==null?void 0:b.animate([{transform:"translateY("+(e-d)+"px)"},{transform:"translateY(0)"}],{duration:150,easing:"ease-out",iterations:1}))}O.current=b.scrollTop},e[28]=n,e[29]=q,e[30]=g):g=e[30];var T=g;e[31]!==P||e[32]!==q||e[33]!==r||e[34]!==Q?(i=function(){var a=K.current;if(a==null)return;q&&q(a);if(a.scrollTop===O.current)return;O.current=null;P();Q(a);r&&r()},e[31]=P,e[32]=q,e[33]=r,e[34]=Q,e[35]=i):i=e[35];var U=i;e[36]!==P||e[37]!==T?(y=function(){T(!1),P()},e[36]=P,e[37]=T,e[38]=y):y=e[38];var V=y;e[39]!==T?(f=function(){return T(!0)},e[39]=T,e[40]=f):f=e[40];a=f;var W=c("useResizeObserver")(a),X=c("useResizeObserver")(V);e[41]!==W?(g=function(a){W(a),L.current=a},e[41]=W,e[42]=g):g=e[42];var Y=g;e[43]!==X?(i=function(a){X(a),K.current=a},e[43]=X,e[44]=i):i=e[44];var ma=i;e[45]!==q?(y=function(a,b){if(b!=null){a=b.element;var c=b.height;b=b.scrollAreaElement;a=a.clientHeight;O.current=b.scrollTop;a!==c&&!(a<=c&&N.current==="bottom")&&(b.scrollTop=b.scrollTop+(a-c),O.current=b.scrollTop,q&&q(b))}},e[45]=q,e[46]=y):y=e[46];var Z=y;e[47]!==E||e[48]!==q?(f=function(){if(K.current!=null){var a=K.current;a.scrollTop=a.scrollHeight;O.current=a.scrollTop;q&&q(a)}M(N.current=E?"bottom":"top")},e[47]=E,e[48]=q,e[49]=f):f=e[49];var $=f;e[50]===Symbol.for("react.memo_cache_sentinel")?(a=function(){if(K.current!=null){var a=K.current,b=a.scrollHeight-a.scrollTop-a.clientHeight<ja;O.current=a.scrollTop;return b}else return!1},e[50]=a):a=e[50];var na=a,oa=k(null);e[51]===Symbol.for("react.memo_cache_sentinel")?(g=function(a,b){var d=oa.current,e=K.current;if(d!=null&&e!=null){var f=new IntersectionObserver(function(a){a=a[0];(a.boundingClientRect.height!==0||a.boundingClientRect.width!==0)&&b(c("intersectionObserverEntryIsIntersecting")(a))},{root:e,rootMargin:a+"px"});f.observe(d);return function(){return f.disconnect()}}},e[51]=g):g=e[51];var pa=g;e[52]===Symbol.for("react.memo_cache_sentinel")?(i=function(){var a=K.current;if(a!=null){var b=a.scrollHeight-a.clientHeight>0;O.current=a.scrollTop;return b}return!1},e[52]=i):i=e[52];var qa=i;e[53]===Symbol.for("react.memo_cache_sentinel")?(y=function(){var a=K.current;if(a==null)return null;var b={clientHeight:a.clientHeight,scrollHeight:a.scrollHeight,scrollTop:a.scrollTop};O.current=a.scrollTop;return b},e[53]=y):y=e[53];var ra=y;e[54]!==S||e[55]!==R||e[56]!==$?(f=function(){return{doesContentFillScroll:qa,getScrollAreaElement:function(){return K.current},getScrollerMeasurements:ra,isAtBottom:na,onCloseToBottom:pa,resetScrollPosition:S,restoreScrollPosition:R,scrollToBottom:$}},a=[qa,pa,S,R,$],e[54]=S,e[55]=R,e[56]=$,e[57]=f,e[58]=a):(f=e[57],a=e[58]);ca(b,f,a);e[59]!==D||e[60]!==F?(g=function(a){var b=L.current,c=K.current;if(b!=null&&c!=null&&!(F&&c.scrollTop===0)&&(!a.length||D.length&&a[0].key!==D[0].key&&a.length!==D.length)){a=b.clientHeight;O.current=c.scrollTop;return{element:b,height:a,scrollAreaElement:c}}return null},e[59]=D,e[60]=F,e[61]=g):g=e[61];e[62]!==D||e[63]!==Z||e[64]!==g?(i=j.jsx(fa,{componentDidUpdate:Z,getSnapshotBeforeUpdate:g,children:D}),e[62]=D,e[63]=Z,e[64]=g,e[65]=i):i=e[65];y=i;var sa=y;e[66]!==B?(b=(h||(h=c("stylex"))).props(B),e[66]=B,e[67]=b):b=e[67];e[68]!==A?(f=(h||(h=c("stylex"))).props(l.wrapper,A==="bottom"&&l.disableScrollAnchoring),e[68]=A,e[69]=f):f=e[69];e[70]!==Y||e[71]!==D.length||e[72]!==sa||e[73]!==Z||e[74]!==T||e[75]!==U||e[76]!==V||e[77]!==E||e[78]!==F||e[79]!==z||e[80]!==s||e[81]!==t||e[82]!==u||e[83]!==v||e[84]!==w||e[85]!==ma||e[86]!==C?(a=j.jsx(c("BaseThemeProvider.react"),{children:function(a,b){return j.jsxs("div",{className:(h||(h=c("stylex")))(l.scrollArea,C===!0&&l.overscrollBehaviorContain,c("MWXScrollableAreaStyles").themed,a),"data-testid":void 0,onScroll:U,ref:ma,style:b,children:[j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"ReQLScrollAnchored.ScrollArea",children:j.jsx(c("CometSSRSuspendOnServer.react"),{children:!ga&&j.jsx("iframe",babelHelpers.extends({className:"x76ihet xwmqs3e x112ta8 xxxdfa6 x5yr21d x17qophe x1ty9z65 xg01cxk x47corl x10l6tqk x1yhy09f xh8yej3"},{ref:function(a){a!=null&&(a.contentWindow.onresize=V)}}))})}),j.jsxs(fa,{componentDidUpdate:Z,getSnapshotBeforeUpdate:function(){var a=ka.current,b=K.current;if(a!=null&&b!=null){O.current=b.scrollTop;if(O.current!==0){var c=a.clientHeight;return{element:a,height:c,scrollAreaElement:b}}}return null},children:[j.jsx("div",babelHelpers.extends({},h.props(z),{ref:ka,children:F?u&&u():w&&w("onTop",D.length)})),s!=null?s():null]}),v!=null&&v(),j.jsx("div",babelHelpers.extends({},h.props(D.length!==0&&!F&&!E&&l.contentMinHeight),{children:j.jsxs("div",babelHelpers.extends({className:"x1n2onr6"},{ref:Y,children:[j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"ReQLScrollAnchored.elementsHOC",children:j.jsx(c("CometSSRSuspendOnServer.react"),{children:!ga&&j.jsx("iframe",babelHelpers.extends({className:"x76ihet xwmqs3e x112ta8 xxxdfa6 x5yr21d x17qophe x1ty9z65 xg01cxk x47corl x10l6tqk x1yhy09f xh8yej3"},{ref:function(a){a!=null&&(a.contentWindow.onresize=T)}}))})}),sa,j.jsx("div",babelHelpers.extends({className:"x1ey2m1c xjm9jq1 x1y332i5 x47corl x10l6tqk"},{ref:oa})),E?t&&t():w&&w("onBottom",D.length)]}))}))]})}}),e[70]=Y,e[71]=D.length,e[72]=sa,e[73]=Z,e[74]=T,e[75]=U,e[76]=V,e[77]=E,e[78]=F,e[79]=z,e[80]=s,e[81]=t,e[82]=u,e[83]=v,e[84]=w,e[85]=ma,e[86]=C,e[87]=a):a=e[87];e[88]!==f||e[89]!==a?(g=j.jsx("div",babelHelpers.extends({},f,{children:a})),e[88]=f,e[89]=a,e[90]=g):g=e[90];e[91]!==b||e[92]!==g?(i=j.jsx("div",babelHelpers.extends({},b,{children:g})),e[91]=b,e[92]=g,e[93]=i):i=e[93];e[94]!==x||e[95]!==i?(y=j.jsx(c("BaseScrollableAreaContext").Provider,{value:x,children:i}),e[94]=x,e[95]=i,e[96]=y):y=e[96];return y}f=e;g.default=f}),98);
__d("useStableValue",["I64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useRef;function a(a){return k(a,(i||(i=d("I64"))).equal)}function k(a,b){var c=j(a);b(c.current,a)||(c.current=a);return c.current}g.useStableI64=a;g.useStableValue=k}),98);
__d("useStableBounds",["deepEquals","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("useStableValue").useStableValue(a,c("deepEquals"))}g["default"]=a}),98);
__d("ReQLPaginatedList.react",["FBLogger","I64","PromiseOrValue","ReQL","ReQLScrollAnchored.react","ReQLSuspense","SortedAsyncIterable","deepEquals","gkx","justknobx","promiseDone","react","useMergeRefs","useStableBounds","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;var l=b.useCallback,m=b.useEffect,aa=b.useLayoutEffect,n=b.useMemo,o=b.useRef,p=b.useState,q=b.useTransition;function r(a,b){return b==null?a:a.bounds(b)}function s(a){if(a instanceof Promise)throw a;return a}function t(a){return{direction:a.direction,iterator:function(b,c){var e=a.iterator(b,c);return{next:function(a){return(i||(i=d("PromiseOrValue"))).map(e.next(a),function(a){return a.done?a:{done:!1,value:[a.value[0],a.value]}})}}},keyLength:a.keyLength,subscribe:function(b,c){return a.subscribe(async function(a,c,d){c.operation==="delete"?await b(a,c,d):c.operation==="add"?await b(a,{operation:"add",value:[a,c.value]},d):c.operation==="put"&&await b(a,{operation:"put",value:[a,c.value]},d)},c)}}}function ba(a){var b=a.clientHeight;a=a.scrollTop;return a>b*2}function a(a){var b=a.bounds,e=a.direction,g=e===void 0?"asc":e;e=a.hasReachedBottom;var h=e===void 0?!0:e;e=a.hasReachedTop;var i=e===void 0?!0:e;e=a.imperativeRef;var j=a.initialAnchor,da=a.initialRenderComplete,u=a.onPageLoaded,v=a.onReachingBottom,w=a.onReachingTop,ea=a.onScroll,fa=a.onUserScroll,x=a.pageSize,y=x===void 0?15:x;x=a.renderEmptyContent;var z=a.renderFooter,ga=a.renderHeader,ha=a.renderHeaderContentSpacer,A=a.renderItem,ia=a.renderLoadingAnimation,ja=a.headerStyle,B=a.isSufficientContentLoadedAbove;B=B===void 0?ba:B;var ka=a.isSufficientContentLoadedBelow,C=a.snapThreshold;C=C===void 0?5:C;var D=a.setScrollTopInResetForBottomAnchor;D=D===void 0?!0:D;var E=a.data,F=E.ascending,G=E.descending;E=a.xstyle;var H=a.isLogDuplicatedItemEnabled;H=H===void 0?!1:H;a=a.shouldOverscrollBehaviourContain;var I=q();I[0];var J=I[1],K=c("useStableBounds")(b);if(j!=null&&j!=="top"&&j!=="bottom"){I=r(G,K).bounds({lt:j}).iterator(new WeakMap()).next();if(I instanceof Promise)throw I;j=I.done?"top":I.value[0]}var L=d("useStableValue").useStableValue(j,c("deepEquals")),M=n(function(){var a,b;L==="top"||L==null?(a=d("ReQL").empty(),b=g==="asc"?F:G):L==="bottom"?(a=g==="asc"?G:F,b=d("ReQL").empty()):(a=g==="asc"?G.bounds({lt:L}):F.bounds({gt:L}),b=g==="asc"?F.bounds({gte:L}):G.bounds({lte:L}));return{after:b,before:a}},[L,F,G,g]),N=o(!1),O=n(function(){var a=s(d("SortedAsyncIterable").toArray(r(M.before,K).take(L==="bottom"?y:0),f.id+":204")).reverse(),b=s(d("SortedAsyncIterable").toArray(r(M.after,K).take(y),f.id+":211")),c=L==="bottom"?!0:b.length<y,e=L==="top"||L==null?!0:L==="bottom"?a.length<y:!1;return{firstKey:e?void 0:L==="bottom"?(e=a[0])==null?void 0:e[0]:(a=b[0])==null?void 0:a[0],lastKey:c?void 0:(e=b[b.length-1])==null?void 0:e[0]}},[L,K,M.after,M.before,y]);b=p(function(){return{anchor:L,iterables:M,values:O}});I=b[0];var P=b[1];j=I.iterables===M&&I.anchor===L;b=j?I.values:O;var Q=b.firstKey,R=b.lastKey,S=d("ReQLSuspense").useArray(function(){return t(Q==null?r(M.before,K).take(y):r(M.before,K).bounds(g==="asc"?{gte:Q}:{lte:Q}))},[K,g,Q,M.before,y],f.id+":246"),T=n(function(){return[].concat(S).reverse()},[S]);m(function(){T.length===y&&Q==null&&J(function(){return P({anchor:L,iterables:M,values:{firstKey:T[0][0],lastKey:R}})})},[T,Q,L,M,R,y]);var U=d("ReQLSuspense").useArray(function(){return t(R==null?r(M.after,K).take(y):r(M.after,K).bounds(g==="asc"?{lte:R}:{gte:R}))},[K,g,M.after,R,y],f.id+":273");m(function(){U.length===y&&R==null&&J(function(){return P({anchor:L,iterables:M,values:{firstKey:Q,lastKey:U[U.length-1][0]}})})},[U,Q,L,M,R,y]);var V=n(function(){return[].concat(T,U)},[T,U]),W=d("ReQLSuspense").useFirst(function(){return V.length===0?d("ReQL").empty():r(M.before,K).bounds(g==="asc"?{lt:V[0][0]}:{gt:V[0][0]})},[V,K,g,M.before],f.id+":300")==null,X=d("ReQLSuspense").useFirst(function(){return V.length===0?d("ReQL").empty():r(M.after,K).bounds(g==="asc"?{gt:V[V.length-1][0]}:{lt:V[V.length-1][0]})},[V,K,g,M.after],f.id+":310")==null;j=q();var Y=j[0],la=j[1];I=l(function(){if(N.current||Y)return;if(X){if(!h&&v!=null)return v()}else{N.current=!0;c("promiseDone")(Promise.resolve(d("SortedAsyncIterable").toArray(r(g==="asc"?F:G,K).bounds(g==="asc"?{gt:V[V.length-1][0]}:{lt:V[V.length-1][0]}).take(y),f.id+":337")),function(a){N.current=!1,u!=null&&u("bottom",V[V.length-1][1],a.map(function(a){return a[1]})),la(function(){var b;return P({anchor:L,iterables:M,values:{firstKey:Q,lastKey:(b=(b=a[a.length-1])==null?void 0:b[0])!=null?b:V[V.length-1][0]}})})});return}},[Y,X,h,v,g,F,G,K,V,y,u,Q,M,L]);b=q();var ma=b[0],na=b[1],oa=o(!0);j=l(function(){if(N.current||ma)return;if(W){if(!i)return w==null?void 0:w();return}N.current=!0;c("promiseDone")(Promise.resolve(d("SortedAsyncIterable").toArray(r(g==="asc"?G:F,K).bounds(g==="asc"?{lt:V[0][0]}:{gt:V[0][0]}).take(y),f.id+":409")),function(a){N.current=!1,u!=null&&(oa.current?(oa.current=!1,u("top",null,V.slice(0,y).map(function(a){return a[1]}).reverse())):u("top",V[0][1],a.map(function(a){return a[1]}))),a.reverse(),na(function(){var b;return P({anchor:L,iterables:M,values:{firstKey:(b=(b=a[0])==null?void 0:b[0])!=null?b:V[0][0],lastKey:R}})})})},[ma,W,i,w,g,G,F,K,V,y,u,R,M,L]);var Z=W&&i?0:1,$=V.length-(X&&h?0:1);b=n(function(){var a=new Array($>Z?$-Z:0);for(var b=Z;b<$;b++){var d;a[b-Z]=A(V[b][1],{nextItem:(d=V[b+1])==null?void 0:d[1],previousItem:(d=V[b-1])==null?void 0:d[1]},c("gkx")("7810")?$-Z-b:0)}return a},[V,Z,A,$]);var pa=o(null);e=c("useMergeRefs")(pa,e);aa(function(){var a;(a=pa.current)==null?void 0:a.resetScrollPosition()},[L]);var qa=l(function(){return z==null?void 0:z(V.length>0?V[V.length-1][1]:void 0)},[V,z]);ca(H,V);return k.jsx(c("ReQLScrollAnchored.react"),{elements:b,hasReachedBottom:X&&h,hasReachedTop:W&&i,headerStyle:ja,initialAnchor:L==="bottom"?"bottom":"top",initialRenderComplete:da,isSufficientContentLoadedAbove:B,isSufficientContentLoadedBelow:ka,onReachingBottom:I,onReachingTop:j,onScroll:ea,onUserScroll:fa,pageSize:y,ref:e,renderEmptyContent:x,renderFooter:qa,renderHeader:ga,renderHeaderContentSpacer:ha,renderLoadingAnimation:ia,setScrollTopInResetForBottomAnchor:D,shouldOverscrollBehaviourContain:a,snapThreshold:C,xstyle:E})}a.displayName=a.name+" [from "+f.id+"]";function ca(a,b){var e=p(!1),f=e[0],g=e[1];m(function(){try{if(!c("justknobx")._("1789"))return;if(a&&!f){var e=new Set(),h=[];for(var i of b){var k=i[1];if(typeof k==="object"&&(k==null?void 0:k.threadKey)!=null&&(j||(j=d("I64"))).isI64(k==null?void 0:k.threadKey)){k=(j||(j=d("I64"))).to_string(k==null?void 0:k.threadKey);e.has(k)&&h.push(k);e.add(k)}}e.size!==b.length&&(g(!0),c("FBLogger")("messenger_e2ee_web").warn("Duplicated thread item detected in ReQLPaginatedList %s",h.join(",")))}}catch(a){c("FBLogger")("messenger_e2ee_web").warn("Duplicated thread item error",a)}},[b,f,a])}g.default=a}),98);
__d("ReQLPaginatedList.shared",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{ascending:a,descending:b}}f.fromIterables=a}),66);
__d("useMWCMMarkBumpedThreadsSeen",["Int64Hooks","asyncToGeneratorRuntime","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWCMMarkBumpedThreadsSeen").__setRef("useMWCMMarkBumpedThreadsSeen");function a(a){var c=d("react-compiler-runtime").c(3),e,g;c[0]!==a?(e=function(){return{load:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield h.load());return function(c){return b.MWCMMarkBumpedThreadsSeen(a,c)}});function d(){return c.apply(this,arguments)}return d}()}},g=[a],c[0]=a,c[1]=e,c[2]=g):(e=c[1],g=c[2]);return d("Int64Hooks").useMemoInt64(e,g)}g["default"]=a}),98);
__d("useMarkSeenWhenVisible",["CometDebounce","Int64Hooks","Promise","ReQL","UserActivity","asyncToGeneratorRuntime","promiseDone","react","useMWCMMarkBumpedThreadsSeen","useMWPMarkSeen","useMWPWatchFolderFocusChanges","useReStore","useSimpleImpression","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useCallback,l=e.useRef;function a(a){var e=(i||(i=c("useReStore")))(),g=l(!1),j=c("useMWCMMarkBumpedThreadsSeen")(a),m=c("useVisibilityObserver")({onHidden:function(){g.current=!1},onVisible:function(){g.current=!0}}),n=c("useMWPMarkSeen")(a),o=c("CometDebounce")(k(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=b("Promise"))).all([n.load(),j.load()])),c=a[0],d=a[1];yield e.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield c(a),yield d(a)});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":56")})())},[n,j,e]),{leading:!0,wait:500});c("useMWPWatchFolderFocusChanges")(o,g);c("useSimpleImpression")(o);d("Int64Hooks").useEffectInt64(function(){return d("ReQL").fromTableDescending(e.tables.threads.index("parentThreadKeyLastActivityTimestampMs"),[]).getKeyRange(a).take(1).subscribe(function(){c("UserActivity").isOnTab()&&g.current===!0&&o()})},[e,a,o]);return m}g["default"]=a}),98);
__d("MWPBaseThreadList.react",["Box.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSFilteredThreadsRangesQueryStoredProcedure","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadRangeFilter","LSThreadsRangesQueryStoredProcedure","MAWIsIDBOperational","MAWMaybeWithTimeout","MWThreadListFocusableTable.react","MWThreadListSupportedThreadTypes","MWXacGating","MetaConfig","ReQL","ReQLPaginatedList.react","ReQLPaginatedList.shared","ReQLSuspense","asyncToGeneratorRuntime","gkx","isCommunityContainersEnabled","isMWXacGroupThread","mwCMIsAnyCMThread","mwCMIsThreadBumped","mwIsThreadDisabled","promiseDone","react","react-compiler-runtime","useMarkSeenWhenVisible","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;e.useCallback;var m=e.useEffect,n={container:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},emptyContentContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},o=1e4;function p(a,e,g,h){h===void 0&&(h=!1),void d("MAWMaybeWithTimeout").maybeWithTimeout(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(yield (b=a.threads_ranges_v2__generated).get.apply(b,e));if(b==null||b.isLoadingBefore)return;g&&g();return c("LSThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{additionalPagesToFetch:(j||(j=d("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:b.maxLastActivityTimestampMs,maxThreadKey:b.maxThreadKey,minLastActivityTimestampMs:b.minLastActivityTimestampMs,minThreadKey:b.minThreadKey,parentThreadKey:b.parentThreadKey,shouldSkipE2eeThreadsRanges:h})});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":112"),o,function(){c("FBLogger")("maw_threads").warn("Paginated threads load took longer than "+o/1e3+" seconds.\n        parent_thread_key: "+(j||(j=d("I64"))).to_string(e[0])+"\n        min_thread_key: "+j.to_string(e[1])+"\n        min_last_activity_timestamp_ms: "+j.to_string(e[2]))})}function q(a,e,g,h,i){g===void 0&&(g=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE)),h===void 0&&(h=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE)),void d("MAWMaybeWithTimeout").maybeWithTimeout(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(yield (b=a.filtered_threads_ranges_v3__generated).get.apply(b,e));if(b==null||b.isLoadingBefore)return;i&&i();return c("LSFilteredThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{filter:g,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:b.maxLastActivityTimestampMs,maxThreadKey:b.maxThreadKey,minLastActivityTimestampMs:b.minLastActivityTimestampMs,minThreadKey:b.minThreadKey,parentThreadKey:b.parentThreadKey,secondaryFilter:h})});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":173"),o,function(){c("FBLogger")("maw_threads").warn("Filtered paginated threads load took longer than "+o/1e3+" seconds.\n        parent_thread_key: "+(j||(j=d("I64"))).to_string(e[0])+"\n        min_thread_key: "+j.to_string(e[1])+"\n        min_last_activity_timestamp_ms: "+j.to_string(e[2])+"\n        thread_range_filter: "+j.to_string(e[3])+"\n        secondary_thread_range_filter: "+j.to_string(e[5]))})}function r(a,b,e,f,g,h){e===void 0&&(e=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE));f===void 0&&(f=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE));h===void 0&&(h=!1);if(b==null)return;if(!b.threadRangeFilter){var i=[b.parentThreadKey,b.minThreadKey,b.minLastActivityTimestampMs];p(a,i,g,h)}else{i=[b.parentThreadKey,b.minThreadKey,b.minLastActivityTimestampMs,b.threadRangeFilter,b.folderName,b.secondaryThreadRangeFilter,b.threadRangeFilterValue];q(a,i,e,f,g)}}function s(a,e,g,h,i,l){l===void 0&&(l=!1),c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange((k||(k=d("LSIntEnum"))).ofNumber(1))));b!=null&&(j||(j=d("I64"))).equal(b.syncStatus,(k||(k=d("LSIntEnum"))).ofNumber(2))&&(yield a.runInTransaction(function(a){i==null?void 0:i();if(g==null)return c("LSThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{additionalPagesToFetch:(j||(j=d("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:j.max_int,maxThreadKey:j.max_int,minLastActivityTimestampMs:j.max_int,minThreadKey:j.max_int,parentThreadKey:e,shouldSkipE2eeThreadsRanges:l});else return c("LSFilteredThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{filter:g,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:(j||(j=d("I64"))).max_int,maxThreadKey:j.max_int,minLastActivityTimestampMs:j.max_int,minThreadKey:j.max_int,parentThreadKey:e,secondaryFilter:h})},"readwrite","ui",void 0,f.id+":289"))})())}function t(a,b,c,e){var g=d("react-compiler-runtime").c(11),h,i;g[0]!==a||g[1]!==c||g[2]!==b?(h=function(){return c==null?d("ReQL").fromTableDescending(a.tables.threads_ranges_v2__generated).getKeyRange(b):d("ReQL").empty()},i=[a,c,b],g[0]=a,g[1]=c,g[2]=b,g[3]=h,g[4]=i):(h=g[3],i=g[4]);h=d("ReQLSuspense").useFirst(h,i,f.id+":335");var k;g[5]!==a||g[6]!==c||g[7]!==b||g[8]!==e?(i=function(){return c==null?d("ReQL").empty():d("ReQL").fromTableDescending(a.tables.filtered_threads_ranges_v3__generated).getKeyRange(b).filter(function(a){return(j||(j=d("I64"))).equal(a.threadRangeFilter,c)&&(!e||(j||(j=d("I64"))).equal(a.secondaryThreadRangeFilter,e))})},k=[a,c,b,e],g[5]=a,g[6]=c,g[7]=b,g[8]=e,g[9]=i,g[10]=k):(i=g[9],k=g[10]);g=d("ReQLSuspense").useFirst(i,k,f.id+":342");return c==null?h:g}function a(a){var b=d("react-compiler-runtime").c(83),e=a.afterContent,g=a.beforeContent,i=a.containerStyle,o=a.customThreadFilter_DO_NOT_USE,p=a.emptyContent,q=a.filter,v=a.gridLabel,w=a.imperativeRef,x=a.isSufficientContentLoadedBelow,y=a.loadMoreThreads,z=a.loadMoreThreadsForEmptyRange,A=a.onLoadMoreThreads,B=a.onReachingTop,C=a.onScroll,D=a.onThreadsLoaded,E=a.pageSize,F=a.parentThreadKey,G=a.renderItem,H=a.renderLoadingAnimation,I=a.role,J=a.secondaryFilter,K=a.setIsEmptyInbox;a=a.shouldSkipE2eeThreadsRanges;var L=y===void 0?r:y,M=z===void 0?s:z;y=I===void 0?"grid":I;var N=a===void 0?!1:a,O=d("MAWIsIDBOperational").useIsIDBOperational(),P=(h||(h=c("useReStore")))(),Q=t(P,F,q,J);z=c("MetaConfig")._("44");Q!=null&&!Q.isLoadingBefore&&(D&&D());b[0]!==Q?(I=Q!=null?(j||(j=d("I64"))).equal(Q.minLastActivityTimestampMs,(j||(j=d("I64"))).zero)||(j||(j=d("I64"))).equal(Q.minLastActivityTimestampMs,(j||(j=d("I64"))).one)||(z?(j||(j=d("I64"))).equal(Q.minLastActivityTimestampMs,(j||(j=d("I64"))).max_int):!1)?null:Q.minLastActivityTimestampMs:null,b[0]=Q,b[1]=I):I=b[1];var R=I;b[2]!==Q?(a=Q!=null?(j||(j=d("I64"))).equal(Q.maxLastActivityTimestampMs,(j||(j=d("I64"))).zero)||(j||(j=d("I64"))).equal(Q.maxLastActivityTimestampMs,(j||(j=d("I64"))).one)?null:Q.maxLastActivityTimestampMs:null,b[2]=Q,b[3]=a):a=b[3];var S=a;b[4]!==S||b[5]!==R?(D=function(){var a;return{gte:d("ReQL").key((a=R)!=null?a:(j||(j=d("I64"))).min_int),lte:d("ReQL").key((a=S)!=null?a:(j||(j=d("I64"))).max_int)}},z=[S,R],b[4]=S,b[5]=R,b[6]=D,b[7]=z):(D=b[6],z=b[7]);var T=d("Int64Hooks").useMemoInt64(D,z);b[8]!==o||b[9]!==P.tables.community_folders||b[10]!==P.tables.threads||b[11]!==O||b[12]!==F?(I=function(){var a,b=(a=d("ReQL")).fromTableDescending(P.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(F),e=a.fromTableDescending(P.tables.threads.index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(F);b=a.union(b,e).map(function(a){if(!c("mwCMIsThreadBumped")(a))return{hideFromThreadlist:!1,thread:a};var b=c("gkx")("23433"),e=c("isCommunityContainersEnabled")();if(b&&e){if((j||(j=d("I64"))).equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(18)))return{hideFromThreadlist:!0,thread:a}}else if((j||(j=d("I64"))).equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(17)))return{hideFromThreadlist:!0,thread:a};b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(P.tables.community_folders,["isHidden","takedownState"]).getKeyRange((j||(j=d("I64"))).equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(17))?a.threadKey:a.parentThreadKey),f.id+":494");e=(b==null?void 0:b.takedownState)!=null?(j||(j=d("I64"))).equal(b.takedownState,(k||(k=d("LSIntEnum"))).ofNumber(1)):!1;b=(b==null?void 0:b.isHidden)===!0;b=b||e;return{hideFromThreadlist:b,thread:a}}).filter(function(a){var b=a.hideFromThreadlist,e=a.thread;if(b)return!1;a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType);return(!a||O)&&(c("mwCMIsAnyCMThread")(e.threadType)?!c("mwIsThreadDisabled")(e.takedownState):!0)&&c("MWThreadListSupportedThreadTypes").findIndex(function(a){return(j||(j=d("I64"))).equal(e.threadType,a)})!==-1&&(k||(k=d("LSIntEnum"))).toNumber(e.authorityLevel)>c("LSAuthorityLevel").CLIENT_PARTIAL&&(d("MWXacGating").isGroupsEnabled()||!c("isMWXacGroupThread")(e))&&(!o||o(e))}).map(u);return d("ReQLPaginatedList.shared").fromIterables(a.empty(),b)},b[8]=o,b[9]=P.tables.community_folders,b[10]=P.tables.threads,b[11]=O,b[12]=F,b[13]=I):I=b[13];b[14]!==o||b[15]!==P||b[16]!==O||b[17]!==F?(a=[P,O,F,o],b[14]=o,b[15]=P,b[16]=O,b[17]=F,b[18]=a):a=b[18];var U=d("Int64Hooks").useMemoInt64(I,a);b[19]!==T||b[20]!==U.descending?(D=function(){return U.descending.bounds(T)},b[19]=T,b[20]=U.descending,b[21]=D):D=b[21];b[22]!==T||b[23]!==U?(z=[T,U],b[22]=T,b[23]=U,b[24]=z):z=b[24];var V=d("ReQLSuspense").useFirst(D,z,f.id+":561")==null;b[25]!==V||b[26]!==K?(I=function(){K&&K(V)},a=[V,K],b[25]=V,b[26]=K,b[27]=I,b[28]=a):(I=b[27],a=b[28]);m(I,a);b[29]!==P||b[30]!==Q||b[31]!==q||b[32]!==M||b[33]!==A||b[34]!==F||b[35]!==J?(D=function(){Q==null&&M(P,F,q,J,A)},z=[F,Q,P,q,J,A,M],b[29]=P,b[30]=Q,b[31]=q,b[32]=M,b[33]=A,b[34]=F,b[35]=J,b[36]=D,b[37]=z):(D=b[36],z=b[37]);d("Int64Hooks").useEffectInt64(D,z);I=c("useMarkSeenWhenVisible")(F);b[38]!==P||b[39]!==Q||b[40]!==q||b[41]!==L||b[42]!==A||b[43]!==J||b[44]!==N?(a=function(){L(P,Q,q,J,A,N)},b[38]=P,b[39]=Q,b[40]=q,b[41]=L,b[42]=A,b[43]=J,b[44]=N,b[45]=a):a=b[45];D=a;b[46]!==G?(z=function(a){return l.jsx(l.Fragment,{children:G(a)},(j||(j=d("I64"))).to_string(a.threadKey))},b[46]=G,b[47]=z):z=b[47];a=z;if(Q==null){b[48]!==H?(z=H!=null?H("nullState",0):null,b[48]=H,b[49]=z):z=b[49];return z}b[50]!==i?(z=[n.container,i],b[50]=i,b[51]=z):z=b[51];i=!Q.hasMoreBefore;var W=!Q.hasMoreAfter,X;b[52]!==Q.isLoadingAfter||b[53]!==Q.isLoadingBefore||b[54]!==p||b[55]!==V?(X=function(){return V&&!Q.isLoadingAfter&&!Q.isLoadingBefore?l.jsx(c("Box.react"),{xstyle:n.emptyContentContainer,children:p}):null},b[52]=Q.isLoadingAfter,b[53]=Q.isLoadingBefore,b[54]=p,b[55]=V,b[56]=X):X=b[56];var Y;b[57]!==e?(Y=function(){return e},b[57]=e,b[58]=Y):Y=b[58];var Z;b[59]!==g?(Z=function(){return g},b[59]=g,b[60]=Z):Z=b[60];var $;b[61]!==T||b[62]!==U||b[63]!==w||b[64]!==x||b[65]!==D||b[66]!==B||b[67]!==C||b[68]!==E||b[69]!==a||b[70]!==H||b[71]!==i||b[72]!==W||b[73]!==X||b[74]!==Y||b[75]!==Z?($=l.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTable,{children:l.jsx(c("ReQLPaginatedList.react"),{bounds:T,data:U,direction:"desc",hasReachedBottom:i,hasReachedTop:W,imperativeRef:w,isLogDuplicatedItemEnabled:!0,isSufficientContentLoadedBelow:x,onReachingBottom:D,onReachingTop:B,onScroll:C,pageSize:E,renderEmptyContent:X,renderFooter:Y,renderHeader:Z,renderItem:a,renderLoadingAnimation:H,shouldOverscrollBehaviourContain:c("gkx")("8503"),xstyle:n.list})}),b[61]=T,b[62]=U,b[63]=w,b[64]=x,b[65]=D,b[66]=B,b[67]=C,b[68]=E,b[69]=a,b[70]=H,b[71]=i,b[72]=W,b[73]=X,b[74]=Y,b[75]=Z,b[76]=$):$=b[76];b[77]!==v||b[78]!==y||b[79]!==z||b[80]!==$||b[81]!==I?(w=l.jsx(c("Box.react"),{"aria-label":v,"data-testid":void 0,ref:I,role:y,xstyle:z,children:$}),b[77]=v,b[78]=y,b[79]=z,b[80]=$,b[81]=I,b[82]=w):w=b[82];return w}function u(a){a=a.thread;return a}g["default"]=a}),98);
__d("MWPParentThreadKeyContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MWThreadListCommunityContainer.react",["CometPlaceholder.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSIntEnum","LSRtcCallState","LSThreadTitle.react","MAWVault","MWCMGetValidId","MWCMThreadTypes.react","MWInboxCommunityThreadsRouteBuilder","MWPIsThreadUnread","MWThreadListConsts","MWThreadListFocusableTable.react","MWThreadListItemAddOnEnd.react","MWThreadListItemMoreActions.react","MWThreadListLastMessage.react","MWThreadSnippetForDisplay.react","MWVerticalRhythm","MWXListCellPressable.react","MWXProfilePhoto.react","MWXText.react","MessengerClientEventLogger","ReQL","ReQLSuspense","emptyFunction","getLSMediaThreadPictureUrl","gkx","mwCMisStandAloneCommunity","mwIsThreadDisabled","qex","qpl","react","react-strict-dom","requireDeferred","useMatchViewport","useMenuButtonVisibilityState","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));b=i;var m=b.useCallback,n=b.useMemo,o=c("requireDeferred")("QuickPerformanceLogger").__setRef("MWThreadListCommunityContainer.react"),p={listItemContainer:{paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,position:"x1n2onr6",$$css:!0},listItemContainerForMessengerDotCom:{paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",paddingLeft:null,paddingRight:null,$$css:!0}},q=c("qpl")._(269227335,"359");function a(a){var b,e=a.folder,g=a.messagingEntrypoint,i=a.responsive,r=a.selected,s=a.thread,t=d("MWPIsThreadUnread").isThreadUnread(s);a=c("useSinglePartialViewImpression")({onImpressionStart:function(){d("MessengerClientEventLogger").log({business_account_user:null,event_type:"one_px_impression",is_smc:c("mwCMisStandAloneCommunity")(e.communityType),marketplace_user:null,multiple_account_user:null,surface:{entry_point:"community_container",major_surface:"inbox_tab",minor_surface:"inbox_communities"},target:{badging:{count:t?"1":"0"},button:{type:null},community:{id:(j||(j=d("I64"))).to_string(e.folderId)},group:{id:j.to_string(e.fbGroupId)},ranking:null}})}});var u=(b=c("getLSMediaThreadPictureUrl")(s))!=null?b:"",v=n(function(){return l.jsx("div",babelHelpers["extends"]({className:"x1h0ha7o xg83lxy"},{children:l.jsx(c("MWXProfilePhoto.react"),{shape:"roundedRectLarge",size:48,source:{uri:u}})}))},[u]),w=n(function(){return l.jsx(c("LSThreadTitle.react"),{thread:s})},[s]),x=d("MAWVault").unvault((b=s.snippet)!=null?b:""),y=d("Int64Hooks").useMemoInt64(function(){return l.jsx(c("MWThreadListLastMessage.react"),{hasOngoingCall:!(j||(j=d("I64"))).equal(s.ongoingCallState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").NO_ONGOING_CALL)),isUnread:t,lastMessageCtaType:s.lastMessageCtaType,lastMessageTimestamp:j.to_float(s.lastActivityTimestampMs),showDisappearingMessageVisualIndicator:!1,showSnippetText:!0,showTimestamp:!0,snippet:l.jsx(c("MWThreadSnippetForDisplay.react"),{snippetRaw:x,thread:s}),thread:s})},[t,x,s]),z=n(function(){var a=(j||(j=d("I64"))).to_float(e.notificationMutedUntil);return a===-1||a===0?a:a+Date.now()},[e.notificationMutedUntil]),A=d("Int64Hooks").useMemoInt64(function(){return l.jsx(c("MWThreadListItemAddOnEnd.react"),{communityId:e.folderId,fbGroupId:e.fbGroupId,isMaximized:!1,messagingEntrypoint:"inbox",mutedUntilMs:z,parentSurface:"channel_list",showGroupsJoinChatDialog:c("emptyFunction"),threadKey:s.threadKey})},[e.fbGroupId,e.folderId,s.threadKey,z]),B=c("useMenuButtonVisibilityState")(!0),C=B[1].setListItemHovered;b=m(function(){return C(!1)},[C]);var D=m(function(){return C(!0)},[C]),E=c("mwIsThreadDisabled")(void 0,e.takedownState);i=c("gkx")("24056")?!1:i;i=c("useMatchViewport")("min","width",d("MWThreadListConsts").minimumPixelsNeededForMaxDisplay)||!i;var F=E?!1:i;E=d("Int64Hooks").useMemoInt64(function(){return F?l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWThreadListCommunityContainer",children:l.jsx(c("MWThreadListItemMoreActions.react"),{communityType:e.communityType,fbGroupId:e.fbGroupId,folderId:e.folderId,isContainerUnread:t,menuButtonVisibilityState:B,messagingEntrypoint:g,onClose:c("emptyFunction"),selected:r,threadKey:s.threadKey,threadType:s.threadType})}):null},[e.communityType,e.fbGroupId,e.folderId,t,B,g,r,F,s.threadKey,s.threadType]);var G=d("MWInboxCommunityThreadsRouteBuilder").buildURLWithoutThread({folder_id:(j||(j=d("I64"))).to_string(s.threadKey)}),H=(h||(h=c("useReStore")))();i=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(H.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(e.folderId)},[H,e.folderId],f.id+":261").filter(function(a){return!(j||(j=d("I64"))).equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(17))&&d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType)});var I=i.filter(function(a){return d("MWPIsThreadUnread").isThreadUnread(a)}),J=I.length,K=c("qex")._("1752")===!0,L=K?i.filter(function(a){return!d("MWPIsThreadUnread").isThreadUnread(a)}):i.filter(function(a){return!d("MWPIsThreadUnread").isThreadUnread(a)}).sort(function(a,b){return((a=a==null?void 0:a.threadName)!=null?a:"").localeCompare((a=b==null?void 0:b.threadName)!=null?a:"")}),M=L.length,N=K?M-1:0,O=d("MWCMGetValidId").MWCMHasValidFbGroupId(e==null?void 0:e.fbGroupId)?(j||(j=d("I64"))).to_string(e.fbGroupId):null,P=d("Int64Hooks").useCallbackInt64(function(){var a=function(){return d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{is_community_container:"true",read_count:M.toString(),unread_count:J.toString()},community_id:(j||(j=d("I64"))).to_string(e.folderId),entry_point:"cm:community_container",event:"thread_open",group_id:O,source:"messenger_inbox",surface:"messenger_inbox",thread_id:j.to_string(s.threadKey)})};if(J===1)return[d("MWInboxCommunityThreadsRouteBuilder").buildURL({folder_id:(j||(j=d("I64"))).to_string(e.folderId),thread_key:I[0]&&(j||(j=d("I64"))).to_string(I[0].threadKey)}),a];return M>0?[d("MWInboxCommunityThreadsRouteBuilder").buildURL({folder_id:(j||(j=d("I64"))).to_string(e.folderId),thread_key:L[N]&&(j||(j=d("I64"))).to_string(L[N].threadKey)}),a]:[G,void 0]},[J,M,G,e.folderId,s.threadKey,O,I,L,N]);i=d("Int64Hooks").useMemoInt64(function(){var a=P(),b=a[0],f=a[1];return l.jsx(c("MWXListCellPressable.react"),{addOnEnd:A,addOnStart:v,content:l.jsxs("div",{children:[l.jsx(c("MWXText.react"),{align:"start",color:"primary",numberOfLines:1,type:"headline4",children:w}),l.jsx(c("MWVerticalRhythm"),{height:8}),y]}),linkProps:{passthroughProps:{isOpenedFromCommunityContainer:!0},preventLocalNavigation:!1,url:b},onPress:function(a){var b=(a=a.nativeEvent)==null?void 0:a.timeStamp;o.onReady(function(a){a.markerStart(q,(j||(j=d("I64"))).to_int32(e.folderId),b)});f==null?void 0:f();d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{is_community_container:"true",open_thread:f==null?"false":"true",read_count:M.toString(),unread_count:J.toString()},community_id:(j||(j=d("I64"))).to_string(e.folderId),entry_point:"cm:community_container",event:"community_container_open",group_id:O,source:"messenger_inbox",surface:"messenger_inbox",thread_id:j.to_string(s.threadKey)});d("MessengerClientEventLogger").log({business_account_user:null,event_type:"single_click",is_smc:c("mwCMisStandAloneCommunity")(e.communityType),marketplace_user:null,multiple_account_user:null,surface:{entry_point:"community_container",major_surface:"inbox_tab",minor_surface:"inbox_communities"},target:{badging:{count:t?"1":"0"},button:{type:null},community:{id:j.to_string(e.folderId)},group:{id:j.to_string(e.fbGroupId)},ranking:null}})},selected:r})},[P,A,v,w,y,r,e.communityType,e.folderId,e.fbGroupId,t]);return l.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,onMouseEnter:D,onMouseLeave:b,ref:a,role:"row",style:[p.listItemContainer,c("gkx")("23219")?p.listItemContainerForMessengerDotCom:!1],children:l.jsxs(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:[l.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:l.jsx(d("react-strict-dom").html.div,{role:"gridcell",children:i})}),E]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadListEmptyContainer.react",["CometPlaceholder.react","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime","useEnsureViewerContactExistAndUpdated"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWThreadListNullState.react").__setRef("MWThreadListEmptyContainer.react"));function a(a){var b=d("react-compiler-runtime").c(2);a=a.parentThreadKey;c("useEnsureViewerContactExistAndUpdated")();var e;b[0]!==a?(e=i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWThreadListEmptyContainer",children:i.jsx(j,{parentThreadKey:a})}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("MWThreadListFolderItem.react",["BaseView.react","CometTextWithEntities.react","I64","MAWVault","MWAddOnCircleContainer.react","MWCMThreadTypes.react","MWChatTextTransform","MWPIsThreadUnread","MWThreadListFocusableTable.react","MWThreadListLastMessage.react","MWXListCellPressable.react","MWXTextPairing.react","react","react-compiler-runtime","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(28),e=a.icon,f=a.onClick,g=a.responsive,h=a.selected,k=a.size,l=a.thread;a=a.threadName;g=c("useMatchMedia")("(min-width: 900px)")||!g;var m;b[0]!==l.snippet?(m=l.snippet!=null?d("MAWVault").unvault(l.snippet):null,b[0]=l.snippet,b[1]=m):m=b[1];m=m;m=m;var n;b[2]!==l.lastActivityTimestampMs?(n=(i||(i=d("I64"))).to_float(l.lastActivityTimestampMs),b[2]=l.lastActivityTimestampMs,b[3]=n):n=b[3];n=n;var o=d("MWPIsThreadUnread").useIsThreadUnread(l.threadKey),p;b[4]!==e||b[5]!==k?(p=j.jsx(c("MWAddOnCircleContainer.react"),{size:k,children:e}),b[4]=e,b[5]=k,b[6]=p):p=b[6];e=p;k=e;e=(p=a)!=null?p:l.threadName;a=e;b[7]!==f?(p=function(){return f()},b[7]=f,b[8]=p):p=b[8];e=p;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"xurb0ha x1sxyh0"},b[9]=p):p=b[9];var q;b[10]!==g||b[11]!==o||b[12]!==n||b[13]!==m||b[14]!==l.threadType?(q=g?j.jsx(c("MWThreadListLastMessage.react"),{hasOngoingCall:!1,isUnread:o,lastMessageCtaType:null,lastMessageTimestamp:n,showTimestamp:!d("MWCMThreadTypes.react").isUnjoinedCMThread(l.threadType),snippet:m}):null,b[10]=g,b[11]=o,b[12]=n,b[13]=m,b[14]=l.threadType,b[15]=q):q=b[15];b[16]!==a||b[17]!==g?(n=g?j.jsx(c("CometTextWithEntities.react"),{text:a.toString(),transforms:d("MWChatTextTransform").textTransforms}):null,b[16]=a,b[17]=g,b[18]=n):n=b[18];m=!o;b[19]!==n||b[20]!==m||b[21]!==q?(l=j.jsx(c("MWXTextPairing.react"),{body:q,bodyLineLimit:1,headline:n,headlineLineLimit:1,level:4,reduceEmphasis:m}),b[19]=n,b[20]=m,b[21]=q,b[22]=l):l=b[22];b[23]!==k||b[24]!==e||b[25]!==h||b[26]!==l?(a=j.jsx(c("BaseView.react"),{testid:void 0,children:j.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:j.jsx("div",{role:"row",children:j.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:j.jsx("div",babelHelpers["extends"]({},p,{role:"gridcell",children:j.jsx(c("MWXListCellPressable.react"),{addOnStart:k,content:l,onPress:e,selected:h,size:"large"})}))})})})}),b[23]=k,b[24]=e,b[25]=h,b[26]=l,b[27]=a):a=b[27];return a}g["default"]=a}),98);
__d("MWThreadListJobsItem.react",["fbt","ix","LSIntEnum","MWThreadListFolderItem.react","MWXIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.onClick,f=a.responsive,g=a.selected,j=a.size;a=a.thread;var m;b[0]!==e?(m=function(){return e((k||(k=d("LSIntEnum"))).ofNumber(-13))},b[0]=e,b[1]=m):m=b[1];m=m;var n;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(n=l.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("512668"),32),size:48}),b[2]=n):n=b[2];var o;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(o=(k||(k=d("LSIntEnum"))).ofNumber(-13),b[3]=o):o=b[3];var p;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"__JHASH__fyt3EBzeQRx__JHASH__").toString(),b[4]=p):p=b[4];b[5]!==m||b[6]!==f||b[7]!==g||b[8]!==j||b[9]!==a?(n=l.jsx(c("MWThreadListFolderItem.react"),{icon:n,onClick:m,responsive:f,selected:g,size:j,systemFolder:o,thread:a,threadName:p}),b[5]=m,b[6]=f,b[7]=g,b[8]=j,b[9]=a,b[10]=n):n=b[10];return n}g["default"]=a}),226);
__d("useVirtualizationContainerContext",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.useRef;function a(){var a=d("react-compiler-runtime").c(1),b=i(null);a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={rootElementRef:b},a[0]=b):b=a[0];a=b;b=a;return b}g["default"]=a}),98);
__d("MWThreadList.react",["CometHeroHoldTrigger.react","CometHideableComponentExperiment.react","CometPageletWithDiv.react","CometPlaceholder.react","CometVisualCompletion","CurrentEnvironment","FBLogger","FocusRegion.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","MWCMGetValidId","MWJewelPopoverThreadlistContext.react","MWLSJewelMessageRequestsThreadContainer.react","MWPBaseThreadList.react","MWPBumpEntityKey","MWPParentThreadKeyContext","MWPThreadIsPage.react","MWPThreadsForThreadList","MWResponsiveLayoutConstants","MWResponsiveLayoutContext.react","MWThreadKey.react","MWThreadListCommunityContainer.react","MWThreadListEmptyContainer.react","MWThreadListGlimmer.react","MWThreadListItem.react","MWThreadListJobsItem.react","MWThreadListSupportedThreadTypes","MWXacGating","MessagingFolderTag","MessengerWebUXLogger","ReQL","ReQLSuspense","VirtualizationContainerContext","cr:2261","cr:6055","emptyFunction","gkx","isCommunityContainersEnabled","isMWXacGroupThread","justknobx","mwCMIsThreadBumped","react","stylex","useCommunityFolder","useEmptyFunction","useGroupsCometIsInCCNegativeTest","useMWResponsiveLogExtraData","useReStore","useVirtualizationContainerContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=j||(j=d("react")),n=j,o=n.useCallback,p=n.useContext,q=n.useId,r=n.useRef,s=b("cr:6055")||c("useEmptyFunction"),t={glimmerWrapper:{width:"xh8yej3",$$css:!0}};function u(a){return(k||(k=d("I64"))).equal(a.threadType,(l||(l=d("LSIntEnum"))).ofNumber(15))&&(k||(k=d("I64"))).equal(a.authorityLevel,(l||(l=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&(k||(k=d("I64"))).equal(a.lastReadWatermarkTimestampMs,(k||(k=d("I64"))).of_int32(-1))&&(k||(k=d("I64"))).equal(a.lastActivityTimestampMs,(k||(k=d("I64"))).of_int32(-1))}var v=5;function a(a){var e=a.lsEntryPoint,f=a.messagingEntrypoint,g=a.onClickNestedFolderThread,h=a.onClose,i=a.responsive,j=a.selected,n=a.thread,o=p(c("MWJewelPopoverThreadlistContext.react")),q=c("useCommunityFolder")({parentThreadKey:(k||(k=d("I64"))).equal(n.threadType,(l||(l=d("LSIntEnum"))).ofNumber(17))?n.threadKey:n.parentThreadKey});a=p(c("MWResponsiveLayoutContext.react"));var s=a.pushCard,t=n.threadKey;d("Int64Hooks").useEffectInt64(function(){if(b("cr:2261")==null)return;o==null?void 0:o.add(t);return function(){o==null?void 0:o["delete"](t)}},[o,t]);var v=r({loggingTimeout:null,threadKey:(k||(k=d("I64"))).of_int32(-1)}),w=r(k.of_int32(-1)),x=p(c("MWPParentThreadKeyContext"));d("Int64Hooks").useEffectInt64(function(){if(!c("justknobx")._("2234"))return;if(x!=null){var a=(k||(k=d("I64"))).to_string(n.parentThreadKey),b=k.to_string(x);!(k||(k=d("I64"))).equal(w.current,t)&&n.folderName!==c("MessagingFolderTag").COMMUNITY&&a!==b&&c("FBLogger")("messenger_threadlist_folder_inconsistency").mustfix("Render thread item expected folder %s but receive %s",b,a)}u(n)?(k||(k=d("I64"))).equal(v.current.threadKey,t)||(v.current.threadKey=t,v.current.loggingTimeout=window.setTimeout(function(){c("FBLogger")("messenger_threadlist_ghost").mustfix("Thread ID %s showing up as ghost",(k||(k=d("I64"))).to_string(t)),v.current.loggingTimeout=null},5e3)):(k||(k=d("I64"))).equal(v.current.threadKey,t)&&v.current.loggingTimeout!=null&&window.clearTimeout(v.current.loggingTimeout)},[x,n,t]);a=d("Int64Hooks").useCallbackInt64(function(){c("mwCMIsThreadBumped")({secondaryParentThreadKey:n.secondaryParentThreadKey,threadType:n.threadType})&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{is_bumped:"true"},community_id:q?(k||(k=d("I64"))).to_string(q.folderId):(k||(k=d("I64"))).to_string(n.parentThreadKey),event:"thread_open",group_id:d("MWCMGetValidId").MWCMHasValidFbGroupId(q==null?void 0:q.fbGroupId)?(k||(k=d("I64"))).to_string(q.fbGroupId):null,source:"chat_row",surface:e==="jewel"?"jewel_tray":"messenger_inbox",thread_id:(k||(k=d("I64"))).to_string(t)}),c("gkx")("24056")&&j&&s(d("MWResponsiveLayoutConstants").MWLayoutPanel.MESSAGE_LIST_PANEL)},[n.secondaryParentThreadKey,n.threadType,n.parentThreadKey,q,e,t,j,s]);if((k||(k=d("I64"))).equal(n.threadType,(l||(l=d("LSIntEnum"))).ofNumber(6))){if((k||(k=d("I64"))).equal(t,(l||(l=d("LSIntEnum"))).ofNumber(-13)))return m.jsx(c("MWThreadListJobsItem.react"),{onClick:g,responsive:i,selected:j,size:56,thread:n});else if(b("cr:2261")!=null&&(k||(k=d("I64"))).equal(t,(l||(l=d("LSIntEnum"))).ofNumber(-12)))return m.jsx(b("cr:2261"),{onClick:g,responsive:i,selected:j,size:56,thread:n});return null}g=c("isCommunityContainersEnabled")();g=d("CurrentEnvironment").messengerdotcom&&g&&c("mwCMIsThreadBumped")({secondaryParentThreadKey:n.secondaryParentThreadKey,threadType:n.threadType});return m.jsx(c("CometPlaceholder.react"),{fallback:m.jsx(c("MWThreadListGlimmer.react"),{parentComponentForDebug:"MWThreadListItem"}),name:"MWThreadList",children:m.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:n.threadKey,children:m.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:n.threadKey,children:q!=null&&g?m.jsx(c("MWThreadListCommunityContainer.react"),{folder:q,messagingEntrypoint:f,responsive:i,selected:j,thread:n}):m.jsx(c("MWThreadListItem.react"),{lsEntryPoint:e,messagingEntrypoint:f,onClose:h,onThreadSelected:a,responsive:i,selected:j,size:56,thread:n})})})})}a.displayName=a.name+" [from "+f.id+"]";var w=m.memo(a);function e(a){var b=a.gridLabel,e=a.header,g=a.lsEntryPoint,j=a.onOpenMessageRequests,n=a.parentThreadKey,p=a.responsive,r=a.selectedThreadKey,u=a.setHasScrolled,x=a.setIsEmptyInbox,y=a.threadListMessagingEntrypoint,z=a.onClose,A=z===void 0?c("emptyFunction"):z;z=a.onClickNestedFolderThread;var B=z===void 0?c("emptyFunction"):z;z=a.preamble;var C=(h||(h=c("useReStore")))(),D=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(C.tables.threads_ranges_v2__generated).getKeyRange(n)},[C,n],f.id+":353"),E=d("ReQLSuspense").useArray(function(){return d("MWPThreadsForThreadList").createIterable(C,n,D,["lastActivityTimestampMs","threadType","capabilities","capabilities2","capabilities3","capabilities4","capabilities5"]).filter(function(a){if(!c("MWThreadListSupportedThreadTypes").some(function(b){return(k||(k=d("I64"))).equal(a.threadType,b)}))return!1;return d("MWXacGating").isGroupsEnabled()?!0:!c("isMWXacGroupThread")(a)}).take(5)},[C,n,D],f.id+":365").pop();a=q();var F=d("ReQLSuspense").useFirst(function(){return r!=null?d("ReQL").fromTableAscending(C.tables.threads,["parentThreadKey"]).getKeyRange(r):d("ReQL").empty()},[C,r],f.id+":399");s(a);var G=d("useGroupsCometIsInCCNegativeTest").useShouldDisableBumpToInboxForNegativeTest(),H=o(function(a){var b;if(a==null)return m.jsx("div",{});if(d("CurrentEnvironment").facebookdotcom&&c("mwCMIsThreadBumped")({secondaryParentThreadKey:a.secondaryParentThreadKey,threadType:a.threadType})&&G)return m.jsx("div",{});var e;(k||(k=d("I64"))).equal(a.threadKey,(l||(l=d("LSIntEnum"))).ofNumber(-13))||(k||(k=d("I64"))).equal(a.threadKey,(l||(l=d("LSIntEnum"))).ofNumber(-12))?e=F!=null&&(k||(k=d("I64"))).equal(a.threadKey,F.parentThreadKey):e=r!=null&&(k||(k=d("I64"))).equal(r,a.threadKey);return a!=null?m.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"thread_list",disableHiding:!0,children:m.jsx(w,{lsEntryPoint:g==="inboxThreadList"?E!=null&&(k||(k=d("I64"))).le(a.lastActivityTimestampMs,E.lastActivityTimestampMs)?"inboxRecentThreads":"inboxRemainingThreads":g,messagingEntrypoint:(b=y)!=null?b:"jewel",onClickNestedFolderThread:B,onClose:A,responsive:p,selected:e,thread:a})}):m.jsx("div",{})},[g,E,y,B,A,p,F,r,G]),I=o(function(a){u&&u(function(b){return a.scrollTop>0})},[u]),J=c("useMWResponsiveLogExtraData")();J=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"threadlist_impression",extraData:J});var K=c("useVirtualizationContainerContext")(),L=o(function(a){K.rootElementRef.current=a==null?void 0:a.getScrollAreaElement()},[K.rootElementRef]);return m.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62"},{id:a,ref:J,children:[e!=null?m.jsx(d("FocusRegion.react").FocusRegion,{children:e}):null,m.jsx(d("CometPageletWithDiv.react").Placeholder,{className:"x78zum5 xmz0i5r x6ikm8r x10wlt62",fallback:null,name:"MWThreadList",children:m.jsx(c("MWPParentThreadKeyContext").Provider,{value:n,children:m.jsx(c("VirtualizationContainerContext").Provider,{value:K,children:m.jsx(c("MWPBaseThreadList.react"),{beforeContent:m.jsxs(m.Fragment,{children:[m.jsx(c("MWLSJewelMessageRequestsThreadContainer.react"),{onOpenMessageRequests:j}),z]}),emptyContent:m.jsx(c("MWThreadListEmptyContainer.react"),{parentThreadKey:n}),gridLabel:b,imperativeRef:L,onLoadMoreThreads:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.threadlist","load_more_threads"),c("CometVisualCompletion").addFirstMarkerPoint("threadListLoadMoreThreads")},onScroll:I,pageSize:15,parentThreadKey:n,renderItem:H,renderLoadingAnimation:function(a,b){a=a==="onBottom"&&b>v;return m.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(c("gkx")("1834")&&t.glimmerWrapper),{children:[m.jsx(c("MWThreadListGlimmer.react"),{numberOfItems:2,parentComponentForDebug:"MWThreadListLoadingAnimation",vcIgnore:a}),m.jsx(c("CometHeroHoldTrigger.react"),{description:"ThreadListLoadingMoreItems",hold:!a})]}))},setIsEmptyInbox:x})})})})]}))}e.displayName=e.name+" [from "+f.id+"]";g["default"]=e}),98);
__d("MWJewelNestedFolderThreadList.react",["CometScrollView.react","CometTopNavListDropdownCard.react","MWJewelNestedFolderThreadListHeader.react","MWThreadList.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.folder,f=a.onClose,g=a.onReturn;a=a.title;var h;b[0]!==g||b[1]!==a?(h=i.jsx(c("MWJewelNestedFolderThreadListHeader.react"),{onReturn:g,title:a}),b[0]=g,b[1]=a,b[2]=h):h=b[2];b[3]!==a?(g=typeof a==="string"?a:a.toString(),b[3]=a,b[4]=g):g=b[4];b[5]!==e||b[6]!==f||b[7]!==g?(a=i.jsx(c("MWThreadList.react"),{gridLabel:g,lsEntryPoint:"jewelNestedFolder",onClose:f,parentThreadKey:e,responsive:!1}),b[5]=e,b[6]=f,b[7]=g,b[8]=a):a=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("div",{className:"x1qx5ct2"}),b[9]=e):e=b[9];b[10]!==h||b[11]!==a?(f=i.jsx(c("CometTopNavListDropdownCard.react"),{useMaxHeight:!0,children:i.jsxs(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[h,a,e]})}),b[10]=h,b[11]=a,b[12]=f):f=b[12];return f}g["default"]=a}),98);
__d("UniversalSearchQueryChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("843");b=d("FalcoLoggerInternal").create("universal_search_query_changed",a);e=b;g["default"]=e}),98);
__d("UniversalSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("840");b=d("FalcoLoggerInternal").create("universal_search_start",a);e=b;g["default"]=e}),98);
__d("MWJewelLightspeedSearchTypeaheadViewList.react",["CometScrollView.react","MWChatSearchLightspeedTypeaheadViewList.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={scroll:{maxHeight:"x1wxkln1",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(10),e,f;b[0]!==a?(f=a.xstyle,e=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==f?(a=[j.scroll,f],b[3]=f,b[4]=a):a=b[4];b[5]!==e?(f=i.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),babelHelpers["extends"]({showActionItems:!1},e)),b[5]=e,b[6]=f):f=b[6];b[7]!==a||b[8]!==f?(e=i.jsx(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,xstyle:a,children:f}),b[7]=a,b[8]=f,b[9]=e):e=b[9];return e}g["default"]=a}),98);
__d("MWJewelSearchEmptyState.react",["fbt","MWXText.react","react","react-compiler-runtime","useCometTypeaheadEmptyState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.queryString;var e=c("useCometTypeaheadEmptyState")(),f;b[0]!==e||b[1]!==a?(f=e?j.jsxs("div",babelHelpers["extends"]({className:"xz9dl7a xn6708d xsag5q8 x1ye3gou"},{children:[j.jsx(c("MWXText.react"),{align:"center",type:"body2",children:h._(/*BTDS*/"__JHASH__kjfZwRT5xYf__JHASH__")}),j.jsx("br",{}),j.jsx(c("MWXText.react"),{align:"center",color:"tertiary",type:"body3",children:h._(/*BTDS*/"__JHASH__vJvyHT-oIpm__JHASH__",[h._param("query",a)])})]})):null,b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),226);
__d("createMWJewelSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWJewelLightspeedSearchTypeaheadViewList.react","MWJewelSearchEmptyState.react","MWJewelSearchTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){return function(d){var e=d.ariaProps,f=d.entries;d.extraViewProps;var g=d.highlightedEntry,h=d.isLoading;d.onAbandonTypeahead_DO_NOT_USE;var j=babelHelpers.objectWithoutPropertiesLoose(d,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE"]);d=f.length===0&&j.queryString.length>0;h=f.length>0&&h;return d?i.jsx(c("MWJewelSearchEmptyState.react"),{queryString:j.queryString}):i.jsxs(i.Fragment,{children:[i.jsx(c("MWJewelLightspeedSearchTypeaheadViewList.react"),{ariaProps:e,entries:f,highlightedEntry:g,xstyle:a,children:function(a){var d=a.entry,e=a.isActive;a=a.itemRole;return i.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},j,{entry:d,extraViewItemProps:{loggingSessionId:b},isActive:e,key:d.key,role:a}))}}),h&&i.jsx(c("CometTypeaheadProgressGlimmer.react"),{})]})}}g["default"]=a}),98);
__d("MWJewelSearchSubscriptionTypeahead.react",["fbt","BaseSubscriptionTypeahead.react","CometTypeaheadBackButton.react","CometTypeaheadInputRoundedStrategy.react","CometTypeaheadLayoutContextualStrategy.react","MWChatSearchSurfaces","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWFacebookUserWithoutMessengerAccess","MWLSSearchIssueSearchQuerySupportedTypes","MWLSThreadDisplayContext","MWPSearchSystem","MWSearchLogging","UniversalSearchEndFalcoEvent","UniversalSearchQueryChangedFalcoEvent","UniversalSearchStartFalcoEvent","cr:2012305","createMWJewelSearchTypeaheadViewStrategy.react","gkx","isArmadillo","promiseDone","react","useReStore","uuidv4","xplatToDOMRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useEffect,n=e.useMemo,o=e.useRef,p=e.useState,q={searchInput:{marginTop:"x1xmf6yo",marginEnd:"x11i5rnm",marginBottom:"x1e56ztr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x1pi30zi",paddingBottom:"x18d9i69",paddingStart:"x1swvt13",$$css:!0},searchView:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x1gnnqk1",display:"x78zum5",minHeight:"xphu8jj",$$css:!0}},r=function(a){return c("createMWJewelSearchTypeaheadViewStrategy.react")(null,a)},s=c("gkx")("24086"),t=c("gkx")("23390");function a(a){var e=a.onChange,f=a.onFocus,g=a.onPressEntry,j=a.onSelectFreeformQuery,u=babelHelpers.objectWithoutPropertiesLoose(a,["onChange","onFocus","onPressEntry","onSelectFreeformQuery"]);a=p(null);var v=a[0],w=a[1],x=o(null),y=(i||(i=c("useReStore")))(),z=o(!1);m(function(){var a=x.current;b("cr:2012305")!==null&&a!=null&&b("cr:2012305").trackTypingPerf(a,"MWJewelSearchTypeahead");return function(){b("cr:2012305")!==null&&a!=null&&b("cr:2012305").unregisterTypingPerf(a)}},[x]);var A=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=n(function(){return new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:y,excludedIDs:[],includeGroupSearch:A!=="ChatTab",includeMessageSearchEntry:!1,includeRecommendations:!0,lightspeedSupportedTypes:d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes,source:c("MWChatSearchSurfaces").universal})},[y,A]);var B=l(function(){w(null),v!=null&&(z.current||(c("UniversalSearchEndFalcoEvent").log(function(){return{end_action:8,is_epd:t,session_id:v,transport_type:null}}),z.current=!0)),e("")},[e,v]),C=l(function(a){var b=function(){g!=null&&g(a)};if(v==null){b();return}d("MWSearchLogging").logResultSelected(v,u.queryString,a,z);b()},[g,v,u.queryString]),D=l(function(){s&&c("promiseDone")(d("MWPSearchSystem").clearAll(y));var a=c("uuidv4")();w(a);z.current=!1;c("UniversalSearchStartFalcoEvent").log(function(){return{is_epd:t,session_id:a}});c("UniversalSearchQueryChangedFalcoEvent").log(function(){return{query_length:"0",query_string:null,session_id:a}})},[y]),E=l(function(a){v!=null&&c("UniversalSearchQueryChangedFalcoEvent").log(function(){return{query_length:a.length.toString(),query_string:a,session_id:v}}),e(a)},[e,v]),F=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess(),G=h._(/*BTDS*/"__JHASH__ktsKn3dbNLm__JHASH__"),H=h._(/*BTDS*/"__JHASH__wCWGz0nEOur__JHASH__");F=F?H:G;return k.jsx(c("BaseSubscriptionTypeahead.react"),{dataSource:a,dataSourceFetchConfigParams:c("isArmadillo")()?{requestFlow:"network-upon-approve"}:void 0,inputExtraProps:{hideIconAnimation:!0,hideIconOnFocus:!0},inputRef:d("xplatToDOMRef").xplatToInputRef(x),inputStartContent:v!=null?k.jsx(c("CometTypeaheadBackButton.react"),{testid:void 0}):null,inputStrategyRenderer:c("CometTypeaheadInputRoundedStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutContextualStrategy.react"),loggingContext:"messenger_jewel",onChange:E,onClose:B,onFocus:f,onOpen:D,onPressEntry:C,onSelectFreeformQuery:j,placeholder:F,queryString:u.queryString,shouldHandleCloseAfterHandlePressEntry:!0,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:r(v),xstyles:{inputXStyle:q.searchInput,viewXStyle_DO_NOT_USE:q.searchView}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWJewelThreadListSearchTypeahead.react",["FBLogger","I64","MWChatSearchFilteringUtils","MWChatSearchResultType","MWJewelSearchSubscriptionTypeahead.react","MWPSearchSystem","MWThreadCreationUtil","QPLUserFlow","asyncToGeneratorRuntime","emptyFunction","gkx","qpl","react","react-compiler-runtime","setTimeoutCometSpeculative","useCometPreloader","useMWChatOpenTabForGroup","useMWChatOpenTabForPage","useMWChatOpenTabForUser","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useEffect,m=e.useState;function a(a){var e=d("react-compiler-runtime").c(24),f=a.onClose;a=m("");var g=a[0];a=a[1];var j=c("useMWChatOpenTabForGroup")("jewelSearch"),o=j[0],p=c("useMWChatOpenTabForPage")("jewelSearch");j=c("useMWChatOpenTabForUser")("jewelSearch");var q=j.openTabByThreadKey,r=j.openTabForUserWithoutPreloadedNavigationData,s=(h||(h=c("useReStore")))();e[0]!==s?(j=function(){return d("MWPSearchSystem").makeAll(s)},e[0]=s,e[1]=j):j=e[1];var t=j;e[2]!==t?(j=function(){c("setTimeoutCometSpeculative")(t,1e4)},e[2]=t,e[3]=j):j=e[3];l(j);e[4]!==s||e[5]!==q||e[6]!==r?(j=function(a,e){var f=d("MWChatSearchFilteringUtils").getIsE2ee(e.rawData);if(f)return q(a,!0);d("MWThreadCreationUtil").getIsSecureBasedOnContactCapabilitiesForOneToOneThreadV2(e,s).then(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f=b.isSecureThread;b=b.reason;if(b==="default_e2ee"&&c("gkx")("23866"))r({unpreloadedReason:"jewelsearch_not_support_gql",userId:a});else{var g=(yield s.tables.threads.get((i||(i=d("I64"))).of_string(a)));r({isSecureThread:f,reason:"MWJewelThreadListSearchTypeahead, FBID: "+a+", reason: "+((f=b)!=null?f:"")+", searchSource: "+((b=e.rawData.searchSource)!=null?b:"")+", otherUserId: "+((f=e.rawData.otherUserId)!=null?f:"")+", hasCutoverThread: "+((f=(b=e.rawData.hasCutoverThread)==null?void 0:b.toString())!=null?f:"false")+", threadAuthorityLevel: "+(g!=null?(i||(i=d("I64"))).to_string(g.authorityLevel):"null"),unpreloadedReason:"jewelsearch_not_support_gql",userId:a})}});return function(a){return f.apply(this,arguments)}}())["catch"](n)},e[4]=s,e[5]=q,e[6]=r,e[7]=j):j=e[7];var u=j;e[8]!==f||e[9]!==o||e[10]!==p||e[11]!==u?(j=function(a){var b=a.rawData,d=b.id;b=b.resultType;bb45:switch(b){case c("MWChatSearchResultType").MESSAGE:break bb45;case c("MWChatSearchResultType").GROUP:o(d);break bb45;case c("MWChatSearchResultType").USER:case c("MWChatSearchResultType").AI_BOT:u(d,a);break bb45;case c("MWChatSearchResultType").PAGE:p(d)}f()},e[8]=f,e[9]=o,e[10]=p,e[11]=u,e[12]=j):j=e[12];j=j;var v=c("useCometPreloader")("button_aggressive",c("emptyFunction"),t),w=v.onHoverInPreloader,x=v.onHoverMovePreloader;v=v.onHoverOutPreloader;var y;e[13]!==t?(y=function(){t(),c("QPLUserFlow").start(c("qpl")._(25312244,"1683"))},e[13]=t,e[14]=y):y=e[14];e[15]!==j||e[16]!==g||e[17]!==y?(a=k.jsx(c("MWJewelSearchSubscriptionTypeahead.react"),{onChange:a,onFocus:y,onPressEntry:j,queryString:g}),e[15]=j,e[16]=g,e[17]=y,e[18]=a):a=e[18];e[19]!==w||e[20]!==x||e[21]!==v||e[22]!==a?(j=k.jsx("div",{onMouseEnter:w,onMouseLeave:v,onMouseMove:x,children:a}),e[19]=w,e[20]=x,e[21]=v,e[22]=a,e[23]=j):j=e[23];return j}function n(a){c("FBLogger")("messenger_search").mustfix("Error fetching contact capabilities: %s",a)}f=k.memo(a);g["default"]=f}),98);
__d("useInteractionIDWithInheritance",["InteractionTracingMetrics"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d,e;d=a==null?null:(d=c("InteractionTracingMetrics").get(a))==null?void 0:d.start;e=b==null?null:(e=c("InteractionTracingMetrics").get(b))==null?void 0:e.start;if(b!=null&&(a==null||d==null||d!=null&&e!=null&&d<e))return b;else return a}g["default"]=a}),98);
__d("CometMessagingJewelDropdownContent.react",["fbt","CometErrorBoundary.react","CometHeroInteractionIDContext","CometHeroInteractionWithDiv.react","CometMessagingJewelCommunitiesQPBannerContainer.react","CometMessagingJewelDropdownContentGlimmer.react","CometMessagingJewelDropdownContent_query.graphql","CometMessagingJewelDropdownQPBannerContainer.react","CometPageletWithDiv.react","CometPlaceholder.react","CometRelay","CometTopNavListDropdownCard.react","CometTransientDialogProvider.react","FBLogger","I64","InteractionTracing","JSResourceForInteraction","LSContactBitOffset","LSIntEnum","LSPlatformErrorsCatcher.react","MAWUnrecoverableErrorBoundary.react","MWCMJewelContext","MWEncryptedBackupsJewelNuxWrapperDeferred.react","MWInboxContextSwitcherGlimmer.react","MWInboxQuickPromotionWrapper.react","MWJewelDropdownHeader.react","MWJewelNestedFolderThreadList.react","MWJewelPopoverDialogContext.react","MWJewelThreadListSearchTypeahead.react","MWThreadList.react","ODS","ReQL","ReQLSuspense","WebUXLoggingEntryPointContextProvider","XCometMessengerControllerRouteBuilder","cr:7643","deferredLoadComponent","gkx","lazyLoadComponent","qpl","react","react-compiler-runtime","recoverableViolation","requireDeferredForDisplay","useInteractionIDWithInheritance","useMWChatSearchClearSearchResults","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o=n||(n=d("react"));e=n;var p=e.memo,q=e.useCallback,r=e.useContext,s=e.useEffect,t=e.useRef,u=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWInboxContextSwitcherCond.react").__setRef("CometMessagingJewelDropdownContent.react")),v=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMBlendedThreadListV2.react").__setRef("CometMessagingJewelDropdownContent.react")),w=c("lazyLoadComponent")(c("JSResourceForInteraction")("MAWJewelMessageRequestsAndSpamDropdownWithTab.react").__setRef("CometMessagingJewelDropdownContent.react")),x=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWRestrictedAccountsList.react").__setRef("CometMessagingJewelDropdownContent.react")),y=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWJewelArchivedChatsDropdown.react").__setRef("CometMessagingJewelDropdownContent.react")),z=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometMessagingJewelDropdownErrorState.react").__setRef("CometMessagingJewelDropdownContent.react")),A=h._(/*BTDS*/"__JHASH__9FTPnWJWCay__JHASH__");function B(a){c("recoverableViolation")("CometMessagingJewelDropdownQPBannerContainer failed to render","messenger_web_entrypoints",{error:a})}var C=c("gkx")("22839")===!0;function D(a){var e=a.ebSoftblockUpsell,g=a.onClose,n=a.pushPage;a=a.query;var p=r(c("MWJewelPopoverDialogContext.react")),z=p.setIsOpenForDialog,D=c("useMWChatSearchClearSearchResults")(),E=q(function(){D(),g()},[g,D]);s(function(){return D},[D]);p=c("XCometMessengerControllerRouteBuilder").buildURL({});var F=r(c("MWCMJewelContext")),G=F.selectedFolderTab,H=F.setSelectedFolderTab;F=r(c("CometHeroInteractionIDContext"));var I=t();F=c("useInteractionIDWithInheritance")(F,I.current);a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMessagingJewelDropdownContent_query.graphql"),a);var J=(j||(j=c("useReStore")))(),K=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(J.tables._user_info).map(function(a){return a.facebookUserId})},[J],f.id+":169"),L=d("ReQLSuspense").useFirst(function(){return K!=null?d("ReQL").fromTableAscending(J.tables.contacts,["capabilities","capabilities2"]).getKeyRange(K):d("ReQL").empty()},[J,K],f.id+":173"),M=q(function(){var a=c("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:c("qpl")._(30607516,"756"),tracePolicy:"comet.jewel.message_requests",traceType:"INTERACTION"});n(function(b){b=b.onReturn;return o.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:o.jsx(c("CometMessagingJewelDropdownContentGlimmer.react"),{isFullHeight:!1,title:A,withBackButton:!0}),name:"MAWJewelMessageRequestsAndSpamDropdownWithTab",children:o.jsx(w,{interactionID:a,onClose:E,onReturn:b})})})},[E,n]),N=q(function(){n(function(a){a=a.onReturn;return o.jsx(x,{hidePage:a,onClose:E})})},[E,n]),O=q(function(){(k||(k=d("ODS"))).bumpEntityKey(3185,"mw_jewel","archived_chats"),n(function(a){a=a.onReturn;return o.jsx(y,{onClose:E,onReturn:a})})},[E,n]),P=q(function(a){n(function(b){b=b.onReturn;switch((l||(l=d("I64"))).to_int32(a)){case-13:return o.jsx(c("MWJewelNestedFolderThreadList.react"),{folder:a,onClose:E,onReturn:b,title:h._(/*BTDS*/"__JHASH__yJarfmqcRDP__JHASH__")});case-12:var e=L!=null&&d("LSContactBitOffset").has(86,L),f=h._(/*BTDS*/"__JHASH__Yxm-6KVT3xg__JHASH__");e&&(f=h._(/*BTDS*/"__JHASH__2CCWbeECGXn__JHASH__"));return o.jsx(c("MWJewelNestedFolderThreadList.react"),{folder:a,onClose:E,onReturn:b,title:f});default:c("FBLogger")("messenger_web_entrypoints").mustfix("Attempted to show an unimplemented nested system folder");return null}})},[E,n,L]);O=o.jsxs(o.Fragment,{children:[o.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWJewelDropdownHeader",children:o.jsx(c("MWJewelDropdownHeader.react"),{inboxUrl:p,onClose:E,onOpenArchivedChats:O,onOpenMessageRequests:M,onOpenRestrictedAccountsList:N,title:A})}),o.jsxs("div",babelHelpers["extends"]({className:"x1c4vz4f"},{children:[o.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWJewelThreadListSearchTypeahead",children:o.jsx(c("MWJewelThreadListSearchTypeahead.react"),{onClose:E,pushPage:n})})," ",C&&o.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:o.jsx(c("MWInboxContextSwitcherGlimmer.react"),{}),name:"MWInboxContextSwitcher",children:o.jsx(u,{entryPoint:"jewel",onTabChange:function(a){(l||(l=d("I64"))).equal(a,(m||(m=d("LSIntEnum"))).ofNumber(-14))&&(I.current=c("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:c("qpl")._(30620417,"938"),tracePolicy:"comet.jewel.messenger.communities",traceType:"INTERACTION"})),z(!1),H==null?void 0:H(a)},selectedFolderTab:G})})]})),(l||(l=d("I64"))).equal(G,(m||(m=d("LSIntEnum"))).ofNumber(0))&&e==null?o.jsx(c("MWInboxQuickPromotionWrapper.react"),{onError:B,children:o.jsx(c("MWEncryptedBackupsJewelNuxWrapperDeferred.react"),{query:a,children:o.jsx(c("CometMessagingJewelDropdownQPBannerContainer.react"),{viewer:a.viewer})})}):null]});return o.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:o.jsx(c("CometMessagingJewelDropdownContentGlimmer.react"),{isFullHeight:!0,title:A}),name:"MWJewelDropdownContent",children:o.jsx(d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider,{value:"jewel",children:o.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"JewelThreadList",interactionUUID:F,children:o.jsx(c("CometTopNavListDropdownCard.react"),{testid:void 0,useFullHeight:C,useMaxHeight:!0,children:e!=null&&(l||(l=d("I64"))).equal(G,(m||(m=d("LSIntEnum"))).ofNumber(0))?o.jsxs(o.Fragment,{children:[O,e]}):o.jsxs(o.Fragment,{children:[C&&(l||(l=d("I64"))).equal(G,(m||(m=d("LSIntEnum"))).ofNumber(-14))?o.jsx(c("CometPlaceholder.react"),{fallback:o.jsx(c("CometMessagingJewelDropdownContentGlimmer.react"),{isFullHeight:!0,title:A}),name:"CometMessagingJewelDropdownContent.MWCMBlendedThreadList",children:o.jsx(v,{gridLabel:A.toString(),header:o.jsxs(o.Fragment,{children:[O,o.jsx(c("CometErrorBoundary.react"),{onError:B,children:o.jsx(c("CometPlaceholder.react"),{fallback:null,name:"CometMessagingJewelDropdownContent.CommunitiesQPBanner",children:o.jsx(c("CometTransientDialogProvider.react"),{children:o.jsx(c("CometMessagingJewelCommunitiesQPBannerContainer.react"),{messagingEntryPoint:"jewel",onClose:E,viewer:a.viewer})})})})]}),lsEntryPoint:"jewel",messagingEntryPoint:"jewel",onClose:E,responsive:!1,viewer:a.viewer})}):o.jsx(c("MWThreadList.react"),{gridLabel:A.toString(),header:O,lsEntryPoint:"jewel",onClickNestedFolderThread:P,onClose:E,onOpenMessageRequests:M,parentThreadKey:G,responsive:!1}),b("cr:7643")&&o.jsx(b("cr:7643"),{onClick:E,url:p})]})})})})})}D.displayName=D.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(2),e=E;b[0]!==a?(e=o.jsx(c("MAWUnrecoverableErrorBoundary.react"),{fallback:e,children:o.jsx(c("CometErrorBoundary.react"),{fallback:e,children:o.jsx(c("LSPlatformErrorsCatcher.react"),{fallback:e,children:o.jsx(D,babelHelpers["extends"]({},a))})})}),b[0]=a,b[1]=e):e=b[1];return e}function E(a){return o.jsx(z,{error:a})}E.displayName=E.name+" [from "+f.id+"]";e=p(a);g["default"]=e}),226);
__d("CometMessagingJewelDropdownQuery.graphql",["CometMessagingJewelDropdownQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:!1,kind:"LocalArgument",name:"qpWithPinEnabled"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownQuery",selections:[{args:[{kind:"Variable",name:"qpWithPinEnabled",variableName:"qpWithPinEnabled"}],kind:"FragmentSpread",name:"CometMessagingJewelDropdownContent_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometMessagingJewelDropdownQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},c],storageKey:null},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},c,d],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[e,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{alias:"jewel_qp",args:[{kind:"Literal",name:"surface_nux_id",value:8439},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3t4y6p"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMWXCardRendererStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometQuickPromotionMWXCardRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3t4y6p")'}],storageKey:null},c],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'},{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:10713},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"xxYRh"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelCommunitiesQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"xxYRh")'}],storageKey:null},c],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10713,trigger:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN")'},{alias:null,args:null,concreteType:"GroupsTab",kind:"LinkedField",name:"groups_tab",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"suggested_chats",plural:!0,selections:[c],storageKey:null}],storageKey:null}],storageKey:null},{"if":null,kind:"Defer",label:"MWEncryptedBackupsJewelNuxWrapper_query$defer$MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query_3fzEYt",selections:[{"if":null,kind:"Defer",label:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query$defer$MWEncryptedBackupsThreadListRestoreQPWrapper_query_3fzEYt",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"qpWithPinEnabled",kind:"Condition",passingValue:!0,selections:[e,{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null},c],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"qp_with_pin_state",storageKey:null}]}]}],storageKey:null}]}]}]},params:{id:b("CometMessagingJewelDropdownQuery_facebookRelayOperation"),metadata:{},name:"CometMessagingJewelDropdownQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometMessagingJewelDropdown.react",["fbt","BaseMultiStepContainer.react","BasePopoverReflowSheetContext","CometMessagingJewelDropdownContent.react","CometMessagingJewelDropdownQuery.graphql","CometRelay","CometTopNavListDropdown.react","cr:6188","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useContext,n={cardWidth:{width:"x1cvmir6",$$css:!0},cardWidthReflow:{width:"x14atkfc",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(11),f=a.props;a=a.queries;var g=f.onClose;f=a.jewelQueryRef;var k=d("CometRelay").usePreloadedQuery(i!==void 0?i:i=b("CometMessagingJewelDropdownQuery.graphql"),f);a=m(c("BasePopoverReflowSheetContext"));f=a.isReflowSheet;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"__JHASH__ptC-BqtItMK__JHASH__"),e[0]=a):a=e[0];var o;e[1]!==f?(o=(j||(j=c("stylex"))).props([n.cardWidth,f&&n.cardWidthReflow]),e[1]=f,e[2]=o):o=e[2];e[3]!==g||e[4]!==k?(f=l.jsx(c("BaseMultiStepContainer.react"),{fitContentWidth:!0,children:function(a){return l.jsx(c("CometMessagingJewelDropdownContent.react"),{onClose:g,pushPage:a,query:k})}}),e[3]=g,e[4]=k,e[5]=f):f=e[5];e[6]!==o||e[7]!==f?(a=l.jsx(c("CometTopNavListDropdown.react"),{label:a,name:"MWJewelDropdown",children:l.jsx("div",babelHelpers["extends"]({},o,{children:f}))}),e[6]=o,e[7]=f,e[8]=a):a=e[8];o=a;e[9]!==o?(f=b("cr:6188")!=null?l.jsx(b("cr:6188"),{children:o}):o,e[9]=o,e[10]=f):f=e[10];return f}g["default"]=a}),226);
__d("LSFetchCommunitiesActivityStatus",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return d[0]=c.createArray(),c.forEach(c.db.table(162).fetch(),function(a){a=a.item;return d[2]=(d[0].push(a.folderId),d[0])})},function(a){return d[1]=c.i64.of_int32(d[0].length),c.i64.gt(d[1],c.i64.cast([0,0]))?(d[2]=new c.Map(),d[2].set("community_ids",d[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"fetch_unjoined_communities_activity_status",c.i64.cast([0,170003]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxFetchCommunitiesActivityStatusStoredProcedure";a.__tables__=["community_folders"];e.exports=a}),null);
__d("LSFetchCommunitiesActivityStatusStoredProcedure",["LSFetchCommunitiesActivityStatus","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a){a=a.storedProcedure(c("LSFetchCommunitiesActivityStatus"));return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSVerifyThreadsActivityStatus",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("server_mode",a[1]),d[0].set("from_timestamp_ms",a[2]),d[0].set("threads",a[3]),d[0].set("session_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"verify_threads_activity_status",c.i64.cast([0,648]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadsActivityStatusStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyThreadsActivityStatusStoredProcedure",["LSSynchronousPromise","LSVerifyThreadsActivityStatus","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyThreadsActivityStatus"),e.sessionId,e.serverMode,e.fromTimestampMs,e.threads);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWEncryptedBackupsJewelNuxWrapper_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"qpWithPinEnabled"}],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsJewelNuxWrapper_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null}],storageKey:null},action:"THROW",path:"viewer"},{kind:"Defer",selections:[{args:[{kind:"Variable",name:"qpWithPinEnabled",variableName:"qpWithPinEnabled"}],kind:"FragmentSpread",name:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query"}]},{args:null,kind:"FragmentSpread",name:"useEncryptedBackupsProcessStatePreLoaded_query"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWEncryptedBackupsJewelNuxWrapper.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","HeroInteractionIgnoreWithDiv.react","JSResourceForInteraction","MWChatEncryptedBackupsQPLSource.enum","MWEBEntrypointsKillswitch.enum","MWEBMobileOnboardingEligibility","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContextProvider.react","MWEncryptedBackupsJewelNuxWrapper_query.graphql","MWEncryptedBackupsThreadListQPWrapper.react","cr:10250","cr:2046","cr:9064","qex","react","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded","useMWChatEncryptedBackupsVestaUserInfo","useMWEncryptedBackupsGetVirtualDevicesPreloaded"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));i.useMemo;var k=d("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(c("JSResourceForInteraction")("MWEBMobileOnboardingQPBannerWrapper.react").__setRef("MWEncryptedBackupsJewelNuxWrapper.react"),function(){return c("qex")._("804")});function a(a){var e,f,g=d("react-compiler-runtime").c(23),i=a.children;a=a.query;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEncryptedBackupsJewelNuxWrapper_query.graphql"),a);var k;g[0]!==a?(k={entrypoint:c("MWEBEntrypointsKillswitch.enum").JEWEL_THREADLIST,query:a},g[0]=a,g[1]=k):k=g[1];k=c("useEncryptedBackupsProcessStatePreLoaded")(k);e=(e=a.viewer.messenger_default_encrypted_backup)==null?void 0:e.vesta_user_info;var m;g[2]!==e?(m={vestaGetUserInfoResponse$key:e},g[2]=e,g[3]=m):m=g[3];e=c("useMWChatEncryptedBackupsVestaUserInfo")(m);g[4]!==e.attemptsRemaining||g[5]!==e.loginTimeoutRemainingSecs?(m={attemptsRemaining:e.attemptsRemaining,loginTimeoutRemainingSecs:e.loginTimeoutRemainingSecs,vestaClientID:null},g[4]=e.attemptsRemaining,g[5]=e.loginTimeoutRemainingSecs,g[6]=m):m=g[6];e=m;m=e;e=a==null?void 0:a.xfb_backup;var n;g[7]!==e?(n={encryptedBackup:e},g[7]=e,g[8]=n):n=g[8];e=c("useMWEncryptedBackupsGetVirtualDevicesPreloaded")(n);n=e.getVirtualDevices;g[9]!==n?(e=n(),g[9]=n,g[10]=e):e=g[10];n=e;e=n.offlineDevicesCount;n=n.vestaClientID;f=(f=a==null?void 0:(f=a.xfb_backup)==null?void 0:f.has_otc_eligible_devices)!=null?f:void 0;var o;g[11]!==k||g[12]!==i||g[13]!==a?(o=j.jsx(l,{backupState:k,children:i,fragment:a}),g[11]=k,g[12]=i,g[13]=a,g[14]=o):o=g[14];g[15]!==o||g[16]!==m?(k=j.jsx(d("MWEBVestaUserInfoContext.react").MWEBVestaUserInfoContext.Provider,{value:m,children:o}),g[15]=o,g[16]=m,g[17]=k):k=g[17];g[18]!==e||g[19]!==k||g[20]!==f||g[21]!==n?(i=j.jsx(c("MWEBVirtualDevicesContextProvider.react"),{hasOtcEligibleDevicesInitialValue:f,offlineDevicesCountInitialValue:e,vestaClientIDInitialValue:n,children:k}),g[18]=e,g[19]=k,g[20]=f,g[21]=n,g[22]=i):i=g[22];return i}function l(a){var e=d("react-compiler-runtime").c(5),f=a.backupState,g=a.children;a=a.fragment;switch(f){case 4:e[0]!==g||e[1]!==a?(f=b("cr:2046")||b("cr:9064")?j.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return g},children:b("cr:9064")!=null?j.jsx(b("cr:9064"),{trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL,children:g}):b("cr:2046")!=null&&j.jsx(b("cr:2046"),{fragmentKey:a,trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL,children:g})})}):g,e[0]=g,e[1]=a,e[2]=f):f=e[2];return f;case 2:e[3]!==g?(a=j.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return g},children:b("cr:10250")?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWEncryptedBackupsJewelNuxWrapper.OnboardingThreadListQP",children:j.jsx(b("cr:10250"),{source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP,children:g})}):j.jsx(k,{fallback:g,props:{children:g,source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_ONBOARDING_QP,trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL}})})}),e[3]=g,e[4]=a):a=e[4];return a;default:return g}}g["default"]=a}),98);
__d("MWEncryptedBackupsQPWithPinPlaceholder.react",["MWXColumn.react","MWXGlimmer.react","MWXRow.react","MWXRowItem.react","gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("gkx")("23433"),l={logoGlimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xxk0z11",width:"xvy4d1p",$$css:!0},pinInputGlimmer:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"xc9qbxq",$$css:!0},root:{backgroundColor:"xlhe6ec",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxShadow:"xjf5wm9",boxSizing:"x9f619",minWidth:"xeuugli",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},rootComet:{marginTop:"xw7yly9",marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0},rootMessenger:{marginTop:"xw7yly9",marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",minHeight:"x2lwn1j",paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},textGlimmer:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"x1qx5ct2",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(6),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=(h||(h=c("stylex"))).props([l.root,k?l.rootMessenger:l.rootComet]),a[0]=b):b=a[0];var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:l.logoGlimmer})}),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsxs(c("MWXRow.react"),{spacingVertical:0,verticalAlign:"center",children:[e,j.jsx(c("MWXRowItem.react"),{expanding:!0,children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:l.textGlimmer})})]}),a[2]=e):e=a[2];var f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("MWXRow.react"),{wrap:"none",children:j.jsx(c("MWXRowItem.react"),{expanding:!0,children:j.jsx("div",babelHelpers["extends"]({className:"x1kvlpi xwib8y2"},{children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:l.textGlimmer})}))})}),a[3]=f):f=a[3];var g;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("MWXRow.react"),{direction:"forward",wrap:"none",children:j.jsx(c("MWXRowItem.react"),{expanding:!0,children:j.jsx(c("MWXGlimmer.react"),{index:1,xstyle:l.pinInputGlimmer})})}),a[4]=g):g=a[4];a[5]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",babelHelpers["extends"]({},b,{children:j.jsxs(c("MWXColumn.react"),{spacing:8,style:l.root,children:[e,f,g,j.jsx(c("MWXRow.react"),{wrap:"none",children:j.jsx(c("MWXRowItem.react"),{expanding:!0,children:j.jsx("div",babelHelpers["extends"]({className:"x14n70j1 x7i73kt x1y1aw1k"},{children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:l.textGlimmer})}))})})]})})),a[5]=b):b=a[5];return b}g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"qpWithPinEnabled"}],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query",selections:[{kind:"Defer",selections:[{args:[{kind:"Variable",name:"qpWithPinEnabled",variableName:"qpWithPinEnabled"}],kind:"FragmentSpread",name:"MWEncryptedBackupsThreadListRestoreQPWrapper_query"}]}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useMWEBIsUpsellDeferred",["MWEncryptedBackupsDeferLocalStorageUpsell","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(18);a=a.upsellType;var e=(h||(h=c("useReStore")))(),g;b[0]!==a?(g=d("MWEncryptedBackupsDeferLocalStorageUpsell").getLocalStorageKeys(a),b[0]=a,b[1]=g):g=b[1];a=g;g=a;var i=g.countdownInMS,j=g.impressionsCountKey,k=g.lastImpressionTimeKey,l=g.maxImpressionLimit;b[2]!==i||b[3]!==e.tables.experiences_shared_state||b[4]!==k?(a=function(){return d("ReQL").fromTableAscending(e.tables.experiences_shared_state).getKeyRange(k).map(function(a){a=a.stateValue;return a!=null&&+a+i>Date.now()?!0:!1})},b[2]=i,b[3]=e.tables.experiences_shared_state,b[4]=k,b[5]=a):a=b[5];b[6]!==i||b[7]!==e||b[8]!==k?(g=[i,e,k],b[6]=i,b[7]=e,b[8]=k,b[9]=g):g=b[9];a=d("ReQLSuspense").useFirst(a,g,f.id+":41");b[10]!==e.tables.experiences_shared_state||b[11]!==j||b[12]!==l?(g=function(){return d("ReQL").fromTableAscending(e.tables.experiences_shared_state).getKeyRange(j).map(function(a){a=a.stateValue;return l===d("MWEncryptedBackupsDeferLocalStorageUpsell").INFINITE_IMPRESSIONS_LIMIT||+a<l?!1:!0})},b[10]=e.tables.experiences_shared_state,b[11]=j,b[12]=l,b[13]=g):g=b[13];var m;b[14]!==e||b[15]!==j||b[16]!==l?(m=[e,j,l],b[14]=e,b[15]=j,b[16]=l,b[17]=m):m=b[17];b=d("ReQLSuspense").useFirst(g,m,f.id+":56");return a===!0||b===!0}g["default"]=a}),98);
__d("useMWEncryptedBackupsIsUpsellDismissed",["MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEncryptedBackupsDeferLocalStorageUpsell","qex","react","react-compiler-runtime","useMWEBIsUpsellDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState;function a(a){var b=d("react-compiler-runtime").c(5);a=a.upsellType;var e=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),f=i(!1),g=f[0];f=f[1];var h;b[0]!==a?(h={upsellType:a},b[0]=a,b[1]=h):h=b[1];h=c("useMWEBIsUpsellDeferred")(h);var j=c("qex")._("809")===!0,k=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();k=k.virtualDeviceInfo;k=k.doesUserHaveOtcEligibleDevices;if(j&&e&&a===d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_WITH_PIN_JEWEL&&!k){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j=[!0,f],b[2]=j):j=b[2];return j}e=h===!0||g;b[3]!==e?(a=[e,f],b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred.react",["CometPlaceholder.react","CometRelay","EncryptedBackupsSupportedPlatformUtils","MWEBVestaUserInfoContext.react","MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query.graphql","cr:2874","deferredLoadComponent","gkx","react","react-compiler-runtime","requireDeferred","useHasRestoreInterstitialSoftblockBeenDismissed","useMWEBGetUpsellState","useMWEncryptedBackupsIsUpsellDismissed"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("deferredLoadComponent")(c("requireDeferred")("MWEncryptedBackupsThreadListRestoreQPWrapper.react").__setRef("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred.react")),l=c("gkx")("3952");function a(a){var e=d("react-compiler-runtime").c(15),f=a.children,g=a.fragmentKey;a=a.trigger;g=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query.graphql"),g);var i=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),m=c("useMWEBGetUpsellState")();m=m.isRestoreUpsellsDismissed;var n;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_JEWEL},e[0]=n):n=e[0];n=c("useMWEncryptedBackupsIsUpsellDismissed")(n);var o=n[0];n=n[1];var p;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(p={upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_WITH_PIN_JEWEL},e[1]=p):p=e[1];p=c("useMWEncryptedBackupsIsUpsellDismissed")(p);var q=p[0];p=p[1];var r;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(r={upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.PERSISTENT_BANNER_JEWEL},e[2]=r):r=e[2];r=c("useMWEncryptedBackupsIsUpsellDismissed")(r);var s=r[0];r=r[1];var t;e[3]!==i?(t={backupState:4,isCooldownOrLockOutState:i},e[3]=i,e[4]=t):t=e[4];i=c("useHasRestoreInterstitialSoftblockBeenDismissed")(t);t=d("EncryptedBackupsSupportedPlatformUtils").useMWEncryptedBackupsGetCurrentSupportedPlatform();o=o||q;if(m||o&&!l||o&&l&&s)return f;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(b("cr:2874"),{}),e[5]=q):q=e[5];e[6]!==f||e[7]!==t||e[8]!==g||e[9]!==o||e[10]!==r||e[11]!==n||e[12]!==p||e[13]!==a?(m=j.jsx(c("CometPlaceholder.react"),{fallback:q,name:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred",children:j.jsx(k,{children:f,currentSupportedPlatform:t,fragmentKey:g,hasDismissedQps:o,setHasDismissedBanner:r,setHasDismissedQp:n,setHasDismissedQpWithPin:p,trigger:a})}),e[6]=f,e[7]=t,e[8]=g,e[9]=o,e[10]=r,e[11]=n,e[12]=p,e[13]=a,e[14]=m):m=e[14];s=m;switch(t){case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.INSTAGRAM_DIRECT_INBOX:return f;case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.MESSENGER_DOT_COM:case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_INBOX:return i?s:f;case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM:return s}}g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapperDeferredWithEBCheck.react",["cr:9938"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9938")}),98);
__d("useHasUnjoinedCMThreads",["LSIntEnum","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("react-compiler-runtime").c(4),b=(i||(i=c("useReStore")))(),e;a[0]!==b.tables.threads?(e=function(){return d("ReQL").union(d("ReQL").fromTableDescending(b.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange((h||(h=d("LSIntEnum"))).ofNumber(24)),d("ReQL").fromTableDescending(b.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(h.ofNumber(19)))},a[0]=b.tables.threads,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];return!!d("ReQLSuspense").useFirst(e,g,f.id+":22")}g["default"]=a}),98);
__d("MessengerAsyncStorage",["AsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("AsyncStorage")}),98);
__d("useMWCMVerifyActivityStatusOnMountAndFocus",["FBLogger","I64","LSDict","LSFactory","LSFetchCommunitiesActivityStatusStoredProcedure","LSVec","LSVerifyThreadsActivityStatusStoredProcedure","MessengerAsyncStorage","MetaConfig","ServerTime","VisibilityAPI","clearInterval","isCommunityContainersEnabled","promiseDone","react","react-compiler-runtime","setInterval","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=i||d("react");b.useCallback;var k=b.useEffect;b.useMemo;var l=b.useRef,m=b.useState,n=1e3*60*60,o=n*3;function p(a){return(j||(j=d("I64"))).add(j.lsl_(j.of_float(a[0]),32),j.of_float(a[1]))}function q(a){return[(j||(j=d("I64"))).to_float(j.lsr_(a,32)),j.to_float(j.and_(a,j.of_int32(4294967295)))]}function a(a,b){var e=d("react-compiler-runtime").c(33),g=(h||(h=c("useReStore")))(),i=l(null),t="__"+a+".fromTimestampMs__",u;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(u=q((j||(j=d("I64"))).of_float(d("ServerTime").getMillis()-o)),e[0]=u):u=e[0];u=u;u=m(u);var v=u[0],w=u[1],x=l(v),y;e[1]!==v?(u=function(){x.current=v},y=[v],e[1]=v,e[2]=u,e[3]=y):(u=e[2],y=e[3]);k(u,y);var z=l(!1);e[4]===Symbol["for"]("react.memo_cache_sentinel")?(u=c("MetaConfig")._("55")?["JOINED_PUBLIC_CHANNELS"]:[],e[4]=u):u=e[4];y=u;e[5]!==a?(u=c("MetaConfig")._("95")||a==="ContextSwitcher"?["JOINED_COMMUNITY_CHANNELS"]:[],e[5]=a,e[6]=u):u=e[6];a=u;e[7]!==a?(u=[].concat(y,a),e[7]=a,e[8]=u):u=e[8];y=u;var A=y;e[9]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("isCommunityContainersEnabled")(),e[9]=a):a=e[9];var B=a;e[10]!==g||e[11]!==t||e[12]!==A?(u=function(){A.length>0&&c("promiseDone")(c("MessengerAsyncStorage").getItem(t).then(function(a){if(a!=null){var b=JSON.parse(a);b!=null&&(B&&c("promiseDone")(g.runInTransaction(s,"readwrite",void 0,void 0,f.id+":104")),c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyThreadsActivityStatusStoredProcedure")(c("LSFactory")(a),{fromTimestampMs:p(b),serverMode:c("LSVec").ofArray(A),threads:new(c("LSDict"))([])})},"readwrite",void 0,void 0,f.id+":115")))}})["catch"](r),function(){z.current=!0;var a=q((j||(j=d("I64"))).of_float(d("ServerTime").getMillis()));c("promiseDone")(c("MessengerAsyncStorage").setItem(t,JSON.stringify(a)),function(){w(a)})})},e[10]=g,e[11]=t,e[12]=A,e[13]=u):u=e[13];var C=u;e[14]===Symbol["for"]("react.memo_cache_sentinel")?(y=function(){i.current!=null&&(c("clearInterval")(i.current),i.current=null)},e[14]=y):y=e[14];var D=y;e[15]!==C?(a=function(){if(i.current!=null)return;if(c("MetaConfig")._("96")){var a;i.current=c("setInterval")(C,(a=c("MetaConfig")._("43"))!=null?a:n)}},e[15]=C,e[16]=a):a=e[16];var E=a;e[17]!==E||e[18]!==C?(u=function(){var a=d("ServerTime").getMillis()-(j||(j=d("I64"))).to_float(p(x.current));i.current==null&&E();a>=((a=c("MetaConfig")._("43"))!=null?a:n)&&C()},e[17]=E,e[18]=C,e[19]=u):u=e[19];var F=u;e[20]!==F||e[21]!==b?(y=function(){d("VisibilityAPI").isVisibilityHidden()?D():b&&c("MetaConfig")._("97")&&F()},e[20]=F,e[21]=b,e[22]=y):y=e[22];var G=y;e[23]!==E||e[24]!==C||e[25]!==G?(a=function(){var a;a=null;z.current||(C(),d("VisibilityAPI").canUseVisibilityAPI&&(a=d("VisibilityAPI").onVisibilityChange(G)),E());return function(){a!=null&&d("VisibilityAPI").removeVisibiltyChangeListener(a),i.current!=null&&(c("clearInterval")(i.current),i.current=null)}},e[23]=E,e[24]=C,e[25]=G,e[26]=a):a=e[26];e[27]!==F||e[28]!==E||e[29]!==b||e[30]!==C||e[31]!==G?(u=[D,F,E,b,C,G],e[27]=F,e[28]=E,e[29]=b,e[30]=C,e[31]=G,e[32]=u):u=e[32];k(a,u)}function r(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Failed to set timestamp for thread activity status")}function s(a){return c("LSFetchCommunitiesActivityStatusStoredProcedure")(c("LSFactory")(a))}g["default"]=a}),98);
__d("MWInboxContextSwitcher.react",["fbt","C4GFalcoLoggerDeferred","FDSPivotLinkTabs.react","I64","LSFactory","LSIntEnum","MWChatBadgeCountUpdates.react","MWInboxPersistedUIState","MWPBumpEntityKey","Promise","ReQL","ReQLSuspense","cr:7085","promiseDone","react","react-compiler-runtime","useHasUnjoinedCMThreads","useMWCMVerifyActivityStatusOnMountAndFocus","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||(m=d("react")),o=m.useEffect,p={tabContainer:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(27),e=a.entryPoint,g=a.onTabChange,i=a.selectedFolderTab,m=(j||(j=c("useReStore")))();c("useMWCMVerifyActivityStatusOnMountAndFocus")("ContextSwitcher",e==="inbox");var s;b[0]!==m?(a=function(){c("promiseDone")(m.runInTransaction(r,"readwrite",void 0,void 0,f.id+":79"))},s=[m],b[0]=m,b[1]=a,b[2]=s):(a=b[1],s=b[2]);o(a,s);b[3]!==m.tables.threads?(a=function(){var a=[d("ReQL").fromTableDescending(m.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange((k||(k=d("LSIntEnum"))).ofNumber(23)),d("ReQL").fromTableDescending(m.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(k.ofNumber(18)),d("ReQL").fromTableDescending(m.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(k.ofNumber(21))];return d("ReQL").union.apply(void 0,a)},b[3]=m.tables.threads,b[4]=a):a=b[4];b[5]!==m?(s=[m],b[5]=m,b[6]=s):s=b[6];a=!!d("ReQLSuspense").useFirst(a,s,f.id+":89");var t=c("useHasUnjoinedCMThreads")();s=d("MWInboxPersistedUIState").usePersistedUIState(t,"__MWInboxContextSwitcher.hasViewedSuggestedChats__");var u=s[0],v=s[1];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(s=(k||(k=d("LSIntEnum"))).ofNumber(0),b[7]=s):s=b[7];s=d("MWChatBadgeCountUpdates.react").useUnseenThreadCount(s);s=s!=null&&s>0;var w=d("MWChatBadgeCountUpdates.react").useHasUnseenCommunityThreads(),x=t&&!u,y=e==="jewel"?"jewel_tray":"messenger_inbox",z=e==="inbox"?"jewel_inbox":"chats_inbox",A;b[8]!==z||b[9]!==y?(A={onImpressionStart:function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"impression",event:"blended_threadlist_community_tab_rendered",parent_surface:z,source:"blended_threadlist_community_tab",surface:y})}},b[8]=z,b[9]=y,b[10]=A):A=b[10];A=c("useSinglePartialViewImpression")(A);if(b[11]!==e||b[12]!==a||b[13]!==t||b[14]!==x||b[15]!==w||b[16]!==s||b[17]!==u||b[18]!==A||b[19]!==g||b[20]!==z||b[21]!==i||b[22]!==v||b[23]!==y){var B=[{folder:(k||(k=d("LSIntEnum"))).ofNumber(0),hasNewContentBadge:s,isShown:!0,label:h._(/*BTDS*/"__JHASH__4dBM4WjAtAu__JHASH__"),odsAction:"inbox_tab_click"},{folder:k.ofNumber(-14),hasNewContentBadge:w||x,isShown:a||t,label:h._(/*BTDS*/"__JHASH___yDrE8px4gt__JHASH__"),logClick:function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"blended_threadlist_community_tab_clicked",parent_surface:z,source:"blended_threadlist_community_tab",surface:y})},odsAction:"communities_tab_click",ref:A}];B=B.filter(q).map(function(a,b){var c=a.folder;b=a.hasNewContentBadge;a.isShown;var f=a.logClick,h=a.odsAction,j=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["folder","hasNewContentBadge","isShown","logClick","odsAction","ref"]);return babelHelpers["extends"]({},a,{hasNewContentBadge:b,onPress:function(){(l||(l=d("I64"))).equal(c,(k||(k=d("LSIntEnum"))).ofNumber(-14))&&t&&!u&&v(!0),d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.contextswitcher."+e,h),f==null?void 0:f(),g(c)},ref:j,selected:(l||(l=d("I64"))).equal(c,i),testid:(l||(l=d("I64"))).equal(c,(k||(k=d("LSIntEnum"))).ofNumber(-14))?"communities_tab":void 0})});b[11]=e;b[12]=a;b[13]=t;b[14]=x;b[15]=w;b[16]=s;b[17]=u;b[18]=A;b[19]=g;b[20]=z;b[21]=i;b[22]=v;b[23]=y;b[24]=B}else B=b[24];a=B;b[25]!==a?(x=n.jsx(c("FDSPivotLinkTabs.react"),{linkType:"deemphasized",tabs:a,tabsContainerStyle:p.tabContainer}),b[25]=a,b[26]=x):x=b[26];return x}function q(a){return a.isShown}function r(a){return b("cr:7085")!=null?b("cr:7085")(c("LSFactory")(a)):(i||(i=b("Promise"))).resolve()}g["default"]=a}),226);
__d("MWInboxContextSwitcherCond.react",["cr:8635","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(2),e;c[0]!==a?(e=b("cr:8635")?i.jsx(b("cr:8635"),babelHelpers["extends"]({},a)):null,c[0]=a,c[1]=e):e=c[1];return e}g["default"]=a}),98);
__d("MWXIconMarketplace",["MWXSvgIcon","SVGIcon","cr:12489","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12489")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWThreadListMarketplaceItem.react",["fbt","CometMarketplaceLogger","LSContactBitOffset","LSIntEnum","MWPBumpEntityKey","MWThreadListFolderItem.react","MWXIconGroup","MWXIconMarketplace","MWXIconStrict.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useLogMarketplaceClick","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect;function a(a){var b=d("react-compiler-runtime").c(27),e=a.onClick,g=a.responsive,k=a.selected,p=a.size;a=a.thread;var q=c("useLogMarketplaceClick")("marketplace_inbox_folder"),r=(i||(i=c("useReStore")))(),s;b[0]!==r.tables._user_info?(s=function(){return d("ReQL").fromTableAscending(r.tables._user_info).map(o)},b[0]=r.tables._user_info,b[1]=s):s=b[1];var t;b[2]!==r?(t=[r],b[2]=r,b[3]=t):t=b[3];var u=d("ReQLSuspense").useFirst(s,t,f.id+":50");b[4]!==r.tables.contacts||b[5]!==u?(s=function(){return u!=null?d("ReQL").fromTableAscending(r.tables.contacts,["capabilities","capabilities2"]).getKeyRange(u):d("ReQL").empty()},b[4]=r.tables.contacts,b[5]=u,b[6]=s):s=b[6];b[7]!==r||b[8]!==u?(t=[r,u],b[7]=r,b[8]=u,b[9]=t):t=b[9];s=d("ReQLSuspense").useFirst(s,t,f.id+":55");t=s!=null&&d("LSContactBitOffset").has(86,s);b[10]===Symbol["for"]("react.memo_cache_sentinel")?(s=[],b[10]=s):s=b[10];m(n,s);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(s=h._(/*BTDS*/"__JHASH__0Ktcc3EsRI7__JHASH__").toString(),b[11]=s):s=b[11];s=s;var v=c("MWXIconMarketplace");if(t===!0){b[12]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._(/*BTDS*/"__JHASH__C-8UKByNynj__JHASH__").toString(),b[12]=t):t=b[12];s=t;v=c("MWXIconGroup")}b[13]!==v?(t=l.jsx(c("MWXIconStrict.react"),{color:"primary",icon:v,size:36}),b[13]=v,b[14]=t):t=b[14];b[15]!==q||b[16]!==e?(v=function(){q();e((j||(j=d("LSIntEnum"))).ofNumber(-12));return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","marketplace_threads")},b[15]=q,b[16]=e,b[17]=v):v=b[17];var w;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(w=(j||(j=d("LSIntEnum"))).ofNumber(-12),b[18]=w):w=b[18];b[19]!==g||b[20]!==k||b[21]!==p||b[22]!==t||b[23]!==v||b[24]!==a||b[25]!==s?(w=l.jsx(c("MWThreadListFolderItem.react"),{icon:t,onClick:v,responsive:g,selected:k,size:p,systemFolder:w,thread:a,threadName:s}),b[19]=g,b[20]=k,b[21]=p,b[22]=t,b[23]=v,b[24]=a,b[25]=s,b[26]=w):w=b[26];return w}function n(){return d("CometMarketplaceLogger").logImpression("marketplace_inbox_folder")}function o(a){return a.facebookUserId}g["default"]=a}),226);
__d("useMWJewelSettingsButtonSecurityAlertsBadge",["ARIA_LABEL_PLACEHOLDER_FIXME","FDSBadge.react","MAWStateContext.react","react","react-compiler-runtime","useMAWSecurityAlertsPreferences"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j=function(a){return a.unArchivedSelfDeviceChangeAlerts};function a(){var a=d("react-compiler-runtime").c(5),b=c("useMAWSecurityAlertsPreferences")();b=b.securityAlertsPreferences;var e=d("MAWStateContext.react").useMAWSelector(j);b==null?void 0:b.allowSecurityAlertForSelf;var f;a[0]!==(b==null?void 0:b.allowSecurityAlertForSelf)||a[1]!==e?(f=(b==null?void 0:b.allowSecurityAlertForSelf)&&e>0?i.jsx("div",babelHelpers["extends"]({className:"x1j1mzgm x10l6tqk x12ibf10"},{children:i.jsx(c("FDSBadge.react"),{accessibilityText:c("ARIA_LABEL_PLACEHOLDER_FIXME"),testid:void 0})})):null,a[0]=b==null?void 0:b.allowSecurityAlertForSelf,a[1]=e,a[2]=f):f=a[2];a[3]!==f?(b={badge:f},a[3]=f,a[4]=b):b=a[4];e=b;return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("AudioSettingsVolumeSetting",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:"default",QUIET:"quiet"});f["default"]=a}),66);
__d("CometVideoPlayerInstreamAdsFeedContextCardContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext({isWatchTab:!1,onNodeChangeFunc:null});function a(){return i(j)}g.CometVideoPlayerInstreamAdsFeedContextCardContext=j;g.useCometVideoPlayerInstreamAdsFeedContextCardContext=a}),98);
__d("CometVideoPlayerNextgendashAvailability",[],(function(a,b,c,d,e,f){a=Object.freeze({AVAILABLE:"AVAILABLE",UNAVAILABLE_NEXTGENDASH_GK:"UNAVAILABLE_NEXTGENDASH_GK",UNAVAILABLE_OZ_PLAYER_AVAILABILITY:"UNAVAILABLE_OZ_PLAYER_AVAILABILITY",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO",UNAVAILABLE_FROM_JS_OZ_PLAYER_AVAILABILITY:"UNAVAILABLE_FROM_JS_OZ_PLAYER_AVAILABILITY",UNAVAILABLE_FROM_JS_NO_INFO_FROM_SERVER:"UNAVAILABLE_FROM_JS_NO_INFO_FROM_SERVER",UNAVAILABLE_FROM_JS_NEXTGENDASH_GK:"UNAVAILABLE_FROM_JS_NEXTGENDASH_GK",UNAVAILABLE_FROM_JS_NOT_DESIRED:"UNAVAILABLE_FROM_JS_NOT_DESIRED"});f["default"]=a}),66);
__d("GraphQLVideoDRMInfo",["isEmptyObject"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.fairplay_cert,d=a.graph_api_video_license_uri,e=a.video_license_uri_map;a=a.widevine_cert;d={fairplayCert:b,graphApiVideoLicenseUri:(b=d)!=null?b:null,videoLicenseUriMap:e,widevineCert:a};return d.graphApiVideoLicenseUri===null&&c("isEmptyObject")(d.videoLicenseUriMap)?null:d}g.makeGraphQLVideoDRMInfo=a}),98);
__d("GraphQLVideoP2PSettings",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["HiveJava","HiveJS","StatsJS"]);function a(a){return(a=g.cast(a))!=null?a:null}f.HiveTechOrder=g;f.hiveTechOrderOrNull=a}),66);
__d("InstreamVideoAdBreaksPlayer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InstreamVideoAdBreaksPlayer_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"InstreamExtraConfig",kind:"LinkedField",name:"instream_extra_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"instream_halo_delay_time_seconds",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreaks",kind:"LinkedField",name:"instream_video_ad_breaks_comet",plural:!1,selections:[{args:null,documentName:"InstreamVideoAdBreaksPlayer_video_instream_video_ad_breaks_comet",fragmentName:"InstreamVideoAdBreaksPlayerImpl_adBreaks",fragmentPropName:"adBreaks",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("InstreamVideoAdBreaksPlayer.react",["CometPlaceholder.react","CometRelay","InstreamVideoAdBreaksPlayer_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(11),f=a.playerFormat,g=a.subOrigin;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("InstreamVideoAdBreaksPlayer_video.graphql"),a);var i=a.id,k=a.instream_extra_config;a=a.instream_video_ad_breaks_comet;k=k==null?void 0:k.instream_halo_delay_time_seconds;var l;e[0]!==k?(l={instreamHaloDelayTimeSeconds:k},e[0]=k,e[1]=l):l=e[1];e[2]!==a||e[3]!==f||e[4]!==g||e[5]!==l||e[6]!==i?(k={instreamExtraConfig:l,instreamVideoAdBreaksComet:a,playerFormat:f,subOrigin:g,videoFBID:i},e[2]=a,e[3]=f,e[4]=g,e[5]=l,e[6]=i,e[7]=k):k=e[7];e[8]!==a||e[9]!==k?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:k})}),e[8]=a,e[9]=k,e[10]=f):f=e[10];return f}g["default"]=a}),98);
__d("LatencySensitiveType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NORMAL:0,LOW:1,ULTRA_LOW:2});c=a;f["default"]=c}),66);
__d("OzActiveActiveFailoverNetworkRequestStreamHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.onResponse=function(a,b){var c=a.headers;c&&c.has("x-fb-video-replica")&&this.$1(a,b);return null};b.onError=function(a,b){return null};return a}();f["default"]=a}),66);
__d("OzBufferVTTCaptionsVisibleStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!this.$1()};b.getBufferTarget=function(){return 0};return a}();f["default"]=a}),66);
__d("OzCDNSignedQueryParams",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.$2=function(a,b,c){this.$1[a]==null&&(this.$1[a]={}),this.$1[a][b]=c};b.get=function(a){a=this.$1[a];return a==null?null:a};b.update=function(a){a=d("ConstUriUtils").getUri(a);if(a!=null){var b=a.getQueryParams();a=a.getDomain()+a.getPath();var c=b.get("oe");c!=null&&this.$2(a,"oe",String(b.get("oe")));b.get("oh")!=null&&this.$2(a,"oh",String(b.get("oh")))}};return a}();g["default"]=a}),98);
__d("OzCustomParsers",[],(function(a,b,c,d,e,f){function a(){return new Map([["fbProjection",function(a){try{return a.Period[0].AdaptationSet[0].$.FBProjection||null}catch(a){return null}}],["hasInbandCaptionsFromAccessibility",function(a){a=a.Period[0];a=a&&a.AdaptationSet[0].Accessibility;return a&&a[0]?a[0].$.schemeIdUri==="urn:scte:dash:cc:cea-608:2015":!1}],["hasInbandCaptionsFromUsingASRCaptions",function(a){a=Number.parseInt(a.$.usingASRCaptions,0);return!isNaN(a)&&a!=0}],["hasInbandCaptionsFromIsUsingAsrCaptionsEmployeeDogfooding",function(a){a=Number.parseInt(a.$.isUsingAsrCaptionsEmployeeDogfooding,0);return!isNaN(a)&&a!=0}],["hasVTTRepresentationCaptions",function(a){return a.Period[0].AdaptationSet.find(function(a){var b;return((b=a.$.mimeType)==null?void 0:b.startsWith("application"))&&a.$.lang!=null})!=null}],["isLiveTemplated",function(a){return a.$.FBIsLiveTemplated==="true"}],["isFBMS",function(a){return a.$.FBMS==="true"}],["isFBWasLive",function(a){return a.$.FBWasLive==="true"}],["loapStreamType",function(a){return a.$.loapStreamType?parseInt(a.$.loapStreamType,10):0}],["fbManifestIdentifier",function(a){return(a=a.$.FBManifestIdentifier)!=null?a:""}],["lastVideoFrameTs",function(a){return a.$.lastVideoFrameTs?Number.parseInt(a.$.lastVideoFrameTs,10):null}],["currentServerTimeMs",function(a){return a.$.currentServerTimeMs?Number.parseInt(a.$.currentServerTimeMs,10):null}],["validationErrors",function(a){return(a=a.$.validationErrors)!=null?a:""}]])}f.createOzCustomParser=a}),66);
__d("oz-player/manifests/OzSegmentOptions",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!1,this.$2=null}var b=a.prototype;b.setSegmentNumDecisionTime=function(a){this.$2=a};b.getSegmentNumDecisionTime=function(){return this.$2};b.setIsDVLEnabled=function(a){this.$1=a};b.isDVLEnabled=function(){return this.$1};return a}();f["default"]=a}),66);
__d("oz-player/shims/www/OzURIWWWImplConstUri",["ConstUriUtils","err"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.getQueryParams();var b={};a.forEach(function(a,c){typeof a==="string"||typeof a==="number"?b[c]=a:b[c]=String(a)});return b}a=function(){function a(a){this.$1=d("ConstUriUtils").getUri(a);if(this.$1==null)throw c("err")("Invalid URI passed to OzURI");this.$2=h(this.$1)}var b=a.prototype;b.addQueryData=function(a,b){var c=this.$1;if(typeof a==="string"){var d;c=(d=c)==null?void 0:d.addQueryParam(a,b===void 0?"":b)}else{var e=new Map();Object.keys(a).forEach(function(b){e.set(b,a[b])});c=(d=c)==null?void 0:d.addQueryParams(e)}c!=null&&(this.$1=c,this.$2=h(this.$1))};b.getQueryData=function(){return this.$2};b.getDomain=function(){var a;return(a=(a=this.$1)==null?void 0:a.getDomain())!=null?a:""};b.toString=function(){var a;return(a=(a=this.$1)==null?void 0:a.toString())!=null?a:""};b.getPath=function(){var a;return(a=(a=this.$1)==null?void 0:a.getPath())!=null?a:""};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzURIWWW",["oz-player/shims/www/OzURIWWWImplConstUri"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzURIWWWImplConstUri")}),98);
__d("oz-player/shims/OzURI",["oz-player/shims/www/OzURIWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzURIWWW")}),98);
__d("oz-player/utils/ozConcatUint8Arrays",["oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=0;for(var c=0;c<a.length;++c)b+=a[c].byteLength;var e,f;try{e=new ArrayBuffer(b),f=new Uint8Array(e)}catch(a){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_ALLOCATION_FAILURE",description:a.name+": "+a.message})}c=0;for(b=0;b<a.length;++b){var g=a[b];f.set(g,c);c+=g.byteLength}return{buffer:e,view:f}}g["default"]=a}),98);
__d("oz-player/utils/OzReadableStreamUtils",["oz-player/utils/ozConcatUint8Arrays"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof TextDecoder!=="undefined"?function(a){return new TextDecoder("utf-8").decode(new Uint8Array(a))}:function(a){return String.fromCharCode.apply(null,a)};function i(a){var b=[],d=function c(){return a.read().then(function(a){var d=a.value;a=a.done;if(a)return null;if(!d)return null;b.push(d);return c()})};return d().then(function(){var a=c("oz-player/utils/ozConcatUint8Arrays")(b);a=a.view;return a})}function a(a){return i(a).then(function(a){return h(a)})}function b(a){var b=new Uint8Array(a.length);return b.map(function(b,c){return a.charCodeAt(c)})}g.pumpAllData=i;g.pumpString=a;g.stringToUint8Array=b}),98);
__d("OzCustomRepresentationParsers",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzURI","oz-player/utils/OzReadableStreamUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=a.ozConfig,e=a.startTimestamp;a={timescale:function(a){a=a.SegmentTemplate;if(a&&a.length>0){a=a[0].$;if(a)return Number.parseInt(a.timescale,0)||null}return null}};b.getBool("parse_initialization_binary",!1)&&(a.initializationBinary=function(a){try{a=window.atob(a.FBInitializationBinary[0]._);return d("oz-player/utils/OzReadableStreamUtils").stringToUint8Array(a)}catch(a){return null}});a.playbackResolutionMos=function(a){try{return a.$.FBPlaybackResolutionMos}catch(a){return null}};a.playbackResolutionCsvqm=function(a){try{return a.$.FBPlaybackResolutionCsvqm}catch(a){return null}};a.qualityLabel=function(a){try{return a.$.FBQualityLabel}catch(a){return null}};b.getBool("parse_first_segment",!1)&&(a.firstSegmentParser=function(a){if(e!=null&&e>0)return null;try{var b=a.SegmentBase[0].$.FBFirstSegmentRange.split("-").map(Number),d={startByte:b[0],endByte:b[1]};b=a.BaseURL[0]._;var f=new(c("oz-player/shims/OzURI"))(b),g=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){return f},getByteRange:function(){return d},getTimeRange:function(){return{startTime:0,endTime:2}},getSequenceNumber:function(){return null},getOptions:function(){return g}}}catch(a){return null}});return a}g.createOzCustomRepresentationParsers=a}),98);
__d("OzDOMEventListenerImpl",["CometEventListener"],(function(a,b,c,d,e,f,g){"use strict";a={listenDOMEvent:c("CometEventListener").listen,captureDOMEvent:c("CometEventListener").capture,suppressDOMEvent:c("CometEventListener").suppress};b=a;g["default"]=b}),98);
__d("OzMinimumSmallestDimensionRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.applyRestriction=function(a){var b=this;if(a.length===0)return[];var c=a.filter(function(a){var c=a.getWidth();a=a.getHeight();c=c<a?c:a;return c>=b.$1});return c.length>0?c:[a[a.length-1]]};return a}();f["default"]=a}),66);
__d("OzMosThresholdRestriction",["MosUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3=new Map(),this.$4=a,this.$1=a.getNumber("mos_upper_threshold",0),this.$2=a.getNumber("mos_lower_threshold",0)}var b=a.prototype;b.$5=function(){return this.$4.getBool("cache_mos_threshold",!1)?{mosUpperThreshold:this.$1,mosLowerThreshold:this.$2}:{mosUpperThreshold:this.$4.getNumber("mos_upper_threshold",0),mosLowerThreshold:this.$4.getNumber("mos_lower_threshold",0)}};b.$6=function(a,b){var c=null;if(this.$3.get(a))c=this.$3.get(a);else{var e=a.getCustomField("playbackResolutionMos");e!=null&&(c=d("MosUtils").parsePlaybackMos(String(e)),c&&this.$3.set(a,c))}return c!=null?d("MosUtils").getMosValue(c,d("MosUtils").getQualityLabel(b.width,b.height)):null};b.$7=function(a,b){var c=this,d=null,e=this.$5(),f=e.mosUpperThreshold;a.forEach(function(a){a=c.$6(a,b);a!=null&&a>f&&(d==null||d>a)&&(d=a)});return d==null?a.slice():a.filter(function(a){a=c.$6(a,b);return a==null?!0:a<=f||a===d})};b.$8=function(a,b){var c=this,d=[],e=this.$5(),f=e.mosLowerThreshold;a.forEach(function(a){var e=c.$6(a,b);e!=null&&e>f&&d.push(a)});d.length===0&&d.push(a[a.length-1]);return d};b.applyRestriction=function(a,b){if(a.length===0)return[];var c=this.$5(),d=c.mosLowerThreshold;c=c.mosUpperThreshold;var e;if(c>0){e=this.$7((c=e)!=null?c:a,b)}if(d>0){e=this.$8((c=e)!=null?c:a,b)}return(d=e)!=null?d:a.slice()};return a}();g["default"]=a}),98);
__d("OzOneSemanticHandlerUtils",["ConstUriUtils","qex","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){b!=null&&(b.indexOf("+RE")>=0&&a.retry()),c!=null&&c()}function a(a,b){var d=b.error;d=d.getExtra();var e=d.code;d=d.headers;var f=null;e==null&&c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");d==null&&c("recoverableViolation")("A ONE Semantic error response must contain response Headers.","comet_video_player");if(d!=null){d=d.get("x-fb-one-variant");f=(d=d)!=null?d:null}d=JSON.parse(a.getString("network_retry_intervals_json","{}"));a=d[e];switch(e){case"410":b.endStream();break;case"404":h(b,f,function(){b.retry({behavior:"recover_failed_request"})});break;case"429":b.retry(a);break;case"403":default:}}function i(a){if(a!=null){a=parseInt(a,10);if(3>0)return!isNaN(a)&&a>0&&a<=3}return!1}function j(a,b){if(a!=null&&b!=null){a=parseInt(a,10);b=parseInt(b,10);return!isNaN(a)&&!isNaN(b)&&a>0&&a<=b}return!1}function k(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("os_param");return a?String(a).toString():null}}return null}function l(a,b){var d=a!=null;return i(b)||(d||!!c("qex")._("1636"))&&j(b,a)}function b(a){var b=a.getExtra();b=b.headers;b=m(b);a=a.getExtra();var d=a.code;a=a.url;if(b!=null&&d==null){c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");return!1}d=k(a);return l(d,b)}function m(a){if(a){a=a.get("x-fb-one");if(a!=null)return parseInt(a,10)>0?a:null}return null}function e(a,b,c){var d=null,e=null;b!=null&&(d=k(b),d!=null&&a.setOneReqWave(parseInt(d,10)));b=c==null?void 0:c.headers;b&&(e=m(b),e!=null&&a.setOneResWave(parseInt(e,10)));a.setOneObserved(l(d,e))}g.maybeRetryForVariant=h;g.evaluateOneSemanticsResponse=a;g.isOneSemanticsForcedForResponseWave=i;g.isOneSemanticsEnabledForWave=j;g.getOneSemanticRequestWave=k;g.shouldRespondWithOneSemantics=b;g.getOneSemanticResponseWave=m;g.setOneSemanticFetchStreamLoggingAttributes=e}),98);
__d("handleOzManifestFetchErrorEvent",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a.getNumber("initial_manifest_request_retry_count",0),d=JSON.parse(a.getString("network_retry_intervals_json","{}")),e=a.getNumber("live_max_try_attempts_on_404",1),f=["404","503"];a.getBool("live_gracefully_handle_no_network",!1)&&f.push("0");a.getBool("live_gracefully_handle_410",!1)&&f.push("410");a.getBool("live_gracefully_handle_502",!1)&&f.push("502");a.getBool("live_gracefully_handle_429",!1)&&f.push("429");a.getBool("live_gracefully_handle_504",!1)&&f.push("504");a.getBool("normalize_mpd_fetch_errors",!1)&&f.push("20");var g=b.error.getExtra().code;if(a.getBool("no_retry_on_empty_string_error_code",!1)&&g==="")return;a.getBool("handle_mpd_null_error_codes",!1)&&(g=g!=null?g:null);d=d[g];if(b.isInitialRequest)typeof d==="number"&&d>0&&b.retryAttemptCount<c&&b.retry({waitMs:d});else if(g!=null&&f.indexOf(g)>-1)switch(g){case"410":b.endStream();break;case"404":e<b.consecutiveFailuresForErrorCode&&b.retry();break;case"504":case"502":case"503":case"20":case"0":b.retry();break;case"429":typeof d==="number"&&d>0&&b.retry({waitMs:d});break;default:break}else g===null&&a.getBool("handle_mpd_null_error_codes",!1)&&b.retry()}f["default"]=a}),66);
__d("handleOzStreamErrorEvent",[],(function(a,b,c,d,e,f){"use strict";var g=[0,1,1,2,3,5,8,13,21,34];function a(a,b){var c=b.error.getExtra().code;if(a.getBool("no_retry_on_empty_string_error_code",!1)&&c==="")return;if(a.getBool("retry_null_error_code_in_stream",!1)&&c==null){b.retry();return}var d=JSON.parse(a.getString("network_end_broadcasts_json","[]"));if(d.includes(c)){b.endStream();return}d=JSON.parse(a.getString("network_skip_json","[]"));if(d.includes(c)){b.retry();return}d=a.getBool("back_off_pdash_504_retry",!0)?g[b.retryAttemptCount]:0;var e=JSON.parse(a.getString("network_reload_mpd_json","[]")),f=a.getBool("fix_reload_manifest_retry",!1);if(a.getBool("back_off_pdash_504_retry",!0)&&d==null&&(!f||e.includes(c)))return;if(d!=null&&e.includes(c)){a.getBool("network_reload_mpd_json_retry",!1)?b.retry({behavior:"recover_failed_request",waitMs:d*1e3}):b.retry({waitMs:d*1e3});return}f=JSON.parse(a.getString("network_retry_intervals_json",'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}'));e=c!=null?f[c]:null;if(e!=null){a.getBool("network_retry_intervals_json_retry",!1)?b.retry({behavior:"retry_failed_request",waitMs:e}):b.retry({waitMs:e});return}}f["default"]=a}),66);
__d("OzOneSemanticHandler",["OzOneSemanticHandlerUtils","handleOzManifestFetchErrorEvent","handleOzStreamErrorEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=b.error;d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzManifestFetchErrorEvent")(a,b)}function b(a,b){var e=b.error;d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzStreamErrorEvent")(a,b)}g.handleManifestFetchErrorEvent=a;g.handleStreamErrorEvent=b}),98);
__d("oz-player/shims/www/ozvariantWWW",["invariant"],(function(a,b,c,d,e,f,g,h){a=h;g["default"]=a}),98);
__d("oz-player/shims/ozvariant",["oz-player/shims/www/ozvariantWWW"],(function(a,b,c,d,e,f,g){g["default"]=c("oz-player/shims/www/ozvariantWWW")}),98);
__d("oz-player/utils/OzNumericalHelper",[],(function(a,b,c,d,e,f){"use strict";var g=1e-5;function h(a,b,c){c===void 0&&(c=g);return Math.abs(b-a)<=c}function i(a,b,c){c===void 0&&(c=g);return a>b&&!h(a,b,c)}function j(a,b,c){c===void 0&&(c=g);return a<b&&!h(a,b,c)}function a(a,b,c){c===void 0&&(c=g);return j(a,b,c)||h(a,b,c)}function b(a,b,c){c===void 0&&(c=g);return i(a,b,c)||h(a,b,c)}f.equalTo=h;f.greaterThan=i;f.lessThan=j;f.lessThanOrEqual=a;f.greaterThanOrEqual=b}),66);
__d("oz-player/utils/OzNumericalRangeUtil",["oz-player/utils/OzNumericalHelper"],(function(a,b,c,d,e,f,g){"use strict";var h=.01;function i(a,b){b=b.rangeEnd;return b==null?!1:Math.abs(a.rangeStart-b)>h&&a.rangeStart>b}function j(a,b){a=a.rangeEnd;b=b.rangeEnd;if(a==null)return!0;return b==null?!1:Math.abs(a-b)>h&&a>b}function k(a,b,c,d){a=c.rangeEnd;return a==null?!1:b===a||Math.abs(b-a)>((c=d)!=null?c:h)&&b>a}function a(a,b,c){var d=b.rangeEnd;if(d==null)return!1;c=(c=c)!=null?c:h;return a-b.rangeStart>=c&&d-a>=c}function l(a,b){return a>b-h}function b(a){if(!a.length)return[];var b=[],c=a[0];b.push(c);for(var d=1;d<a.length;d++){var e=a[d];if(!j(e,c))continue;else i(e,c)?(c={rangeStart:e.rangeStart,rangeEnd:e.rangeEnd},b.push(c)):c.rangeEnd=e.rangeEnd}return b}function c(a,b,c){return b.reduceRight(function(b,d){k(a,d.rangeStart,c)||k(a,c.rangeStart,d)?b.push(d):(c.rangeEnd!=null&&(d.rangeEnd==null||k(a,d.rangeEnd,c))&&b.push({rangeStart:c.rangeEnd,rangeEnd:d.rangeEnd}),l(c.rangeStart,d.rangeStart)&&b.push({rangeStart:d.rangeStart,rangeEnd:c.rangeStart}));return b},[]).filter(function(a){return a.rangeEnd==null||a.rangeStart<a.rangeEnd}).reverse()}function e(a,b,c,d){d===void 0&&(d=h);for(var e=0;e<c.length;e++){var f=c[e],g=f.rangeStart;if(l(b,g)&&!k(a,b,f,d))return e}return-1}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d=d.rangeStart;if(!l(a,d))return c}return-1}function m(a,b,c){return a>=b?0:c.reduceRight(function(c,d){var e=d.rangeStart;d=d.rangeEnd;if(b<e||d!=null&&a>d)return c;else if(d==null||b<=d)return Math.min(b-e,b-a)+c;else if(a>=e)return Math.min(d-a,b-a)+c;else return d-e+c},0)}function n(a,b){var c;c=a.length==0?(c=b[b.length-1])!=null?c:null:null;for(var e=0;e<a.length;e++){var f=a[e];for(var g=e;g<b.length;g++){var h=b[g];if(d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)&&f.rangeEnd!=null&&h.rangeEnd!=null&&d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeEnd,h.rangeEnd))break;else if(h.rangeEnd!=null&&f.rangeEnd!=null&&!d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)){c={rangeStart:h.rangeStart,rangeEnd:h.rangeEnd};break}else if(h.rangeEnd!=null&&f.rangeEnd!=null&&d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)&&!d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeEnd,h.rangeEnd)){c={rangeStart:f.rangeEnd,rangeEnd:h.rangeEnd};break}}if(c!==null)break}return c}function o(a){var b=[];for(var c=0;c<a.length;c++)b.push({rangeStart:a[c].startTime,rangeEnd:a[c].endTime});return b}g.isAfter=k;g.isWithin=a;g.isLargerThan=l;g.mergeSortedRanges=b;g.diffSortedRanges=c;g.findCurrentRangeIndex=e;g.findNextRangeIndex=f;g.findDiffCoveredByRanges=m;g.firstAddedInSortedRanges=n;g.convertFromTimeRanges=o}),98);
__d("oz-player/manifests/SegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzEventEmitter","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=1e-4;a=function(){function a(a,b,d,e,f,g){g===void 0&&(g=!1),this.$7=new(c("oz-player/shims/OzEventEmitter"))(),this.$10=null,this.$8=a,this.$2=b,this.$3=d,this.$1=f,this.$4=e,this.$5=this.$11(this.$4),this.$6=g,this.$9=this.$8.getNumber("live_numerical_error_epsilon")}var b=a.prototype;b.getSegmentByTime=function(a){a=this.$12(a);a=a*this.$3;var b=null;for(var c=this.$4.length-1;c>=0;c--){var e=this.$4[c];if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(e.t+e.d*(e.r+1),a,this.$9))break;b=e}if(b===null)return null;if(d("oz-player/utils/OzNumericalHelper").greaterThan(b.t,a,this.$9))return null;e=Math.max(0,Math.floor((a-b.t+this.$9)/b.d));return this.$13(b,e)};b.getSegment=function(a){var b=0;a=a;while(a>=0&&b<this.$4.length){var c=this.$4[b];c=c.r;c=c+1;if(a>=c){a-=c;b++;continue}break}c=this.$4[b];return!c?null:this.$13(c,a)};b.getSegmentAfter=function(a){a=a.getTimeRange().endTime;return this.getSegmentByTime(a)};b.getPredictedSegmentAfter=function(a){return null};b.canPredict=function(){return!1};b.canApproximateId=function(){return!1};b.isEndingSegment=function(a){if(!this.$4||!this.$4.length||!this.$6)return!1;var b=this.$4[this.$4.length-1],c=b.r;b=this.$13(b,c);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<h};b.updateWith=function(b){b instanceof a||c("oz-player/shims/ozvariant")(0,646),this.$6=b.$6,this.$14(b.$4),this.$15(b.$4),this.$7.emit("segment_updated")};b.getTimeRanges=function(){return this.$10?this.$16(this.$5,this.$10):this.$5};b.blockTimeRange=function(a){this.$10=a};b.$16=function(a,b){return d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$8,a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:b.startTime,rangeEnd:b.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd==null?Infinity:a.rangeEnd}})};b.addUpdateListener=function(a){return this.$7.addListener("segment_updated",a)};b.$12=function(a){var b=a,c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$8,a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(c===-1){c=d("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));c!==-1&&(b=this.getTimeRanges()[c].startTime)}return b};b.$14=function(a){var b;(b=this.$4).splice.apply(b,[0,this.$4.length].concat(a));return};b.$15=function(a){a=this.$11(a);a=d("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$5.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));this.$5=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd==null?Infinity:a.rangeEnd}})};b.$11=function(a){var b=this;a=d("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$4.map(function(a){var c=b.$13(a,0).getTimeRange().startTime;a=b.$13(a,a.r).getTimeRange().endTime;return{rangeStart:c,rangeEnd:a}}));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a==null?Infinity:a;return{startTime:b,endTime:a}})};b.$13=function(a,b){var d=this;b===void 0&&(b=0);var e=a.t,f=a.d,g=a.r;a=a.id;var h=e+f*b,i=this.$8.getBool("use_scf_timebased_segments"),j=a!=null?a-(g-b):null,k=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){var a="";d.$1!=null&&j!=null?a=d.$1.replace("$Number$",j.toString()):j!=null&&d.$2.indexOf("$Number$")!==-1&&d.$8.getBool("parse_number_templated_uri")?a=d.$2.replace("$Number$",j.toString()):a=d.$2.replace("$Time$",h.toString());a=new(c("oz-player/shims/OzURI"))(a);i&&a.addQueryData("_nc_scf",1);return a},getTimeRange:function(){return{startTime:h/d.$3,endTime:(h+f)/d.$3}},getByteRange:function(){return null},getSequenceNumber:function(){return null},getOptions:function(){return k}}};b.getSegmentGroups=function(){return this.$4};b.getEndingSegment=function(){if(this.$4.length==0)return null;var a=this.$4[this.$4.length-1],b=a.r;return this.$13(a,b)};b.forceParseIfNotParsed=function(){};b.getMaxGopSec=function(){return null};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzUrlHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a;var b=a.indexOf("://"),c=a.indexOf("/",b+3);c>b&&(a=a.substring(c));return a}function g(a){a=a;var b=a.lastIndexOf("/"),c=a.lastIndexOf("://");b>c+2&&(a=a.substring(0,b+1));return a}function h(a){a=a;a=g(a);return a.endsWith("/")?g(a.substring(0,a.length-1)):a}function i(a,b){a=g(a);b=b;while(b.length)if(b.startsWith("./"))b=b.substring(2);else if(b.startsWith("../"))b=b.substring(3),a=h(a),a.endsWith("/")&&(a=a.substring(0,a.length-1));else if(b.startsWith(".."))b=b.substring(2),a=h(a);else if(b.startsWith("."))b=b.substring(1);else break;b&&b.length&&(a.endsWith("/")||(a+="/"),a+=b);return a}function j(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b||!b.length)return"";if(b.length===1)return b[0];var d=b.shift();while(b.length>0)d=i(d,b.shift());return d}function b(a,b){return k(b)?b:j(a,b)}function k(a){var b=/^https?:\/\//i;return b.test(a)}f.stripToPathAndQueryOnly=a;f.joinRelativeUrlPaths=j;f.joinUrlPaths=b}),66);
__d("PredictedSegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){k===void 0&&(k=!1);c=a.call(this,b,c,e,f,null,k)||this;c.$PredictedSegmentTemplateSegmentsContainer$p_9=0;c.$PredictedSegmentTemplateSegmentsContainer$p_11=null;c.$PredictedSegmentTemplateSegmentsContainer$p_10=d;c.$PredictedSegmentTemplateSegmentsContainer$p_8=k;c.$PredictedSegmentTemplateSegmentsContainer$p_12=f;c.$PredictedSegmentTemplateSegmentsContainer$p_7=b;c.$PredictedSegmentTemplateSegmentsContainer$p_5=e;c.$PredictedSegmentTemplateSegmentsContainer$p_1=g;c.$PredictedSegmentTemplateSegmentsContainer$p_3=i;c.$PredictedSegmentTemplateSegmentsContainer$p_2=h;c.$PredictedSegmentTemplateSegmentsContainer$p_4=j;c.$PredictedSegmentTemplateSegmentsContainer$p_6=b.getNumber("live_numerical_error_epsilon");for(d=0;d<c.$PredictedSegmentTemplateSegmentsContainer$p_12.length;d++)c.$PredictedSegmentTemplateSegmentsContainer$p_9=Math.max(c.$PredictedSegmentTemplateSegmentsContainer$p_12[d].d,c.$PredictedSegmentTemplateSegmentsContainer$p_9);return c}var e=b.prototype;e.$PredictedSegmentTemplateSegmentsContainer$p_13=function(){if(this.$PredictedSegmentTemplateSegmentsContainer$p_2!=null&&this.$PredictedSegmentTemplateSegmentsContainer$p_4!=null)return{predictedAverageDuration:this.$PredictedSegmentTemplateSegmentsContainer$p_4,predictedMediaStartNumber:this.$PredictedSegmentTemplateSegmentsContainer$p_2};else return null};e.$PredictedSegmentTemplateSegmentsContainer$p_14=function(a,b,e){var f=this;Number.isNaN(e)&&c("oz-player/shims/ozvariant")(0,54238);var g=this.$PredictedSegmentTemplateSegmentsContainer$p_1.replace("$Number$",e.toString()),h=this.$PredictedSegmentTemplateSegmentsContainer$p_7.getLegacyConfig().getString("cdn_experiment_id",""),i=this.$PredictedSegmentTemplateSegmentsContainer$p_7.getLegacyConfig().getNumber("use_dvl_with_timeout_ms",0),j=new(c("oz-player/manifests/OzSegmentOptions"))();return{getByteRange:function(){return null},getData:function(){return null},getOptions:function(){return j},getSequenceNumber:function(){return e},getTimeRange:function(){return{endTime:b,startTime:a}},getURI:function(){var a=new(c("oz-player/shims/OzURI"))(g);h.length!==0&&a.addQueryData("_nc_expid",h);var b=j.isDVLEnabled();b&&i>0&&f.$PredictedSegmentTemplateSegmentsContainer$p_10!=null&&(a.addQueryData("_nc_dinfo-manifest-url",d("oz-player/utils/OzUrlHelper").stripToPathAndQueryOnly(f.$PredictedSegmentTemplateSegmentsContainer$p_10)),a.addQueryData("_nc_dinfo-timeout",i));return a}}};e.updateWith=function(d){d instanceof b||c("oz-player/shims/ozvariant")(0,646);this.$PredictedSegmentTemplateSegmentsContainer$p_3=d.$PredictedSegmentTemplateSegmentsContainer$p_3;this.$PredictedSegmentTemplateSegmentsContainer$p_1=d.$PredictedSegmentTemplateSegmentsContainer$p_1;a.prototype.updateWith.call(this,d);this.$PredictedSegmentTemplateSegmentsContainer$p_12=d.$PredictedSegmentTemplateSegmentsContainer$p_12;this.$PredictedSegmentTemplateSegmentsContainer$p_8=d.$PredictedSegmentTemplateSegmentsContainer$p_8;for(d=0;d<this.$PredictedSegmentTemplateSegmentsContainer$p_12.length;d++)this.$PredictedSegmentTemplateSegmentsContainer$p_9=Math.max(this.$PredictedSegmentTemplateSegmentsContainer$p_12[d].d,this.$PredictedSegmentTemplateSegmentsContainer$p_9)};e.getSegmentByTime=function(a){return this.canApproximateId()?this.$PredictedSegmentTemplateSegmentsContainer$p_15(a):this.$PredictedSegmentTemplateSegmentsContainer$p_16(a)};e.getPredictedSegmentAfter=function(a){a=a!=null?a.getSequenceNumber():null;return a!=null&&this.canPredict()?this.$PredictedSegmentTemplateSegmentsContainer$p_14(0,0,a+1):null};e.blockTimeRange=function(b){this.$PredictedSegmentTemplateSegmentsContainer$p_11=b,a.prototype.blockTimeRange.call(this,b)};e.getTimeRanges=function(){var b=this.$PredictedSegmentTemplateSegmentsContainer$p_13();if(b){b=[{endTime:(this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].d)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,startTime:(this.$PredictedSegmentTemplateSegmentsContainer$p_12[0].t-b.predictedAverageDuration-(this.$PredictedSegmentTemplateSegmentsContainer$p_3-this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-Number(this.$PredictedSegmentTemplateSegmentsContainer$p_2))*Number(b.predictedAverageDuration))/this.$PredictedSegmentTemplateSegmentsContainer$p_5}];var c=this.$PredictedSegmentTemplateSegmentsContainer$p_11;return c==null?b:d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$PredictedSegmentTemplateSegmentsContainer$p_7,b.map(function(a){return{rangeEnd:a.endTime,rangeStart:a.startTime}}),{rangeEnd:c.endTime,rangeStart:c.startTime}).map(function(a){return{endTime:a.rangeEnd==null?Infinity:a.rangeEnd,startTime:a.rangeStart}})}else return a.prototype.getTimeRanges.call(this)};e.canPredict=function(){return!0};e.canApproximateId=function(){var a=this.$PredictedSegmentTemplateSegmentsContainer$p_13();return a!=null};e.$PredictedSegmentTemplateSegmentsContainer$p_16=function(a){var b=null;a=a*this.$PredictedSegmentTemplateSegmentsContainer$p_5;var e=this.$PredictedSegmentTemplateSegmentsContainer$p_12.length>0?this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].d:null,f=this.$PredictedSegmentTemplateSegmentsContainer$p_7.getLegacyConfig().getNumber("pdash_future_edgelatency_gops",0);if(e!=null&&e<=a&&f!==0&&a<e+this.$PredictedSegmentTemplateSegmentsContainer$p_9*f){e=a-(this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].d);e=this.$PredictedSegmentTemplateSegmentsContainer$p_9?0:Math.floor(e/this.$PredictedSegmentTemplateSegmentsContainer$p_9);return this.$PredictedSegmentTemplateSegmentsContainer$p_14(0,0,this.$PredictedSegmentTemplateSegmentsContainer$p_3+1+e)}e=0;for(var g=0;this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1-g>=0;g++){var h=this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1-g];h.r===0||c("oz-player/shims/ozvariant")(0,18769);if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(h.t+h.d*(h.r+1),a,this.$PredictedSegmentTemplateSegmentsContainer$p_6))break;b=h;e=g}if(b===null||f>0&&a<b.t)return null;else return this.$PredictedSegmentTemplateSegmentsContainer$p_14(b.t/this.$PredictedSegmentTemplateSegmentsContainer$p_5,(b.t+b.d)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,this.$PredictedSegmentTemplateSegmentsContainer$p_3-e)};e.$PredictedSegmentTemplateSegmentsContainer$p_15=function(a){var b=a*this.$PredictedSegmentTemplateSegmentsContainer$p_5,c=this.getTimeRanges();if(d("oz-player/utils/OzNumericalHelper").greaterThan(c[0].startTime,a))return null;else if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(this.$PredictedSegmentTemplateSegmentsContainer$p_12[0].t,b))return this.$PredictedSegmentTemplateSegmentsContainer$p_16(a);else{c=Math.ceil((this.$PredictedSegmentTemplateSegmentsContainer$p_12[0].t-b)/Number(this.$PredictedSegmentTemplateSegmentsContainer$p_4));b=Math.max(Number(this.$PredictedSegmentTemplateSegmentsContainer$p_2),this.$PredictedSegmentTemplateSegmentsContainer$p_3-this.$PredictedSegmentTemplateSegmentsContainer$p_12.length+1-c);return this.$PredictedSegmentTemplateSegmentsContainer$p_14(a,a+Number(this.$PredictedSegmentTemplateSegmentsContainer$p_4)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,b)}};e.isEndingSegment=function(b){if(!this.$PredictedSegmentTemplateSegmentsContainer$p_8)return!1;var c=b.getSequenceNumber();return c!=null?c>=this.$PredictedSegmentTemplateSegmentsContainer$p_3:a.prototype.isEndingSegment.call(this,b)};e.getEndingSegment=function(){if(this.$PredictedSegmentTemplateSegmentsContainer$p_12.length===0)return null;var a=this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1];return this.$PredictedSegmentTemplateSegmentsContainer$p_14(a.t/this.$PredictedSegmentTemplateSegmentsContainer$p_5,(a.t+a.d)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,this.$PredictedSegmentTemplateSegmentsContainer$p_3)};e.getMaxGopSec=function(){return this.$PredictedSegmentTemplateSegmentsContainer$p_9/this.$PredictedSegmentTemplateSegmentsContainer$p_5};return b}(c("oz-player/manifests/SegmentTemplateSegmentsContainer"));g["default"]=a}),98);
__d("oz-player/parsers/OzDefaultSegmentTimelineParser",["oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}a.parseSegments=function(a,b){a=[];b.SegmentTimeline[0].S&&(a=b.SegmentTimeline[0].S.map(function(a){return{t:Number.parseInt(a.$.t,10),d:Number.parseInt(a.$.d,10),r:Number.parseInt(a.$.r||"0",10),id:a.$.id?Number.parseInt(a.$.id,10):void 0}}));return a};var b=a.prototype;b.parseSegmentsContainer=function(b,e,f){return new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(b,d("oz-player/utils/OzUrlHelper").joinUrlPaths(e.baseUrl,f.$.media),Number.parseInt(f.$.timescale,10),a.parseSegments(b,f),null,e.isStaticMpd)};return a}();g["default"]=a}),98);
__d("OzPredictedSegmentTimelineParser",["PredictedSegmentTemplateSegmentsContainer","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.parseSegmentsContainer=function(a,b,e){var f;if(e.SegmentTimeline[0].$.FBPredictedMedia){f=d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.SegmentTimeline[0].$.FBPredictedMedia);var g=new(c("oz-player/shims/OzURI"))(f);g.addQueryData("_nc_sc",1);f=g.toString()}var h;e.SegmentTimeline[0].$.FBPredictedMediaStartNumber&&(h=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaStartNumber,0));var i;e.SegmentTimeline[0].$.FBPredictedMediaEndNumber&&(i=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaEndNumber,0));var j;e.SegmentTimeline[0].$.FBAverageDuration&&(j=Number.parseInt(e.SegmentTimeline[0].$.FBAverageDuration,0));g=c("oz-player/parsers/OzDefaultSegmentTimelineParser").parseSegments(a,e);return(b.isTemplatedMpd&&h!=null&&j!=null||!b.isTemplatedMpd)&&f!=null&&i!=null?new(c("PredictedSegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),b.mpdUrl,Number.parseInt(e.$.timescale,10),g,f,h,i,j,b.isStaticMpd):new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),Number.parseInt(e.$.timescale,10),g,f,b.isStaticMpd)};return a}();g["default"]=a}),98);
__d("VideoPlayerOzWWWConfig",[],(function(a,b,c,d,e,f){"use strict";var g="oz_www_";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a,b){return this.$1.getBool(g+a,b)};b.getNumber=function(a,b){return this.$1.getNumber(g+a,b)};b.getString=function(a,b){return this.$1.getString(g+a,b)};b.setContext=function(a,b){this.$1.setContext(a,b)};b.getAllContexts=function(){return this.$1.getAllContexts()};return a}();f["default"]=a}),66);
__d("OzSystemicRiskABRManager",["OzSystemicRiskABRUtils","OzSystemicRiskUtils","VideoPlayerOzWWWConfig","oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g,h,i){this.$1=a,this.$2=c,this.$3=d,this.$4=e,this.$6=f,this.$7=g,this.$8=h,this.$9={bestRepresentation:b,hasMadeInitialDecision:!1,lastEvaluationReason:void 0},this.$10=i,this.$1.getBool("enable_abr_logging")&&this.$10.getOperationLogger("abr_initialized").setResult("success").setUserInfo({codecs:c.map(function(a){return a.getCodecs()}).join("|"),displayLabels:c.map(function(a){return a.getDisplayLabel()}).join(","),representationIds:c.map(function(a){return a.getID()}).join(",")}).setRepresentationID(b.getID()).setType("video").setInitiator("OzSystemicRiskABRManager").log()}var b=a.prototype;b.setSourceBuffer=function(a){this.$5=a};b.updateRepresentations=function(a){var b=this,c=this.$2;this.$2=a;var d=this.$9.bestRepresentation,e=this.$2.find(function(a){return a.getDisplayLabel()===b.$9.bestRepresentation.getDisplayLabel()});this.$9=babelHelpers["extends"]({},this.$9,{bestRepresentation:(e=e)!=null?e:this.$2[0]});this.$1.getBool("enable_abr_logging")&&this.$10.getOperationLogger("abr_representations_updated").setResult("success").setRepresentationID(this.$9.bestRepresentation.getID()).setPreviousRepresentationID(d.getID()).setUserInfo({newCodecs:a.map(function(a){return a.getCodecs()}).join("|"),newDisplayLabels:a.map(function(a){return a.getDisplayLabel()}).join(","),previousRepresentationIds:c.map(function(a){return a.getID()}).join(",")}).setType("video").setInitiator("OzSystemicRiskABRManager").log()};b.getBestRepresentation=function(a){var b=this.$1.getLegacyConfig(),e="mos";if(b instanceof c("VideoPlayerOzWWWConfig")){var f=b.getAllContexts();f=String(f.quality_score_type);e=f==="csvqm"?"csvqm":"mos"}f=(f=(f=this.$5)==null?void 0:f.getSourceBufferState().getBufferedRanges())!=null?f:null;var g=this.$4.getCurrentTime(),h=this.$4.getDuration(),i=this.$9.bestRepresentation,j=b.getBool("use_bandwidth_estimate_from_headers_in_abr",!1)?c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnosticsFromHeaders(b):c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(b);this.$9=d("OzSystemicRiskABRUtils").evaluateSystemicRiskABR({abrState:this.$9,bandwidthDiagnostics:j,devicePixelRatio:this.$6,durationMode:this.$8,isDocumentHidden:document.hidden,mediaDurationSec:h,playerDimensions:this.$7(),playheadMediaTimeSec:g,qualityScoreType:e,segments:a,sourceBufferBufferedRangesSec:f,systemicRiskConfig:d("OzSystemicRiskUtils").getSystemicRiskConfigFromOzPlayerConfig(b),videoRepresentationRestrictions:this.$3,videoRepresentations:this.$2});this.$1.getBool("enable_abr_logging")&&this.$9.bestRepresentation!==i&&this.$10.getOperationLogger("abr_best_representation_selected").setResult("success").setReason(this.$9.lastEvaluationReason).setRepresentationID(this.$9.bestRepresentation.getID()).setPreviousRepresentationID(i==null?void 0:i.getID()).setUserInfo({bandwidthEstimate:String(j==null?void 0:j.bandwidthEstimate),qualityScoreType:e}).setType("video").setInitiator("OzSystemicRiskABRManager").log();return this.$9.bestRepresentation};b.getLastEvaluationReason=function(){return this.$9.lastEvaluationReason};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzStreamsWWW",["cr:927622","cr:927623"],(function(a,b,c,d,e,f,g){"use strict";c=Boolean(b("cr:927622"));d=Boolean(b("cr:927623"));e=b("cr:927622")?b("cr:927622").ReadableStream:a.ReadableStream;f=b("cr:927623")?b("cr:927623").WritableStream:a.WritableStream;g.OzReadableStream=e;g.OzReadableStreamIsPolyfilled=c;g.OzWritableStream=f;g.OzWritableStreamIsPolyfilled=d}),98);
__d("oz-player/shims/OzStreams",["oz-player/shims/www/OzStreamsWWW"],(function(a,b,c,d,e,f,g){"use strict";g.OzReadableStream=(a=d("oz-player/shims/www/OzStreamsWWW")).OzReadableStream;g.OzReadableStreamIsPolyfilled=a.OzReadableStreamIsPolyfilled;g.OzWritableStream=a.OzWritableStream;g.OzWritableStreamIsPolyfilled=a.OzWritableStreamIsPolyfilled}),98);
__d("oz-player/networks/OzTransformStream",["oz-player/shims/OzEventEmitter","oz-player/shims/OzStreams","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;var e=(b=b==null?void 0:b.errorTransform)!=null?b:function(a){return a},f,g;c.writable=new(d("oz-player/shims/OzStreams").OzWritableStream)({start:function(a){g=a},write:function(a){c.emit("writableWrite",a);try{c.onDataWritten(a)}catch(a){f.error(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM",description:"Error from write handler: "+c.constructor.name,extra:{code:"OZ_S-0",originalError:a}}))}f.enqueue(a)},close:function(){c.emit("writableClose");try{c.onClose()}catch(a){f.error(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM",description:"Error from close handler: "+c.constructor.name,extra:{code:"OZ_S-1",originalError:a}}))}f.close()},abort:function(a){a=e(a);f.error(a)}});c.readable=new(d("oz-player/shims/OzStreams").OzReadableStream)({start:function(a){f=a},cancel:function(a){c.emit("readableCancel",a),g.error(a)}});return c}var c=b.prototype;c.onDataWritten=function(a){};c.onClose=function(){};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/shims/www/OzPerformanceWWW",["performance","performanceNow"],(function(a,b,c,d,e,f,g){var h,i;a={now:function(){return(h||(h=c("performanceNow")))()},getEntriesByName:function(a,b){return typeof (i||(i=c("performance"))).getEntriesByName==="function"?(i||(i=c("performance"))).getEntriesByName(a,b):[]}};b=a;g["default"]=b}),98);
__d("oz-player/shims/OzPerformance",["oz-player/shims/www/OzPerformanceWWW"],(function(a,b,c,d,e,f,g){g["default"]=c("oz-player/shims/www/OzPerformanceWWW")}),98);
__d("oz-player/utils/OzResourceTimingUtils",["oz-player/shims/OzPerformance"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a=c("oz-player/shims/OzPerformance").getEntriesByName(a,"resource");return a.reduce(function(a,b){return a==null?b:b.responseEnd<a.responseEnd?a:b},null)};g.getLatestResourceTimingEntry=a}),98);
__d("OzVideoLiveTraceNetworkRequestStreamHandler",["oz-player/networks/OzTransformStream","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){b===void 0&&(b=!1),this.$2=!1,this.$1=a,this.$2=b}var b=a.prototype;b.onResponse=function(a,b){var e=this,f=a.headers,g=null;if(!this.$1)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){var a={},c=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(b);c&&(a.lat=Math.round(c.responseStart-c.requestStart).toString());e.$1&&f&&e.$1(f,g,a)});this.$2&&a.addListener("writableWrite",function(a){g===null?g=[a]:g.push(a)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a}),98);
__d("oz-player/drm/OzDrmUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return Uint8Array.from(window.atob(a),function(a){return a.charCodeAt(0)})};b=function(a){return window.btoa(String.fromCharCode.apply(null,new Uint8Array(a)))};f.base64ToUint8Array=a;f.arrayBufferToBase64=b}),66);
__d("OzWidevineDrmProvider",["ConstUriUtils","FBLogger","oz-player/drm/OzDrmUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f,g){this.$2=[];this.$4=!0;this.$5=!1;g!=null&&g!==""&&(this.$1=d("oz-player/drm/OzDrmUtils").base64ToUint8Array(g));if(b!=null&&f!=null){b=(g=d("ConstUriUtils").getUri(b))==null?void 0:g.addQueryParam("access_token",f);if(b==null)throw c("FBLogger")("comet_video_player").mustfixThrow("Invalid Graph API license uri for video: %s",a);this.$3=b.toString();this.$5=!0;this.$4=!1}else{g=e["0"];if(g==null){g="/video/drm/getlicense";b=(f=d("ConstUriUtils").getUri(g))==null?void 0:f.addQueryParam("video_id",a);if(b==null)throw c("FBLogger")("comet_video_player").mustfixThrow("Invalid server license uri for video: %s",a);this.$3=b.toString()}else this.$3=g}}var b=a.prototype;b.getKeySystem=function(){return"com.widevine.alpha"};b.getSchemeId=function(){return"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};b.getInitDatas=function(){return this.$2};b.setInitDatas=function(a){this.$2=a};b.getRequireDistinctiveIdentifier=function(){return"optional"};b.getRequirePersistentState=function(){return"optional"};b.getInitDataTypes=function(){return};b.getDrmSessionTypes=function(){return["temporary"]};b.getAudioRobustness=function(){return""};b.getVideoRobustness=function(){return""};b.getServerCertificate=function(){return this.$1};b.getLicenseRequestInfo=function(a){var b={url:this.$3,method:"POST",body:"",headers:{},credentials:void 0};this.$4&&(b.credentials="include");a=d("oz-player/drm/OzDrmUtils").arrayBufferToBase64(a);if(this.$5){var c={request:a};b.body=JSON.stringify(c);b.headers["Content-Type"]="application/json"}else b.body=a,b.headers["Content-Type"]="application/text";return b};b.parseLicenseResponse=function(a){a=String.fromCharCode.apply(null,a);var b;try{b=JSON.parse(a)}catch(a){b=void 0}var c;if(b!==void 0&&b.data!==void 0&&b.data.length===1){b=b.data[0];b.error!=null||(c=b.license)}else c=a;if(c!=null&&c!=="")try{return d("oz-player/drm/OzDrmUtils").base64ToUint8Array(c)}catch(a){if(a.name==="InvalidCharacterError")throw new Error("Endpoint returned error: "+c);else throw a}return null};return a}();g["default"]=a}),98);
__d("TimeRanges",["invariant"],(function(a,b,c,d,e,f,g,h){a=function(){function a(a){this.$1=[],this.$1=a}var b=a.prototype;b.start=function(a){this.$1[a]||h(0,2205);return this.$1[a].startTime};b.end=function(a){this.$1[a]||h(0,2205);return this.$1[a].endTime};b.length=function(){return this.$1.length};return a}();g["default"]=a}),98);
__d("VideoPlayerImplementationLoadSequenceManager",["setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[],this.$2=[]}var b=a.prototype;b.schedule=function(a,b,d){var e=this,f={load:d,maximumBlockTimeMs:a.getNumber("load_sequence_max_delay_ms",0),sequence:b},g=a.getNumber("load_sequence_only_prioritize_first_count",0);g>0?d=!this.$2.find(function(a){return a.sequence<g}):d=!this.$2.find(function(a){return a.sequence<b});d?this.$3(f):(this.$1.push(f),c("setTimeout")(function(){return e.$4(f)},f.maximumBlockTimeMs));return function(){return e.$5(f)}};b.$4=function(a){var b=this.$1.find(function(b){return b===a});b&&(this.$1=this.$1.filter(function(b){return b!==a}),this.$3(b))};b.$3=function(a){var b=this;this.$2.push(a);a.load().then(function(){return b.$6(a)})["catch"](function(c){b.$6(a);throw c});c("setTimeout")(function(){return b.$6(a)},a.maximumBlockTimeMs)};b.$7=function(){var a=this,b=Math.min.apply(Math,this.$1.map(function(a){return a.sequence})),c=this.$1.filter(function(a){return a.sequence===b});c.forEach(function(b){return a.$4(b)})};b.$5=function(a){this.$1=this.$1.filter(function(b){return b!==a})};b.$6=function(a){if(!this.$2.find(function(b){return b===a}))return;this.$2=this.$2.filter(function(b){return b!==a});var b=!!this.$2.find(function(b){return b.sequence===a.sequence});b&&this.$7()};return a}();b=new a();d=b;g["default"]=d}),98);
__d("getAvailableMimeCodecsFromDashManifest",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=/^(audio|video)\/.*$/;return b.test(a)}function a(a){var b=[],c=window.MediaSource;if(a!=null){var d=/mimeType=\"([^\"]*)\"[^\>]*codecs=\"([^\"]*)\"/g,e=/codecs=\"([^\"]*)\"[^\>]*mimeType=\"([^\"]*)\"/g,f,h=[];while(f=d.exec(a))h.push([f[1],f[2]]);while(f=e.exec(a))h.push([f[2],f[1]]);for(d=0;d<h.length;d++){f=h[d];a=f[0];e=f[1];f=a+'; codecs="'+e+'"';var i=a.startsWith("audio")?"audio":a.startsWith("video")?"video":"other",j=!0,k=!1;g(f)&&(k=!0,j=c?c.isTypeSupported(f):!1);b.push({codecs:e,isRequiredForPlayback:k,isTypeSupported:j,mimeCodec:f,mimeType:a,representationType:i})}}return b}f["default"]=a}),66);
__d("VideoPlayerOzImplementationData",["err","getAvailableMimeCodecsFromDashManifest"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.canUseOz,d=a.dashManifestUrl,e=a.dashManifestUrlOverride_DO_NOT_USE,f=a.dashManifestXmlString,g=a.experimentationConfig,h=a.initialAudioUserPreferredLanguage;a=a.minQualityPreference;if(b!==!0){var i=c("err")("canUseOz="+String(b));i.name="GotCanUseOz/"+String(b);return i}b=e!=null?null:f==null||f===""?null:f;i=e!=null?e:d==null||d===""?null:d;if(b==null&&i==null){f=c("err")("Got no manifest XML and no URL to it");f.name="GotNoManifestOrURL";return f}if(!window.MediaSource){e=c("err")("window.MediaSource is missing");e.name="GotMissingMediaSourceAPI";return e}if(b!=null){d=c("getAvailableMimeCodecsFromDashManifest")(b).filter(function(a){return a.isRequiredForPlayback});f=d.filter(function(a){return!a.isTypeSupported});if(f.length>0){e=c("err")("%s out of %s codecs in DASH manifest required for playback are unsupported: %s",String(f.length),String(d.length),d.map(function(a){return a.mimeType+"/"+a.codecs+"="+(a.isTypeSupported?"yes":"no")}).join(", "));e.name="GotManifestWithUnsupportedCodecs";return e}}return{experimentationConfig:g,initialAudioUserPreferredLanguage:(f=h)!=null?f:null,initialVideoVariant:{lang:(d=h)!=null?d:null,role:null},manifest:b,manifestUrl:i,minQualityPreference:(e=a)!=null?e:null}}g.makeOzImplementationData=a}),98);
__d("handleVideoPlayerLatencyLevelChange",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){if(a&&b&&c){var e=a.getAllContexts().latency_level;c=[];try{c=JSON.parse(a.getString("seek_on_latency_level_change_allowed","[]"))}catch(a){}c=c.some(function(a){return a.length===2&&a[0]===e&&a[1]===d});a.setContext("latency_level",d);if(!c)return;c=b.getDuration();c=c!=null?c+a.getNumber("live_initial_playback_position",0):null;c!=null&&b.setPlayheadPosition(c)}}f["default"]=a}),66);
__d("VideoPlayerOzImplementationEngineExtrasAPI",["VideoPlayerOzWWWGlobalConfig","emptyFunction","gkx","handleVideoPlayerLatencyLevelChange","oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";b=c("emptyFunction");function h(a){return(a=a.getSelectedVideoQuality())!=null?a:""}function i(a){a=a.getCurrentPlayingAudioTrackID();return a==null?null:a}function j(a){a=a.getCurrentVideoRepresentation();return a==null?"":a.getDisplayLabel()}function k(a){a=a.getIsVideoQualityAdaptationEnabled()?"auto":(a=a.getSelectedVideoQuality())!=null?a:"auto";return a}function l(a){return a.getTargetAudioTrack()}function m(a){return(a=(a=a.getMpd())==null?void 0:a.getCustomField("fbProjection"))!=null?a:null}function n(a,b){var c=k(a);if(b==="notselected"||b===c)return!1;else if(b==="auto"){a.enableVideoQualityAdaptation();return!0}else if(b!==a.getSelectedVideoQuality()){c=b;a.switchToVideoQuality(c);return!0}else return!1}function o(a,b){b=b;a.switchToVideoVariant(b)}function a(a){var b=a.getConfig,d=a.getOzPlayer,e=a.getVideoElementAPI;a={getApproximateFBLSToPlayerDisplayLatency:function(){var a;return(a=(a=d())==null?void 0:a.getApproximateFBLSToPlayerDisplayLatency())!=null?a:null},getAvailableAudioTracks:function(){var a;a=(a=d())==null?void 0:a.getAudioTracks();if(!a)return[];a=a.map(function(a){return{displayLabel:a.displayLabel,id:a.id,lang:a.lang,role:a.role}});return a},getAvailableVideoQualities:function(){var a;return(a=(a=d())==null?void 0:a.getVideoQualities())!=null?a:[]},getAvailableVideoTracks:function(){var a;a=(a=d())==null?void 0:a.getVideoTracks();if(!a)return[];a=a.map(function(a){return{codec:a.codec,codecFamily:a.codecFamily,displayLabel:a.displayLabel,height:a.height,id:a.id,qualityLabel:a.qualityLabel,width:a.width}});return a},getCurrentAudioRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentAudioRepresentation())!=null?a:null},getCurrentPlayingAudioRepresentationID:function(){var a=d();return a?i(a):null},getCurrentPlayingAudioTrackID:function(){var a=d();return a?i(a):null},getCurrentPlayingVideoQuality:function(){var a=d();return a?j(a):""},getCurrentPlayingVideoRepresentationID:function(){var a;return(a=(a=d())==null?void 0:(a=a.getCurrentVideoRepresentation())==null?void 0:a.getID())!=null?a:null},getCurrentTargetVideoQuality:function(){var a=d();return a?h(a):""},getCurrentVideoRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentVideoRepresentation())!=null?a:null},getEstimatedBandwidth:function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))},getInbandCaptionsAutogeneratedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))},getInbandCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))||Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromAccessibility"))},getManifestIdentifier:function(){var a;a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getCustomField("fbManifestIdentifier");return a!=null?String(a):null},getMpdValidationErrors:function(){var a;a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getCustomField("validationErrors");return a!=null?String(a):null},getPerfLoggerProvider:function(){var a=d();return a?a.getPerfLoggerProvider():null},getRepresentationCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasVTTRepresentationCaptions"))},getStreamType:function(){return"dash"},getTargetAudioTrack:function(){var a=d();return a?l(a):null},getUserSelectedVideoQuality:function(){var a=d();return a?k(a):""},getUserSelectedVideoVariant:function(){var a=d();return(a=a==null?void 0:a.getTargetVideoVariant())!=null?a:null},getVideoProjectionType:function(){var a=d();return a!=null?m(a):null},getVideoRepresentations:function(){var a;return(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations())!=null?a:null},isDrm:function(){var a;return Boolean((a=d())==null?void 0:a.isDrm())},isFBIsLiveTemplated:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isLiveTemplated"))},isFBMS:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBMS"))},isFBWasLive:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBWasLive"))},isLiveRewindAvailable:function(){var a;a=(a=(a=d())==null?void 0:a.getMpdUrl())!=null?a:"";try{return(a=(a=new URL(a).searchParams.get("ms"))==null?void 0:a.includes("m_CT"))!=null?a:!1}catch(a){}return!1},isMixedCodecManifest:function(){var a,b;a=(a=d())==null?void 0:a.getMpd();if(a==null)return null;a=(a=a.getVideoRepresentations())!=null?a:[];a=new Set(a.map(function(a){return/codecs=\"([^\".]+)/i.exec(a.getMimeCodecs())}));b=(b=(b=d())==null?void 0:(b=b.getMpd())==null?void 0:b.getAudioRepresentations())!=null?b:[];b=new Set(b.map(function(a){return/codecs=\"([^\".]+)/i.exec(a.getMimeCodecs())}));return a.size>1||b.size>1},isPredictiveDash:function(){var a;a=(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations()[0])!=null?a:null;return a!==null&&a.canPredict()},setDimensions:function(a){},setEnableLiveheadCatchup:function(a){var b=d();b!=null&&b.setEnableLiveheadCatchup(a)},setLatencyLevel:function(a){c("handleVideoPlayerLatencyLevelChange")(b(),e(),d(),a)},setUserSelectedVideoQuality:function(a){var b=d();b!=null&&n(b,a)},setUserSelectedVideoVariant:function(a){var b=d();b!=null&&a!=null&&o(b,a)}};return a}g.createVideoPlayerOzImplementationEngineExtrasAPI=a}),98);
__d("oz-player/shims/www/OzDOMEventListenerWWW",["OzDOMEventListenerImpl"],(function(a,b,c,d,e,f){"use strict";a=b("OzDOMEventListenerImpl");f["default"]=a}),66);
__d("oz-player/shims/OzDOMEventListener",["oz-player/shims/www/OzDOMEventListenerWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzDOMEventListenerWWW")}),98);
__d("oz-player/shims/www/OzSubscriptionsHandlerWWW",["SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("SubscriptionsHandler")}),98);
__d("oz-player/shims/OzSubscriptionsHandler",["oz-player/shims/www/OzSubscriptionsHandlerWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzSubscriptionsHandlerWWW")}),98);
__d("oz-player/shims/www/ozThrottleWWW",["throttle"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("throttle")}),98);
__d("oz-player/shims/ozThrottle",["oz-player/shims/www/ozThrottleWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozThrottleWWW")}),98);
__d("oz-player/strategies/OzBufferingDetectorStates",["oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.handleEvent=function(a,b,c){if(a.type==="pause"||b.paused)return new i(this.$1,this.$2);a=this.$3 instanceof j?this.$1.getInPlayBufferOverflowTarget():this.$1.getStartBufferUnderflowTarget();return d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,a,c)?new j(this.$1,this.$2):this};return a}(),i=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.handleEvent=function(a,b,c){return a.type==="play"||a.type==="playing"||!b.paused?d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,this.$1.getStartBufferUnderflowTarget(),c)?new j(this.$1,this.$2):new h(this.$1,this.$2,this):this};return a}(),j=function(){function a(a,b){this.$1=a,this.$2=b,this.$3=b.getString("stream_types_eligible_for_partial_playback","").split(",")}var b=a.prototype;b.handleEvent=function(a,b,c,e){e===void 0&&(e=new Map());if(a.type==="pause"||b.paused)return new i(this.$1,this.$2);return!d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,this.$1.getInPlayBufferUnderflowTarget(),c)&&!this.$4(a,b.currentTime,e)?new h(this.$1,this.$2,this):this};b.$4=function(a,b,c){return a.type==="waiting"?!1:d("oz-player/utils/OzBufferingUtils").hasEnoughPartialBuffer(b,c,this.$3,this.$2.getNumber("partial_playback_buffer_overflow",0))};return a}();g.OzVideoBufferingState=h;g.OzVideoPausedState=i;g.OzVideoPlayingState=j}),98);
__d("oz-player/strategies/OzBufferingStateThresholdManager",["oz-player/shims/OzPerformance","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$3=-Infinity,this.$4=-Infinity,this.$1=a}var b=a.prototype;b.getInPlayBufferUnderflowTarget=function(){return this.$1.getNumber("in_play_buffer_underflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};b.getInPlayBufferOverflowTarget=function(){if(this.$5())return this.$1.getNumber("stream_interrupt_in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD);return c("oz-player/shims/OzPerformance").now()-this.$4<this.$1.getNumber("recent_buffer_timeout_ms",0)?this.$1.getNumber("recent_buffer_in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD):this.$1.getNumber("in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_OVERFLOW_THRESHOLD)};b.getStartBufferUnderflowTarget=function(){return this.$1.getNumber("start_buffer_underflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};b.notifyBufferingEnd=function(){this.$4=c("oz-player/shims/OzPerformance").now()};b.notifyStreamInterrupted=function(){this.$2=!0};b.notifyStreamResumed=function(){this.$2=!1,this.$3=c("oz-player/shims/OzPerformance").now()};b.$5=function(){var a=this.$1.getNumber("stream_interrupt_buffer_target_timeout_ms",0);return a===0?!1:this.$2||c("oz-player/shims/OzPerformance").now()-this.$3<a};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBufferingDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/strategies/OzBufferingDetectorStates","oz-player/strategies/OzBufferingStateThresholdManager","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=150;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g.$OzBufferingDetector$p_3=new(c("oz-player/shims/OzSubscriptionsHandler"))();g.$OzBufferingDetector$p_6=new Map();g.$OzBufferingDetector$p_8=null;g.$OzBufferingDetector$p_9=function(a){g.$OzBufferingDetector$p_11(a)};g.$OzBufferingDetector$p_2=b;g.$OzBufferingDetector$p_4=e;g.$OzBufferingDetector$p_5=f;g.$OzBufferingDetector$p_7=new(c("oz-player/strategies/OzBufferingStateThresholdManager"))(e);g.$OzBufferingDetector$p_2.paused?g.$OzBufferingDetector$p_1=new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPausedState)(g.$OzBufferingDetector$p_7,g.$OzBufferingDetector$p_4):g.$OzBufferingDetector$p_1=d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(g.$OzBufferingDetector$p_2,g.$OzBufferingDetector$p_7.getInPlayBufferUnderflowTarget(),g.$OzBufferingDetector$p_5())?new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState)(g.$OzBufferingDetector$p_7,g.$OzBufferingDetector$p_4):new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState)(g.$OzBufferingDetector$p_7,g.$OzBufferingDetector$p_4,null);g.$OzBufferingDetector$p_3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"pause",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"play",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"progress",c("oz-player/shims/ozThrottle")(g.$OzBufferingDetector$p_9,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"timeupdate",c("oz-player/shims/ozThrottle")(g.$OzBufferingDetector$p_9,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"seeked",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"seeking",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"waiting",g.$OzBufferingDetector$p_9));g.$OzBufferingDetector$p_3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"canplay",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"canplaythrough",g.$OzBufferingDetector$p_9));return g}var e=b.prototype;e.$OzBufferingDetector$p_10=function(){var a=this,b="unavailable",c=this.$OzBufferingDetector$p_7.getInPlayBufferUnderflowTarget();this.$OzBufferingDetector$p_6.forEach(function(e,f){var g=a.$OzBufferingDetector$p_2.currentTime;d("oz-player/utils/OzBufferingUtils").hasBuffer(g,c,e)||(b=b==="unavailable"?f:"audio/video")});return b};e.setSourceBufferState=function(a,b){this.$OzBufferingDetector$p_6.set(a,b)};e.$OzBufferingDetector$p_11=function(a){var b=this.$OzBufferingDetector$p_1.handleEvent(a,this.$OzBufferingDetector$p_2,this.$OzBufferingDetector$p_5(),this.$OzBufferingDetector$p_6),c=this.$OzBufferingDetector$p_1;this.$OzBufferingDetector$p_1=b;var e=b instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState,f=c instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState;if(b===c){e&&this.$OzBufferingDetector$p_8&&this.$OzBufferingDetector$p_8.cloneContext().getOperationLogger("buffering_handle_event").setInitiator(a.type).log();return b}if(e){e=c instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState?"in_play":"start/unpause";this.$OzBufferingDetector$p_8&&this.$OzBufferingDetector$p_8.cloneContext().getOperationLogger("enter_buffering").setState("buffering").setType(e).setReason(this.$OzBufferingDetector$p_10()).setInitiator(a.type).log();this.emit("enterBuffering",e)}else f&&(this.$OzBufferingDetector$p_8&&this.$OzBufferingDetector$p_8.cloneContext().getOperationLogger("leave_buffering").setInitiator(a.type).log(),this.$OzBufferingDetector$p_7.notifyBufferingEnd(),this.emit("leaveBuffering",{domEventPerfTimestamp:a.timeStamp}));return b};e.notifyStreamInterrupted=function(){this.$OzBufferingDetector$p_7.notifyStreamInterrupted()};e.notifyStreamResumed=function(){this.$OzBufferingDetector$p_7.notifyStreamResumed()};e.attachPerfLoggerProvider=function(a){this.$OzBufferingDetector$p_8=a};e.destroy=function(){this.$OzBufferingDetector$p_3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplUtils",["OzSystemicRiskABRManager","OzWidevineDrmProvider","cr:9984","gkx","justknobx","oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzBufferingDetector"],(function(a,b,c,d,e,f,g){"use strict";var h=/(livestream-)?lookaside\.(facebook|workplace)\.com$/;function a(a){return h.test(a.getDomain())}function d(a,b,d,e,f,g){if(f.current!=null)return;var h=!0,i=function(){if(h)return!1;f.current!==j;return!1},j=new(c("oz-player/strategies/OzBufferingDetector"))(a,d,function(){var a=e.getCurrentState();a=a.controlledState;return a.streamEnded?b.getDuration():Infinity});f.current=j;h=!1;a=function(a){if(i())return;e.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"});a=d.getNumber("ull_fallback_stall_count",0);if(a>0){var b=g.getLoggerState().stallCountTotal;d.getBool("fix_ull_fallback_stall_count",!1)&&(b=g.getLoggerState().inPlayStallCount200ms);e.getCurrentState().controlledState.latencyLevel==="ultra-low"&&b>a&&e.dispatch({payload:{latencyLevel:"low",ullIneligibilityReason:null},type:"implementation_set_latency_level_requested"})}};var k=function(a){if(i())return;e.dispatch({payload:{domEventPerfTimestamp:a.domEventPerfTimestamp},type:"buffering_end_requested"})};j.addListener("enterBuffering",a);j.addListener("leaveBuffering",k)}function e(a){var b=a.accessToken,d=a.graphQLVideoDRMInfo;a=a.videoFBID;var e=[];if(d&&a!=null){var f=c("justknobx")._("717")?null:d.widevineCert;e.push(new(c("OzWidevineDrmProvider"))(a,d.graphApiVideoLicenseUri,d.videoLicenseUriMap,b,(a=f)!=null?a:null))}return e}function f(a){var b=a.VideoPlayerShakaPerformanceLoggerClass,c=a.accessToken,d=a.disableLogging,e=a.getApproximateFBLSToPlayerDisplayLatency,f=a.getBandwidthEstimate,g=a.getPlayerDimensions,h=a.getPlayerFormat,i=a.playbackIsLiveStreaming,j=a.playerInstanceCount,k=a.playerInstanceKey,l=a.playerSuborigin,m=a.playerVersion,n=a.videoElement,o=a.videoFBID;a=a.videoPlayerShakaPerformanceLoggerBuilder;if(d||!a&&(!b||!b.shouldInitialize()))return[];c={accessToken:c,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:f,getPlayerDimensions:g,getPlayerFormat:h,isLive:i,isServableViaFbms:!1,playerInstanceCount:j,playerOrigin:null,playerSuborigin:l,playerVersion:m,representationId:null,uniqueID:k,video:n,videoID:(d=o)!=null?d:""};return a!=null?[a.build(c)]:b?[new b(c)]:[]}function i(a,b){return b>0?b/1e3*-1:a.getNumber("live_initial_playback_position",0)}function j(a,b,c){return b>0&&c>0?(b+c)/1e3:a.getNumber("livehead_fall_behind_block_threshold",0)}function k(a,b){return b>0?b/2/1e3:a.getNumber("live_time_range_block_margin",0)}function l(a){return function(d,e,f,g,h,i,j,k,l){return!a&&b("cr:9984")!=null?new(b("cr:9984"))(d,e,f,g,h,i,j,k,l):d.getLegacyConfig().getBool("use_systemic_risk_abr",!1)?new(c("OzSystemicRiskABRManager"))(d,e,f,g,h,i,j,k,l):null}}function m(a,b){var d=b.experimentationConfig,e=b.getCurrentVideoRepresentation,f=b.getOzCDNSignedQueryParams,g=b.isClientTriggeredTraceEnabled,h=b.playbackIsLiveStreaming,i=b.playbackSessionId;b=b.shouldRefresh403;var j=a.getQueryData(),k;if(h){k={};if(d.getBool("server_side_abr_send_client_estimates",!1)){var l=c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(d);l&&(k=babelHelpers["extends"]({},k,{_nc_bwe:String(l.bandwidthEstimate),_nc_bwe_std:String(l.bandwidthStandardDeviation),_nc_ttfb:String(l.timeToFirstByteMsEstimate),_nc_ttfb_std:String(l.timeToFirstByteMsStandardDeviation)}));l=e();l&&(k=babelHelpers["extends"]({},k,{_nc_abr_bitrate:String(l.getBandwidth()),_nc_abr_qlabel:l.getDisplayLabel()}))}}e=d.getNumber("live_video_chunk_duration",0);l=d.getBool("use_bandwidth_estimate_from_headers_in_abr",!1);d=l?c("oz-player/networks/OzBandwidthEstimator").hasRecentBandwidthEstimateFromHeader():!1;h&&e>0&&d&&(k=babelHelpers["extends"]({},k,{chk_dur:e.toString(10)}));c("gkx")("24354")&&(j.uss!=null&&j.odm!=null&&(k=babelHelpers["extends"]({},k,{manual_redirect:"1"})));g&&(k=babelHelpers["extends"]({},k,{_nc_psid:i}));if(b){l=f();if(l!=null){h=a.getDomain()+a.getPath();d=l.get(h);if(d!=null)for(e in d){k=babelHelpers["extends"]({},k,(j={},j[e]=d[e],j))}}}return k}g.checkShouldIncludeCredentials=a;g.createOzBufferingDetector=d;g.createOzDrmProviders=e;g.createOzPerfLoggerProviders=f;g.calculateInitialPlaybackPositionForDynamicMpd=i;g.calculateLiveheadFallBehindBlockThreshold=j;g.calculateLiveheadFallBehindBlockMargin=k;g.getVideoAbrManagerFactory=l;g.getCustomRequestParametersForURI=m}),98);
__d("getOzPlaybackRestrictions",["OzMinimumSmallestDimensionRestriction","OzMosThresholdRestriction","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=[];switch(a){case"HD":d.push(new(c("OzMinimumSmallestDimensionRestriction"))(720));break;case"UHD":c("gkx")("24263")&&d.push(new(c("OzMinimumSmallestDimensionRestriction"))(1080));break;default:break}a=b.getNumber("mos_upper_threshold",0);var e=b.getNumber("mos_lower_threshold",0);(a>0||e>0)&&d.push(new(c("OzMosThresholdRestriction"))(b));return d}g["default"]=a}),98);
__d("oz-player/configs/OzPlayerConfigDefaults",[],(function(a,b,c,d,e,f){a={bandwidth_ignore_on_stream_write_samples:!1,bandwidth_use_response_time_adjustment:!1,catchup_use_timeline_range_end_time_as_end:!1,clear_on_seek:!0,debug_live_replay:!1,do_not_end_stream:!1,emit_caption_parse_errors_as_warning:!0,enable_abr_logging:!1,enable_alternative_audio_tracks:!1,enable_lip_sync_abr_select_quality:!1,enable_revoke_object_url_on_destroy:!1,fix_live_rewind_user_selected_playback_speed:!0,ignore_reset_after_seek_if_bufferahead:!1,latencymanager_stalled_edgelatency_sec_on:!1,msm_refactor_wait_for_sourceopen:!1,ms_promise_for_null:!1,normalize_mpd_fetch_errors:!0,parse_number_templated_uri:!0,pdash_use_pdash_segmentlocator:!1,playback_speed_latency_adjustment_disabled:!1,player_emit_mpdparsed_early:!1,playhead_manager_buffered_timerange_update_on_timeupdate:!0,playhead_manager_clamp_initial_playback_position:!1,reset_catchup_timeout_after_play_sec_on_overwrite:!0,retry_video_element_error:!0,sidx_parser_memory_optimization:!0,skip_videobuffer_gaps:!0,skip_videobuffer_gaps_on_buffer_updated:!0,use_live_latency_manager:!1,use_scf_timebased_segments:!1,video_cdn_url_refresh:!1,vtt_caption_representation:!0};b={abr_confidence_threshold:.9,abr_eval_buffer_threshold:0,abr_min_bandwidth_samples:0,abr_prevent_down_switch_buffer_threshold:11,abr_restrict_from_index:0,abr_restrict_to_index:0,append_byte_target_without_range:1e5,appends_per_segment:6,auto_seek_playhead_slack:.5,bandwidth_boundary_standard_deviation_factor:1,bandwidth_estimator_half_life:6,bandwidth_estimator_outlier_exclusion_factor:50,bandwidth_estimator_std_dev_penalty_factor:0,bandwidth_header_expire_threshold:0,bandwidth_response_time_handicap:0,bandwidth_ttfb_samples_to_save:5,buffer_ahead_target:22,buffer_target_constraint_append_succeeded_reward:.2,buffer_target_constraint_minimum_sec:2,buffer_target_constraint_quota_exceeded_penalty:.3,byte_count_per_sample:2e5,catchup_timeout_after_buffering_sec:0,catchup_timeout_after_play_sec:0,clear_buffer_around_playhead_boundary_ms:5e3,clear_buffer_on_seek_epsilon_s:0,clear_buffer_on_seek_nudge_s:0,default_bandwidth_estimate:1e6,download_cursor_buffer_ahead_time_max_sec:0,download_cursor_total_buffer_max_sec:0,dvl_initial_segment_ignore_count:1,dvl_update_interval_ms:0,dynamic_mpd_initial_playback_position_offset_modifier:4,initial_manifest_request_retry_count:3,initial_switch_interval:0,in_play_buffer_overflow_target:1,in_play_buffer_underflow_target:.1,latencymanager_stalled_edgelatency_sec:0,live_audio_ibr_bandwidth_percentage:.05,live_numerical_error_epsilon:1e-4,loop_body_handle_error_interval_ms:1,low_buffer_bandwidth_target_increase_factor:0,low_buffer_bandwidth_target_threshold:10,low_segment_stream_playhead_threshold:0,manifest_initial_update_delay_ms:0,manifest_update_frequency_ms:0,max_bandwidth_sample_count:30,maximum_bandwidth_sample_bandwidth:1e8,max_start_eme_attempts:3,min_eval_interval:100,minimum_bandwidth_sample_duration:10,minimum_bytes_to_sample_on_close:25e3,min_switch_interval:100,mpd_updater_network_request_timeout_ms:2e4,ms_promise_for_null_ms:0,network_seg_timeout_ms:0,overwrite_livehead_fall_behind_block_threshold:0,overwrite_live_time_range_block_margin:0,partial_playback_buffer_overflow:.75,paused_stream_segments_count:2,pdash_download_cursor_between_catchups_seg:0,pdash_download_cursor_catchup_threshold_gop_multiplier:0,pdash_download_cursor_catchup_threshold_sec:0,pdash_download_cursor_catchup_tolerance_sec:0,per_stream_duration_target:0,pixels_above_viewport_to_observe:0,pixels_below_viewport_to_observe:0,playback_speed_enabled_delay_sec:4,playback_speed_latency_adjustment_rate:0,playback_speed_latency_slowdown_adjustment_rate:0,playback_speed_latency_speedup_adjustment_rate:0,playback_speed_min_buffer_sec:1,playback_speed_min_duration_sec:2,playback_speed_min_sharpness_factor:3,playback_speed_restore_min_duration_sec:1,playhead_manager_buffered_auto_seek_playhead_slack:.5,playhead_manager_buffered_is_near_gap_threshold:1.5,playhead_manager_buffered_numerical_error:.01,playhead_manager_timeupdate_throttle_ms:1e3,pre_start_buffer_ahead_target:16.924449682236,prioritize_by_viewport_static_penalty:0,recent_buffer_in_play_buffer_overflow_target:3,recent_buffer_timeout_ms:1e4,resolution_constraint_factor:2,seconds_to_stream:10,seconds_to_stream_near_bandwidth_boundary:10,seek_ahead_epsilon:.05,segments_to_stream:5,segments_to_stream_near_bandwidth_boundary:5,segments_to_stream_under_playhead_threshold:0,sidx_segment_retry_attempts:9999,sidx_segment_retry_interval_ms:100,skip_videobuffer_gaps_max_gap_size_sec:0,stale_mpd_buffer_ahead_target:0,start_buffer_underflow_target:.1,steadystate_minbuffer_buckets:0,steadystate_minbuffer_buckets_sec:1,steadystate_minbuffer_sec:0,stream_interrupt_buffer_target_timeout_ms:1e4,stream_interrupt_check_mpd_stale_count_threshold:6,stream_interrupt_in_play_buffer_overflow_target:1,stream_reader_max_buffer_len:0,timeline_offset_threshold:10,time_to_first_byte_estimate_half_life_ms:500,time_to_first_byte_ignore_above_threshold_ms:0};c={bandwidth_estimate_header_key:"",bandwidth_estimate_key:"",block_representation_status_codes_json:"[500, 503]",block_representation_status_codes_temporarily_json:"{}",cdn_experiment_id:"",stream_types_eligible_for_partial_playback:""};e.exports={defaultBools:a,defaultNumbers:b,defaultStrings:c}}),null);
__d("oz-player/configs/OzPlayerConfig",["oz-player/configs/OzPlayerConfigDefaults"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a===void 0&&(a={}),this.$1=a}var b=a.prototype;b.getBool=function(a){return typeof this.$1[a]==="boolean"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultBools[a]};b.getNumber=function(a){return typeof this.$1[a]==="number"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[a]};b.getString=function(a){return typeof this.$1[a]==="string"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[a]};b.getLegacyConfig=function(){var a=this;return{getBool:function(b,c){return typeof a.$1[b]==="boolean"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultBools[b])!=null?b:c},getNumber:function(b,c){return typeof a.$1[b]==="number"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[b])!=null?b:c},getString:function(b,c){return typeof a.$1[b]==="string"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[b])!=null?b:c}}};return a}();g["default"]=a}),98);
__d("oz-player/configs/OzConfigUtils",["oz-player/configs/OzPlayerConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("oz-player/configs/OzPlayerConfig"))();a=function(a){return{getBool:function(b){return a.getBool(b,h.getBool(b))},getNumber:function(b){return a.getNumber(b,h.getNumber(b))},getString:function(b){return a.getString(b,h.getString(b))},getLegacyConfig:function(){return a}}};g.provideConfigWithDefaults=a}),98);
__d("oz-player/networks/OzClientClock",["oz-player/shims/OzPerformance","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a!==null){a=parseInt(a,10);if(!isNaN(a))return a}return null}a=function(){function a(){this.$1=null,this.$2=0,this.$2=Date.now()-c("oz-player/shims/OzPerformance").now()}var b=a.prototype;b.updateOffsetFromHeaderResponse=function(a,b){var c=h(b.get("x-fb-dynamic-server-wallclock-ms"));b=h(b.get("x-fb-dynamic-rtt-ms"));a=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(a);if(c!==null&&b!==null&&a!=null&&(a.responseStart>0&&a.duration>10)){a=a.requestStart+this.$2;c=c-a-b/2;this.$1=c}};b.now=function(){var a;return c("oz-player/shims/OzPerformance").now()+this.$2+((a=this.$1)!=null?a:0)};b.getClientClockOffsetMs=function(){return this.$1};return a}();b=new a();g["default"]=b}),98);
__d("oz-player/networks/OzClockSyncNetworkRequestStreamHandler",["oz-player/networks/OzClientClock","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.onResponse=function(a,b){var d=a.headers;if(!d)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){c("oz-player/networks/OzClientClock").updateOffsetFromHeaderResponse(b,d)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplFunction",["CometThrottle","ConstUriUtils","Deferred","FBLogger","JSResourceForInteraction","NetworkStatus","OzActiveActiveFailoverNetworkRequestStreamHandler","OzBufferVTTCaptionsVisibleStrategy","OzCDNSignedQueryParams","OzCustomParsers","OzCustomRepresentationParsers","OzOneSemanticHandler","OzOneSemanticHandlerUtils","OzPredictedSegmentTimelineParser","OzVideoLiveTraceNetworkRequestStreamHandler","Promise","QE2Logger","TimeRanges","VideoPlayerConnectionQuality","VideoPlayerImplementationErrors","VideoPlayerODS","VideoPlayerOzImplementationEnginePartsImplUtils","clearTimeout","cr:1836099","cr:1871597","cr:1947728","cr:1993377","getErrorSafe","getOzPlaybackRestrictions","gkx","md5","oz-player/configs/OzConfigUtils","oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzClockSyncNetworkRequestStreamHandler","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("JSResourceForInteraction")("VideoPlayerEmsg").__setRef("VideoPlayerOzImplementationEnginePartsImplFunction"),j=1e4,k=null,l=null;b("cr:1836099")&&(k=b("cr:1836099").getHiveConfig(),l=b("cr:1836099").HiveOz);function a(a){var e,f=a.OzPlayerClass,g=a.callChain,m=a.destroyOzPlayerPartsRef,n=a.engineDebugAPI,o=a.engineExtrasAPI,p=a.getCaptionsInfo,aa=a.getLatencyLevelManager,q=a.getVideoLiveTrace,r=a.handleCaptionsInfoChange,ba=a.handleFatalImplementationError,s=a.hivePluginRef,t=a.initialProps,u=a.loggerToVPL,v=a.machine,w=a.overrideOzRequestImplementationRef,x=a.ozBufferingDetectorRef,y=a.ozPlayerRef,z=a.p2pSessionLoggerRef,ca=a.playerFormatForDPLRef,A=a.playerVersion,B=a.resolvedVideoInfo,C=a.videoElement,D=a.videoElementAPI,E={current:!1},F={current:null},G={current:null};m.current=function(a){var b=x.current;b&&(x.current=null,b.destroy());b=y.current;if(b){n&&n.handleOzPlayerChanged(null,D);y.current=null;try{b.destroy([].concat(a,["destroyOzPlayerParts"]).join(":"))}catch(a){c("FBLogger")("comet_video_player").catching(a).mustfix("Error in ozPlayer.destroy: %s",String(a))}}b=F.current;b&&(F.current=null,b());G.current&&(G.current=null);Z();s.current&&(s.current=null);z.current&&(z.current=null);w.current&&(w.current=null)};a=B.accessToken;m=B.audioOnly;var H=B.experimentationConfig,I=B.graphQLVideoDRMInfo,J=B.graphQLVideoP2PSettings,K=B.manifestUrl,da=B.manifestXmlStringResolved,ea=B.minQualityPreference,fa=B.ozPrefetchCache,L=B.videoFBID,M=t.loggingConfig.disableLogging===!0?null:B.VideoPlayerShakaPerformanceLoggerClass,N=Boolean(t.loggingMetaData.coreVideoPlayerMetaData.isLiveStreaming),O=Boolean((e=t.isClientTriggeredTraceEnabled)!=null?e:!1),P=function(a){return o.getEstimatedBandwidth()};e=function(){return o.getApproximateFBLSToPlayerDisplayLatency()};var ga=function(){H.setContext("connection_quality",d("VideoPlayerConnectionQuality").evaluate(function(){return P(N)}))},Q=function(){var a=H.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return null;var b=c("CometThrottle")(ga,a),d=c("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",b);return function(){d.remove(),b.cancel()}};F.current=Q();Q=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzDrmProviders({accessToken:a,graphQLVideoDRMInfo:I,videoFBID:L});I=function(){return v.getCurrentState().controlledState.captionsVisible};var R=[];H.getBool("use_vtt_captions_visible_buffer_strategy",!0)&&R.push(new(c("OzBufferVTTCaptionsVisibleStrategy"))(I));I=function(){return v.getCurrentState().controlledState.dimensions};var S=function(){var a;return(a=ca.current)!=null?a:"unknown"};a=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzPerfLoggerProviders({VideoPlayerShakaPerformanceLoggerClass:M,accessToken:a,disableLogging:t.loggingConfig.disableLogging===!0,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:P,getPlayerDimensions:I,getPlayerFormat:S,playbackIsLiveStreaming:N,playerInstanceCount:t.loggingMetaData.playerImplementationInstanceCountRef.current,playerInstanceKey:t.loggingMetaData.instanceKey,playerSuborigin:t.loggingMetaData.coreVideoPlayerMetaData.subOrigin,playerVersion:A,videoElement:C,videoFBID:L,videoPlayerShakaPerformanceLoggerBuilder:B.videoPlayerShakaPerformanceLoggerBuilder});G.current==null&&(G.current=new(c("OzCDNSignedQueryParams"))());if(J&&L!=null){e=J.community_info;S=J.config;A=J.hive_initialization_options;B=z.current=(B=z.current)!=null?B:b("cr:1871597")?new(b("cr:1871597"))(L,e):null;try{if(!s.current){B&&B.logEnableP2P();e=function(a){z.current&&z.current.logHiveError(a)};var T=function(b){var a=y.current;a&&a.injectExternalDebugEvent("P2PTech",b.tech);z.current&&z.current.logSessionActive(b.tech)},U=function(b){var a=y.current;a&&a.injectExternalDebugEvent("P2PStats",b);z.current&&z.current.setCurrentHiveStats(b)},V=function(a){a=a.state;var b=v.getCurrentState();b=b.controlledState;b=b.playbackState;if(s.current&&a==="CLOSED"){Z();a=y.current;a&&b!=="ended"&&(E.current&&K!=null?a.updatePlayerRunTimeConfig({manifestUrl:K}):a.load(K))}};U={HiveJava:{},HiveJS:{maximumTrimming:{dash:void 0,hls:void 0},renderStatsCallback:U},debugLevel:"off",hiveTechOrder:["HiveJS","StatsJS","HiveJava"],onActiveSession:T,onError:e,onSessionStateChange:V,telemetryId:B?B.getSessionID():0};T=H.getNumber("hive_maximum_trimming_seconds",0);T>0&&(U.HiveJS.maximumTrimming={dash:T,hls:T});if(A){e=A.HiveJava;V=A.debugLevel;T=A.hiveTechOrder;U.hiveTechOrder=T.slice();U.HiveJava=e?{minVersion:e.minVersion}:{};U.debugLevel=(A=V)!=null?A:U.debugLevel}if(S.disable_hivejava_for_livevc===!0&&K!=null&&K.startsWith("https://livestream-lookaside")){T=U.hiveTechOrder.indexOf("HiveJava");T>=0&&U.hiveTechOrder.splice(T,1)}if(k)k.SensitiveInfo.restrictedConnectivityInfo=!0;else throw c("unrecoverableViolation")("HiveConfig does not exist","comet_video_player");if(l)s.current=new l(U);else throw c("unrecoverableViolation")("HiveOz does not exist","comet_video_player");if(s.current){if(!b("cr:1947728"))throw c("unrecoverableViolation")("OzConfigurableRequestImplementation does not exist","comet_video_player");w.current=b("cr:1947728")(s.current.getRequestImplementation(),{inferResponseStatusIsOK:!0,inferResponseStatusIsOk2xx:!1})}}}catch(a){B&&B.logError(a),Z()}}e=[new(c("OzVideoLiveTraceNetworkRequestStreamHandler"))(function(a,b,c){var d=q();d!=null&&d.handleHeadersAndBody(a,b,c)},H.getBool("live_trace_parse_emsg",!1)),new(c("oz-player/networks/OzClockSyncNetworkRequestStreamHandler"))()];c("OzActiveActiveFailoverNetworkRequestStreamHandler")&&e.push(new(c("OzActiveActiveFailoverNetworkRequestStreamHandler"))(function(b,c){var a=y.current,e=b.headers;if(a&&e){e=parseInt(e.get("x-fb-video-replica"),10);u.logVPLEvent({eventType:"replica_switch",logDataOverrides:{error_code:b.status.toString(),error_user_info:JSON.stringify({failover_response_code:b.status.toString(),replica:e,url:c})},state:v.getCurrentState()});b=a.getMpdUrl();if(b!=null){c=d("ConstUriUtils").getUri(b);if(c){b=c.addQueryParam("replica",e);b&&(Z(),a.updatePlayerRunTimeConfig({manifestUrl:b.toString(),resetStreamAnchor:!0}))}}}}));var ha=t.expiredVideoUrlRefreshHandler,ia=t.loggingMetaData.instanceKey;V=c("gkx")("24353");A=c("gkx")("24354")||c("gkx")("24355");var ja=N?V:A;S=c("gkx")("4927");H.getBool("log_exposure_on_oz_initialization",!1)&&d("QE2Logger").logExposureForUser("www_videos_html5_mpeg_dash");U={audioOnly:(T=m)!=null?T:!1,bufferEndLimit:t.bufferEndLimit!=null?t.bufferEndLimit:null,bufferingDetector:(U=x.current)!=null?U:void 0,config:d("oz-player/configs/OzConfigUtils").provideConfigWithDefaults(H),configureCustomRequestParametersForSegment:function(a){var b=null;if(N&&O){var d=a.getByteRange();d=d?d.startByte+", "+(d.endByte!=null?d.endByte:"null"):"null";a=c("md5")(a.getURI().toString()+d);b=(d=b)!=null?d:{};a!=null&&(b=babelHelpers["extends"]({},b,{_nc_tsid:a}));b=babelHelpers["extends"]({},b,{_nc_e2e:"live"})}return b},customParsers:d("OzCustomParsers").createOzCustomParser(),customRepresentationParsers:d("OzCustomRepresentationParsers").createOzCustomRepresentationParsers({ozConfig:H}),customSegmentTimelineParser:H.getBool("enable_predictive_dash",!1)?new(c("OzPredictedSegmentTimelineParser"))():void 0,customVTTBufferTargetStrategies:R,debugCreateInitiator:[].concat(g,["proceedWithOzPlayerCreation"]).join(":"),drmProviders:Q,getCustomRequestParametersForURI:function(a){return d("VideoPlayerOzImplementationEnginePartsImplUtils").getCustomRequestParametersForURI(a,{experimentationConfig:H,getCurrentVideoRepresentation:function(){var a=y.current;return a==null?void 0:a.getCurrentVideoRepresentation()},getOzCDNSignedQueryParams:function(){return G.current},isClientTriggeredTraceEnabled:O,playbackIsLiveStreaming:N,playbackSessionId:ia,shouldRefresh403:ja})},getOverrideOzRequestImplementation:function(){return w.current},getShouldIncludeCredentials:H.getBool("use_oz_credentials_provider",!1)?d("VideoPlayerOzImplementationEnginePartsImplUtils").checkShouldIncludeCredentials:null,getUserSelectedPlaybackRate:function(){return v.getCurrentState().controlledState.targetPlaybackRate},getVideoDimensions:I,initialPlaybackPositionForDynamicMpd:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateInitialPlaybackPositionForDynamicMpd(H,(B=t.initialDesiredLatencyMs)!=null?B:0),initialRepresentationIDs:(V=t.initialRepresentationIds)!=null?V:[],isClientTriggeredTraceEnabled:O,liveheadFallBehindBlockMargin:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockMargin(H,(A=t.initialDesiredLatencyMs)!=null?A:0),liveheadFallBehindBlockThreshold:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockThreshold(H,(m=t.initialDesiredLatencyMs)!=null?m:0,(T=t.initialLatencyToleranceMs)!=null?T:0),loggerConfig:{isOzDevConsoleEnabled:c("gkx")("24356"),observedOperationLoggers:[],perfLoggerProviders:a},mpdUrl:K,networkRequestStreamHandlers:e,networkRequestStreamRetryHandler:ja?function(a,d,e){var f=a.headers,g=f==null?void 0:f.get("x-fb-url-refresh"),i=G.current;if(a.status===403&&i!=null){u.logVPLEvent({eventType:"video_cdn_url_expired",logDataOverrides:{error_user_info:JSON.stringify({expired_url:e})},state:v.getCurrentState()});var j=g!=null&&b("cr:1993377")!=null?{name:"refreshShortExpiryVideoUrl",promise:b("cr:1993377")(g)}:ha!=null?{name:"expiredVideoUrlRefreshHandler",promise:ha(e)}:null;if(j!=null)return j.promise.then(function(a){var b;b=(b=a.refreshedUrl)!=null?b:null;a=(a=a.reason)!=null?a:null;if(b!=null&&b!==""){u.logVPLEvent({eventType:"video_cdn_url_refreshed",logDataOverrides:{error_user_info:JSON.stringify({refresh_handler:j.name,refreshed_url:b})},state:v.getCurrentState()});i.update(b);return d(b)}else{throw c("unrecoverableViolation")(j.name+" refreshedUrl is "+(b===""?"an empty string":"null")+", reason: "+((b=a)!=null?b:"null"),"comet_video_player")}})["catch"](function(a){a=c("getErrorSafe")(a);u.logVPLEvent({eventType:"video_cdn_url_refresh_error",logDataOverrides:{error_description:a.message,error_user_info:JSON.stringify({expired_url:e,refresh_handler:j.name,refresh_url:g})},state:v.getCurrentState()});throw a})}return(h||(h=b("Promise"))).resolve(a)}:null,networkRequestUrlRefreshHandler:S?t.expiredVideoUrlRefreshHandler:null,prefetchCache:H.getBool("use_prefetch_cache",!1)?fa:null,rawMpdXml:s.current?void 0:da,seekHandler:null,setCustomFetchStreamLoggingAttributes:function(a,b,e){a.setIsOnline(c("NetworkStatus").isOnline());var f=e==null?void 0:e.headers;if(f)try{a.setProxyStatusHeader(f.get("proxy-status")),a.setDynamicStatusHeader(f.get("x-fb-dynamic-status"))}catch(a){}d("OzOneSemanticHandlerUtils").setOneSemanticFetchStreamLoggingAttributes(a,b,e)},startTimeStamp:H.getBool("fix_start_timestamp",!1)?t.startTimestamp:0,userPreferenceLang:t.initialAudioUserPreferredLanguage,videoAbrManagerFactory:d("VideoPlayerOzImplementationEnginePartsImplUtils").getVideoAbrManagerFactory(N),videoNode:C,videoPlaybackRestrictions:c("getOzPlaybackRestrictions")(ea,H)};var W=new f(U);y.current=W;x.current&&x.current.attachPerfLoggerProvider(W.getPerfLoggerProvider());R=t.loggingMetaData.playerImplementationInstanceCountRef;R.current++;W.onError(function(a){M&&M.flushQueuedLogs(),ba(a,"oz_player_error")});c("gkx")("24360")&&W.onWarning(function(a){M&&M.flushQueuedLogs();a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError(a,"oz_player_warning");v.dispatch({payload:{warningError:a},type:"implementation_warning"})});W.addListener("switchVideoRepresentation",function(){v.dispatch({payload:{},type:"representation_changed"})});var ka=function(a){if(H.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError(a,"oz_player_stream_error_retry");v.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}};W.addListener("manifestFetchError",function(a){d("OzOneSemanticHandler").handleManifestFetchErrorEvent(H,a)});W.addListener("manifestFetchErrorRetry",function(a){ka(a)});W.addListener("streamError",function(a){return d("OzOneSemanticHandler").handleStreamErrorEvent(H,a)});W.addListener("streamErrorRetry",function(a){var b;(((b=a.getExtra())==null?void 0:b.mimeType)!=="application"||H.getBool("enable_era_logging_for_application_stream",!0))&&ka(a)});W.addListener("streamInterruptAt",function(){v.dispatch({type:"stream_interrupted"})});W.addListener("streamResumedAt",function(){v.dispatch({type:"stream_resumed"})});W.addListener("streamGoneBeforeStart",function(){Z(),v.dispatch({type:"stream_gone_before_start"})});W.addListener("streamEnd",function(){Z(),v.dispatch({type:"stream_ended"})});W.addListener("videoNodeErrorRetry",function(a){if(H.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationVideoNodeError(a,"oz_player_stream_error_retry");v.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}});W.addListener("enterBuffering",function(a){v.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"})});W.addListener("leaveBuffering",function(a){v.dispatch({payload:{domEventPerfTimestamp:a.domEventPerfTimestamp},type:"buffering_end_requested"})});n&&n.handleOzPlayerChanged(W,D);var la=function(){var a=p();a={inbandCaptionsAutogeneratedFromManifest:o.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:o.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:o.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps};var b=v.getCurrentState();b=b.controlledState;(a.inbandCaptionsExpectedFromManifest!==b.captionsLoaded||a.inbandCaptionsAutogeneratedFromManifest!==b.inbandCaptionsAutogenerated)&&r(a)},ma=function(a,b){a=a.getCustomField("timescale");a=typeof a==="number"?a:0;v.dispatch({payload:{timescale:a,videoBytes:b},type:"cea608_bytes_received"})},na=function(){var a=o.getVideoRepresentations();if(a!=null&&a.length>0){a=a[0].getTimeRanges();if(a!=null&&a.length>0){var b=a[0].startTime;a=Math.max(a[a.length-1].endTime-H.getNumber("live_rewind_seek_to_live_delta",8),b);v.dispatch({payload:{seekableRanges:new(c("TimeRanges"))([{endTime:a,startTime:b}])},type:"seekable_ranges_changed"})}}},oa=function(){var a=W.getMpd();if(!a)return;a=a.getCustomField("loapStreamType");var b=q();typeof a==="number"&&b!=null&&b.setStreamType(a)},X=function(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("lvp");return a==="1"}}return!1},pa=function(a){var b=function(){na(),la(),oa()};a.addListener("updated",b);b();var e=[],f=function(a){u.logVPLEvent({eventType:"imf",logDataOverrides:a,state:v.getCurrentState()})},g=function(a,b,c){a=a.parseEmsgBoxesFromMP4Segment;a=a(c,L,b.getID(),C.currentTime,f);a.length>0&&v.dispatch({payload:{emsgBoxes:a},type:"emsg_boxes_parsed"})},h=function(a){var b=e.shift();while(b)g.apply(void 0,[a].concat(b)),b=e.shift()};W.updatePlayerRunTimeConfig({audioStreamDataHandler:function(){var a=v.getCurrentState();if(a.controlledState.emsgObserverTokens.size>0){var b=i.getModuleIfRequireable();for(var d=arguments.length,f=new Array(d),j=0;j<d;j++)f[j]=arguments[j];b!=null?(h(b),g.apply(void 0,[b].concat(f))):(e.push(f),i.load().then(function(a){h(a)})["catch"](function(a){c("FBLogger")("comet_video_player").catching(c("getErrorSafe")(a)).warn("Failed to load VideoPlayerEmsg"),e.length=0}))}},videoStreamDataHandler:ma});if(o.isPredictiveDash()){H.setContext("streaming_implementation","pdash");a=aa();a&&a.maybeUpdateLatencyLevel()}b="mos";a=H.getBool("is_csvqm_enabled",!1);if(a&&!N){a=o.getVideoRepresentations();a=a==null?void 0:a.every(function(a){return a.getQualityScoreCurveString("csvqm")!=null});a===!0&&(b="csvqm")}H.setContext("quality_score_type",b);d("VideoPlayerODS").bumpEntityKey("comet_video_player",b==="csvqm"?"OzImplementation.quality_score_type_csvqm":"OzImplementation.quality_score_type_mos",14);a=p();r({inbandCaptionsAutogeneratedFromManifest:o.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:o.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:o.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps})};W.addListener("vttCaptionsUpdated",function(a,b){var c="webvtt",d=v.getCurrentState().controlledState.captionFormat;c!==d&&v.dispatch({payload:{captionFormat:c},type:"controller_set_caption_format_requested"});v.dispatch({payload:{activeCaptions:a,captionsLocale:b},type:"controller_set_active_captions_requested"})});W.addListener("mpdParsed",function(a){o.isPredictiveDash()&&H.setContext("streaming_implementation","pdash")});c("gkx")("24359")?(W.addListener("mpdReady",function(a){E.current=!0,pa(a)}),W.addListener("initialized",function(){v.dispatch({payload:{selectedVideoQuality:o.getUserSelectedVideoQuality()},type:"implementation_engine_initialized"})})):W.addListener("mpdReady",function(a){E.current=!0,pa(a),v.dispatch({payload:{selectedVideoQuality:o.getUserSelectedVideoQuality()},type:"implementation_engine_initialized"})});W.addListener("representationBlocked",function(a){v.dispatch({payload:{blockedRepresentationID:a},type:"implementation_engine_representation_blocked"})});var Y=null;function Z(){c("clearTimeout")(Y);var a=s.current,b=z.current;if(a!=null){s.current=null;z.current=null;w.current=null;try{a&&a.closeHiveSession(),b&&b.logEndSession()}catch(a){b&&b.logHiveError(a)}}}g=s.current;Q=J==null?void 0:J.ticket;if(K!=null&&J&&g&&Q!=null){I=W.getPerfLoggerProvider();I&&I.setIsP2pPlayback(!0);B=K.substring(K.indexOf("?"));V=g.initSession(Q+B,W,C);var $=new(c("Deferred"))();j>0&&(Y=c("setTimeout")(function(){$.reject(new Error("Hive initialization timed out after "+j+"ms"))},j));V.then(function(a){$.resolve(a)})["catch"](function(a){$.reject(a)});$.getPromise().then(function(a){c("clearTimeout")(Y);var b=a.manifest;a=a.tech;var d=z.current;b!==K&&d&&d.logManifestMismatch(b,K);d&&d.logSessionInit(a,b);u.setLoggingToVPLAdditionalData("is_p2p_playback",!0);u.setLoggingToVPLAdditionalData("is_live_preview",X(b));W.load(b)})["catch"](function(a){c("clearTimeout")(Y);var b=z.current;b&&b.logError(a);Z();u.setLoggingToVPLAdditionalData("is_live_preview",X(K));W.load(K)})}else u.setLoggingToVPLAdditionalData("is_p2p_playback",!1),u.setLoggingToVPLAdditionalData("is_live_preview",X(K)),W.load(K)}g.proceedWithOzPlayerCreation=a}),98);
__d("VideoPlayerOzImplementationLatencyLevelManager",[],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$2="normal",this.$4=null,this.$1=a,this.$3=b,this.$6=c}var b=a.prototype;b.updatePlayerFormat=function(a){this.$4!==a&&(this.$4=a,this.maybeUpdateLatencyLevel())};b.updateBroadcastLatencySensitivity=function(a){this.$5!==a&&(this.$5=a,this.maybeUpdateLatencyLevel())};b.maybeUpdateLatencyLevel=function(){var a=this.$7(this.$5);a!==this.$2&&(this.$2=a,this.$1.getBool("set_latency_context_immediately",!1)&&this.$1.setContext("latency_level",a),this.$3.dispatch({payload:{latencyLevel:a,ullIneligibilityReason:this.$8()},type:"implementation_set_latency_level_requested"}))};b.$8=function(){var a=this.$1.getNumber("ultra_low_latency_bandwidth_threshold",0),b=this.$6.getEstimatedBandwidth();return b!==null&&a>0&&b<a?"low_bandwidth_estimate":null};b.$7=function(a){if(a==null)return"normal";switch(a){case 1:return"low";case 2:return this.$8()!==null?this.$1.getBool("fall_back_to_low_latency_in_ull",!1)?"low":"normal":"ultra-low";case 0:return"normal"}};return a}();g["default"]=a}),98);
__d("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay",["requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferredForDisplay")("oz-player").__setRef("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay");function a(){return{getModuleIfRequireable:function(){return h.getModuleIfRequireable()||null},load:function(){return h.load()}}}g["default"]=a}),98);
__d("VideoPlayerOzImplementationEngine",["CometDASHPrefetchCacheManager","ErrorMetadata","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerImplementationLoadSequenceManager","VideoPlayerODS","VideoPlayerOzImplementationEngineExtrasAPI","VideoPlayerOzImplementationEnginePartsImplFunction","VideoPlayerOzImplementationEnginePartsImplUtils","VideoPlayerOzImplementationLatencyLevelManager","VideoPlayerOzPlayerModuleLoaderDeferredForDisplay","cr:1473549","emptyFunction","err","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";e=!1;var h=c("emptyFunction");function a(a){var e=a.checkInDOM,f=a.debugLogId,g=a.handleFatalError,i=a.initialProps;a=a.setExposedStateInReact;var j={current:null},k={current:null},l={current:null},m={current:null},n={current:null},o={current:null},p={current:null},q={current:null},r={current:null},s={current:null},t={current:null},u={current:null},v={current:null},w={current:null};function x(){var a;return(a=p.current)!=null?a:null}function y(){var a;return(a=o.current)!=null?a:null}function z(){var a;return(a=(a=k.current)==null?void 0:a.experimentationConfig)!=null?a:null}function A(){var a;return(a=Y.current)!=null?a:null}function B(){var a;return(a=v.current)!=null?a:null}var C;b("cr:1473549")&&(C=new(b("cr:1473549"))());var D="comet_oz",E=function(a,b){return b.manifestXmlStringInitial!==null?a.manifestXmlStringInitial!==b.manifestXmlStringInitial:a.manifestUrl!==b.manifestUrl},F=function(a,b){return a.videoFBID!==b.videoFBID},G=function(a){return a.getBool("use_full_player_if_cached",!1)&&c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")?c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")().getModuleIfRequireable():null},H=function(a,b,c){b!=null?k.current=babelHelpers["extends"]({},a,{manifestXmlStringResolved:b}):k.current=a,X.dispatch({type:"implementation_engine_oz_manifest_downloading"}),n.current=G(a.experimentationConfig),L(n.current,[].concat(c,["proceedWithOzManifestDownloading"]))},I=function(a){var b,e,f,g=a.manifestUrl,h=a.manifest,i=null;c("CometDASHPrefetchCacheManager")&&(a.videoFBID!=null&&(i=c("CometDASHPrefetchCacheManager").get(a.videoFBID)));b={VideoPlayerShakaPerformanceLoggerClass:a.VideoPlayerShakaPerformanceLoggerClass,accessToken:a.loggingMetaData.accessToken,audioOnly:a.audioOnly,experimentationConfig:a.experimentationConfig,graphQLVideoDRMInfo:a.graphQLVideoDRMInfo,graphQLVideoP2PSettings:a.graphQLVideoP2PSettings,initialAudioUserPreferredLanguage:a.initialAudioUserPreferredLanguage,manifestUrl:(b=g)!=null?b:null,manifestXmlStringInitial:(b=h)!=null?b:null,minQualityPreference:a.minQualityPreference,ozPrefetchCache:i,videoFBID:a.videoFBID,videoPlayerShakaPerformanceLoggerBuilder:a.videoPlayerShakaPerformanceLoggerBuilder};i=j.current;e=(e=v.current)!=null?e:new(c("VideoPlayerOzImplementationLatencyLevelManager"))(a.experimentationConfig,X,Q);v.current=e;w.current=(f=a.loggingMetaData.coreVideoPlayerMetaData.playerFormat)!=null?f:null;e.updatePlayerFormat((f=a.loggingMetaData.coreVideoPlayerMetaData.playerFormat)!=null?f:null);e.updateBroadcastLatencySensitivity(a.broadcastLatencySensitivity);f=!1;if(i==null)f=!0;else if(i!=null&&!F(b,i)&&E(b,i)){e=14;d("VideoPlayerODS").bumpEntityKey("OzImplementation","manifest_reloaded",e);f=!1}else if(i!=null&&F(b,i)){var k;e=c("err")("videoFBID changed after player initialization: %s",JSON.stringify({subOrigin:a.loggingMetaData.coreVideoPlayerMetaData.subOrigin,toVideoFBID:b.videoFBID}));e.name="VideoPlayerOzImplementationVideoFBIDChanged";k=(k=e.metadata)!=null?k:new(c("ErrorMetadata"))();i.videoFBID!=null&&k.addEntry("COMET_VIDEO","VIDEO_ID",i.videoFBID);e.metadata=k;e.project="comet_video_player";throw e}if(!f)return!1;g=b.manifestUrl;h=b.manifestXmlStringInitial;if(h==null&&g==null){i=c("err")("Empty manifestXmlStringInitial and manifestUrl: %s",JSON.stringify({manifestUrl:g,manifestXmlStringInitial:h,subOrigin:a.loggingMetaData.coreVideoPlayerMetaData.subOrigin}));i.name="VideoPlayerOzImplementationManifestEmpty";e=(k=i.metadata)!=null?k:new(c("ErrorMetadata"))();b.videoFBID!=null&&e.addEntry("COMET_VIDEO","VIDEO_ID",b.videoFBID);i.metadata=e;i.project="comet_video_player";throw i}j.current=b;H(b,h,["handleVideoInfoChangeForOzImplementation","downloadManifestInOz"]);return!0},J=function(a,b){var d=function(c){if(m.current!==a)return;n.current=c;L(c,[].concat(b,["handleOzPlayerModuleLoadSuccess"]))},e=function(b){if(m.current!==a)return;V(b,"oz_player_module_load_failed")};m.current=a;c("promiseDone")(a,d,e)},K=function(a){a=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);Y.current=a;return a},L=function(a,b){var e=S(),f=k.current;if(e==null||f==null)return;var g=K(e),h=f.experimentationConfig;a?M(a,e,g,f,[].concat(b,["proceedWithResolvedVideoInfo","OzPlayerModuleFromRef"])):c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")?(h.getBool("instantiate_buffering_detector_before_quick_starter",!1)&&d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzBufferingDetector(e,g,f.experimentationConfig,X,p,W),J(c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")().load(),[].concat(b,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderAsync"]))):V(new Error("Neither of OzPlayerModuleLoader is available."),"oz_player_module_loaders_missing")},M=function(a,b,e,f,g){try{var h={OzPlayerClass:a,callChain:[].concat(g,["proceedWithResolvedVideoInfoAndOzPlayerModuleSync"]),destroyOzPlayerPartsRef:u,engineDebugAPI:C,engineExtrasAPI:Q,getCaptionsInfo:R,getLatencyLevelManager:B,getVideoLiveTrace:T,handleCaptionsInfoChange:U,handleFatalImplementationError:V,initialProps:i,loggerToVPL:W,machine:X,ozBufferingDetectorRef:p,playerFormatForDPLRef:w,playerVersion:D,resolvedVideoInfo:f,videoElement:b};a=z();g=i.loadSequence;a&&a.getNumber("load_sequence_max_delay_ms",0)>0&&g!=null?t.current=c("VideoPlayerImplementationLoadSequenceManager").schedule(a,g,function(){d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},h,{hivePluginRef:q,overrideOzRequestImplementationRef:s,ozPlayerRef:o,p2pSessionLoggerRef:r,videoElementAPI:e}));return e.getCanPlayPromise()}):d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},h,{hivePluginRef:q,overrideOzRequestImplementationRef:s,ozPlayerRef:o,p2pSessionLoggerRef:r,videoElementAPI:e}));l.current=f}catch(a){V(a,"oz_player_create_exception")}};function N(a){var b=u.current;b!=null&&(u.current=null,b(a));t.current!=null&&(t.current(),t.current=null)}function O(){return}function P(){m.current=null,n.current=null}var Q=d("VideoPlayerOzImplementationEngineExtrasAPI").createVideoPlayerOzImplementationEngineExtrasAPI({getConfig:z,getOzPlayer:y,getVideoElementAPI:A});A=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({checkInDOM:e,createDebugAPI:function(b){var a=b.getVideoElementAPI;b=b.loggerToVPL;return C?C.createDebugAPI({engineExtrasAPI:Q,getConfig:function(){var a;return(a=(a=l.current)==null?void 0:a.experimentationConfig)!=null?a:null},getManifest:function(){var a;return(a=(a=l.current)==null?void 0:a.manifestXmlStringResolved)!=null?a:null},getManifestUrl:function(){var a;return(a=(a=l.current)==null?void 0:a.manifestUrl)!=null?a:null},getOzBufferingDetector:x,getOzPlayer:y,getVideoElementAPI:a,loggerToVPL:b}):null},createVideoPlayerError:d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError,debugLog:h,debugLogId:f,destroyEngineParts:function(a){N([].concat(a,["destroyEngineParts"])),O(),P()},engineExtrasAPI:Q,engineMetadata:{isAbrEnabled:!0,playerVersion:D,streamingFormat:"dash"},handleFatalError:g,handleVideoElementChanged:function(a,b){a!=null&&L(n.current,[].concat(b,["handleVideoElementMounted"]))},handleVideoInfoChange:I,initialProps:i,setExposedStateInReact:a});e=A.engine;var R=A.getCaptionsInfo,S=A.getVideoElement,T=A.getVideoLiveTrace,U=A.handleCaptionsInfoChange,V=A.handleFatalImplementationError,W=A.loggerToVPL,X=A.machine,Y=A.videoElementAPIRef;return e}g.createVideoPlayerOzImplementationEngine=a}),98);
__d("VideoPlayerOzImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerOzImplementationEngine"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerOzImplementationEngine").createVideoPlayerOzImplementationEngine);a=a.reactVideoFrameAndComponents;return a}g["default"]=a}),98);
__d("VideoPlayerRelayFragmentRefetchQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9549754371718361"}),null);
__d("VideoPlayerRelayFragmentRefetchQuery.graphql",["VideoPlayerRelay_video$normalization.graphql","VideoPlayerRelayFragmentRefetchQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"id"},c={defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},d={defaultValue:null,kind:"LocalArgument",name:"playerSuborigin"},e=[{kind:"Variable",name:"id",variableName:"id"}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"VideoPlayerRelayFragmentRefetchQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"playerOrigin",variableName:"playerOrigin"},{kind:"Variable",name:"playerSuborigin",variableName:"playerSuborigin"}],kind:"FragmentSpread",name:"VideoPlayerRelay_video"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,a],kind:"Operation",name:"VideoPlayerRelayFragmentRefetchQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:[{kind:"Variable",name:"VideoPlayerRelay_video$playerOrigin",variableName:"playerOrigin"},{kind:"Variable",name:"VideoPlayerRelay_video$playerSuborigin",variableName:"playerSuborigin"}],fragment:b("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("VideoPlayerRelayFragmentRefetchQuery_facebookRelayOperation"),metadata:{},name:"VideoPlayerRelayFragmentRefetchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VideoPlayerRelay_video.graphql",["VideoPlayerRelayFragmentRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},{defaultValue:null,kind:"LocalArgument",name:"playerSuborigin"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:b("VideoPlayerRelayFragmentRefetchQuery.graphql"),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"VideoPlayerRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcaster_origin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_trace_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_looping",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_podcast_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"loop_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unsupported_browser_message",storageKey:null},{alias:null,args:null,concreteType:"MusicVideoMetadata",kind:"LinkedField",name:"pmv_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LatencySensitiveConfig",kind:"LinkedField",name:"latency_sensitive_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"broadcast_latency_sensitivity",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LivePlaybackInstrumentationConfigParams",kind:"LinkedField",name:"live_playback_instrumentation_configs",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_client_triggered_trace_enabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_ncsr",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permalink_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seo_web_crawler_lookaside_url",storageKey:null},{alias:null,args:[{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSuborigin"}],kind:"ScalarField",name:"dash_prefetch_experimental",storageKey:null},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerVideoStatusRelayWithFallbackCover_video"},{args:null,kind:"FragmentSpread",name:"useVideoImplementationsParamsRelayImpl_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaConfig_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaPerformanceLoggerBuilder_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoAutoplayGatingResult_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoDRMInfo_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoP2PSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAudioSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerCaptionsSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerLiveLatencyKnobSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAudioAvailabilityInfoRelay_video"},{alias:null,args:null,concreteType:"SphericalVideoRenderer",kind:"LinkedField",name:"spherical_video_renderer",plural:!1,selections:[{args:null,documentName:"VideoPlayerRelay_video_spherical_video_renderer",fragmentName:"VideoPlayerSphericalRelay_sphericalVideoRenderer",fragmentPropName:"sphericalVideoRenderer",kind:"ModuleImport"}],storageKey:null},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"InstreamVideoAdBreaksPlayer_video"}]},{args:null,kind:"FragmentSpread",name:"VideoPlayerVideoIsCastingCover_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerIMFFromVideoMetadataRelay_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerUnsupportedBrowserMessageFallback.react",["ErrorMetadata","FBLogger","VideoPlayerFallbackCover.react","err","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect;b.useMemo;var k=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(11);bb0:{if(a!=null){var f;if(e[0]!==a||e[1]!==b){var g;f=c("err")("Cannot play video: Unsupported browser message from server: %s",a);f.name="VideoPlayerUnsupportedBrowserMessageFromServer";g=(g=f.metadata)!=null?g:new(c("ErrorMetadata"))();f.metadata=g;g.addEntry("COMET_VIDEO","VIDEO_ID",b);e[0]=a;e[1]=b;e[2]=f}else f=e[2];g=f;break bb0}g=null}var h=g,l=k(!1);e[3]!==h?(f=function(){if(h!=null&&!l.current){var a;l.current=!0;(a=c("FBLogger")("comet_video_player").catching(h)).warn.apply(a,[(a=h.messageFormat)!=null?a:""].concat((a=h.messageParams)!=null?a:[]))}},e[3]=h,e[4]=f):f=e[4];e[5]!==h||e[6]!==b?(g=[h,b],e[5]=h,e[6]=b,e[7]=g):g=e[7];j(f,g);if(a!=null){e[8]!==a||e[9]!==h?(b=i.jsx(c("VideoPlayerFallbackCover.react"),{debugError:h,message:a}),e[8]=a,e[9]=h,e[10]=b):b=e[10];return b}return null}g.useVideoPlayerUnsupportedBrowserMessageFallback=a}),98);
__d("VideoPlayerXImplRelayWrapper.react",["VideoPlayerXImpl.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("VideoPlayerXImpl.react")}),98);
__d("XFBLatencySensitiveTypeUtils.facebook",["$InternalEnumUtils","LatencySensitiveType"],(function(a,b,c,d,e,f,g){a=d("$InternalEnumUtils").createToJSEnum(c("LatencySensitiveType"));b=d("$InternalEnumUtils").createFromJSEnum(c("LatencySensitiveType"));g.toJSEnum=a;g.fromJSEnum=b}),98);
__d("useGraphQLVideoAutoplayGatingResult_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoAutoplayGatingResult_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"autoplay_gating_result",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_autoplay_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_autoplay",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoAutoplayGatingResult",["CometRelay","GraphQLVideoAutoplayGatingResult","react-compiler-runtime","useGraphQLVideoAutoplayGatingResult_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=d("react-compiler-runtime").c(4);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoAutoplayGatingResult_video.graphql"),a);var e;c[0]!==a.autoplay_gating_result||c[1]!==a.can_autoplay||c[2]!==a.viewer_autoplay_setting?(e=d("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult(a.autoplay_gating_result,a.viewer_autoplay_setting,a.can_autoplay),c[0]=a.autoplay_gating_result,c[1]=a.can_autoplay,c[2]=a.viewer_autoplay_setting,c[3]=e):e=c[3];return e}g["default"]=a}),98);
__d("useGraphQLVideoDRMInfo_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoDRMInfo_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"drm_info",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoDRMInfo",["CometRelay","GraphQLVideoDRMInfo","react","useGraphQLVideoDRMInfo_video.graphql","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useRef;function l(a){if(a!=null){a=m(a);return d("GraphQLVideoDRMInfo").makeGraphQLVideoDRMInfo(a)}return null}function m(a){a=JSON.parse(a)||{};var b=a.fairplay_cert,c=a.graph_api_video_license_uri,d=a.video_license_uri_map;a=a.widevine_cert;return{fairplay_cert:b,graph_api_video_license_uri:c,video_license_uri_map:d,widevine_cert:a}}function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoDRMInfo_video.graphql"),a);var e=k(null),f=l(a.drm_info),g=(i||(i=c("useUnsafeRef_DEPRECATED")))(null);e.current!==a.drm_info&&(e.current=a.drm_info,g.current=f);return g.current}g["default"]=a}),98);
__d("useGraphQLVideoP2PSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoP2PSettings_video",selections:[{alias:null,args:null,concreteType:"VideoP2PSettings",kind:"LinkedField",name:"p2p_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ticket",storageKey:null},{alias:null,args:null,concreteType:"VideoP2PSettingsConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"delay_p2p_until_play",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"disable_hivejava_for_livevc",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveCommunityInfo",kind:"LinkedField",name:"community_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"community_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"community_name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveInitializationOptions",kind:"LinkedField",name:"hive_initialization_options",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoHiveInitializationOptionHiveJava",kind:"LinkedField",name:"hive_java",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"min_version",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hive_tech_order",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_level",storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoP2PSettings",["CometRelay","GraphQLVideoP2PSettings","recoverableViolation","useGraphQLVideoP2PSettings_video.graphql","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){var b=null;if(a){var e,f,g,h,i;e={delay_p2p_until_play:(e=(e=a.config)==null?void 0:e.delay_p2p_until_play)!=null?e:!1,disable_hivejava_for_livevc:(e=(e=a.config)==null?void 0:e.disable_hivejava_for_livevc)!=null?e:!1};var j=a.ticket,k=a.community_info;f=(f=a.hive_initialization_options)==null?void 0:f.debug_level;g=(g=(g=a.hive_initialization_options)==null?void 0:g.hive_tech_order.map(function(a){var b=d("GraphQLVideoP2PSettings").hiveTechOrderOrNull(a);b==null&&a!=null&&c("recoverableViolation")("Invalid hive tech order: '"+a+"'","comet_video_player");return b}).filter(Boolean))!=null?g:[];h=(h=a.hive_initialization_options)==null?void 0:(h=h.hive_java)==null?void 0:h.min_version;i=((i=a.hive_initialization_options)==null?void 0:i.hive_java)?{minVersion:h}:null;h=a.hive_initialization_options?{HiveJava:i,debugLevel:f,hiveTechOrder:g}:null;f={communityId:(a=k==null?void 0:k.community_id)!=null?a:"unknowncustomer",communityName:(i=k==null?void 0:k.community_name)!=null?i:"Unknown Customer"};b={community_info:f,config:e,hive_initialization_options:h,ticket:j}}return b}function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoP2PSettings_video.graphql"),a);var e=(i||(i=c("useUnsafeRef_DEPRECATED")))(null),f=i(null);a=j((a=a.p2p_settings)!=null?a:null);var g=JSON.stringify(a);if(e.current!==g){e.current=(e=g)!=null?e:null;f.current=(g=a)!=null?g:null}return f.current}g["default"]=a}),98);
__d("useVideoImplementationsParamsRelayImpl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"scrubbing_preference",value:"MPEG_DASH"}],b=[{}],c={alias:null,args:null,concreteType:"XFBVideoDeliveryFailureReason",kind:"LinkedField",name:"failure_reason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_params",storageKey:null}],storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoImplementationsParamsRelayImpl_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_use_oz",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_user_preferred_language",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,concreteType:"SphericalVideoFallbackUrls",kind:"LinkedField",name:"spherical_video_fallback_urls",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sd",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comet_video_player_nextgendash_availability",storageKey:null},{alias:"videoDeliveryLegacyFields",args:[{kind:"Literal",name:"negate",value:!0}],concreteType:"Video",kind:"LinkedField",name:"if_viewer_should_use_video_delivery_response",plural:!1,selections:[{alias:"dash_manifest_xml_string",args:a,kind:"ScalarField",name:"playlist",storageKey:'playlist(scrubbing_preference:"MPEG_DASH")'},{alias:"dash_manifest_url",args:a,kind:"ScalarField",name:"playable_url",storageKey:'playable_url(scrubbing_preference:"MPEG_DASH")'},{alias:"browser_native_sd_url",args:null,kind:"ScalarField",name:"playable_url",storageKey:null},{alias:"browser_native_hd_url",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"HD")'}],storageKey:"if_viewer_should_use_video_delivery_response(negate:true)"},{alias:"videoDeliveryResponseFragment",args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_should_use_video_delivery_response",plural:!1,selections:[{kind:"CatchField",field:{alias:"videoDeliveryResponseResult",args:[{kind:"Literal",name:"video_delivery_request",value:{dash_manifest_requests:b,dash_manifest_url_requests:b,hls_playlist_url_requests:b,progressive_url_requests:[{quality:"SD"},{quality:"HD"}]}}],concreteType:"XFBVideoDeliveryResponse",kind:"LinkedField",name:"video_delivery_response",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBDashManifestResponse",kind:"LinkedField",name:"dash_manifests",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"manifest_xml",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"XFBDashManifestUrlResponse",kind:"LinkedField",name:"dash_manifest_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"manifest_url",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"XFBProgressiveUrlResponse",kind:"LinkedField",name:"progressive_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"progressive_url",storageKey:null},c,{alias:null,args:null,concreteType:"XFBProgressiveUrlMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"quality",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBHlsPlaylistUrlResponse",kind:"LinkedField",name:"hls_playlist_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"hls_playlist_url",storageKey:null},c],storageKey:null}],storageKey:'video_delivery_response(video_delivery_request:{"dash_manifest_requests":[{}],"dash_manifest_url_requests":[{}],"hls_playlist_url_requests":[{}],"progressive_url_requests":[{"quality":"SD"},{"quality":"HD"}]})'},to:"RESULT"}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("useVideoImplementationsParamsRelayImpl",["CometRelay","CometVideoPlayerNextgendashAvailability","getJSEnumSafe","react","react-compiler-runtime","useVideoImplementationsParamsRelayImpl_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a,e){var f,g,i,j,k,l,m,n=d("react-compiler-runtime").c(20);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoImplementationsParamsRelayImpl_video.graphql"),a);(f=a.spherical_video_fallback_urls)==null?void 0:f.hd;(f=a.spherical_video_fallback_urls)==null?void 0:f.sd;(f=a.videoDeliveryLegacyFields)==null?void 0:f.dash_manifest_xml_string;(f=a.videoDeliveryLegacyFields)==null?void 0:f.dash_manifest_url;(f=a.videoDeliveryLegacyFields)==null?void 0:f.browser_native_hd_url;(f=a.videoDeliveryLegacyFields)==null?void 0:f.browser_native_sd_url;f=(f=a.videoDeliveryLegacyFields)==null?void 0:f.browser_native_hd_url;g=(g=a.videoDeliveryLegacyFields)==null?void 0:g.browser_native_sd_url;i=(i=a.videoDeliveryLegacyFields)==null?void 0:i.dash_manifest_url;j=(j=a.videoDeliveryLegacyFields)==null?void 0:j.dash_manifest_xml_string;if(n[0]!==a.comet_video_player_nextgendash_availability){var o;o=(o=c("getJSEnumSafe")(c("CometVideoPlayerNextgendashAvailability"),a.comet_video_player_nextgendash_availability))!=null?o:"UNAVAILABLE_FROM_JS_NO_INFO_FROM_SERVER";n[0]=a.comet_video_player_nextgendash_availability;n[1]=o}else o=n[1];k=(k=a.spherical_video_fallback_urls)==null?void 0:k.hd;l=(l=a.spherical_video_fallback_urls)==null?void 0:l.sd;m=(m=a.videoDeliveryResponseFragment)==null?void 0:m.videoDeliveryResponseResult;var p;n[2]!==e.dashManifestUrlOverride_DO_NOT_USE||n[3]!==e.minQualityPreferenceOverrideFromProductSurface||n[4]!==e.preferBrowserNativeImplementation||n[5]!==e.videoPlayerShakaConfig||n[6]!==f||n[7]!==g||n[8]!==i||n[9]!==j||n[10]!==o||n[11]!==k||n[12]!==l||n[13]!==m||n[14]!==a.audio_user_preferred_language||n[15]!==a.can_use_oz||n[16]!==a.id||n[17]!==a.is_spherical||n[18]!==a.min_quality_preference?(p={browserNativeHdUrl:f,browserNativeSdUrl:g,canUseOz:a.can_use_oz,dashManifestUrl:i,dashManifestUrlOverride_DO_NOT_USE:e.dashManifestUrlOverride_DO_NOT_USE,dashManifestXmlString:j,initialAudioUserPreferredLanguage:a.audio_user_preferred_language,isSpherical:a.is_spherical,minQualityPreference:a.min_quality_preference,minQualityPreferenceOverrideFromProductSurface:e.minQualityPreferenceOverrideFromProductSurface,nextgendashAvailability:o,preferBrowserNativeImplementation:e.preferBrowserNativeImplementation,sphericalVideoFallbackHdUrl:k,sphericalVideoFallbackSdUrl:l,videoDeliveryResponseResult:m,videoFBID:a.id,videoPlayerShakaConfig:e.videoPlayerShakaConfig},n[2]=e.dashManifestUrlOverride_DO_NOT_USE,n[3]=e.minQualityPreferenceOverrideFromProductSurface,n[4]=e.preferBrowserNativeImplementation,n[5]=e.videoPlayerShakaConfig,n[6]=f,n[7]=g,n[8]=i,n[9]=j,n[10]=o,n[11]=k,n[12]=l,n[13]=m,n[14]=a.audio_user_preferred_language,n[15]=a.can_use_oz,n[16]=a.id,n[17]=a.is_spherical,n[18]=a.min_quality_preference,n[19]=p):p=n[19];e=p;return e}g["default"]=a}),98);
__d("VideoPlayerShakaConfigContextProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.setContext=function(a,b){if(this.$1[a]!==b){var c;this.$1=babelHelpers["extends"]({},this.$1,(c={},c[a]=b,c))}};b.setAllContexts=function(a){this.$1=a};b.getAllContexts=function(){return this.$1};return a}();f["default"]=a}),66);
__d("VideoPlayerShakaConfig",["VideoPlayerContextSensitiveConfigResolver","VideoPlayerShakaConfigContextProvider"],(function(a,b,c,d,e,f,g){var h={};a=function(){function a(a,b,d){this.$1=new(c("VideoPlayerShakaConfigContextProvider"))(),this.$2=b||null,this.$3=new(c("VideoPlayerContextSensitiveConfigResolver"))(d),this.$3.setContexts(a||{}),a&&this.$1.setAllContexts(a)}a.setGlobalOverrideConfig=function(a){h=a};var b=a.prototype;b.setContext=function(a,b){var c=this.$1.getAllContexts();this.$1.setContext(a,b);a=this.$1.getAllContexts();c!==a&&this.$3.setContexts(a)};b.setOverrideConfig=function(a){this.$2=a};b.getBool=function(a,b){a=this.$4(a,b);return typeof a==="boolean"?a:b};b.getNumber=function(a,b){a=this.$4(a,b);return typeof a==="number"?a:b};b.getString=function(a,b){a=this.$4(a,b);return typeof a==="string"?a:b};b.getAllContexts=function(){return this.$1.getAllContexts()};b.$4=function(a,b){if(!!h&&typeof h[a]===typeof b)return h[a];if(typeof this.$3.getValue(a)===typeof b)return this.$3.getValue(a);return!!this.$2&&typeof this.$2[a]===typeof b?this.$2[a]:null};return a}();g["default"]=a}),98);
__d("prepareVideoPlayerImplementations",["ErrorMetadata","VideoPlayerOzImplementationData","VideoPlayerOzImplementationV2.react","VideoPlayerOzWWWConfig","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerShakaConfig","cr:8921","cr:8922","emptyFunction","err","getErrorSafe","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=(e=b("cr:8922"))==null?void 0:e.makeNextgendashEngineData;function a(a){var e=a.browserNativeHdUrl,f=a.browserNativeSdUrl,g=a.canUseOz,j=a.dashManifestUrl,k=a.dashManifestUrlOverride_DO_NOT_USE,l=a.dashManifestXmlString,m=a.initialAudioUserPreferredLanguage,n=a.isBroadcast,o=a.isLiveStreaming,p=a.isSpherical,q=a.minQualityPreference,r=a.minQualityPreferenceOverrideFromProductSurface,s=a.nextgendashAvailability,t=a.preferBrowserNativeImplementation,u=a.sphericalVideoFallbackHdUrl,v=a.sphericalVideoFallbackSdUrl,w=a.videoDeliveryResponseResult,x=a.videoFBID;a=a.videoPlayerShakaConfig;var y=[],z=[],A=null,B=null,C=null,D=null,E=[],F=[],G=[],H=[],I=[];if(w!=null)if(w.ok!==!0){var J=c("err")("VideoDeliveryResponse API failed: %s",JSON.stringify(w.errors.map(function(a){try{JSON.stringify(a);return a}catch(b){return String(a)}})));J.name="VideoDeliveryResponseAPIFailed";E.push(J)}else{J=w.value;w=i(F,"dash_manifests","DashManifest",J.dash_manifests,c("emptyFunction").thatReturnsTrue,function(a){return a.manifest_xml!=null&&a.manifest_xml!==""?a:null})[0];var K=i(G,"dash_manifest_urls","DashManifestURL",J.dash_manifest_urls,c("emptyFunction").thatReturnsTrue,function(a){return a.manifest_url!=null&&a.manifest_url!==""?a:null})[0],L=i(H,"progressive_urls","ProgressiveURLHD",J.progressive_urls,function(a){return((a=a.metadata)==null?void 0:a.quality)==="HD"},function(a){return a.progressive_url!=null?a:null})[0],M=i(H,"progressive_urls","ProgressiveURLSD",J.progressive_urls,function(a){return((a=a.metadata)==null?void 0:a.quality)==="SD"},function(a){return a.progressive_url!=null?a:null})[0];A=(w=w==null?void 0:w.manifest_xml)!=null?w:null;B=(w=K==null?void 0:K.manifest_url)!=null?w:null;C=(K=L==null?void 0:L.progressive_url)!=null?K:null;D=(w=M==null?void 0:M.progressive_url)!=null?w:null;if(C==null&&D==null&&c("gkx")("8034")){L=i(I,"hls_playlist_urls","HLSPlaylistURL",J.hls_playlist_urls,c("emptyFunction").thatReturnsTrue,function(a){return a.hls_playlist_url!=null?a:null})[0];C=null;D=(K=L==null?void 0:L.hls_playlist_url)!=null?K:null}}else{A=(M=l)!=null?M:null;B=(w=j)!=null?w:null;C=(J=e)!=null?J:null;D=(L=f)!=null?L:null}if(p===!0){C=(K=u)!=null?K:C;D=(l=v)!=null?l:D}if(t!==!0){if(h&&b("cr:8921")&&(E.length===0&&(F.length===0||G.length===0||B!=null||A!=null))){M=h({canUseOz:g,dashManifestUrl:B,dashManifestUrlOverride_DO_NOT_USE:k,dashManifestXmlString:A,experimentationConfig:new(c("VideoPlayerShakaConfig"))(),initialAudioUserPreferredLanguage:m,minQualityPreference:q,nextgendashAvailability:s});M instanceof Error?z.push(["VideoPlayerNextgendashImplementation",M]):y.push({Component:b("cr:8921"),data:M,typename:"VideoPlayerNextgendashImplementation"})}if(E.length===0&&(F.length===0||G.length===0||B!=null||A!=null)){w=d("VideoPlayerOzImplementationData").makeOzImplementationData({canUseOz:g,dashManifestUrl:B,dashManifestUrlOverride_DO_NOT_USE:k,dashManifestXmlString:A,experimentationConfig:new(c("VideoPlayerOzWWWConfig"))((j=a)!=null?j:new(c("VideoPlayerShakaConfig"))()),initialAudioUserPreferredLanguage:m,minQualityPreference:q});w instanceof Error?z.push(["VideoPlayerOzImplementation",w]):y.push({Component:c("VideoPlayerOzImplementationV2.react"),data:w,typename:"VideoPlayerOzImplementation"})}}else{e=c("err")("preferBrowserNativeImplementation="+String(t));e.name="VideoImplementationsPreferBrowserNative";h&&b("cr:8921")&&z.push(["VideoPlayerNextgendashImplementation",e]);z.push(["VideoPlayerOzImplementation",e])}if(E.length===0&&(H.length===0||C!=null||D!=null)){f=(J=r)!=null?J:q;L=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:C,hdSrcPreferred:c("gkx")("24369")||f==="HD"||f==="UHD",sdSrc:D});L instanceof Error?z.push(["VideoPlayerProgressiveImplementation",L]):y.push({Component:c("VideoPlayerProgressiveImplementationV2.react"),data:L,typename:"VideoPlayerProgressiveImplementation"})}u=y.length===0;K=[];K.push.apply(K,E);K.push.apply(K,F);K.push.apply(K,G);K.push.apply(K,H);K.push.apply(K,I);K.push.apply(K,z.map(function(a){var b,d=a[0];a=a[1];a=c("getErrorSafe")(a);d=d.replace(/^VideoPlayer/,"").replace(/(Implementation)|(Engine)$/,"")+"Engine";b=c("err").apply(void 0,["Cannot use "+d+" / "+((b=a.messageFormat)!=null?b:a.message)].concat(a.messageFormat!=null?(b=a.messageParams)!=null?b:[]:[]));b.name="VideoPlayerCannotUse"+d+"/"+a.name;return b}));v=null;if(u||c("gkx")("24370")&&K.length>0){l=new Map();for(s=0;s<K.length;++s){M=K[s];B=M.name+": "+((g=M.messageFormat)!=null?g:M.message);l.has(B)||l.set(B,M)}k=Array.from(l.values());A=[];a=[];j=[];for(m=0;m<k.length;++m){w=k[m];A.push(w.name);a.push((t=w.messageFormat)!=null?t:w.message);w.messageFormat!=null&&w.messageParams!=null&&j.push.apply(j,w.messageParams)}v=c("err").apply(void 0,[(u?p===!0?"Cannot play 360 video: ":"Cannot play video: ":p===!0?"Warning for 360 video: ":"Warning: ")+a.join(" ++ ")].concat(j));v.name=A.join("++");v.type=u?"fatal":"warn";v.project="comet_video_player";r=(e=v.metadata)!=null?e:new(c("ErrorMetadata"))();v.metadata=r;x!=null&&r.addEntry("COMET_VIDEO","VIDEO_ID",String(x));r.addEntry("COMET_VIDEO","VIDEO_IMPLEMENTATION_DEBUG_DATA",JSON.stringify({isBroadcast:n,isLiveStreaming:o,isSpherical:p}));if(u)throw v}return{implementations:y,warning:v}}function i(a,b,c,d,e,f){e=d.filter(e);var g=e.map(function(a){return a.failure_reason==null?f(a):null}).filter(Boolean);if(e.length===0)a.push(k(b,c,d));else if(g.length===0){e=e.filter(function(a){return a.failure_reason!=null});e.length===0?a.push(l(b,c,d)):a.push.apply(a,e.map(function(a){return a.failure_reason!=null?j(b,c,a.failure_reason,a.metadata):null}).filter(Boolean))}return g}function j(a,b,d,e){try{var f;f=(f=JSON.stringify(e))!=null?f:String(e)}catch(a){f=String(e)}e=c("err").apply(void 0,["VideoDeliveryResponse "+a+" failure for "+b+": "+d.type+"; metadata=%s"+(d.message_format!=null&&d.message_format!==""?"; "+d.message_format:""),f].concat(d.message_params));e.name="VideoDeliveryResponseFailureReason/"+a+"("+b+")/"+d.type;return e}function k(a,b,d){try{d=(d=JSON.stringify(d))!=null?d:"N/A"}catch(a){d="N/A"}d=c("err")("VideoDeliveryResponse "+a+" failure for "+b+": no matching items; all items: %s",d);d.name="VideoDeliveryResponseContractViolation/"+a+"("+b+")/no_matching";return d}function l(a,b,d){try{d=(d=JSON.stringify(d))!=null?d:"N/A"}catch(a){d="N/A"}d=c("err")("VideoDeliveryResponse "+a+" failure for "+b+": no succeeded or failed items; all items: %s",d);d.name="VideoDeliveryResponseContractViolation/"+a+"("+b+")/no_success_and_failure";return d}g["default"]=a}),98);
__d("useVideoPlayerImplementations",["FBLogger","gkx","prepareVideoPlayerImplementations","react","react-compiler-runtime","useEmptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useEffect;e.useMemo;function a(a){var b=d("react-compiler-runtime").c(3),e,f;b[0]!==a?(e=function(){if(a){var b,d,e;b=(b=a.messageFormat)!=null?b:a.message;d=a.messageFormat!=null?(d=a.messageParams)!=null?d:[]:[];(e=c("FBLogger")("comet_video_player").catching(a)).warn.apply(e,[b].concat(d))}},f=[a],b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);i(e,f)}var j=c("gkx")("24370")?a:c("useEmptyFunction");function b(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=c("prepareVideoPlayerImplementations")(a),b[0]=a,b[1]=e):e=b[1];a=e;b=a;j(b.warning);return b}g["default"]=b}),98);
__d("useVideoImplementationsRelayImpl",["react","react-compiler-runtime","useVideoImplementationsParamsRelayImpl","useVideoPlayerImplementations"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useDebugValue;function a(a,b){var e=d("react-compiler-runtime").c(4);a=c("useVideoImplementationsParamsRelayImpl")(a,b);b=c("useVideoPlayerImplementations")(a);var f=b.implementations;b=b.warning;var g;e[0]!==f||e[1]!==a||e[2]!==b?(g={implementations:f,params:a,warning:b},e[0]=f,e[1]=a,e[2]=b,e[3]=g):g=e[3];i(g);return f}g["default"]=a}),98);
__d("useVideoImplementationsRelay",["useVideoImplementationsRelayImpl"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("useVideoImplementationsRelayImpl")}),98);
__d("useVideoPlayerAudioAvailabilityInfoRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAudioAvailabilityInfoRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_availability",storageKey:null},{alias:null,args:null,concreteType:"VideoMutedSegment",kind:"LinkedField",name:"muted_segments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"mute_start_time_in_sec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mute_end_time_in_sec",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAudioAvailabilityInfoRelay",["CometRelay","VideoPlayerAudioAvailabilityInfo","react","react-compiler-runtime","useVideoPlayerAudioAvailabilityInfoRelay_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a){var c=d("react-compiler-runtime").c(3);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerAudioAvailabilityInfoRelay_video.graphql"),a);var e;c[0]!==a.audio_availability||c[1]!==a.muted_segments?(e=d("VideoPlayerAudioAvailabilityInfo").makeVideoPlayerAudioAvailabilityInfo({audioAvailability:a.audio_availability,mutedSegmentsUnsanitized:a.muted_segments==null?[]:a.muted_segments.map(j)}),c[0]=a.audio_availability,c[1]=a.muted_segments,c[2]=e):e=c[2];a=e;return a}function j(a){return{muteEndTimeInSec:a.mute_end_time_in_sec,muteStartTimeInSec:a.mute_start_time_in_sec}}g["default"]=a}),98);
__d("useVideoPlayerAudioSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAudioSettings_video",selections:[{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"video_volume_setting",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_user_preferred_language",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAudioSettings",["AudioSettingsVolumeSetting","CometRelay","react","react-compiler-runtime","useVideoPlayerAudioSettings_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;var j=1;e=.5;var k=null,l=new Map([["default",j],["quiet",e]]);function a(a){var e,f=d("react-compiler-runtime").c(5);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerAudioSettings_video.graphql"),a);e=(e=a.audio_settings)==null?void 0:e.video_volume_setting;var g="DEFAULT";bb0:switch(e){case"DEFAULT":case"QUIET":g=e;break bb0;default:}e=c("AudioSettingsVolumeSetting")[g];if(f[0]!==e){g=(g=l.get(e))!=null?g:j;f[0]=e;f[1]=g}else g=f[1];e=g;a=(g=a.audio_user_preferred_language)!=null?g:k;f[2]!==a||f[3]!==e?(g={audioUserPreferredLanguage:a,preferredVolumeSetting:e},f[2]=a,f[3]=e,f[4]=g):g=f[4];a=g;return a}g["default"]=a}),98);
__d("useVideoPlayerCaptionsSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerCaptionsSettings_video",selections:[{alias:null,args:null,concreteType:"CaptionsSettings",kind:"LinkedField",name:"captions_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"always_show_captions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_background_opacity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_text_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_text_size",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerCaptionsSettings",["CometRelay","react-compiler-runtime","useVideoPlayerCaptionsSettings_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i="DEFAULT",j="BLACK",k="WHITE",l="DEFAULT";function a(a){var c,e,f,g,m=d("react-compiler-runtime").c(8);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerCaptionsSettings_video.graphql"),a);c=(c=(c=a.captions_settings)==null?void 0:c.always_show_captions)!=null?c:!1;e=(e=(e=a.captions_settings)==null?void 0:e.captions_background_color)!=null?e:j;f=(f=(f=a.captions_settings)==null?void 0:f.captions_background_opacity)!=null?f:i;g=(g=(g=a.captions_settings)==null?void 0:g.captions_text_color)!=null?g:k;a=(a=(a=a.captions_settings)==null?void 0:a.captions_text_size)!=null?a:l;var n;m[0]!==e||m[1]!==f||m[2]!==g||m[3]!==a?(n={captionsBackgroundColor:e,captionsBackgroundOpacity:f,captionsTextColor:g,captionsTextSize:a},m[0]=e,m[1]=f,m[2]=g,m[3]=a,m[4]=n):n=m[4];m[5]!==c||m[6]!==n?(e={alwaysShowCaptions:c,captionDisplayStyle:n},m[5]=c,m[6]=n,m[7]=e):e=m[7];return e}g["default"]=a}),98);
__d("useVideoPlayerIMFFromVideoMetadata",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useDebugValue;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(5),c=a.isVideoBroadcast;a=a.specInlineJson;c=c===!0;var e;b[0]!==c||b[1]!==a?(e={imfExpectedFromEmsg:c,specInlineJson:a},b[0]=c,b[1]=a,b[2]=e):e=b[2];c=e;a=c;b[3]!==a?(e={useVideoPlayerIMFFromVideoMetadata:a},b[3]=a,b[4]=e):e=b[4];i(e);return a}g["default"]=a}),98);
__d("useVideoPlayerIMFFromVideoMetadataRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerIMFFromVideoMetadataRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null},{alias:null,args:null,concreteType:"VideoIMFData",kind:"LinkedField",name:"video_imf_data",plural:!1,selections:[{args:null,documentName:"useVideoPlayerIMFFromVideoMetadataRelay_video",fragmentName:"useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data",fragmentPropName:"video_imf_data",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"spec_inline_json",storageKey:null}],type:"VideoIMFData",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerIMFFromVideoMetadataRelay",["CometRelay","react-compiler-runtime","useVideoPlayerIMFFromVideoMetadata","useVideoPlayerIMFFromVideoMetadataRelay_video.graphql","useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var e=d("react-compiler-runtime").c(4);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerIMFFromVideoMetadataRelay_video.graphql"),a);var f=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data.graphql"),a.video_imf_data);f=f==null?void 0:f.spec_inline_json;var g;e[0]!==f||e[1]!==a.id||e[2]!==a.is_video_broadcast?(g={isVideoBroadcast:a.is_video_broadcast,specInlineJson:f,videoID:a.id},e[0]=f,e[1]=a.id,e[2]=a.is_video_broadcast,e[3]=g):g=e[3];return c("useVideoPlayerIMFFromVideoMetadata")(g)}g["default"]=a}),98);
__d("useVideoPlayerLiveLatencyKnobSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerLiveLatencyKnobSettings_video",selections:[{alias:null,args:null,concreteType:"VideoBroadcastLowLatencyConfig",kind:"LinkedField",name:"broadcast_low_latency_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ll_desired_latency_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ll_latency_tolerance_ms",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerLiveLatencyKnobSettings",["CometRelay","react-compiler-runtime","useVideoPlayerLiveLatencyKnobSettings_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c,e=d("react-compiler-runtime").c(3);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerLiveLatencyKnobSettings_video.graphql"),a);c=(c=(c=a.broadcast_low_latency_config)==null?void 0:c.ll_desired_latency_ms)!=null?c:0;a=(a=(a=a.broadcast_low_latency_config)==null?void 0:a.ll_latency_tolerance_ms)!=null?a:0;var f;e[0]!==c||e[1]!==a?(f={desiredLatencyMs:c,latencyToleranceMs:a},e[0]=c,e[1]=a,e[2]=f):f=e[2];return f}g["default"]=a}),98);
__d("useVideoPlayerShakaConfig_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaConfig_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_menu_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbls_tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_sensitive_broadcast",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_latency_setting",storageKey:null}]}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaConfig",["CometRelay","VideoPlayerConnectionQuality","VideoPlayerOzWWWGlobalConfig","VideoPlayerShakaConfig","oz-player/networks/OzBandwidthEstimator","react","react-compiler-runtime","useSelectedLatencySetting","useVideoPlayerShakaConfig_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useEffect,k=e.useState;function a(a,e){var f=d("react-compiler-runtime").c(17);e=e.adClientToken;var g=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerShakaConfig_video.graphql"),a),i=e!=null,m=g.is_spherical===!0,n=g.is_gaming_video===!0;e=c("useSelectedLatencySetting")((a=g.id)!=null?a:"null",g.selected_latency_setting);var o=e[0];f[0]!==i||f[1]!==n||f[2]!==m||f[3]!==o||f[4]!==g.fbls_tier||f[5]!==g.is_latency_menu_enabled||f[6]!==g.is_latency_sensitive_broadcast||f[7]!==g.is_live_streaming?(a=function(){var a;return new(c("VideoPlayerShakaConfig"))({connection_quality:d("VideoPlayerConnectionQuality").evaluate(l),content_category:n?"gaming":"general",fbls_tier:((a=g.fbls_tier)==null?void 0:a.startsWith("user"))?"user":"general",is_ad:i,is_latency_sensitive_broadcast:g.is_latency_sensitive_broadcast===!0,is_live:g.is_live_streaming===!0,is_spherical:m,latency_level:g.is_latency_menu_enabled===!0?o:"normal",player_format:"inline",servable_via_fmbs:!1,streaming_implementation:"default"})},f[0]=i,f[1]=n,f[2]=m,f[3]=o,f[4]=g.fbls_tier,f[5]=g.is_latency_menu_enabled,f[6]=g.is_latency_sensitive_broadcast,f[7]=g.is_live_streaming,f[8]=a):a=f[8];e=k(a);var p=e[0];f[9]!==i||f[10]!==p?(a=function(){p.setContext("is_ad",i)},e=[p,i],f[9]=i,f[10]=p,f[11]=a,f[12]=e):(a=f[11],e=f[12]);j(a,e);f[13]!==m||f[14]!==p?(a=function(){p.setContext("is_spherical",m)},e=[p,m],f[13]=m,f[14]=p,f[15]=a,f[16]=e):(a=f[15],e=f[16]);j(a,e);return p}function l(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerBuilder_init",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"VideoPlayerShakaPerformanceLoggerInit",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerBuilder_video",selections:[{alias:"video_player_shaka_performance_logger_init2",args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{args:null,documentName:"useVideoPlayerShakaPerformanceLoggerBuilder_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerBuilder_init",fragmentPropName:"init",kind:"ModuleImport"},{alias:null,args:null,kind:"ScalarField",name:"per_session_sampling_rate",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerBuilder",["CometRelay","react-compiler-runtime","useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql","useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql");function a(a){var c=d("react-compiler-runtime").c(5);a=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql"),a);var e;c[0]!==a.video_player_shaka_performance_logger_init2?(e=a.video_player_shaka_performance_logger_init2?d("CometRelay").ModuleResource.read(a.video_player_shaka_performance_logger_init2):null,c[0]=a.video_player_shaka_performance_logger_init2,c[1]=e):e=c[1];e=e;a=(a=a.video_player_shaka_performance_logger_init2)==null?void 0:a.per_session_sampling_rate;if(e!=null&&a!=null){var f;c[2]!==e||c[3]!==a?(f=new e({perSessionSampleRate:a}),c[2]=e,c[3]=a,c[4]=f):f=c[4];return f}return null}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"VideoPlayerShakaPerformanceLoggerInit",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video",selections:[{alias:null,args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{args:null,documentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init",fragmentPropName:"init",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_player_shaka_performance_logger_should_sample",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl",["CometRelay","react-compiler-runtime","useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql","useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql");function a(a){var c=d("react-compiler-runtime").c(3);a=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql"),a);var e;c[0]!==a.video_player_shaka_performance_logger_init||c[1]!==a.video_player_shaka_performance_logger_should_sample?(e=a.video_player_shaka_performance_logger_init?d("CometRelay").ModuleResource.read(a.video_player_shaka_performance_logger_init):null,e!=null&&a.video_player_shaka_performance_logger_should_sample===!0&&e.forceShouldSample(),c[0]=a.video_player_shaka_performance_logger_init,c[1]=a.video_player_shaka_performance_logger_should_sample,c[2]=e):e=c[2];return e}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerRelay",["useVideoPlayerShakaPerformanceLoggerRelayImpl"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("useVideoPlayerShakaPerformanceLoggerRelayImpl")}),98);
__d("evaluateVideoPlayerVideoStatusFallbackCover",["fbt","ErrorMetadata","VideoPlayerFallbackCover.react","VideoStatusType","err","getGraphQLEnumSafe","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.disableVideoStatusFallbackIf,d=a.overrideGkForVideoStatusFallback_EXPERIMENTAL,e=a.videoFBID;a=a.videoStatusTypeFromGraphQL;e=k({videoFBID:e,videoStatusTypeFromGraphQL:a});a=null;var f;if(d==null&&!c("gkx")("24384"))a=null,f="disabled_by_gk";else if(d===!1)a=null,f="disabled_by_gk_override";else if((b==null?void 0:b(e))===!0){a=null;f="disable_if:"+e.videoAvailabilityStatus+":"+((d=e.videoStatusTypeFromGraphQL)!=null?d:"null")}else{switch(e.videoAvailabilityStatus){case"unknown":a=null;break;case"ok":a=null;break;case"undiscoverable":a=null;break;case"unpublished":a=null;break;case"processing":b=c("gkx")("24385");a=j.jsx(c("VideoPlayerFallbackCover.react"),{debugError:b?e.debugError:null,message:h._(/*BTDS*/"__JHASH__5QY1OpMW_Z9__JHASH__"),showDebugWithoutError:b,showLearnMoreLink:!1});break;case"processing_failed":a=j.jsx(c("VideoPlayerFallbackCover.react"),{debugError:e.debugError,message:h._(/*BTDS*/"__JHASH__iEIGtJDYBZC__JHASH__")});break;case"deleted":a=j.jsx(c("VideoPlayerFallbackCover.react"),{debugError:e.debugError,message:h._(/*BTDS*/"__JHASH__xFsW4QbgqjN__JHASH__")});break;default:e.videoAvailabilityStatus}f=(a==null?"not_needed_for_status:":"fallback_for_status:")+e.videoAvailabilityStatus+":"+String(e.videoStatusTypeFromGraphQL)}return{fallback:a,fallbackDebug:f,videoStatus:e}}function k(a){var b=a.videoFBID;a=a.videoStatusTypeFromGraphQL;var d=[c("getGraphQLEnumSafe")(c("VideoStatusType"),6)].includes(a)?"ok":[c("getGraphQLEnumSafe")(c("VideoStatusType"),9)].includes(a)?"unpublished":[c("getGraphQLEnumSafe")(c("VideoStatusType"),11)].includes(a)?"undiscoverable":[c("getGraphQLEnumSafe")(c("VideoStatusType"),5),c("getGraphQLEnumSafe")(c("VideoStatusType"),14),c("getGraphQLEnumSafe")(c("VideoStatusType"),1),c("getGraphQLEnumSafe")(c("VideoStatusType"),3)].includes(a)?"processing":[c("getGraphQLEnumSafe")(c("VideoStatusType"),13),c("getGraphQLEnumSafe")(c("VideoStatusType"),8),c("getGraphQLEnumSafe")(c("VideoStatusType"),7)].includes(a)?"processing_failed":[c("getGraphQLEnumSafe")(c("VideoStatusType"),10),c("getGraphQLEnumSafe")(c("VideoStatusType"),2)].includes(a)?"deleted":"unknown",e=d==="ok"||d==="unpublished"||d==="undiscoverable"||d==="processing_failed"||d==="deleted"||d==="unknown",f=null;if(d!=="ok"){var g;f=c("err")("Video is now %s due to video_status_type=%s",d,a);g=(g=f.metadata)!=null?g:new(c("ErrorMetadata"))();g.addEntry("COMET_VIDEO","VIDEO_ID",(b=b)!=null?b:"");f.metadata=g;f.name="VideoPlayerVideoStatusInfo"}b={debugError:f,isTerminalStatus:e,videoAvailabilityStatus:d,videoStatusTypeFromGraphQL:a};return b}g["default"]=a}),226);
__d("useVideoPlayerVideoStatusRelayWithFallbackCover_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerVideoStatusRelayWithFallbackCover_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_status_type",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerVideoStatusRelayWithFallbackCover",["CometRelay","evaluateVideoPlayerVideoStatusFallbackCover","react","react-compiler-runtime","useInterval","useVideoPlayerVideoStatusRelayWithFallbackCover_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useDebugValue;function a(a,e,f,g){var i=d("react-compiler-runtime").c(5);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerVideoStatusRelayWithFallbackCover_video.graphql"),a);var k;i[0]!==f||i[1]!==g||i[2]!==a.id||i[3]!==a.video_status_type?(k=c("evaluateVideoPlayerVideoStatusFallbackCover")({disableVideoStatusFallbackIf:f,overrideGkForVideoStatusFallback_EXPERIMENTAL:g,videoFBID:a.id,videoStatusTypeFromGraphQL:a.video_status_type}),i[0]=f,i[1]=g,i[2]=a.id,i[3]=a.video_status_type,i[4]=k):k=i[4];f=k;c("useInterval")(e,f.videoStatus.isTerminalStatus||f.fallback==null?0:1e4);j(f);return f}g["default"]=a}),98);
__d("VideoPlayerRelay.react",["CastingStateHooks","CometPlaceholder.react","CometRelay","CometTrackingNodeProvider.react","ErrorMetadata","FBLogger","InstreamVideoAdBreaksPlayer.react","JSResourceForInteraction","VideoPlayerErrorBoundary.react","VideoPlayerRelay_video.graphql","VideoPlayerUnsupportedBrowserMessageFallback.react","VideoPlayerXImplRelayWrapper.react","XFBLatencySensitiveTypeUtils.facebook","computeAspectRatio","cr:759","defaultErrorBoundaryFallback","deferredLoadComponent","err","getVideoPlayerAutoplayProps","gkx","lazyLoadComponent","normalizeVideoPlayerLoopCount","react","react-compiler-runtime","requireDeferredForDisplay","useEmptyFunction","useGraphQLVideoAutoplayGatingResult","useGraphQLVideoDRMInfo","useGraphQLVideoP2PSettings","useVideoImplementationsRelay","useVideoPlayerAudioAvailabilityInfoRelay","useVideoPlayerAudioSettings","useVideoPlayerAvailableCaptionsLocalesFromRelay","useVideoPlayerCaptionsSettings","useVideoPlayerIMFFromVideoMetadataRelay","useVideoPlayerLiveLatencyKnobSettings","useVideoPlayerShakaConfig","useVideoPlayerShakaPerformanceLoggerBuilder","useVideoPlayerShakaPerformanceLoggerRelay","useVideoPlayerVideoStatusRelayWithFallbackCover"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useEffect,l=e.useRef,m=e.useTransition,n=(f=b("cr:759"))!=null?f:c("useEmptyFunction"),o=c("gkx")("24325"),p=c("gkx")("24326"),q=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerSphericalFallbackCover.react").__setRef("VideoPlayerRelay.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("VideoPlayerVideoIsCastingCover.react").__setRef("VideoPlayerRelay.react"));function s(a){var e=d("react-compiler-runtime").c(13),f,g;e[0]!==a?(g=a.video,f=babelHelpers.objectWithoutPropertiesLoose(a,["video"]),e[0]=a,e[1]=f,e[2]=g):(f=e[1],g=e[2]);a=d("CometRelay").useRefetchableFragment(h!==void 0?h:h=b("VideoPlayerRelay_video.graphql"),g);var i=a[0],n=a[1];g=m();var o=g[1];e[3]!==n?(a=function(){o(function(){n({},{fetchPolicy:"network-only"})})},e[3]=n,e[4]=a):a=e[4];g=a;a=c("useVideoPlayerVideoStatusRelayWithFallbackCover")(i,g,f.disableVideoStatusFallbackIf,f.overrideGkForVideoStatusFallback_EXPERIMENTAL);var p=a.fallback,q=a.fallbackDebug,r=a.videoStatus,s=l(null);e[5]!==q||e[6]!==i||e[7]!==r||e[8]!==p?(g=function(){var a=r,b=s.current;if(p!=null&&(a.videoAvailabilityStatus!==(b==null?void 0:b.videoAvailabilityStatus)||a.videoStatusTypeFromGraphQL!==(b==null?void 0:b.videoStatusTypeFromGraphQL))){s.current=r;c("FBLogger")("comet_video_player").addMetadata("COMET_VIDEO","VIDEO_ID",(a=i.id)!=null?a:"").warn("VideoPlayerRelay rendered the video status fallback: %s",q)}},e[5]=q,e[6]=i,e[7]=r,e[8]=p,e[9]=g):g=e[9];k(g);if(p!=null)return p;e[10]!==f||e[11]!==i?(a=j.jsx(t,babelHelpers["extends"]({},f,{video:i})),e[10]=f,e[11]=i,e[12]=a):a=e[12];return a}function t(a){var b,e=d("react-compiler-runtime").c(99),f=a.accessToken,g=a.adClientToken,h=a.audioOnly,i=a.autoplayGatingResult,k=a.bufferEndLimit,l=a.canAutoplay,m=a.children,s=a.disableLoadingIndicator,t=a.externalLogID,u=a.externalLogType,v=a.forceProgressive_EXPERIMENTAL,w=a.graphQLVideoDRMInfo,x=a.initialForceHD,y=a.initialTracePolicy,z=a.loadSequence,A=a.loggingConfig,B=a.loggingToSNAPLAdditionalData,C=a.loggingToVPLAdditionalData,D=a.loopCount,E=a.manifestURL_DO_NOT_USE,F=a.playerFormat,G=a.playerOriginOverride,H=a.portalingEnabled,I=a.portalingFromVideoID,ba=a.portalingPlaceMetaData,ca=a.portalingRenderPlaceholder,da=a.poster,ea=a.productAttribution,fa=a.renderVideoPixelsFit,J=a.seoWebCrawlerLookasideUrl,ga=a.seoWebCrawlerVideoTracks,ha=a.source_VPL_LOGGING_HACK,ia=a.startTimestamp,K=a.subOrigin,L=a.video,M=a.volumeSetting;a=a.wrapVideoPixels_EXPERIMENTAL;s=s===void 0?!1:s;v=v===void 0?!1:v;x=x===void 0?!1:x;F=F===void 0?"inline":F;var N=L.id;if(N==null||N===""){var O=c("err")("Cannot play video: Invalid video ID: %s",N===""?"an empty string":String(N));O.name="VideoPlayerInvalidVideoID";O.project="comet_video_player";throw O}O=L.dash_prefetch_experimental;var P=c("useVideoPlayerAvailableCaptionsLocalesFromRelay")(L),ja=(P==null?void 0:P.find(aa))!=null;if(e[0]!==((b=L.latency_sensitive_config)==null?void 0:b.broadcast_latency_sensitivity)){var Q;b=d("XFBLatencySensitiveTypeUtils.facebook").toJSEnum((b=L.latency_sensitive_config)==null?void 0:b.broadcast_latency_sensitivity);e[0]=(Q=L.latency_sensitive_config)==null?void 0:Q.broadcast_latency_sensitivity;e[1]=b}else b=e[1];Q=b;e[2]!==g?(b={adClientToken:g},e[2]=g,e[3]=b):b=e[3];b=c("useVideoPlayerShakaConfig")(L,b);var ka=n(N),la=c("useGraphQLVideoP2PSettings")(L),R=c("useGraphQLVideoDRMInfo")(L);R=(w=w)!=null?w:R;w=!!(R&&R.fairplayCert!==null);v=v===!0||w||o&&!!L.is_live_streaming||p&&typeof MediaSource==="undefined";w=x?"HD":null;e[4]!==E||e[5]!==v||e[6]!==w||e[7]!==b?(x={dashManifestUrlOverride_DO_NOT_USE:E,minQualityPreferenceOverrideFromProductSurface:w,preferBrowserNativeImplementation:v,videoPlayerShakaConfig:b},e[4]=E,e[5]=v,e[6]=w,e[7]=b,e[8]=x):x=e[8];E=c("useVideoImplementationsRelay")(L,x);v=c("useVideoPlayerCaptionsSettings")(L);w=c("useVideoPlayerAudioSettings")(L);b=c("useVideoPlayerLiveLatencyKnobSettings")(L);x=b.desiredLatencyMs;b=b.latencyToleranceMs;var ma=c("useVideoPlayerAudioAvailabilityInfoRelay")(L),S=c("useGraphQLVideoAutoplayGatingResult")(L),T;e[9]!==i||e[10]!==l||e[11]!==S?(T=c("getVideoPlayerAutoplayProps")(S,l,i),e[9]=i,e[10]=l,e[11]=S,e[12]=T):T=e[12];i=T;l=c("useVideoPlayerShakaPerformanceLoggerRelay")(L);S=c("useVideoPlayerShakaPerformanceLoggerBuilder")(L);T=c("useVideoPlayerIMFFromVideoMetadataRelay")(L);var U;e[13]!==F||e[14]!==K||e[15]!==L?(U=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("InstreamVideoAdBreaksPlayer.react"),{playerFormat:F,subOrigin:K,video:L})}),e[13]=F,e[14]=K,e[15]=L,e[16]=U):U=e[16];U=U;var V=d("CastingStateHooks").useCastingVideoID(),W=d("VideoPlayerUnsupportedBrowserMessageFallback.react").useVideoPlayerUnsupportedBrowserMessageFallback(L.unsupported_browser_message,N);if(W!=null)return W;W=L.permalink_url;var X=L.spherical_video_renderer,Y;e[17]!==F||e[18]!==X||e[19]!==K||e[20]!==W?(Y=X?j.jsx(d("CometRelay").MatchContainer,{match:X,props:{playerFormat:F,sphericalVideoRenderer:X,subOrigin:K,videoTahoeUrl:W}}):null,e[17]=F,e[18]=X,e[19]=K,e[20]=W,e[21]=Y):Y=e[21];X=Y;W=L.is_spherical;Y=L.is_spherical_enabled;var Z=L.permalink_url;if(W===!0&&Y!==!0){if(Z==null||Z===""){W=c("err")("Cannot play video: Empty permalink URL for a spherical video");W.name="VideoPlayerSphericalEmptyPermalinkURL";W.project="comet_video_player";Y=(Y=W.metadata)!=null?Y:new(c("ErrorMetadata"))();Y.addEntry("COMET_VIDEO","VIDEO_ID",N);W.metadata=Y;throw W}e[22]!==Z?(Y=j.jsx(q,{videoTahoeUrl:Z}),e[22]=Z,e[23]=Y):Y=e[23];return Y}if(V!=null&&V===N){e[24]!==L?(W=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(r,{video:L})}),e[24]=L,e[25]=W):W=e[25];return W}V=(Y=(Z=L.live_playback_instrumentation_configs)==null?void 0:Z.is_client_triggered_trace_enabled)!=null?Y:!1;e[26]!==D||e[27]!==L.is_looping||e[28]!==L.loop_count?(W=c("normalizeVideoPlayerLoopCount")(D,L.is_looping,L.loop_count),e[26]=D,e[27]=L.is_looping,e[28]=L.loop_count,e[29]=W):W=e[29];Z=W;e[30]!==L.height||e[31]!==L.width?(Y=c("computeAspectRatio")(L.width,L.height),e[30]=L.height,e[31]=L.width,e[32]=Y):Y=e[32];D=Y;W=c("gkx")("23009")?L.animated_image_caption:void 0;Y=L.is_podcast_video===!0||h;h=L.pmv_metadata!=null;J=(J=J)!=null?J:L.seo_web_crawler_lookaside_url;P=((P=P==null?void 0:P.length)!=null?P:0)>0;M=M!==void 0?M:w.preferredVolumeSetting;var $;e[33]!==l||e[34]!==f||e[35]!==g||e[36]!==ja||e[37]!==ma||e[38]!==w.audioUserPreferredLanguage||e[39]!==Q||e[40]!==k||e[41]!==v.alwaysShowCaptions||e[42]!==v.captionDisplayStyle||e[43]!==m||e[44]!==x||e[45]!==s||e[46]!==ka||e[47]!==t||e[48]!==u||e[49]!==R||e[50]!==la||e[51]!==E||e[52]!==O||e[53]!==y||e[54]!==U||e[55]!==V||e[56]!==b||e[57]!==z||e[58]!==A||e[59]!==B||e[60]!==C||e[61]!==Z||e[62]!==F||e[63]!==G||e[64]!==H||e[65]!==I||e[66]!==ba||e[67]!==ca||e[68]!==da||e[69]!==ea||e[70]!==fa||e[71]!==ga||e[72]!==ha||e[73]!==ia||e[74]!==K||e[75]!==W||e[76]!==Y||e[77]!==h||e[78]!==J||e[79]!==P||e[80]!==M||e[81]!==L.broadcast_id||e[82]!==L.broadcast_status||e[83]!==L.broadcaster_origin||e[84]!==L.captions_url||e[85]!==L.is_live_streaming||e[86]!==L.is_live_trace_enabled||e[87]!==L.is_ncsr||e[88]!==L.is_video_broadcast||e[89]!==N||e[90]!==D||e[91]!==i.autoplayGatingResult||e[92]!==i.autoplaySetting||e[93]!==i.canAutoplay||e[94]!==T||e[95]!==S||e[96]!==X||e[97]!==a?($=j.jsx(c("VideoPlayerXImplRelayWrapper.react"),{VideoPlayerShakaPerformanceLoggerClass:l,accessToken:f,adClientToken:g,alt:W,alwaysShowCaptions:v.alwaysShowCaptions,areCaptionsAutogenerated:ja,audioAvailabilityInfo:ma,audioOnly:Y,autoplayGatingResult:i.autoplayGatingResult,autoplaySetting:i.autoplaySetting,broadcastId:L.broadcast_id,broadcastLatencySensitivity:Q,broadcastStatus:L.broadcast_status,broadcasterOrigin:L.broadcaster_origin,bufferEndLimit:k,canAutoplay:i.canAutoplay,captionDisplayStyle:v.captionDisplayStyle,children:m,desiredLatencyMs:x,disableLoadingIndicator:s,expiredVideoUrlRefreshHandler:ka,externalLogID:t,externalLogType:u,graphQLVideoDRMInfo:R,graphQLVideoP2PSettings:la,implementations:E,initialRepresentationIds:O,initialTracePolicy:y,instreamVideoAdBreaksPlayer:U,isClientTriggeredTraceEnabled:V,isLiveStreaming:L.is_live_streaming,isLiveTraceEnabled:L.is_live_trace_enabled,isNCSR:L.is_ncsr,isPremiumMusicVideo:h,isVideoBroadcast:L.is_video_broadcast,latencyToleranceMs:b,loadSequence:z,loggingConfig:A,loggingToSNAPLAdditionalData:B,loggingToVPLAdditionalData:C,loopCount:Z,playerFormat:F,playerOriginOverride:G,portalingEnabled:H,portalingFromVideoID:I,portalingPlaceMetaData:ba,portalingRenderPlaceholder:ca,poster:da,productAttribution:ea,renderVideoPixelsFit:fa,seoWebCrawlerLookasideUrl:J,seoWebCrawlerVideoTracks:ga,sideLoadCaptionsExpected:P,sideLoadCaptionsUrl:L.captions_url,source_VPL_LOGGING_HACK:ha,startTimestamp:ia,subOrigin:K,userPreferenceLang:w.audioUserPreferredLanguage,videoFBID:N,videoPixelsAspectRatio:D,videoPlayerIMFFromVideoMetadata:T,videoPlayerShakaPerformanceLoggerBuilder:S,videoPlayerSpherical:X,volumeSetting:M,wrapVideoPixels_EXPERIMENTAL:a},N),e[33]=l,e[34]=f,e[35]=g,e[36]=ja,e[37]=ma,e[38]=w.audioUserPreferredLanguage,e[39]=Q,e[40]=k,e[41]=v.alwaysShowCaptions,e[42]=v.captionDisplayStyle,e[43]=m,e[44]=x,e[45]=s,e[46]=ka,e[47]=t,e[48]=u,e[49]=R,e[50]=la,e[51]=E,e[52]=O,e[53]=y,e[54]=U,e[55]=V,e[56]=b,e[57]=z,e[58]=A,e[59]=B,e[60]=C,e[61]=Z,e[62]=F,e[63]=G,e[64]=H,e[65]=I,e[66]=ba,e[67]=ca,e[68]=da,e[69]=ea,e[70]=fa,e[71]=ga,e[72]=ha,e[73]=ia,e[74]=K,e[75]=W,e[76]=Y,e[77]=h,e[78]=J,e[79]=P,e[80]=M,e[81]=L.broadcast_id,e[82]=L.broadcast_status,e[83]=L.broadcaster_origin,e[84]=L.captions_url,e[85]=L.is_live_streaming,e[86]=L.is_live_trace_enabled,e[87]=L.is_ncsr,e[88]=L.is_video_broadcast,e[89]=N,e[90]=D,e[91]=i.autoplayGatingResult,e[92]=i.autoplaySetting,e[93]=i.canAutoplay,e[94]=T,e[95]=S,e[96]=X,e[97]=a,e[98]=$):$=e[98];return $}function aa(a){return a.localizedCreationMethod!=null}function a(a){var b=d("react-compiler-runtime").c(9),e,f,g;b[0]!==a?(g=a.doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn,e=a.errorBoundaryFallback,f=babelHelpers.objectWithoutPropertiesLoose(a,["doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn","errorBoundaryFallback"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);a=g===void 0?!1:g;b[4]!==f?(g=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:13,children:j.jsx(s,babelHelpers["extends"]({},f))}),b[4]=f,b[5]=g):g=b[5];f=g;if(a)return f;a=(g=e)!=null?g:c("defaultErrorBoundaryFallback");b[6]!==f||b[7]!==a?(e=j.jsx(c("VideoPlayerErrorBoundary.react"),{description:"VideoPlayerRelayBoundary",fallback:a,children:f}),b[6]=f,b[7]=a,b[8]=e):e=b[8];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BladeRunnerConfig",["RTISubscriptionManagerConfig","WebDriverConfig","cr:3024","gkx","isEmpty"],(function(a,b,c,d,e,f,g){var h,i="javascript-sandbox",j="OverrideServer",k="www_sandbox",l="www_tier";a=function(){function a(){}var d=a.prototype;d.patchRequestHeaders=function(a){var d={},e=c("RTISubscriptionManagerConfig").bladerunner_www_sandbox,f=c("RTISubscriptionManagerConfig").is_intern;if(!(h||(h=c("isEmpty")))(c("WebDriverConfig").auxiliaryServiceInfo)){var g;g=(g=c("WebDriverConfig").auxiliaryServiceInfo.BladeRunner)!=null?g:c("WebDriverConfig").auxiliaryServiceInfo["BladeRunner-sandcastle"];g!=null?(typeof g.ip_address==="string"?d[j]=g.ip_address+":18295":typeof g.hostname==="string"&&(d[j]=g.hostname+":18295"),typeof c("WebDriverConfig").originHost==="string"&&(d[k]="www."+c("WebDriverConfig").originHost)):e!=null&&(d[i]=e)}else e!=null&&(d[i]=e);f===!0&&(d[l]="intern");if(c("WebDriverConfig").isTestRunning&&c("gkx")("20919")){g=b("cr:3024")==null?void 0:b("cr:3024").get();g!=null&&(d.is_test="true",d.original_request_id=g)}c("gkx")("20929")&&(d["Accept-Ack"]="RSAck");for(e in a)d[e]=a[e];d.http_referer=window.location.href;return d};return a}();d=new a();e=d;g["default"]=e}),98);
__d("BladeRunnerTypes",[],(function(a,b,c,d,e,f,g){a={REQUEST:1,DATA:2,DATA_ACK:3,STATUS_UPDATE:4,REWRITE_REQUEST:5,LOG:6};b={BLADE_RUNNER:1,GATEWAY:2};g.StreamFrameType=a;g.StreamRequestType=b}),98);
__d("BladeRunnerTypesInternal",["Base64","BladeRunnerLogger","BladeRunnerTypes"],(function(a,b,c,d,e,f,g){var h=function(){function a(){}var b=a.prototype;b.getHeaders=function(){if(this.headers!=null)return this.headers;throw new Error("Expected headers")};b.getInstrumentationData=function(){if(this.instrumentationData!=null&&this.instrumentationData.length>0)try{return JSON.parse(this.instrumentationData)}catch(a){return null}else return null};b.updateRetryRequestPayload=function(a){a!=null?this.payload=c("Base64").encode(a):this.payload=null};a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.requestType=o(b.requestType);c.payload=r(b.payload);c.headers=u(b.headers);c.extraHeader=r(b.extraHeader);c.requestTarget=r(b.requestTarget);c.instrumentationData=r(b.instrumentationData);return c};return a}(),i=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.dataId=p(b.dataId);c.data=r(b.data);c.shouldAck=w(b.shouldAck);return c};var b=a.prototype;b.rawData=function(){if(this.data==null)throw new Error("Expected data");return this.data};b.rawDataSize=function(){return this.data==null?0:this.data.length};b.decodeData=function(){if(this.data==null)throw new Error("Expected data");return c("Base64").decode(this.data)};b.setData=function(a){this.data=c("Base64").encode(a)};b.getInstrumentationData=function(){if(this.instrumentationData!=null)return JSON.parse(this.instrumentationData);else return null};return a}(),j=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.dataId=o(b.dataId);c.success=v(b.success);c.message=r(b.message);c.code=p(b.code);return c};return a}();j.ACK_CODE_LANDED_AND_ACCEPTED=20;j.ACK_CODE_LANDED_BUT_NOT_ACCEPTED=21;j.ACK_CODE_FAILED_TO_LAND=50;var k=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=p(b.streamId);c.message=r(b.message);return c};return a}(),l=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.status=o(b.status);c.message=r(b.message);c.code=p(b.code);c.shouldRetry=w(b.shouldRetry);c.retryDelayMs=p(b.retryDelayMs);return c};return a}(),m=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.newBody=r(b.newBody);c.newExtraHeader=r(b.newExtraHeader);c.patchExtraHeader=r(b.patchExtraHeader);c.killBody=w(b.killBody);c.temporary=w(b.temporary);return c};return a}(),n=function(){function a(){}var b=a.prototype;b.getRequest=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request;throw new Error("Expected request")};b.getData=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data;throw new Error("Expected data")};b.getDataAck=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck;throw new Error("Expected dataAck")};b.getStatusUpdate=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate;throw new Error("Expected status update")};b.getLog=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log;throw new Error("Expected log")};b.getRewriteRequest=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest;throw new Error("Expected rewrite request")};b.getStreamId=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck.streamId;throw new Error("Frame with unexpected type")};b.isInstrumented=function(){if(this.type===d("BladeRunnerTypes").StreamFrameType.REQUEST)return this.getRequest().instrumentationData!=null;else if(this.type===d("BladeRunnerTypes").StreamFrameType.DATA)return this.getData().instrumentationData!=null;else return!1};a.readObject=function(b){var e=new a();e.type=o(b.type);switch(e.type){case d("BladeRunnerTypes").StreamFrameType.REQUEST:e.request=h.readObject(s(b.request));break;case d("BladeRunnerTypes").StreamFrameType.DATA:e.data=i.readObject(s(b.data));break;case d("BladeRunnerTypes").StreamFrameType.DATA_ACK:e.dataAck=j.readObject(s(b.dataAck));break;case d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:e.statusUpdate=l.readObject(s(b.statusUpdate));break;case d("BladeRunnerTypes").StreamFrameType.LOG:e.log=k.readObject(s(b.log));break;case d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:e.rewriteRequest=m.readObject(s(b.rewriteRequest));break;default:c("BladeRunnerLogger").warn("Frame with unexpected type: "+e.type);return null}return e};a.newRequestFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.REQUEST;c.request=b;return c};a.newDataFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.DATA;c.data=b;return c};a.newDataAckFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.DATA_ACK;c.dataAck=b;return c};a.newStatusUpdateFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE;c.statusUpdate=b;return c};a.newLogFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.LOG;c.log=b;return c};a.newRewriteRequestFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST;c.rewriteRequest=b;return c};return a}();a=function(){function a(a,b,c){this.batchId=a,this.frames=b,this.instrumentationData=c}var b=a.prototype;b.getFrames=function(){if(this.frames!=null)return this.frames;throw new Error("Expected frames")};b.getInstrumentationData=function(){if(this.instrumentationData!=null)try{return JSON.parse(this.instrumentationData)}catch(a){return null}else return null};b.getInstrumentationDataDfTraceId=function(){if(this.instrumentationData!=null)try{var a=JSON.parse(this.instrumentationData);return(a=a.dataFlowTracingData)==null?void 0:a.traceId}catch(a){return null}else return null};b.write=function(){return JSON.stringify(this)};b.isInstrumented=function(){return this.getFrames().some(function(a){return a.isInstrumented()})};a.read=function(b){b=JSON.parse(b);var c=b.batchId||0,d=[];for(var e=b.frames,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;h=n.readObject(h);h!=null&&d.push(h)}h=b.instrumentationData||null;return new a(c,d,h)};return a}();function o(a){if(typeof a==="number")return a;throw new Error("Expected number")}function p(a){return a==null?null:o(a)}function q(a){if(typeof a==="string")return a;throw new Error("Expected string")}function r(a){return a==null?null:q(a)}function s(a){if(typeof a==="object"&&a!=null)return a;throw new Error("Expected object")}function t(a){if(typeof a==="object"&&a!=null){var b=a,c={};Object.keys(b).forEach(function(a){var d=b[a];typeof d==="string"&&d!=null&&(c[a]=d)});return c}throw new Error("Expected string map")}function u(a){return a==null?null:t(a)}function v(a){if(typeof a==="boolean"&&a!=null)return a;throw new Error("Expected boolean")}function w(a){return a==null?null:v(a)}g.GatewayStreamRequest=h;g.GatewayStreamData=i;g.GatewayStreamDataAck=j;g.GatewayStreamLog=k;g.GatewayStreamStatusUpdate=l;g.GatewayStreamRewriteRequest=m;g.GatewayStreamFrame=n;g.GatewayStreamBatch=a}),98);
__d("RequestStreamE2EClientLoggerEvent",[],(function(a,b,c,d,e,f){a=Object.freeze({RECEIVED:"received",SENT:"sent",FAILURE:"failure",PUBACK:"puback"});f["default"]=a}),66);
__d("RequestStreamE2EClientLoggerMessageType",[],(function(a,b,c,d,e,f){a=Object.freeze({REQUEST_STREAM:"request_stream",AMENDMENT:"amendment",AMENDMENT_ACK:"amendment_ack",CANCEL:"cancel",RESPONSE:"response",RESPONSE_ACK:"response_ack",TIMED_REQUEST:"timed_request",INTERRUPT:"interrupt"});f["default"]=a}),66);
__d("BladeRunnerEventHandler",["BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes","BladeRunnerTypesInternal","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){var h=1e3;a=function(){function a(a,b,c){this.$2=a,this.$1=b,this.$3=c}var b=a.prototype;b.onProxyResponse=function(a){this.$4(a);var b=[];for(var e=a.getFrames(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;this.$2.witnessFrame(h)&&b.push(h)}h=this.$2.getRequest();(g=h.e2eLogger)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").SENT,{},(f=a.getInstrumentationData())==null?void 0:f.auxId,null,a.getInstrumentationDataDfTraceId());b.length>0&&this.$5(new(d("BladeRunnerTypesInternal").GatewayStreamBatch)(a.batchId,b,a.instrumentationData))};b.onDisconnect=function(){this.$2.resetErrors();var a=new(d("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();a.streamId=this.$2.getRequest().streamId;a.status=d("BladeRunnerStreamStatus").StreamStatus.CLOSED;a.shouldRetry=!0;a.retryDelayMs=0;a=new(d("BladeRunnerTypesInternal").GatewayStreamBatch)(null,[d("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(a)]);this.onProxyResponse(a)};b.$4=function(a){var b=this;a=a.getFrames().filter(function(a){return a.type==d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE});for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;g=g.getStatusUpdate();if(g.status==d("BladeRunnerStreamStatus").StreamStatus.CLOSED||g.status==d("BladeRunnerStreamStatus").StreamStatus.REJECTED){this.$2.onError();var i=g.shouldRetry!=null&&g.shouldRetry,j=g.message!=null?g.message:"null";if(i&&this.$2.getErrorCount()<=this.$2.getRetriesAllowed()){g.status=d("BladeRunnerStreamStatus").StreamStatus.STOPPED;var k=h;g.retryDelayMs!=null&&(k=g.retryDelayMs);c("BladeRunnerLogger").info("Can retry: stream "+g.streamId+" closed with status "+g.status+", message "+j+". Error count: "+this.$2.getErrorCount()+", retryDelay "+k+"ms. Already retrying: "+this.$2.getRetryRequestScheduled().toString());this.$2.getRetryRequestScheduled()?c("BladeRunnerLogger").bumpCounter("stream_closed_already_retrying"):(c("BladeRunnerLogger").bumpCounter("stream_closed_will_retry"),this.$2.setRetryRequestScheduled(!0),k>0?c("setTimeoutAcrossTransitions")(function(){return b.$6()},k):this.$6())}else c("BladeRunnerLogger").info("Will not retry: stream "+g.streamId+" closed with status "+g.status+", message "+j+". Error count: "+this.$2.getErrorCount()+", shouldRetry "+i.toString()+". Already retrying: "+this.$2.getRetryRequestScheduled().toString()),i?c("BladeRunnerLogger").bumpCounter("stream_closed_retry_exceeded"):c("BladeRunnerLogger").bumpCounter("stream_closed_no_retry"),this.$3.removeStream(g.streamId)}}};b.$6=function(){this.$2.setRetryRequestScheduled(!1);if(this.$2.isAlive()){var a=this.$1.getUpdatedRequestBody();a!=null&&this.$2.updateRetryRequestPayload(a);this.$3.sendRetryStreamRequest(this.$2)}};b.$5=function(a){c("BladeRunnerLogger").bumpCounter("send_to_handler");var b=[];this.$1.onBatch(a);for(var a=a.getFrames(),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;try{switch(g.type){case d("BladeRunnerTypes").StreamFrameType.DATA:this.$1.onData(g.getData());b.push(g.getData());break;case d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:this.$1.onStatusUpdate(g.getStatusUpdate().status);break;case d("BladeRunnerTypes").StreamFrameType.LOG:g=g.getLog().message;g!=null&&this.$1.onLog(g);break;case d("BladeRunnerTypes").StreamFrameType.DATA_ACK:break;default:throw new Error("Frame with unexpected type")}}catch(a){c("BladeRunnerLogger").bumpCounter("send_to_handler_error"),c("BladeRunnerLogger").exception(a,"Failed sending frame to stream handler")}}this.$7(b)};b.$7=function(a){var b=[];for(var c=0;c<a.length;c++){var e=a[c];if(e.shouldAck===!0&&e.dataId!=null){var f=new(d("BladeRunnerTypesInternal").GatewayStreamDataAck)();f.streamId=e.streamId;f.dataId=e.dataId;f.success=!0;b.push(f)}}this.$3.sendDataAcks(b)};return a}();g["default"]=a}),98);
__d("RtiRequestStreamE2eClientBatchFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("819");b=d("FalcoLoggerInternal").create("rti_request_stream_e2e_client_batch",a);e=b;g["default"]=e}),98);
__d("RtiRequestStreamE2eClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1857112");b=d("FalcoLoggerInternal").create("rti_request_stream_e2e_client",a);e=b;g["default"]=e}),98);
__d("RequestStreamE2ELogger",["ConstUriUtils","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RtiRequestStreamE2eClientBatchFalcoEvent","RtiRequestStreamE2eClientFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=["FBGQLS:COMMENT_CREATE_SUBSCRIBE","FBGQLS:COMMENT_LIKE_SUBSCRIBE","FBGQLS:FEEDBACK_COMMENT_PERMISSION_TOGGLE_SUBSCRIBE","FBGQLS:FEEDBACK_TYPING_SUBSCRIBE","FBLQ:comet_notifications_live_query_experimental"],i=0;function j(){var a=Date.now();i>=a?i+=1:i=a;return i.toString()}var k=function(){function a(a,b,c,e,f,g,h,i,j,k){this.$10=[];this.$11=!1;this.$1=a;this.$2=b;this.$3=c;this.$4=e;this.$5=f;this.$6=g;this.$7=h;this.$8=i;this.$9=j;this.$12=(a=k)!=null?a:!1;b=d("ConstUriUtils").getUri(window.location.href);b&&(this.$13=b.getDomain())}var b=a.prototype;b.logE2EEvent=function(a,b,c,d,e,f){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=null);f===void 0&&(f=null);if(this.$3==="Falco")return;e={request_id:this.$1,resume_id:"0",retry_id:e,transport:this.$2,method:this.$3,use_case:this.$4,request_log_context:this.$5,force_log_context:this.$6,e2e_sample_rate:this.$7,message_type:a,event:b,timestamp_ms:j(),aux_id:d,additional_data:c,dgw_stream_group_logging_id:this.$8,dgw_count_prior_streams_in_group:this.$9,domain:this.$13,df_trace_id:f};this.$14(e)};b.$14=function(a){if(!this.$12){c("RtiRequestStreamE2eClientFalcoEvent").log(function(){return a});return}this.$10.push(a);if(this.$11||a.event==c("RequestStreamE2EClientLoggerEvent").FAILURE||a.message_type==c("RequestStreamE2EClientLoggerMessageType").RESPONSE){var b={events:this.$10};c("RtiRequestStreamE2eClientBatchFalcoEvent").log(function(){return b});this.$10=[];this.$11=!0}};b.getRequestId=function(){return this.$1};return a}();function a(a,b,c){if(a==null||a.method==null)return null;var d=!1;h.includes(a.method)&&(d=!0);if(b==null||b.length==0)return null;b=JSON.parse(b);return b.requestId==null?null:new k(b.requestId,c,a.method,l(a.method,a),b.requestLogContext,b.forceLogContext,b.sampleRate,b.dgwStreamGroupLoggingId,b.dgwCountPriorStreamsInGroup,d)}function l(a,b){if(a==="FBLQ"&&b.config_id)return b.config_id;if(a==="SKY"){if(b.topic){var c=b.topic.lastIndexOf("/");return c>0?b.topic.substr(0,c):b.topic}return}return a}function b(a,b,d,e,f,g){f===void 0&&(f=null);g===void 0&&(g=null);if(a==null||a.requestId==null||a.clientLoggingDisabled!=null)return;var h={request_id:a.requestId,resume_id:"0",transport:b,e2e_sample_rate:a.sampleRate,message_type:d,event:e,timestamp_ms:j(),aux_id:a.auxId,additional_data:f,df_trace_id:g};c("RtiRequestStreamE2eClientFalcoEvent").log(function(){return h})}g.RequestStreamE2ELogger=k;g.createStreamLogger=a;g.logRequestStreamE2EEventStatic=b}),98);
__d("RequestStreamTransport",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["WEB_BR_MQTT","WEB_RS_MQTT","WEB_RS_STARGATE"]);f.RequestStreamTransport=a}),66);
__d("BladeRunnerSocket",["BladeRunnerEventHandler","BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes","BladeRunnerTypesInternal","CurrentUser","FBMqttChannel","MqttPublishListener","Promise","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RequestStreamE2ELogger","RequestStreamTransport","justknobx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i="Connected",j="Disconnected",k="/br_sr",l="/sr_res",m=null;function n(a){var b;switch(a.type){case d("BladeRunnerTypes").StreamFrameType.REQUEST:return(b=a.request)==null?void 0:b.getInstrumentationData();case d("BladeRunnerTypes").StreamFrameType.DATA:return(b=a.data)==null?void 0:b.getInstrumentationData()}return null}function o(a){switch(a.type){case d("BladeRunnerTypes").StreamFrameType.REQUEST:return c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM;case d("BladeRunnerTypes").StreamFrameType.DATA:return c("RequestStreamE2EClientLoggerMessageType").AMENDMENT}return null}function p(a){if(a===null)return null;switch(a){case d("BladeRunnerStreamStatus").StreamStatus.ACCEPTED:return"Accepted";case d("BladeRunnerStreamStatus").StreamStatus.REJECTED:return"Rejected";case d("BladeRunnerStreamStatus").StreamStatus.STARTED:return"Started";case d("BladeRunnerStreamStatus").StreamStatus.STOPPED:return"Stopped";case d("BladeRunnerStreamStatus").StreamStatus.CLOSED:return"Closed"}return null}function q(a){var b={};a==null?void 0:(a=a.frames)==null?void 0:a.forEach(function(a){if(a.type===d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE){a=(a=a.statusUpdate)==null?void 0:a.status;a=p(a);a!==null&&(b.flow_status=a)}});return b}function r(a,b){var c;switch(a.type){case d("BladeRunnerTypes").StreamFrameType.REQUEST:b.data_base64_size=(c=a.request)==null?void 0:(c=c.payload)==null?void 0:(c=c.length)==null?void 0:c.toString();break;case d("BladeRunnerTypes").StreamFrameType.DATA:b.data_base64_size=(c=a.data)==null?void 0:(b=c.rawDataSize())==null?void 0:b.toString();break}return null}function s(a,b,e){var f=n(a);if(f==null)return;var g=o(a);if(g==null)return;var h=null;switch(b){case d("MqttPublishListener").MqttPublishEvent.SENT:h=c("RequestStreamE2EClientLoggerEvent").SENT;break;case d("MqttPublishListener").MqttPublishEvent.ACKED:h=c("RequestStreamE2EClientLoggerEvent").PUBACK;break;case d("MqttPublishListener").MqttPublishEvent.NOT_ACKED:case d("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED:case d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR:h=c("RequestStreamE2EClientLoggerEvent").FAILURE;e.reason==null&&(e.reason=b);break}if(h==null)return;r(a,e);if(((b=a.request)==null?void 0:b.e2eLogger)!=null&&f.clientLoggingDisabled==null){(b=a.request)==null?void 0:b.e2eLogger.logE2EEvent(g,h,e,f.auxId)}else d("RequestStreamE2ELogger").logRequestStreamE2EEventStatic(f,d("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,g,h,e)}a=function(){function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=null,this.$5=0,this.$6=new Map(),this.$7=a!=null?a:c("FBMqttChannel"),this.$8=new Map(),c("BladeRunnerLogger").setClientSessionId(c("uuidv4")()),this.$9()}a.get=function(){m==null&&(m=new a(c("FBMqttChannel")));return m};var e=a.prototype;e.sendNewStreamRequest=function(b,d){d=new(c("BladeRunnerEventHandler"))(b,d,this);var e=b.getRequest();this.$6.set(e.streamId,d);if(!this.$10()){this.$11(d,e.streamId);return}this.getStreamCount()<=a.maxStreamCount?this.$12(e):(c("BladeRunnerLogger").bumpCounter("socket_request_throttled_max_streams"),c("BladeRunnerLogger").warn("Maximum stream count reached, will not send request: "+JSON.stringify(b.getRequest().getHeaders())),this.$11(d,e.streamId))};e.sendRetryStreamRequest=function(a){this.$12(a.getRequest())};e.sendCancel=function(a){c("BladeRunnerLogger").bumpCounter("socket_send_cancel");var b=new(d("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();b.streamId=a.streamId;b.status=d("BladeRunnerStreamStatus").StreamStatus.CLOSED;this.$13(b,a);this.removeStream(a.streamId)};e.sendAmendment=function(a,b,e){c("BladeRunnerLogger").bumpCounter("socket_send_amendment");var f=new(d("BladeRunnerTypesInternal").GatewayStreamData)();f.streamId=a;f.setData(b);e!=null&&(f.instrumentationData=e);this.$14(f)};e.sendAmendmentWithAck=function(a,e,f){var g=this;c("BladeRunnerLogger").bumpCounter("socket_send_amendment");var i=this.$15(),j=new(d("BladeRunnerTypesInternal").GatewayStreamData)();j.streamId=a;j.setData(e);j.shouldAck=!0;j.dataId=i;f!=null&&(j.instrumentationData=f);a=new(h||(h=b("Promise")))(function(a,b){g.$8.set(i,{resolve:a,reject:b})});this.$14(j);return a};e.$14=function(a){this.$1.push(d("BladeRunnerTypesInternal").GatewayStreamFrame.newDataFrame(a)),this.$16()};e.sendDataAcks=function(a){c("BladeRunnerLogger").bumpCounter("socket_send_data_ack",a.length),this.$17(a)};e.removeStream=function(a){this.$6["delete"](a)};e.getStreamCount=function(){return this.$6.size};e.getNextStreamId=function(){this.$5++;return this.$5};e.onMQTTStateChanged=function(a){this.$16();if(a!=j&&a!=i||this.$4==a)return;this.$4=a;c("BladeRunnerLogger").info("MQTTStateChanged: "+a);a==j?(c("BladeRunnerLogger").bumpCounter("mqtt_state_disconnected"),this.$18()):a==i&&c("BladeRunnerLogger").bumpCounter("mqtt_state_connected")};e.$12=function(a){c("BladeRunnerLogger").bumpCounter("socket_send_request");this.$1.push(d("BladeRunnerTypesInternal").GatewayStreamFrame.newRequestFrame(a));if(!this.$16()){(a=a.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"MQTT Not Connected"})}};e.$13=function(a,b){this.$1.push(d("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(a));if(this.$16()){(a=b.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").CANCEL,c("RequestStreamE2EClientLoggerEvent").SENT)}};e.$17=function(a){for(var b=0;b<a.length;b++){var c=a[b];this.$1.push(d("BladeRunnerTypesInternal").GatewayStreamFrame.newDataAckFrame(c))}this.$16()};e.$19=function(){this.$2++;return this.$2};e.$15=function(){this.$3++;return this.$3};e.$16=function(){var a=!1;if(this.$7.getConnectionState()===i&&this.$1.length>0)try{this.$20(this.$1),a=!0}catch(a){}finally{this.$1=[]}return a};e.$20=function(a){var b=this,e=new(d("BladeRunnerTypesInternal").GatewayStreamBatch)(this.$19(),a),f=e.write();if(f.length>this.$21()){var g=Math.floor(a.length/2);if(g===0){a.forEach(function(a){return s(a,d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR,{reason:"too long"})});var h=new Error("Publish is too long: "+f.length);h.stack;this.$22(e,h,"Publish is too long");throw h}this.$20(a.slice(0,g));this.$20(a.slice(g,a.length))}else try{c("BladeRunnerLogger").info("send message to "+k+" ("+f.length+" bytes)");h={qos:1,skipBuffer:!1};if(e.isInstrumented()){var i=Date.now();h.listener={onEvent:function(b){var c=(Date.now()-i).toString();a.forEach(function(a){s(a,b,{latency:c})})}}}this.$7.publish(k,f,h)["catch"](function(a){b.$22(e,a,"Failed publishing to MQTT")});c("BladeRunnerLogger").bumpCounter("mqtt_publish_success")}catch(a){this.$22(e,a,"Failed publishing to MQTT");throw a}};e.$9=function(){var a=this;c("BladeRunnerLogger").info("Starting socket with endpoint "+this.$7.getEndpoint()+" useragent "+navigator.userAgent);this.onMQTTStateChanged(this.$7.getConnectionState());this.$7.subscribeChannelEvents({onMQTTStateChanged:function(b){a.onMQTTStateChanged(b)},onJSError:function(a){var b=a!=null&&typeof a.isRecoverable==="boolean"?a.isRecoverable:!1;b?c("BladeRunnerLogger").bumpCounter("mqtt_channel_recoverable_error"):(c("BladeRunnerLogger").warn("JS error in MQTTChannel: "+(typeof a=="object"&&a!=null?a.toString():"unknown error")+", "+JSON.stringify(a)),c("BladeRunnerLogger").bumpCounter("mqtt_channel_error"))}});this.$7.subscribe(k,function(a){throw new Error("Unexpected response: "+k+" "+a.toString())});this.$7.subscribe(l,function(b){a.$23(b)})};e.$23=function(a){a=d("BladeRunnerTypesInternal").GatewayStreamBatch.read(a);this.processBatch(a)};e.$22=function(a,b,e){for(var a=a.getFrames(),f=Array.isArray(a),g=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;if(h.type===d("BladeRunnerTypes").StreamFrameType.REQUEST){var i=h.getRequest(),j=this.$6.get(i.streamId);j!=null&&this.$24(j,i.streamId,d("BladeRunnerStreamStatus").StreamStatus.CLOSED,!0,null)}else if(h.type===d("BladeRunnerTypes").StreamFrameType.DATA){j=h.getData();i=j.dataId;if(j.shouldAck!=null&&j.shouldAck&&i!=null){h=new(d("BladeRunnerTypesInternal").GatewayStreamDataAck)();h.streamId=j.streamId;h.dataId=i;h.success=!1;h.code=d("BladeRunnerTypesInternal").GatewayStreamDataAck.ACK_CODE_FAILED_TO_LAND;h.message=e;this.$25(h)}}}c("BladeRunnerLogger").info("Failed publishing to MQTT: "+b.message);c("BladeRunnerLogger").bumpCounter("mqtt_publish_error")};e.$25=function(a){var b=this.$8.get(a.dataId);b!=null&&(this.$8["delete"](a.dataId),a.success?b.resolve(!0):a.code===d("BladeRunnerTypesInternal").GatewayStreamDataAck.ACK_CODE_LANDED_BUT_NOT_ACCEPTED?b.resolve(!1):b.reject(a.message))};e.processBatch=function(a){try{d("RequestStreamE2ELogger").logRequestStreamE2EEventStatic(a.getInstrumentationData(),d("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").RECEIVED,q(a),a.getInstrumentationDataDfTraceId());c("BladeRunnerLogger").bumpCounter("socket_process_batch");var b=JSON.stringify(a);c("BladeRunnerLogger").info("Received batch ("+b.length+" bytes)");b=null;for(var e=a.getFrames(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=h.getStreamId();b==null&&(b=i);if(i!=null&&b!=i)throw new Error("Received batch with frames for multiple streams");h.type==d("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.$25(h.getDataAck())}if(b!=null){i=this.$6.get(b);i!=null?i.onProxyResponse(a):c("BladeRunnerLogger").info("Received batch with frames for unknown stream id: "+b)}else c("BladeRunnerLogger").info("Received batch with no frames")}catch(a){c("BladeRunnerLogger").exception(a,"Failed processing batch from MQTT");c("BladeRunnerLogger").bumpCounter("socket_process_batch_error");throw a}};e.$18=function(){this.$6.forEach(function(a,b,c){a.onDisconnect()})};e.$11=function(a,b){this.$24(a,b,d("BladeRunnerStreamStatus").StreamStatus.REJECTED,!1,0)};e.$24=function(a,b,c,e,f){var g=new(d("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();g.streamId=b;g.status=c;g.shouldRetry=e;g.retryDelayMs=f;b=new(d("BladeRunnerTypesInternal").GatewayStreamBatch)(null,[d("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(g)]);a.onProxyResponse(b)};e.$10=function(){if(!c("CurrentUser").isLoggedIn()){c("BladeRunnerLogger").bumpCounter("request_stream_user_logged_out");return!1}return!0};e.$21=function(){var a=1024*1024,b=512*1024;try{var d=c("justknobx")._("317");b=d*a}catch(a){}return Math.max(b-1024,0)};return a}();a.maxStreamCount=2e3;g["default"]=a}),98);
__d("BladeRunnerStream",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){var g;a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStreamHandler=function(){return this.$1};c.cancel=function(){};c.amendWithAck=function(a){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",!1);case 1:case"end":return a.stop()}},null,this)};c.amendFireAndForget=function(a){};c.amendWithoutAck=function(a){};c.start=function(){return(g||(g=b("Promise"))).resolve()};c.isAlive=function(){return!1};c.canAmend=function(){return!1};c.getStatus=function(){return null};c.getStreamId=function(){return 0};return a}();f["default"]=a}),66);
__d("BladeRunnerStreamState",["BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=a,this.$2=null,this.$3=0,this.$4=!1,this.$5=0,this.$6=!1}var b=a.prototype;b.getRequest=function(){return this.$1};b.updateRetryRequestPayload=function(a){this.$1.updateRetryRequestPayload(a)};b.isAlive=function(){return!(this.$2==d("BladeRunnerStreamStatus").StreamStatus.CLOSED||this.$2==d("BladeRunnerStreamStatus").StreamStatus.REJECTED)};b.canAmend=function(){return this.$2==d("BladeRunnerStreamStatus").StreamStatus.ACCEPTED||this.$2==d("BladeRunnerStreamStatus").StreamStatus.STARTED||this.$2==d("BladeRunnerStreamStatus").StreamStatus.STOPPED};b.getLastStatus=function(){return this.$2};b.setLastStatus=function(a){this.$2=a};b.onError=function(){this.$3+=1};b.getErrorCount=function(){return this.$3};b.resetErrors=function(){this.$3=0};b.getRetryRequestScheduled=function(){return this.$6};b.setRetryRequestScheduled=function(a){this.$6=a};b.witnessFrame=function(a){switch(a.type){case d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:var b=a.getStatusUpdate(),c=!0;switch(b.status){case d("BladeRunnerStreamStatus").StreamStatus.ACCEPTED:c=!this.$4;this.$4||(this.$4=!0);break;case d("BladeRunnerStreamStatus").StreamStatus.STARTED:c=this.getLastStatus()!=d("BladeRunnerStreamStatus").StreamStatus.STARTED;break;case d("BladeRunnerStreamStatus").StreamStatus.STOPPED:c=this.getLastStatus()==d("BladeRunnerStreamStatus").StreamStatus.STARTED;break;case d("BladeRunnerStreamStatus").StreamStatus.CLOSED:case d("BladeRunnerStreamStatus").StreamStatus.REJECTED:default:c=!0}this.setLastStatus(b.status);return c;case d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:this.$7(a.getRewriteRequest());return!1;default:return!0}};b.setRetriesAllowed=function(a){this.$5=a};b.getRetriesAllowed=function(){return this.$5};b.$7=function(a){if(!(a.temporary!=null||a.temporary==!0)){a.newBody!=null&&(this.$1.payload=a.newBody);a.newExtraHeader!=null&&(this.$1.extraHeader=a.newExtraHeader,this.$1.headers=JSON.parse(a.newExtraHeader));if(a.patchExtraHeader!=null)try{var b=JSON.parse(a.patchExtraHeader),d=this.$1.extraHeader!=null?JSON.parse(this.$1.extraHeader):{};this.$1.headers==null&&(this.$1.headers={});var e=Object.keys(b);for(var f=0;f<e.length;f++){var g=e[f];this.$1.headers[g]=b[g];d[g]=b[g]}this.$1.extraHeader=JSON.stringify(d)}catch(b){c("BladeRunnerLogger").warn("Failed to patch header: "+a.patchExtraHeader)}a.killBody!=null&&a.killBody==!0&&(this.$1.payload=null)}};return a}();g["default"]=a}),98);
__d("BladeRunnerSocketStream",["BladeRunnerStream","BladeRunnerStreamState","BladeRunnerStreamStatus","Promise","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","regeneratorRuntime","uuidv4"],(function(a,b,c,d,e,f,g){var h,i=4,j={reason:"stream_dead"};a=function(a){babelHelpers.inheritsLoose(e,a);function e(b,d,e){b=a.call(this,b)||this;b.$BladeRunnerSocketStream1=e;b.$BladeRunnerSocketStream2=new(c("BladeRunnerStreamState"))(d);b.$BladeRunnerSocketStream2.setRetriesAllowed(i);return b}var f=e.prototype;f.start=function(){var a=this;return new(h||(h=b("Promise")))(function(b){a.send(),b()})};f.send=function(){var a,b=this.$BladeRunnerSocketStream2.getRequest();(a=b.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_base64_size:(a=b.payload)==null?void 0:(b=a.length)==null?void 0:b.toString()});this.$BladeRunnerSocketStream1.sendNewStreamRequest(this.$BladeRunnerSocketStream2,this.getStreamHandler())};f.amendWithAck=function(a){var d,e,f,g,i,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:e=this.$BladeRunnerSocketStream2.getRequest();f=e.getInstrumentationData();f&&(f.auxId=c("uuidv4")(),(g=e.e2eLogger)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:a==null?void 0:(i=a.length)==null?void 0:i.toString()},f.auxId));if(!this.canAmend()){m.next=6;break}f&&((k=e.e2eLogger)==null?void 0:k.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").SENT,{data_size:a==null?void 0:(l=a.length)==null?void 0:l.toString()},f.auxId));return m.abrupt("return",this.$BladeRunnerSocketStream1.sendAmendmentWithAck(e.streamId,this.$BladeRunnerSocketStream3(a),f==null?null:JSON.stringify(f)));case 6:(d=e.e2eLogger)==null?void 0:d.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").FAILURE,j,f==null?void 0:f.auxId);return m.abrupt("return",(h||(h=b("Promise"))).reject("Stream is closed or not accepted"));case 8:case"end":return m.stop()}},null,this)};f.amendFireAndForget=function(a){var b=this.$BladeRunnerSocketStream2.getRequest(),d=b.getInstrumentationData();if(d){var e;d.auxId=c("uuidv4")();(e=b.e2eLogger)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:a==null?void 0:(e=a.length)==null?void 0:e.toString()},d.auxId)}if(this.canAmend()){this.$BladeRunnerSocketStream1.sendAmendment(this.$BladeRunnerSocketStream2.getRequest().streamId,this.$BladeRunnerSocketStream3(a),d==null?null:JSON.stringify(d));if(d){(e=b.e2eLogger)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").SENT,{data_size:a==null?void 0:(e=a.length)==null?void 0:e.toString()},d.auxId)}}else{(a=b.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").FAILURE,j,d==null?void 0:d.auxId);throw new Error("Stream is closed or not accepted")}};f.amendWithoutAck=function(a){this.amendFireAndForget(a)};f.$BladeRunnerSocketStream3=function(a){return typeof a=="object"?btoa(new TextDecoder("utf8").decode(a)):a};f.cancel=function(){var a=this.$BladeRunnerSocketStream2.getRequest();(a=a.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").CANCEL,c("RequestStreamE2EClientLoggerEvent").RECEIVED);this.isAlive()&&(this.$BladeRunnerSocketStream1.sendCancel(this.$BladeRunnerSocketStream2.getRequest()),this.$BladeRunnerSocketStream2.setLastStatus(d("BladeRunnerStreamStatus").StreamStatus.CLOSED),this.getStreamHandler().onClientCancel())};f.isAlive=function(){return this.$BladeRunnerSocketStream2.isAlive()};f.canAmend=function(){return this.$BladeRunnerSocketStream2.canAmend()};f.getStatus=function(){return this.$BladeRunnerSocketStream2.getLastStatus()};f.getStreamId=function(){return this.$BladeRunnerSocketStream2.getRequest().streamId};return e}(c("BladeRunnerStream"));g["default"]=a}),98);
__d("RequestStreamE2ESampling",["invariant","Random","RequestStreamE2EClientSamplingConfig","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){return a==null?!1:a.requestId!=null&&typeof a.requestId=="string"&&a.forceLogContext!=null&&typeof a.forceLogContext=="string"}function j(a,b){var d=c("RequestStreamE2EClientSamplingConfig").sampleRate;if(d>1&&a!=null){a=c("RequestStreamE2EClientSamplingConfig").methodToSamplingMultiplier[a];a==0?d=0:a!=null&&(d/=a)}return d==1?1:d/b}function k(a,b,d,e){var f=c("uuidv4")();(b.requestId==null||b.requestId===""||typeof b.requestId!="string")&&(a.requestId!=null&&typeof a.requestId=="string"?b.requestId=a.requestId:b.requestId=f);b.requestId+="/_"+f.substring(0,4);b.resumeId="0";d!=null?b.sampleRate=d:b.sampleRate=void 0;f="";e!=null&&e.length>0&&(f=e);f.length>0&&(b.requestLogContext!=null&&b.requestLogContext.length>0?b.requestLogContext+=":":b.requestLogContext="",b.requestLogContext+=f);(a==null?void 0:a.method)==="Falco"&&(b.clientLoggingDisabled="Falco");d={};for(e=Object.keys(b).sort(),f=Array.isArray(e),a=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(f){if(a>=e.length)break;g=e[a++]}else{a=e.next();if(a.done)break;g=a.value}g=g;d[g]=b[g]}return JSON.stringify(d)}function a(a,b,d,e){b&&(!b.requestId.includes("/")&&!b.requestId.includes("#")||h(0,41721));e=j(a.method,(e=e)!=null?e:1);if(c("Random").coinflip(e))return k(a,b||{requestId:""},e,d);return i(b)?k(a,b||{requestId:""},null,d):""}g.isForceLogged=i;g.getSampleRateForLogging=j;g.normalizeInstrumentationData=k;g.validateInstrumentationData=a}),98);
__d("BladeRunnerClient",["Base64","BladeRunnerConfig","BladeRunnerLogger","BladeRunnerSocket","BladeRunnerSocketStream","BladeRunnerTypes","BladeRunnerTypesInternal","RequestStreamE2ELogger","RequestStreamE2ESampling","RequestStreamTransport","cr:2046346"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this.$2=d("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,this.$1=a!=null?a:c("BladeRunnerSocket").get(),b&&(this.$2=b)}var e=a.prototype;e.createStream=function(a,b,c,d){return this.$3(a,b,c,d)};e.requestStream=function(a,c,d,e){a=this.$3(a,c,d,e);a.send();b("cr:2046346")!=null&&b("cr:2046346").startPulsarTest();return a};e.logInfo=function(a){c("BladeRunnerLogger").info(a)};e.bumpCounter=function(a){c("BladeRunnerLogger").bumpCounter(a)};e.$3=function(a,b,e,f){var g=new(d("BladeRunnerTypesInternal").GatewayStreamRequest)();g.streamId=this.$1.getNextStreamId();g.requestType=d("BladeRunnerTypes").StreamRequestType.BLADE_RUNNER;g.headers=c("BladeRunnerConfig").patchRequestHeaders(a);g.extraHeader=JSON.stringify(g.headers);g.payload=b!=null?c("Base64").encode(b):null;f!=null&&(f.transport="WEB_RS_MQTT");g.instrumentationData=d("RequestStreamE2ESampling").validateInstrumentationData(g.headers||{},f);g.e2eLogger=d("RequestStreamE2ELogger").createStreamLogger(g.headers,g.instrumentationData,this.$2);return new(c("BladeRunnerSocketStream"))(e,g,this.$1)};return a}();g["default"]=a}),98);
__d("ClickToWhatsAppBusinessDownloadFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1923272");b=d("FalcoLoggerInternal").create("click_to_whats_app_business_download",a);e=b;g["default"]=e}),98);
__d("CometFeedStoriesStrategyErrorsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:CometFeedStoriesStrategyErrorsLoggerConfig")}),null);
__d("CometFeedUnitLoadingIndicatorMask.react",["FDSProgressIndicator.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{alignItems:"x6s0dn4",backgroundColor:"x1h0vfkc",bottom:"x1ey2m1c",display:"x78zum5",flexDirection:"xdt5ytf",end:"xds687c",start:"x17qophe",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(d("react-strict-dom").html.div,{style:j.root,children:i.jsx(c("FDSProgressIndicator.react"),{})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("CometGroupsPathingFunnelLogger",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case"1635855486666999":return"REACTION_MENU_LIKE";case"1678524932434102":return"REACTION_MENU_LOVE";case"478547315650144":return"REACTION_MENU_WOW";case"115940658764963":return"REACTION_MENU_HAHA";case"908563459236466":return"REACTION_MENU_SORRY";case"444813342392137":return"REACTION_MENU_ANGER";case"613557422527858":return"REACTION_MENU_SUPPORT";default:return void 0}}function b(a,b,c){return}function c(a){return}function d(a,b){return}function e(a,b,c){return}function g(a){return}f.getReactionQPLPointFromReaction=a;f.start=b;f.addPoint=c;f.addSharedPoint=d;f.addEventSharedPoint=e;f.endCancel=g}),66);
__d("CometSSREntrypoint",["objectValues","relay-runtime/util/withProvidedVariables"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b,d=c("relay-runtime/util/withProvidedVariables")(a.variables,a.parameters.params.providedVariables);return{actor_id:(b=(b=a.environmentProviderOptions)==null?void 0:b.actorID)!=null?b:null,exclude_from_ssr:(b=(b=a.environmentProviderOptions)==null?void 0:b.excludeFromSSR)!=null?b:!1,graphql_env_override_ref:(b=(b=a.environmentProviderOptions)==null?void 0:b.graphQLEnvOverrideRef)!=null?b:null,id:a.parameters.params.id,name:a.parameters.params.name,num_connections_for_ssr:(a=(b=a.environmentProviderOptions)==null?void 0:b.numConnectionsForSSR)!=null?a:null,variables:d}}function i(a,b){b=a.getPreloadProps(b);var d=b.entryPoints;b=b.queries;b=(b=b)!=null?b:{};var e=c("objectValues")(b).filter(function(a){return a!=null}),f=[a.root.getModuleId()];if(d!=null){b=Object.keys(d);b.forEach(function(a){a=d[a];if(a==null)return;var b=a.entryPoint;a=a.entryPointParams;b=i(b,a);e=e.concat(b.queries);f=f.concat(b.roots)})}return{queries:e,roots:f}}function a(a,b){a=i(a,b);b=a.queries;return b.map(h)}function b(a){a=a.map(function(a){return i(a.entryPoint,a.entryPointParams)});return a.map(function(a){var b=a.queries;a=a.roots;return{quries:b.map(h),roots:a}})}function d(a,b){a=i(a,b);b=a.queries;a=a.roots;return{queries:b.map(h),roots:a}}function e(){throw new Error("This function should not be called. It exists solely for the type-generation")}function f(a,b){var d;a=a.map(function(a){return i(a.entryPoint,a.entryPointParams)});a=a.map(function(a){var b=a.queries;a=a.roots;return{queries:b.map(h),roots:a}});d=c("objectValues")((d=b==null?void 0:b.getDisplayQueries())!=null?d:{}).filter(function(a){return a!=null}).map(h);b=c("objectValues")((b=b==null?void 0:b.getDeferredQueries())!=null?b:{}).filter(function(a){return a!=null}).map(h);return{appshellQueries:{deferred:b,display:d},routeObjects:a}}g.processRootEntryPoint=a;g.processRootEntryPoints=b;g.processRootEntryPointData=d;g.preloadQuery=e;g.processServerEntryPoints=f}),98);
__d("CometRouterSSREntrypoint",["CometSSREntrypoint"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("CometSSREntrypoint").processRootEntryPoint;b=importNamespace("CometSSREntrypoint").processRootEntryPointData;f.processRootEntryPoint=a;f.processRootEntryPointData=b}),66);
__d("CometRelayEF",["Bootloader","BootloaderEvents","ClientConsistencyEventEmitter","CometRouterSSREntrypoint","cometAsyncFetch","gkx","performanceAbsoluteNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function j(a,b){if(!c("gkx")("26332"))return;a=d("CometRouterSSREntrypoint").processRootEntryPoint(a,b);var e=[];a.forEach(function(a){a=a.name;i.has(a)||(e.push(a),d("BootloaderEvents").notifyHasteResponseEFStart("relay_3d",a))});if(e.length===0)return;var f=(h||(h=c("performanceAbsoluteNow")))(),g=c("cometAsyncFetch")("/ajax/relay-ef/",{data:{queries:e},method:"POST"}).then(function(a){return{fetchPredictionsEnd:(h||(h=c("performanceAbsoluteNow")))(),fetchPredictionsStart:f,payload:a}});e.forEach(function(a){return i.set(a,g)})}function a(a,b){if(!c("gkx")("26332"))return;var e=(h||(h=c("performanceAbsoluteNow")))();j(a,b);a=d("CometRouterSSREntrypoint").processRootEntryPoint(a,b);a.forEach(function(a){var b=a.name,f=i.get(b);f&&f!==!0&&c("promiseDone")(f,function(a){var f=a.fetchPredictionsEnd,g=a.fetchPredictionsStart;a=a.payload;if(a!=null&&typeof a==="object"){var h;c("Bootloader").loadPredictedResourceMap(a.predictions[b],{onLog:function(a){return d("BootloaderEvents").notifyHasteResponseEF("relay_3d",b,{fetchPredictionsEnd:f,fetchPredictionsStart:g,fetchRsrcsStart:e,tierOne:a})}},(h=(h=a.consistency)==null?void 0:h.rev)!=null?h:null);a.consistency!=null&&c("ClientConsistencyEventEmitter").emit("newEntry",a.consistency)}});i.set(a.name,!0)})}b={fetchPredictedResources:a,fetchPredictions:j};g["default"]=b}),98);
__d("jsbi",[],(function(a,b,c,d,e,f){(function(a,b){"object"==typeof f&&"undefined"!=typeof e?e.exports=b():"function"==typeof define&&define.amd?define(b):a.JSBI=b()})(this,function(){"use strict";function a(b){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},a(b)}function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function d(a,b,d){return b&&c(a.prototype,b),d&&c(a,d),a}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&g(a,b)}function f(a){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},f(a)}function g(a,b){return g=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},g(a,b)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function i(){return i=h()?Reflect.construct:function(a,b,c){var d=[null];d.push.apply(d,b);b=Function.bind.apply(a,d);a=new b;return c&&g(a,c.prototype),a},i.apply(null,arguments)}function j(a){return-1!==Function.toString.call(a).indexOf("[native code]")}function k(a){var b="function"==typeof Map?new Map:void 0;return k=function(a){function c(){return i(a,arguments,f(this).constructor)}if(null===a||!j(a))return a;if("function"!=typeof a)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof b){if(b.has(a))return b.get(a);b.set(a,c)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),g(c,a)},k(a)}function l(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function m(a,b){return b&&("object"==typeof b||"function"==typeof b)?b:l(a)}var n=function(c){var h=Math.abs,i=Math.max,j=Math.imul,k=Math.clz32;function g(a,c){if(b(this,g),a>g.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return a=m(this,f(g).call(this,a)),a.sign=c,a}return e(g,c),d(g,[{key:"toDebugString",value:function(){var a=["BigInt["],b=!0,c=!1,d=void 0;try{for(var e,e,f=this[Symbol.iterator]();!(b=(e=f.next()).done);b=!0)e=e.value,a.push((e?(e>>>0).toString(16):e)+", ")}catch(a){c=!0,d=a}finally{try{b||null==f["return"]||f["return"]()}finally{if(c)throw d}}return a.push("]"),a.join("")}},{key:"toString",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>a||36<a)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(a&a-1)?g.__toStringBasePowerOfTwo(this,a):g.__toStringGeneric(this,a,!1)}},{key:"__copy",value:function(){for(var a=new g(this.length,this.sign),b=0;b<this.length;b++)a[b]=this[b];return a}},{key:"__trim",value:function(){for(var a=this.length,b=this[a-1];0===b;)a--,b=this[a-1],this.pop();return 0===a&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var a=0;a<this.length;a++)this[a]=0}},{key:"__clzmsd",value:function(){return k(this[this.length-1])}},{key:"__inplaceMultiplyAdd",value:function(a,b,c){c>this.length&&(c=this.length);for(var d=65535&a,a=a>>>16,e=0,f=65535&b,b=b>>>16,i=0;i<c;i++){var n=this.__digit(i),m=65535&n;n=n>>>16;var o=j(m,d);m=j(m,a);var p=j(n,d);n=j(n,a);var q=f+(65535&o);o=b+e+(q>>>16)+(o>>>16)+(65535&m)+(65535&p);f=(m>>>16)+(p>>>16)+(65535&n)+(o>>>16),e=f>>>16,f&=65535,b=n>>>16;this.__setDigit(i,65535&q|o<<16)}if(0!==e||0!==f||0!==b)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(a,b,c){for(var d,e=0,f=0;f<c;f++)d=this.__halfDigit(b+f)+a.__halfDigit(f)+e,e=d>>>16,this.__setHalfDigit(b+f,d);return e}},{key:"__inplaceSub",value:function(a,b,c){var d=0;if(1&b){b>>=1;for(var e=this.__digit(b),f=65535&e,k=0;k<c-1>>>1;k++){var l=a.__digit(k),m=(e>>>16)-(65535&l)-d;d=1&m>>>16,this.__setDigit(b+k,m<<16|65535&f),e=this.__digit(b+k+1),f=(65535&e)-(l>>>16)-d,d=1&f>>>16}m=a.__digit(k);l=(e>>>16)-(65535&m)-d;d=1&l>>>16,this.__setDigit(b+k,l<<16|65535&f);if(b+k+1>=this.length)throw new RangeError("out of bounds");0==(1&c)&&(e=this.__digit(b+k+1),f=(65535&e)-(m>>>16)-d,d=1&f>>>16,this.__setDigit(b+a.length,4294901760&e|65535&f))}else{b>>=1;for(l=0;l<a.length-1;l++){k=this.__digit(b+l);m=a.__digit(l);e=(65535&k)-(65535&m)-d;d=1&e>>>16;f=(k>>>16)-(m>>>16)-d;d=1&f>>>16,this.__setDigit(b+l,f<<16|65535&e)}k=this.__digit(b+l);m=a.__digit(l);f=(65535&k)-(65535&m)-d;d=1&f>>>16;e=0;0==(1&c)&&(e=(k>>>16)-(m>>>16)-d,d=1&e>>>16),this.__setDigit(b+l,e<<16|65535&f)}return d}},{key:"__inplaceRightShift",value:function(a){if(0!==a){for(var b,c=this.__digit(0)>>>a,d=this.length-1,e=0;e<d;e++)b=this.__digit(e+1),this.__setDigit(e,b<<32-a|c),c=b>>>a;this.__setDigit(d,c)}}},{key:"__digit",value:function(a){return this[a]}},{key:"__unsignedDigit",value:function(a){return this[a]>>>0}},{key:"__setDigit",value:function(a,b){this[a]=0|b}},{key:"__setDigitGrow",value:function(a,b){this[a]=0|b}},{key:"__halfDigitLength",value:function(){var a=this.length;return 65535>=this.__unsignedDigit(a-1)?2*a-1:2*a}},{key:"__halfDigit",value:function(a){return 65535&this[a>>>1]>>>((1&a)<<4)}},{key:"__setHalfDigit",value:function(a,b){var c=a>>>1,d=this.__digit(c);a=1&a?65535&d|b<<16:4294901760&d|65535&b;this.__setDigit(c,a)}}],[{key:"BigInt",value:function(b){var c=Math.floor,d=Number.isFinite;if("number"==typeof b){if(0===b)return g.__zero();if((0|b)===b)return 0>b?g.__oneDigit(-b,!0):g.__oneDigit(b,!1);if(!d(b)||c(b)!==b)throw new RangeError("The number "+b+" cannot be converted to BigInt because it is not an integer");return g.__fromDouble(b)}if("string"==typeof b){d=g.__fromString(b);if(null===d)throw new SyntaxError("Cannot convert "+b+" to a BigInt");return d}if("boolean"==typeof b)return!0===b?g.__oneDigit(1,!1):g.__zero();if("object"===a(b)){if(b.constructor===g)return b;c=g.__toPrimitive(b);return g.BigInt(c)}throw new TypeError("Cannot convert "+b+" to a BigInt")}},{key:"toNumber",value:function(a){var b=a.length;if(0===b)return 0;if(1===b){var c=a.__unsignedDigit(0);return a.sign?-c:c}c=a.__digit(b-1);var d=k(c),e=32*b-d;if(1024<e)return a.sign?-Infinity:1/0;e=e-1;c=c;b=b-1;d=d+1;var f=32===d?0:c<<d;f>>>=12;var h=d-12,i=12<=d?0:c<<20+d;d=20+d;0<h&&0<b&&(b--,c=a.__digit(b),f|=c>>>32-h,i=c<<h,d=h),0<d&&0<b&&(b--,c=a.__digit(b),i|=c>>>32-d,d-=32);h=g.__decideRounding(a,d,b,c);if((1===h||0===h&&1==(1&i))&&(i=i+1>>>0,0===i&&(f++,0!=f>>>20&&(f=0,e++,1023<e))))return a.sign?-Infinity:1/0;d=a.sign?-2147483648:0;return e=e+1023<<20,g.__kBitConversionInts[1]=d|e|f,g.__kBitConversionInts[0]=i,g.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(a){if(0===a.length)return a;var b=a.__copy();return b.sign=!a.sign,b}},{key:"bitwiseNot",value:function(a){return a.sign?g.__absoluteSubOne(a).__trim():g.__absoluteAddOne(a,!0)}},{key:"exponentiate",value:function(a,b){if(b.sign)throw new RangeError("Exponent must be positive");if(0===b.length)return g.__oneDigit(1,!1);if(0===a.length)return a;if(1===a.length&&1===a.__digit(0))return a.sign&&0==(1&b.__digit(0))?g.unaryMinus(a):a;if(1<b.length)throw new RangeError("BigInt too big");b=b.__unsignedDigit(0);if(1===b)return a;if(b>=g.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===a.length&&2===a.__digit(0)){var c=1+(b>>>5),d=a.sign&&0!=(1&b);d=new g(c,d);d.__initializeDigits();var e=1<<(31&b);return d.__setDigit(c-1,e),d}c=null;e=a;for(0!=(1&b)&&(c=a),b>>=1;0!==b;b>>=1)e=g.multiply(e,e),0!=(1&b)&&(null===c?c=e:c=g.multiply(c,e));return c}},{key:"multiply",value:function(a,b){if(0===a.length)return a;if(0===b.length)return b;var c=a.length+b.length;32<=a.__clzmsd()+b.__clzmsd()&&c--;c=new g(c,a.sign!==b.sign);c.__initializeDigits();for(var d=0;d<a.length;d++)g.__multiplyAccumulate(b,a.__digit(d),c,d);return c.__trim()}},{key:"divide",value:function(a,b){if(0===b.length)throw new RangeError("Division by zero");if(0>g.__absoluteCompare(a,b))return g.__zero();var c=a.sign!==b.sign,d=b.__unsignedDigit(0);if(1===b.length&&65535>=d){if(1===d)return c===a.sign?a:g.unaryMinus(a);d=g.__absoluteDivSmall(a,d,null)}else d=g.__absoluteDivLarge(a,b,!0,!1);return d.sign=c,d.__trim()}},{key:"remainder",value:function(a,b){if(0===b.length)throw new RangeError("Division by zero");if(0>g.__absoluteCompare(a,b))return a;var c=b.__unsignedDigit(0);if(1===b.length&&65535>=c){if(1===c)return g.__zero();c=g.__absoluteModSmall(a,c);return 0===c?g.__zero():g.__oneDigit(c,a.sign)}c=g.__absoluteDivLarge(a,b,!1,!0);return c.sign=a.sign,c.__trim()}},{key:"add",value:function(a,b){var c=a.sign;return c===b.sign?g.__absoluteAdd(a,b,c):0<=g.__absoluteCompare(a,b)?g.__absoluteSub(a,b,c):g.__absoluteSub(b,a,!c)}},{key:"subtract",value:function(a,b){var c=a.sign;return c===b.sign?0<=g.__absoluteCompare(a,b)?g.__absoluteSub(a,b,c):g.__absoluteSub(b,a,!c):g.__absoluteAdd(a,b,c)}},{key:"leftShift",value:function(a,b){return 0===b.length||0===a.length?a:b.sign?g.__rightShiftByAbsolute(a,b):g.__leftShiftByAbsolute(a,b)}},{key:"signedRightShift",value:function(a,b){return 0===b.length||0===a.length?a:b.sign?g.__leftShiftByAbsolute(a,b):g.__rightShiftByAbsolute(a,b)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(a,b){return 0>g.__compareToBigInt(a,b)}},{key:"lessThanOrEqual",value:function(a,b){return 0>=g.__compareToBigInt(a,b)}},{key:"greaterThan",value:function(a,b){return 0<g.__compareToBigInt(a,b)}},{key:"greaterThanOrEqual",value:function(a,b){return 0<=g.__compareToBigInt(a,b)}},{key:"equal",value:function(a,b){if(a.sign!==b.sign)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a.__digit(c)!==b.__digit(c))return!1;return!0}},{key:"notEqual",value:function(a,b){return!g.equal(a,b)}},{key:"bitwiseAnd",value:function(a,b){if(!a.sign&&!b.sign)return g.__absoluteAnd(a,b).__trim();if(a.sign&&b.sign){var c=i(a.length,b.length)+1;c=g.__absoluteSubOne(a,c);var d=g.__absoluteSubOne(b);return c=g.__absoluteOr(c,d,c),g.__absoluteAddOne(c,!0,c).__trim()}if(a.sign){d=[b,a];a=d[0],b=d[1]}return g.__absoluteAndNot(a,g.__absoluteSubOne(b)).__trim()}},{key:"bitwiseXor",value:function(a,b){if(!a.sign&&!b.sign)return g.__absoluteXor(a,b).__trim();if(a.sign&&b.sign){var c=i(a.length,b.length);c=g.__absoluteSubOne(a,c);var d=g.__absoluteSubOne(b);return g.__absoluteXor(c,d,c).__trim()}d=i(a.length,b.length)+1;if(a.sign){c=[b,a];a=c[0],b=c[1]}c=g.__absoluteSubOne(b,d);return c=g.__absoluteXor(c,a,c),g.__absoluteAddOne(c,!0,c).__trim()}},{key:"bitwiseOr",value:function(a,b){var c=i(a.length,b.length);if(!a.sign&&!b.sign)return g.__absoluteOr(a,b).__trim();if(a.sign&&b.sign){var d=g.__absoluteSubOne(a,c),e=g.__absoluteSubOne(b);return d=g.__absoluteAnd(d,e,d),g.__absoluteAddOne(d,!0,d).__trim()}if(a.sign){e=[b,a];a=e[0],b=e[1]}d=g.__absoluteSubOne(b,c);return d=g.__absoluteAndNot(d,a,d),g.__absoluteAddOne(d,!0,d).__trim()}},{key:"asIntN",value:function(a,b){if(0===b.length)return b;if(0===a)return g.__zero();if(a>=g.__kMaxLengthBits)return b;var c=a+31>>>5;if(b.length<c)return b;var d=b.__unsignedDigit(c-1),e=1<<(31&a-1);if(b.length===c&&d<e)return b;if(!((d&e)===e))return g.__truncateToNBits(a,b);if(!b.sign)return g.__truncateAndSubFromPowerOfTwo(a,b,!0);if(0==(d&e-1)){for(var f=c-2;0<=f;f--)if(0!==b.__digit(f))return g.__truncateAndSubFromPowerOfTwo(a,b,!1);return b.length===c&&d===e?b:g.__truncateToNBits(a,b)}return g.__truncateAndSubFromPowerOfTwo(a,b,!1)}},{key:"asUintN",value:function(a,b){if(0===b.length)return b;if(0===a)return g.__zero();if(b.sign){if(a>g.__kMaxLengthBits)throw new RangeError("BigInt too big");return g.__truncateAndSubFromPowerOfTwo(a,b,!1)}if(a>=g.__kMaxLengthBits)return b;var c=a+31>>>5;if(b.length<c)return b;var d=31&a;if(b.length==c){if(0==d)return b;c=b.__digit(c-1);if(0==c>>>d)return b}return g.__truncateToNBits(a,b)}},{key:"ADD",value:function(a,b){if(a=g.__toPrimitive(a),b=g.__toPrimitive(b),"string"==typeof a)return"string"!=typeof b&&(b=b.toString()),a+b;if("string"==typeof b)return a.toString()+b;if(a=g.__toNumeric(a),b=g.__toNumeric(b),g.__isBigInt(a)&&g.__isBigInt(b))return g.add(a,b);if("number"==typeof a&&"number"==typeof b)return a+b;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(a,b){return g.__compare(a,b,0)}},{key:"LE",value:function(a,b){return g.__compare(a,b,1)}},{key:"GT",value:function(a,b){return g.__compare(a,b,2)}},{key:"GE",value:function(a,b){return g.__compare(a,b,3)}},{key:"EQ",value:function(b,c){for(;;){if(g.__isBigInt(b))return g.__isBigInt(c)?g.equal(b,c):g.EQ(c,b);if("number"==typeof b){if(g.__isBigInt(c))return g.__equalToNumber(c,b);if("object"!==a(c))return b==c;c=g.__toPrimitive(c)}else if("string"==typeof b){if(g.__isBigInt(c))return b=g.__fromString(b),null!==b&&g.equal(b,c);if("object"!==a(c))return b==c;c=g.__toPrimitive(c)}else if("boolean"==typeof b){if(g.__isBigInt(c))return g.__equalToNumber(c,+b);if("object"!==a(c))return b==c;c=g.__toPrimitive(c)}else if("symbol"===a(b)){if(g.__isBigInt(c))return!1;if("object"!==a(c))return b==c;c=g.__toPrimitive(c)}else if("object"===a(b)){if("object"===a(c)&&c.constructor!==g)return b==c;b=g.__toPrimitive(b)}else return b==c}}},{key:"NE",value:function(a,b){return!g.EQ(a,b)}},{key:"__zero",value:function(){return new g(0,!1)}},{key:"__oneDigit",value:function(a,b){b=new g(1,b);return b.__setDigit(0,a),b}},{key:"__decideRounding",value:function(a,b,c,d){if(0<b)return-1;if(0>b)b=-b-1;else{if(0===c)return-1;c--,d=a.__digit(c),b=31}b=1<<b;if(0==(d&b))return-1;if(b-=1,0!=(d&b))return 1;for(;0<c;)if(c--,0!==a.__digit(c))return 1;return 0}},{key:"__fromDouble",value:function(a){g.__kBitConversionDouble[0]=a;var b,c=2047&g.__kBitConversionInts[1]>>>20;c=c-1023;var d=(c>>>5)+1;a=new g(d,0>a);var e=1048575&g.__kBitConversionInts[1]|1048576,f=g.__kBitConversionInts[0],k=20;c=31&c;var n=0;if(c<k){var m=k-c;n=m+32,b=e>>>m,e=e<<32-m|f>>>m,f<<=32-m}else if(c===k)n=32,b=e,e=f;else{m=c-k;n=32-m,b=e<<m|f>>>32-m,e=f<<m}a.__setDigit(d-1,b);for(c=d-2;0<=c;c--)0<n?(n-=32,b=e,e=f):b=0,a.__setDigit(c,b);return a.__trim()}},{key:"__isWhitespace",value:function(a){return!!(13>=a&&9<=a)||(159>=a?32==a:131071>=a?160==a||5760==a:196607>=a?(a&=131071,10>=a||40==a||41==a||47==a||95==a||4096==a):65279==a)}},{key:"__fromString",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=0,d=a.length,e=0;if(e===d)return g.__zero();for(var f=a.charCodeAt(e);g.__isWhitespace(f);){if(++e===d)return g.__zero();f=a.charCodeAt(e)}if(43===f){if(++e===d)return null;f=a.charCodeAt(e),c=1}else if(45===f){if(++e===d)return null;f=a.charCodeAt(e),c=-1}if(0===b){if(b=10,48===f){if(++e===d)return g.__zero();if(f=a.charCodeAt(e),88===f||120===f){if(b=16,++e===d)return null;f=a.charCodeAt(e)}else if(79===f||111===f){if(b=8,++e===d)return null;f=a.charCodeAt(e)}else if(66===f||98===f){if(b=2,++e===d)return null;f=a.charCodeAt(e)}}}else if(16===b&&48===f){if(++e===d)return g.__zero();if(f=a.charCodeAt(e),88===f||120===f){if(++e===d)return null;f=a.charCodeAt(e)}}for(;48===f;){if(++e===d)return g.__zero();f=a.charCodeAt(e)}var m=d-e,i=g.__kMaxBitsPerChar[b],j=g.__kBitsPerCharTableMultiplier-1;if(m>1073741824/i)return null;var k=i*m+j>>>g.__kBitsPerCharTableShift,l=new g(k+31>>>5,!1),n=10>b?b:10,o=10<b?b-10:0;if(0==(b&b-1)){i>>=g.__kBitsPerCharTableShift;var p=[],q=[],r=!1;do{for(var s,t=0,u=0;;){if(void 0,f-48>>>0<n)s=f-48;else if((32|f)-97>>>0<o)s=(32|f)-87;else{r=!0;break}if(u+=i,t=t<<i|s,++e===d){r=!0;break}if(f=a.charCodeAt(e),32<u+i)break}p.push(t),q.push(u)}while(!r);g.__fillFromParts(l,p,q)}else{l.__initializeDigits();var v=!1,w=0;do{for(var x,y=0,z=1;;){if(void 0,f-48>>>0<n)x=f-48;else if((32|f)-97>>>0<o)x=(32|f)-87;else{v=!0;break}var A=z*b;if(4294967295<A)break;if(z=A,y=y*b+x,w++,++e===d){v=!0;break}f=a.charCodeAt(e)}j=32*g.__kBitsPerCharTableMultiplier-1;var B=i*w+j>>>g.__kBitsPerCharTableShift+5;l.__inplaceMultiplyAdd(z,y,B)}while(!v)}if(e!==d){if(!g.__isWhitespace(f))return null;for(e++;e<d;e++)if(f=a.charCodeAt(e),!g.__isWhitespace(f))return null}return 0!==c&&10!==b?null:(l.sign=-1===c,l.__trim())}},{key:"__fillFromParts",value:function(a,b,c){for(var d=0,e=0,f=0,k=b.length-1;0<=k;k--){var l=b[k],m=c[k];e|=l<<f,f+=m,32===f?(a.__setDigit(d++,e),f=0,e=0):32<f&&(a.__setDigit(d++,e),f-=32,e=l>>>m-f)}if(0!==e){if(d>=a.length)throw new Error("implementation bug");a.__setDigit(d++,e)}for(;d<a.length;d++)a.__setDigit(d,0)}},{key:"__toStringBasePowerOfTwo",value:function(a,b){var c=a.length,d=b-1;d=(85&d>>>1)+(85&d),d=(51&d>>>2)+(51&d),d=(15&d>>>4)+(15&d);d=d;b=b-1;var e=a.__digit(c-1),f=k(e);f=0|(32*c-f+d-1)/d;if(a.sign&&f++,268435456<f)throw new Error("string too long");for(var h=Array(f),f=f-1,l=0,n=0,o=0;o<c-1;o++){var p=a.__digit(o),q=(l|p<<n)&b;h[f--]=g.__kConversionChars[q];q=d-n;for(l=p>>>q,n=32-q;n>=d;)h[f--]=g.__kConversionChars[l&b],l>>>=d,n-=d}p=(l|e<<n)&b;for(h[f--]=g.__kConversionChars[p],l=e>>>d-n;0!==l;)h[f--]=g.__kConversionChars[l&b],l>>>=d;if(a.sign&&(h[f--]="-"),-1!==f)throw new Error("implementation bug");return h.join("")}},{key:"__toStringGeneric",value:function(a,b,c){var d=a.length;if(0===d)return"";if(1===d){var e=a.__unsignedDigit(0).toString(b);return!1===c&&a.sign&&(e="-"+e),e}e=32*d-k(a.__digit(d-1));d=g.__kMaxBitsPerChar[b];d=d-1;e=e*g.__kBitsPerCharTableMultiplier;e+=d-1,e=0|e/d;var f;d=e+1>>1;e=g.exponentiate(g.__oneDigit(b,!1),g.__oneDigit(d,!1));var h=e.__unsignedDigit(0);if(1===e.length&&65535>=h){f=new g(a.length,!1),f.__initializeDigits();for(var i,j=0,l=2*a.length-1;0<=l;l--)i=j<<16|a.__halfDigit(l),f.__setHalfDigit(l,0|i/h),j=0|i%h;i=j.toString(b)}else{h=g.__absoluteDivLarge(a,e,!0,!0);f=h.quotient;l=h.remainder.__trim();i=g.__toStringGeneric(l,b,!0)}f.__trim();for(j=g.__toStringGeneric(f,b,!0);i.length<d;)i="0"+i;return!1===c&&a.sign&&(j="-"+j),j+i}},{key:"__unequalSign",value:function(a){return a?-1:1}},{key:"__absoluteGreater",value:function(a){return a?-1:1}},{key:"__absoluteLess",value:function(a){return a?1:-1}},{key:"__compareToBigInt",value:function(a,b){var c=a.sign;if(c!==b.sign)return g.__unequalSign(c);a=g.__absoluteCompare(a,b);return 0<a?g.__absoluteGreater(c):0>a?g.__absoluteLess(c):0}},{key:"__compareToNumber",value:function(a,b){if(!0|b){var c=a.sign,d=0>b;if(c!==d)return g.__unequalSign(c);if(0===a.length){if(d)throw new Error("implementation bug");return 0===b?0:-1}if(1<a.length)return g.__absoluteGreater(c);d=h(b);var e=a.__unsignedDigit(0);return e>d?g.__absoluteGreater(c):e<d?g.__absoluteLess(c):0}return g.__compareToDouble(a,b)}},{key:"__compareToDouble",value:function(a,b){if(b!==b)return b;if(b===1/0)return-1;if(b===-Infinity)return 1;var c=a.sign;if(c!==0>b)return g.__unequalSign(c);if(0===b)throw new Error("implementation bug: should be handled elsewhere");if(0===a.length)return-1;g.__kBitConversionDouble[0]=b;b=2047&g.__kBitConversionInts[1]>>>20;if(2047==b)throw new Error("implementation bug: handled elsewhere");b=b-1023;if(0>b)return g.__absoluteGreater(c);var d=a.length,e=a.__digit(d-1),f=k(e),l=32*d-f;b=b+1;if(l<b)return g.__absoluteLess(c);if(l>b)return g.__absoluteGreater(c);b=1048576|1048575&g.__kBitConversionInts[1];var m=g.__kBitConversionInts[0],o=20;f=31-f;if(f!==(l-1)%31)throw new Error("implementation bug");var p;l=0;if(f<o){var q=o-f;l=q+32,p=b>>>q,b=b<<32-q|m>>>q,m<<=32-q}else if(f===o)l=32,p=b,b=m;else{q=f-o;l=32-q,p=b<<q|m>>>32-q,b=m<<q}if(e>>>=0,p>>>=0,e>p)return g.__absoluteGreater(c);if(e<p)return g.__absoluteLess(c);for(f=d-2;0<=f;f--){0<l?(l-=32,p=b>>>0,b=m,m=0):p=0;o=a.__unsignedDigit(f);if(o>p)return g.__absoluteGreater(c);if(o<p)return g.__absoluteLess(c)}if(0!==b||0!==m){if(0===l)throw new Error("implementation bug");return g.__absoluteLess(c)}return 0}},{key:"__equalToNumber",value:function(a,b){return b|0===b?0===b?0===a.length:1===a.length&&a.sign===0>b&&a.__unsignedDigit(0)===h(b):0===g.__compareToDouble(a,b)}},{key:"__comparisonResultToBool",value:function(a,b){switch(b){case 0:return 0>a;case 1:return 0>=a;case 2:return 0<a;case 3:return 0<=a}throw new Error("unreachable")}},{key:"__compare",value:function(a,b,c){if(a=g.__toPrimitive(a),b=g.__toPrimitive(b),"string"==typeof a&&"string"==typeof b)switch(c){case 0:return a<b;case 1:return a<=b;case 2:return a>b;case 3:return a>=b}if(g.__isBigInt(a)&&"string"==typeof b)return b=g.__fromString(b),null!==b&&g.__comparisonResultToBool(g.__compareToBigInt(a,b),c);if("string"==typeof a&&g.__isBigInt(b))return a=g.__fromString(a),null!==a&&g.__comparisonResultToBool(g.__compareToBigInt(a,b),c);if(a=g.__toNumeric(a),b=g.__toNumeric(b),g.__isBigInt(a)){if(g.__isBigInt(b))return g.__comparisonResultToBool(g.__compareToBigInt(a,b),c);if("number"!=typeof b)throw new Error("implementation bug");return g.__comparisonResultToBool(g.__compareToNumber(a,b),c)}if("number"!=typeof a)throw new Error("implementation bug");if(g.__isBigInt(b))return g.__comparisonResultToBool(g.__compareToNumber(b,a),2^c);if("number"!=typeof b)throw new Error("implementation bug");return 0===c?a<b:1===c?a<=b:2===c?a>b:3===c?a>=b:void 0}},{key:"__absoluteAdd",value:function(a,b,c){if(a.length<b.length)return g.__absoluteAdd(b,a,c);if(0===a.length)return a;if(0===b.length)return a.sign===c?a:g.unaryMinus(a);var d=a.length;(0===a.__clzmsd()||b.length===a.length&&0===b.__clzmsd())&&d++;for(var d=new g(d,c),c=0,e=0;e<b.length;e++){var f=b.__digit(e),h=a.__digit(e),m=(65535&h)+(65535&f)+c;h=(h>>>16)+(f>>>16)+(m>>>16);c=h>>>16,d.__setDigit(e,65535&m|h<<16)}for(;e<a.length;e++){f=a.__digit(e);m=(65535&f)+c;h=(f>>>16)+(m>>>16);c=h>>>16,d.__setDigit(e,65535&m|h<<16)}return e<d.length&&d.__setDigit(e,c),d.__trim()}},{key:"__absoluteSub",value:function(a,b,c){if(0===a.length)return a;if(0===b.length)return a.sign===c?a:g.unaryMinus(a);for(var c=new g(a.length,c),d=0,e=0;e<b.length;e++){var f=a.__digit(e),l=b.__digit(e),m=(65535&f)-(65535&l)-d;d=1&m>>>16;f=(f>>>16)-(l>>>16)-d;d=1&f>>>16,c.__setDigit(e,65535&m|f<<16)}for(;e<a.length;e++){l=a.__digit(e);m=(65535&l)-d;d=1&m>>>16;f=(l>>>16)-d;d=1&f>>>16,c.__setDigit(e,65535&m|f<<16)}return c.__trim()}},{key:"__absoluteAddOne",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length;null===c?c=new g(d,b):c.sign=b;for(var e=!0,f=0;f<d;f++){var k=a.__digit(f),l=-1===k;e&&(k=0|k+1),e=l,c.__setDigit(f,k)}return e&&c.__setDigitGrow(d,1),c}},{key:"__absoluteSubOne",value:function(a,b){var c=a.length;b=b||c;for(var d=new g(b,!1),e=!0,f=0;f<c;f++){var k=a.__digit(f),l=0===k;e&&(k=0|k-1),e=l,d.__setDigit(f,k)}for(l=c;l<b;l++)d.__setDigit(l,0);return d}},{key:"__absoluteAnd",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length,e=b.length,f=e;if(d<e){f=d;var m=a,n=d;a=b,e,b=m,n}var k=f;null===c?c=new g(k,!1):k=c.length;for(var l=0;l<f;l++)c.__setDigit(l,a.__digit(l)&b.__digit(l));for(;l<k;l++)c.__setDigit(l,0);return c}},{key:"__absoluteAndNot",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length,e=b.length,f=e;d<e&&(f=d);var k=d;null===c?c=new g(k,!1):k=c.length;for(var l=0;l<f;l++)c.__setDigit(l,a.__digit(l)&~b.__digit(l));for(;l<d;l++)c.__setDigit(l,a.__digit(l));for(;l<k;l++)c.__setDigit(l,0);return c}},{key:"__absoluteOr",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length,e=b.length,f=e;if(d<e){f=d;var m=a,n=d;a=b,d=e,b=m,n}var k=d;null===c?c=new g(k,!1):k=c.length;for(var l=0;l<f;l++)c.__setDigit(l,a.__digit(l)|b.__digit(l));for(;l<d;l++)c.__setDigit(l,a.__digit(l));for(;l<k;l++)c.__setDigit(l,0);return c}},{key:"__absoluteXor",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length,e=b.length,f=e;if(d<e){f=d;var m=a,n=d;a=b,d=e,b=m,n}var k=d;null===c?c=new g(k,!1):k=c.length;for(var l=0;l<f;l++)c.__setDigit(l,a.__digit(l)^b.__digit(l));for(;l<d;l++)c.__setDigit(l,a.__digit(l));for(;l<k;l++)c.__setDigit(l,0);return c}},{key:"__absoluteCompare",value:function(a,b){var c=a.length-b.length;if(0!=c)return c;for(c=a.length-1;0<=c&&a.__digit(c)===b.__digit(c);)c--;return 0>c?0:a.__unsignedDigit(c)>b.__unsignedDigit(c)?1:-1}},{key:"__multiplyAccumulate",value:function(a,b,c,d){if(0!==b){for(var e=65535&b,b=b>>>16,f=0,g=0,k=0,l=0;l<a.length;l++,d++){var m=c.__digit(d),n=65535&m,o=m>>>16,p=a.__digit(l),q=65535&p;p=p>>>16;var r=j(q,e);q=j(q,b);var s=j(p,e);p=j(p,b);n+=g+(65535&r),o+=k+f+(n>>>16)+(r>>>16)+(65535&q)+(65535&s),f=o>>>16,g=(q>>>16)+(s>>>16)+(65535&p)+f,f=g>>>16,g&=65535,k=p>>>16,m=65535&n|o<<16,c.__setDigit(d,m)}for(;0!==f||0!==g||0!==k;d++){r=c.__digit(d);q=(65535&r)+g;s=(r>>>16)+(q>>>16)+k+f;g=0,k=0,f=s>>>16,r=65535&q|s<<16,c.__setDigit(d,r)}}}},{key:"__internalMultiplyAdd",value:function(a,b,c,d,e){for(var c=c,f=0,h=0;h<d;h++){var l=a.__digit(h),m=j(65535&l,b),n=(65535&m)+f+c;c=n>>>16;l=j(l>>>16,b);m=(65535&l)+(m>>>16)+c;c=m>>>16,f=l>>>16,e.__setDigit(h,m<<16|65535&n)}if(e.length>d)for(e.__setDigit(d++,c+f);d<e.length;)e.__setDigit(d++,0);else if(0!==c+f)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(a,b,c){null===c&&(c=new g(a.length,!1));for(var d=0,e=2*a.length-1;0<=e;e-=2){var f=(d<<16|a.__halfDigit(e))>>>0,k=0|f/b;d=0|f%b,f=(d<<16|a.__halfDigit(e-1))>>>0;var l=0|f/b;d=0|f%b,c.__setDigit(e>>>1,k<<16|l)}return c}},{key:"__absoluteModSmall",value:function(a,b){for(var c,d=0,e=2*a.length-1;0<=e;e--)c=(d<<16|a.__halfDigit(e))>>>0,d=0|c%b;return d}},{key:"__absoluteDivLarge",value:function(a,b,c,d){var f=b.__halfDigitLength(),e=b.length,n=a.__halfDigitLength()-f,i=null;c&&(i=new g(n+2>>>1,!1),i.__initializeDigits());var l=new g(f+2>>>1,!1);l.__initializeDigits();var m=g.__clz16(b.__halfDigit(f-1));0<m&&(b=g.__specialLeftShift(b,m,0));for(var a=g.__specialLeftShift(a,m,1),k=b.__halfDigit(f-1),o=0,n=n;0<=n;n--){var p=65535,q=a.__halfDigit(n+f);if(q!==k){q=(q<<16|a.__halfDigit(n+f-1))>>>0;p=0|q/k;for(var q=0|q%k,r=b.__halfDigit(f-2),s=a.__halfDigit(n+f-2);j(p,r)>>>0>(q<<16|s)>>>0&&(p--,q+=k,!(65535<q)););}g.__internalMultiplyAdd(b,p,0,e,l);r=a.__inplaceSub(l,n,f+1);0!==r&&(r=a.__inplaceAdd(b,n,f),a.__setHalfDigit(n+f,a.__halfDigit(n+f)+r),p--),c&&(1&n?o=p<<16:i.__setDigit(n>>>1,o|p))}return d?(a.__inplaceRightShift(m),c?{quotient:i,remainder:a}:a):c?i:void 0}},{key:"__clz16",value:function(a){return k(a)-16}},{key:"__specialLeftShift",value:function(a,b,c){var e=a.length,d=new g(e+c,!1);if(0===b){for(var f=0;f<e;f++)d.__setDigit(f,a.__digit(f));return 0<c&&d.__setDigit(e,0),d}for(var j,f=0,l=0;l<e;l++)j=a.__digit(l),d.__setDigit(l,j<<b|f),f=j>>>32-b;return 0<c&&d.__setDigit(e,f),d}},{key:"__leftShiftByAbsolute",value:function(a,b){b=g.__toShiftAmount(b);if(0>b)throw new RangeError("BigInt too big");var c=b>>>5;b=31&b;var d=a.length,e=0!==b&&0!=a.__digit(d-1)>>>32-b,f=d+c+(e?1:0),m=new g(f,a.sign);if(0===b){for(var n=0;n<c;n++)m.__setDigit(n,0);for(;n<f;n++)m.__setDigit(n,a.__digit(n-c))}else{for(n=0,f=0;f<c;f++)m.__setDigit(f,0);for(var o,f=0;f<d;f++)o=a.__digit(f),m.__setDigit(f+c,o<<b|n),n=o>>>32-b;if(e)m.__setDigit(d+c,n);else if(0!==n)throw new Error("implementation bug")}return m.__trim()}},{key:"__rightShiftByAbsolute",value:function(a,b){var c=a.length,d=a.sign;b=g.__toShiftAmount(b);if(0>b)return g.__rightShiftByMaximum(d);var e=b>>>5;b=31&b;var f=c-e;if(0>=f)return g.__rightShiftByMaximum(d);var i=!1;if(d)if(0!=(a.__digit(e)&(1<<b)-1))i=!0;else for(var m=0;m<e;m++)if(0!==a.__digit(m)){i=!0;break}if(i&&0===b){m=a.__digit(c-1);0==~m&&f++}m=new g(f,d);if(0===b)for(f=e;f<c;f++)m.__setDigit(f-e,a.__digit(f));else{for(var n,d=a.__digit(e)>>>b,f=c-e-1,c=0;c<f;c++)n=a.__digit(c+e+1),m.__setDigit(c,n<<32-b|d),d=n>>>b;m.__setDigit(f,d)}return i&&(m=g.__absoluteAddOne(m,!0,m)),m.__trim()}},{key:"__rightShiftByMaximum",value:function(a){return a?g.__oneDigit(1,!0):g.__zero()}},{key:"__toShiftAmount",value:function(a){if(1<a.length)return-1;a=a.__unsignedDigit(0);return a>g.__kMaxLengthBits?-1:a}},{key:"__toPrimitive",value:function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==a(b))return b;if(b.constructor===g)return b;var d=b[Symbol.toPrimitive];if(d){var e=d(c);if("object"!==a(e))return e;throw new TypeError("Cannot convert object to primitive value")}var f=b.valueOf;if(f){var k=f.call(b);if("object"!==a(k))return k}var l=b.toString;if(l){var m=l.call(b);if("object"!==a(m))return m}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(a){return g.__isBigInt(a)?a:+a}},{key:"__isBigInt",value:function(b){return"object"===a(b)&&b.constructor===g}},{key:"__truncateToNBits",value:function(a,b){for(var c=a+31>>>5,d=new g(c,b.sign),c=c-1,e=0;e<c;e++)d.__setDigit(e,b.__digit(e));e=b.__digit(c);if(0!=(31&a)){b=32-(31&a);e=e<<b>>>b}return d.__setDigit(c,e),d.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(a,b,c){for(var d=Math.min,e=a+31>>>5,c=new g(e,c),f=0,e=e-1,h=0,d=d(e,b.length);f<d;f++){var j=b.__digit(f),l=0-(65535&j)-h;h=1&l>>>16;j=0-(j>>>16)-h;h=1&j>>>16,c.__setDigit(f,65535&l|j<<16)}for(;f<e;f++)c.__setDigit(f,0|-h);l=e<b.length?b.__digit(e):0;j=31&a;if(0===j){d=0-(65535&l)-h;h=1&d>>>16;f=0-(l>>>16)-h;b=65535&d|f<<16}else{a=32-j;l=l<<a>>>a;d=1<<32-a;f=(65535&d)-(65535&l)-h;h=1&f>>>16;j=(d>>>16)-(l>>>16)-h;b=65535&f|j<<16,b&=d-1}return c.__setDigit(e,b),c.__trim()}},{key:"__digitPow",value:function(a,b){for(var c=1;0<b;)1&b&&(c*=a),b>>>=1,a*=a;return c}}]),g}(k(Array));return n.__kMaxLength=33554432,n.__kMaxLengthBits=n.__kMaxLength<<5,n.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],n.__kBitsPerCharTableShift=5,n.__kBitsPerCharTableMultiplier=1<<n.__kBitsPerCharTableShift,n.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.__kBitConversionBuffer=new ArrayBuffer(8),n.__kBitConversionDouble=new Float64Array(n.__kBitConversionBuffer),n.__kBitConversionInts=new Int32Array(n.__kBitConversionBuffer),n})}),null);
__d("TCompactProtocolPolyfill",["StringToUtf8","ThriftTypes","Utf8ToString","jsbi"],(function(a,b,c,d,e,f,g){var h,i=Object.freeze({CT_STOP:0,CT_BOOLEAN_TRUE:1,CT_BOOLEAN_FALSE:2,CT_BYTE:3,CT_I16:4,CT_I32:5,CT_I64:6,CT_DOUBLE:7,CT_BINARY:8,CT_LIST:9,CT_SET:10,CT_MAP:11,CT_STRUCT:12,CT_FLOAT:13}),j=Object.freeze({NONE:-1,CT_BOOLEAN_TRUE:i.CT_BOOLEAN_TRUE,CT_BOOLEAN_FALSE:i.CT_BOOLEAN_FALSE}),k=[i.CT_STOP,0,i.CT_BOOLEAN_TRUE,i.CT_BYTE,i.CT_DOUBLE,0,i.CT_I16,0,i.CT_I32,0,i.CT_I64,i.CT_BINARY,i.CT_STRUCT,i.CT_MAP,i.CT_SET,i.CT_LIST,0,0,0,i.CT_FLOAT],l=Math.pow(2,7)-1,m=-1*Math.pow(2,7),n=Math.pow(2,15)-1,o=-1*Math.pow(2,15),p=Math.pow(2,31)-1,q=-1*Math.pow(2,31),r=Math.pow(2,32)-1,s=(a=c("jsbi")).BigInt("9223372036854775807"),t=a.BigInt("-9223372036854775808"),u=a.BigInt("18446744073709551615"),v=a.BigInt(63),w=a.BigInt(1),x=a.BigInt(0),y=a.BigInt(7),z=a.BigInt(70),A=a.BigInt(127),B=a.BigInt(128),C=Math.pow(2,4);b=function(){function a(a){this.$4=null,this.$5=null,this.$1=a,this.$2=[],this.$3=0,this.$6=new DataView(new ArrayBuffer(1))}var b=a.prototype;b.readStructBegin=function(){this.$2.push(this.$3),this.$3=0};b.readStructEnd=function(){this.$3=this.$2.pop();return 0};b.writeStructBegin=function(a){this.$2.push(this.$3);this.$3=0;return 0};b.writeStructEnd=function(){this.$3=this.$2.pop();return 0};b.writeFieldBegin=function(a){if(a.ftype===(h||(h=c("ThriftTypes"))).BOOL){this.$4={fid:a.fid,fname:a.fname,ftype:a.ftype};return 0}else return this.$7(a,j.NONE)};b.writeListBegin=function(a){return this.$8(a)};b.writeListEnd=function(){return 0};b.writeSetBegin=function(a){return this.$8(a)};b.writeSetEnd=function(){return 0};b.writeMapBegin=function(a){var b=0;if(a.size===0)b+=this.$1.writeByte(0);else{b+=this.writeVarint32(a.size);if(a.ktype!=null&&a.vtype!=null)b+=this.$1.writeByte(this.$9(a.ktype)<<4|this.$9(a.vtype));else throw new Error("received invalid map info: "+JSON.stringify(a))}return b};b.writeMapEnd=function(){return 0};b.$7=function(a,b){var c=0;b=b===j.NONE?this.$9(a.ftype):b;a.fid>this.$3&&a.fid-this.$3<=C-1?c+=this.$1.writeByte(a.fid-this.$3<<4|b):(c+=this.$1.writeByte(b),c+=this.writeI16(a.fid));this.$3=a.fid;return c};b.$8=function(a){var b=0,c=this.$9(a.etype);a.size<=C-2?b+=this.$1.writeByte(a.size<<4|c):(b+=this.$1.writeByte(240|c),b+=this.writeVarint32(a.size));return b};b.readFieldBegin=function(){var a=this.$1.readByte(),b=a&15;if(b===(h||(h=c("ThriftTypes"))).STOP)return{ftype:(h||(h=c("ThriftTypes"))).STOP,fid:0};a=(a&240)>>>4;var d;a===0?d=this.readI16():d=this.$3+a;a=this.$10(b);(b===i.CT_BOOLEAN_TRUE||b===i.CT_BOOLEAN_FALSE)&&(this.$5=b===i.CT_BOOLEAN_TRUE);this.$3=d;return{ftype:a,fid:d}};b.readListBegin=function(){return this.$11()};b.readListEnd=function(){return 0};b.readSetBegin=function(){return this.$11()};b.readSetEnd=function(){return 0};b.readMapBegin=function(){var a=this.readVarint32();if(a>0){var b=this.$1.readByte(),c=this.$12(b>>4,"readMapBegin:key");b=this.$12(b&15,"readMapBegin:value");return{ktype:this.$10(c),vtype:this.$10(b),size:a}}return{size:a}};b.readMapEnd=function(){return 0};b.$12=function(a,b){if(a<0||a>13)throw new Error(b+" read invalid compact type: "+a);return a};b.$11=function(){var a=this.$1.readByte(),b=this.$12(a&15,"_readListOrSetBegin");b=this.$10(b);a=a>>4&15;a===15&&(a=this.readVarint32());return{etype:b,size:a}};b.readFieldEnd=function(){return 0};b.readByte=function(){this.$6.setUint8(0,this.$1.readByte());return this.$6.getInt8(0)};b.writeByte=function(a){if(a<m||a>l)throw new Error("byte to write is out of range: "+a);this.$6.setInt8(0,a);return this.$1.writeByte(this.$6.getUint8(0))};b.readFloat=function(){return this.$1.readFloatBE()};b.writeFloat=function(a){return this.$1.writeFloatBE(a)};b.readDouble=function(){return this.$1.readDoubleBE()};b.writeDouble=function(a){return this.$1.writeDoubleBE(a)};b.writeString=function(a){return this.writeBinary(d("StringToUtf8").StringToUtf8(a))};b.skip=function(a){switch(a){case(h||(h=c("ThriftTypes"))).STOP:return;case(h||(h=c("ThriftTypes"))).BOOL:this.readBool();break;case(h||(h=c("ThriftTypes"))).BYTE:this.readByte();break;case(h||(h=c("ThriftTypes"))).DOUBLE:this.readDouble();break;case(h||(h=c("ThriftTypes"))).I16:this.readI16();break;case(h||(h=c("ThriftTypes"))).I32:this.readI32();break;case(h||(h=c("ThriftTypes"))).I64:this.readI64();break;case(h||(h=c("ThriftTypes"))).STRING:this.readString();break;case(h||(h=c("ThriftTypes"))).STRUCT:this.readStructBegin();var b;while(!0){b=this.readFieldBegin();if(b.ftype===(h||(h=c("ThriftTypes"))).STOP)break;this.skip(b.ftype)}this.readStructEnd();break;case(h||(h=c("ThriftTypes"))).MAP:b=this.readMapBegin();if(b.size>0&&b.ktype!=null&&b.vtype!=null){var d=b.ktype,e=b.vtype;for(var f=0;f<b.size;f++)this.skip(d),this.skip(e)}break;case(h||(h=c("ThriftTypes"))).SET:case(h||(h=c("ThriftTypes"))).LIST:f=this.$11();for(d=0;d<f.size;d++)this.skip(f.etype);break;case(h||(h=c("ThriftTypes"))).FLOAT:this.readFloat();break;default:throw new Error("encoutered unknow thrift type: "+a+" in skip")}};b.toByteArray=function(){return this.$1.toByteArray()};b.writeFieldEnd=function(){return 0};b.writeFieldStop=function(){return this.$1.writeByte((h||(h=c("ThriftTypes"))).STOP)};b.writeI16=function(a){if(a<o||a>n)throw new Error("trying to write i16 out of range: "+a);return this.writeVarint32(this.i32ToZigzag(a))};b.readI16=function(){var a=this.zigzagToI32(this.readVarint32());if(a<o||a>n)throw new Error("read invalid i16: "+a);return a};b.writeI32=function(a){if(a<q||a>p)throw new Error("i32 out of range: "+a);return this.writeVarint32(this.i32ToZigzag(a))};b.readI32=function(){return this.zigzagToI32(this.readVarint32())};b.writeI64=function(a){return this.writeVarint64(this.i64ToZigzag(a))};b.readI64=function(){return this.zigzagToI64(this.readVarint64())};b.readBool=function(){var a;this.$5!=null?(a=this.$5,this.$5=null):a=this.$1.readByte()===i.CT_BOOLEAN_TRUE;return a};b.writeBool=function(a){var b=0;this.$4!=null?(b+=this.$7(this.$4,a?j.CT_BOOLEAN_TRUE:j.CT_BOOLEAN_FALSE),this.$4=null):b+=this.$1.writeByte(a?i.CT_BOOLEAN_TRUE:i.CT_BOOLEAN_FALSE);return b};b.readBinary=function(){var a=this.readVarint32();return a===0?new Uint8Array(0):this.$1.readBytes(a)};b.writeBinary=function(a){var b=0;b+=this.writeVarint32(a.length);b+=this.$1.write(a);return b};b.i32ToZigzag=function(a){if(a<q||a>p)throw new Error("number: "+a+" is out of range of i32");return(a<<1^(a<0?4294967295:0))>>>0};b.zigzagToI32=function(a){if(a<0||a>r)throw new Error("number: "+a+" is out of range of uint32");return a>>>1^-1*(a&1)};b.i64ToZigzag=function(a){if(c("jsbi").greaterThan(a,s)||c("jsbi").lessThan(a,t))throw new Error("i64 out of range: "+a.toString());return c("jsbi").bitwiseXor(c("jsbi").signedRightShift(a,v),c("jsbi").leftShift(a,w))};b.zigzagToI64=function(a){if(c("jsbi").lessThan(a,0)||c("jsbi").greaterThan(a,u))throw new Error("invalid uint64: "+a.toString());return c("jsbi").equal(c("jsbi").bitwiseAnd(a,w),w)?c("jsbi").bitwiseNot(c("jsbi").signedRightShift(a,w)):c("jsbi").signedRightShift(a,w)};b.writeVarint32=function(a){if(a<0||a>r)throw new Error("writeVarint32 received out of range uint32: "+a);a=a;var b=0;while(!0)if(a>>>7===0){this.$1.writeByte(a);b++;break}else this.$1.writeByte(a&127|128),b++,a>>>=7;return b};b.readVarint32=function(){var a=0,b=0,c;while(!0){c=this.$1.readByte();a=(a|(c&127)<<b)>>>0;b+=7;if((c&128)==0){if(b===35&&(c&240)!=0)throw new Error("result exceeded 32 bit limit");break}if(b>28)throw new Error("result exceeded 32 bit limit")}return a};b.writeVarint64=function(a){if(c("jsbi").lessThan(a,x)||c("jsbi").greaterThan(a,u))throw new Error("invalid uint64: "+a.toString());a=a;var b=0;while(!0)if(c("jsbi").equal(c("jsbi").signedRightShift(a,y),x)){this.$1.writeByte(c("jsbi").toNumber(a));b++;break}else{var d,e=(d=c("jsbi")).toNumber(d.bitwiseOr(d.bitwiseAnd(a,A),B));this.$1.writeByte(e);b++;a=d.signedRightShift(a,y)}return b};b.readVarint64=function(){var a=x,b=x,d;while(!0){var e;d=(e=c("jsbi")).BigInt(this.$1.readByte());a=e.bitwiseOr(a,e.leftShift(e.bitwiseAnd(d,A),b));b=e.add(b,y);if(c("jsbi").equal(c("jsbi").bitwiseAnd(d,B),x)){if(c("jsbi").equal(b,z)&&c("jsbi").notEqual(d,w))throw new Error("result exceeded 64 bit limit");break}if(c("jsbi").greaterThan(b,v))throw new Error("result exceeded 64 bit limit")}return a};b.readString=function(){return d("Utf8ToString").Utf8ToString(this.readBinary())};b.getLastFieldId=function(){return this.$3};b.getLastField=function(){return this.$2};b.getBooleanFieldInfo=function(){return this.$4};b.getBooleanValue=function(){return this.$5};b.$9=function(a){return k[a]};b.$10=function(a){switch(a){case i.CT_STOP:return(h||(h=c("ThriftTypes"))).STOP;case i.CT_BOOLEAN_FALSE:case i.CT_BOOLEAN_TRUE:return(h||(h=c("ThriftTypes"))).BOOL;case i.CT_BYTE:return(h||(h=c("ThriftTypes"))).BYTE;case i.CT_I16:return(h||(h=c("ThriftTypes"))).I16;case i.CT_I32:return(h||(h=c("ThriftTypes"))).I32;case i.CT_I64:return(h||(h=c("ThriftTypes"))).I64;case i.CT_DOUBLE:return(h||(h=c("ThriftTypes"))).DOUBLE;case i.CT_FLOAT:return(h||(h=c("ThriftTypes"))).FLOAT;case i.CT_BINARY:return(h||(h=c("ThriftTypes"))).STRING;case i.CT_LIST:return(h||(h=c("ThriftTypes"))).LIST;case i.CT_SET:return(h||(h=c("ThriftTypes"))).SET;case i.CT_MAP:return(h||(h=c("ThriftTypes"))).MAP;case i.CT_STRUCT:return(h||(h=c("ThriftTypes"))).STRUCT;default:throw new Error("don't know what type")}};return a}();g["default"]=b}),98);
__d("CompactSerializerPolyfill",["TCompactProtocolPolyfill","TNoOpWriteBuffer","TReadBuffer","TWriteBuffer"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a=new(c("TReadBuffer"))(a);a=new(c("TCompactProtocolPolyfill"))(a);return b(a)}function a(a,b,c){try{return h(a,b)}catch(a){c!=null&&c(a)}return null}function i(a,b,d){d===void 0&&(d=!1);if(d){d=new(c("TNoOpWriteBuffer"))();var e=new(c("TCompactProtocolPolyfill"))(d);b(a,e);e=new(c("TWriteBuffer"))(d.currentSize())}else e=new(c("TWriteBuffer"))();d=new(c("TCompactProtocolPolyfill"))(e);b(a,d);return d.toByteArray()}function b(a,b,c,d){c===void 0&&(c=!1);try{return i(a,b,c)}catch(a){d!=null&&d(a)}return null}g.deserialize=h;g.deserializeNoThrow=a;g.serialize=i;g.serializeNoThrow=b}),98);
__d("ContentAccessAndControlEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({CLICK_BEGIN:"content_access_and_control_click_begin",CLICK_CANCEL:"content_access_and_control_click_cancel",CLICK_CONFIRM:"content_access_and_control_click_confirm",IMPRESSION:"content_access_and_control_impression",ENT_STORY_ACTION:"content_access_and_control_ent_story_action",SERVER_MUTATION_BEGIN:"content_access_and_control_mutation_begin",SERVER_MUTATION_FAILURE:"content_access_and_control_mutation_failure",SERVER_MUTATION_SUCCESS:"content_access_and_control_mutation_success"});f["default"]=a}),66);
__d("ContextualConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a=1e3;b=", ";c={SAME:"same",NULL:"null",NNULL:"nnull",CATCH_ALL:"catch_all",EQ:"eq",NEQ:"neq",LT:"lt",LTE:"lte",GT:"gt",GTE:"gte",COR:"cor",CONTAINS:"contains",REGEX:"regex",IN:"in",NIN:"nin"};d={DENSE:"dense",MULTI_OUTPUT_RESOLVED:"multi-output-resolved",TABLE:"table"};e=[];var g=[],h=[],i={BAD_BOOLEAN_FORMAT:"Bad boolean format",BAD_CONFIG:"Bad config",BAD_CONTEXT_IDENTIFIER:"Bad context identifier",BAD_CONTEXT_VALUE:"Bad context value",BAD_MONITORED_CONTEXTS:"Bad monitored contexts",BAD_NUMBER_FORMAT:"Bad number format",BAD_OUTPUT_NAME:"Bad output name",BAD_OUTPUT_TYPE:"Bad output type",BAD_VALUE_ORDER:"Bad values order",DUPLICATE_OUTPUT_NAME:"Duplicate output name",ILLEGAL_BOOLEAN_STRATEGY:"Illegal boolean strategy",ILLEGAL_BUCKET_VALUES:"Illegal bucket values",ILLEGAL_NUMERIC_STRATEGY:"Illegal numeric strategy",ILLEGAL_STRING_STRATEGY:"Illegal string strategy",INVALID_BOOLEAN:"Invalid boolean",INVALID_FLOAT:"Invalid float",INVALID_INTEGER:"Invalid integer",INVALID_STRING:"Invalid string",INVALID_VALUE_TYPE:"Invalid value type",MISMATCH_NUMBER_OF_VALUES:"Mismatching number of values",MISSING_BUCKETS:"Missing buckets",MISSING_BUCKET_MATCH:"Missing bucket match",MISSING_BUCKET_NAME:"Missing bucket name",MISSING_BUCKET_STRATEGY:"Missing bucket strategy",MISSING_CONTEXT_IN_CONFIG:"Missing context in config",MISSING_DEFAULT_VALUE:"Missing default value",MISSING_OUTPUTS_DEFINITION:"Missing outputs field definition",MISSING_RESULTS:"Missing results",MISSING_TABLE:"Missing table",MISSING_TABLE_ITEM_BUCKET:"Missing table item bucket",MISSING_TABLE_ITEM_VALUES:"Missing table item values",MISSING_VECTOR:"Missing vector",REGEX_SYNTAX_ERROR:"Regex syntax error",REQUESTED_PARAM_NOT_FOUND:"Requested param not found",RESULTS_VECTOR_SIZE_MISMATCH:"Results vector size mismatch",UNDECLARED_OUTPUT_PARAM:"Undeclared output param",UNKNOWN_BUCKET_DEFINITION:"Unknown bucket definition",UNKNOWN_CONFIG_TYPE:"Unknown config type",UNSUPPORTED_CONFIG_VERSION:"Unsupported config version"},j=10,k=", ",l={BOOL:"BOOL",FLOAT:"FLOAT",INT:"INT",STRING:"STRING"};f.ANALYTICS_SAMPLE_RATE=a;f.BUCKET_DELIMITER=b;f.CONTEXT_BUCKET_STRATEGY=c;f.CONFIG_TYPE=d;f.EMPTY_RESOLVED_CONTEXTS=e;f.EMPTY_RESOLVED_MONITORS=g;f.EMPTY_RESULT_PARAMS=h;f.ERROR=i;f.JSON_SUB_SAMPLE_RATE=j;f.LIST_DELIMITER=k;f.TYPE=l}),66);
__d("ContextualConfigResolvedContextsUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.bucketIndex;if(e==void 0)break;b.push(e)}return b};b=function(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.bucketName;if(e===void 0)break;b.push(e)}return b};var g=function(a){return a.name};c=function(a){return a.map(g)};d=function(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.value;if(e===void 0)break;b.push(e)}return b};f.getBucketIndices=a;f.getBucketNames=b;f.getContextNames=c;f.getContextValues=d}),66);
__d("ContextualConfigCollateExposureData",["ContextualConfigConstants","ContextualConfigResolvedContextsUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=["cfg_ver_timestamp","policy_id","version","sample_rate"],i=function(a){return a.join(d("ContextualConfigConstants").LIST_DELIMITER)},j=function(a,b){for(var c=0;c<h.length;c++){var d=h[c];b[d]!=null&&(a[d]=b[d])}b.name&&(a.config_name=b.name)},k=function(a,b){var c=b[0],e=b[1],f=b[2];b=b[3];c!=null&&(a.exception=c.message);a.result=i(e.map(function(a){return a.value}))||"INVALID";a.context=i(d("ContextualConfigResolvedContextsUtils").getContextNames(f));a.context_value=i(d("ContextualConfigResolvedContextsUtils").getContextValues(f));a.bucket_name=i(d("ContextualConfigResolvedContextsUtils").getBucketNames(f));a.monitor=i(d("ContextualConfigResolvedContextsUtils").getContextNames(b));a.monitor_value=i(d("ContextualConfigResolvedContextsUtils").getContextValues(b))};function a(a,b,c){var e={sample_rate:d("ContextualConfigConstants").ANALYTICS_SAMPLE_RATE};j(e,a);k(e,b);c&&(e.config_contents=JSON.stringify(a));return e}g["default"]=a}),98);
__d("ContextualConfigExposureEvent",["Random"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$2=a,this.$4=d("Random").random()<1/a.sample_rate,this.$3=b,this.$1=c}var b=a.prototype;b.getData=function(){return this.$2};b.log=function(a){var b=this.$2,c=this.$3,d=this.$4;a&&c(b);d&&this.$1(b);return this};b.isSampled=function(){return this.$4};return a}();g["default"]=a}),98);
__d("ContextualConfigExposureLoggerFactory",["ContextualConfigExposureEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b){this.$2=a,this.$1=b}var b=a.prototype;b.createEvent=function(a){var b=this.$1,d=this.$2;a=new(c("ContextualConfigExposureEvent"))(a,d,b);return a};return a}();function a(a,b){return new h(a,b)}g["default"]=a}),98);
__d("ContextualConfigExposureLogger",["ContextualConfigExposureLoggerFactory","MarauderLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){};b=function(a){d("MarauderLogger").log("contextual_config_exposure","",a)};e=c("ContextualConfigExposureLoggerFactory")(a,b);g["default"]=e}),98);
__d("ContextualConfigAssert",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a===!1)throw new Error(b)}f["default"]=a}),66);
__d("ContextualConfigValidators",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return Array.isArray(a)};b=function(a){return typeof a==="boolean"};c=function(a){return a!=null};e=function(a){return function(b){return Object.prototype.hasOwnProperty.call(a,b)}};f=function(a){return i(a)&&a%1===0};var h=function(a){return j(a)&&a.length>0},i=function(a){return typeof a==="number"&&!isNaN(a)&&a!==Infinity&&a!==-Infinity},j=function(a){return typeof a==="string"},k=function(a){switch(a){case d("ContextualConfigConstants").TYPE.BOOL:case d("ContextualConfigConstants").TYPE.FLOAT:case d("ContextualConfigConstants").TYPE.INT:case d("ContextualConfigConstants").TYPE.STRING:return!0;default:return!1}};g.isArray=a;g.isBoolean=b;g.isDefined=c;g.isKey=e;g.isInteger=f;g.isNonEmptyString=h;g.isNumber=i;g.isString=j;g.isType=k}),98);
__d("ContextualConfigParseBoolean",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.toUpperCase()){case"TRUE":return!0;case"FALSE":return!1;default:throw new Error(d("ContextualConfigConstants").ERROR.BAD_BOOLEAN_FORMAT)}}g["default"]=a}),98);
__d("ContextualConfigParsePredBoolean",["ContextualConfigConstants","ContextualConfigParseBoolean"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e;switch(b){case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:var f=c("ContextualConfigParseBoolean")(a);e=function(a){return a===f};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:e=function(a){return a==null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:e=function(a){return a!=null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:e=function(a){return!0};break;default:throw new Error(d("ContextualConfigConstants").ERROR.ILLEGAL_BOOLEAN_STRATEGY)}return function(a){return e(a)}}g["default"]=a}),98);
__d("ContextualConfigParseFloat",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=/^[-\+]?([1-9]\d*|0)(\.\d+)?$/,j=function(a){return i.test(a)};function a(a){(h||(h=c("ContextualConfigAssert")))(j(a),d("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);a=parseFloat(a);h(d("ContextualConfigValidators").isNumber(a),d("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);return a}g["default"]=a}),98);
__d("ContextualConfigParseInteger",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=/^[-\+]?([1-9]\d*|0)$/,j=function(a){return i.test(a)};function a(a){(h||(h=c("ContextualConfigAssert")))(j(a),d("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);a=parseInt(a,10);h(d("ContextualConfigValidators").isNumber(a),d("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);return a}g["default"]=a}),98);
__d("ContextualConfigPredAssertions",["ContextualConfigAssert","ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){return(h||(h=c("ContextualConfigAssert")))(a>0,d("ContextualConfigConstants").ERROR.MISMATCH_NUMBER_OF_VALUES)};b=function(a,b){return(h||(h=c("ContextualConfigAssert")))(a===b,d("ContextualConfigConstants").ERROR.MISMATCH_NUMBER_OF_VALUES)};e=function(a,b){return(h||(h=c("ContextualConfigAssert")))(a<b,d("ContextualConfigConstants").ERROR.BAD_VALUE_ORDER)};g.assertHasValues=a;g.assertNumberOfValues=b;g.assertValueOrder=e}),98);
__d("ContextualConfigParsePredNumeric",["ContextualConfigConstants","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigPredAssertions","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f){var g=e.map(f?c("ContextualConfigParseInteger"):h||(h=c("ContextualConfigParseFloat"))),i;switch(b){case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:var j=f?c("ContextualConfigParseInteger")(a):(h||(h=c("ContextualConfigParseFloat")))(a);i=function(a){return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a===j};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:i=function(a){return a==null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:i=function(a){return a!=null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:i=function(a){return!0};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.COR:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,2);d("ContextualConfigPredAssertions").assertValueOrder(g[0],g[1]);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a>=g[0]&&a<g[1]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.LT:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a<g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.LTE:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a<=g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.EQ:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a===g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NEQ:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a!==g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.GT:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a>g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.GTE:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a>=g[0]};break;default:throw new Error(d("ContextualConfigConstants").ERROR.ILLEGAL_NUMERIC_STRATEGY)}return function(a){return i(a)}}g["default"]=a}),98);
__d("ContextualConfigParseRegExp",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=/^\/(.+)\/(.*)$/;function a(a){try{var b=a.match(h);if(b!=null)return new RegExp(b[1],b[2]);else return new RegExp(a)}catch(a){throw new Error(d("ContextualConfigConstants").ERROR.REGEX_SYNTAX_ERROR)}}g["default"]=a}),98);
__d("ContextualConfigParsePredString",["ContextualConfigConstants","ContextualConfigParseRegExp","ContextualConfigPredAssertions"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){if(typeof a!=="string")throw new Error(d("ContextualConfigConstants").ERROR.INVALID_VALUE_TYPE);return a},i=function(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.push(h(e))}return b};function a(a,b,e){var f=i(e),g;switch(b){case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:g=function(b){return typeof b!=="string"?!1:b===a};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:g=function(a){return a==null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:g=function(a){return a!=null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:g=function(a){return!0};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.IN:d("ContextualConfigPredAssertions").assertHasValues(f.length);g=function(a){return typeof a!=="string"?!1:f.indexOf(a)!==-1};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NIN:d("ContextualConfigPredAssertions").assertHasValues(f.length);g=function(a){return typeof a!=="string"?!1:f.indexOf(a)===-1};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CONTAINS:d("ContextualConfigPredAssertions").assertNumberOfValues(f.length,1);g=function(a){return typeof a!=="string"?!1:a.indexOf(f[0])!==-1};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.REGEX:d("ContextualConfigPredAssertions").assertNumberOfValues(f.length,1);var h=c("ContextualConfigParseRegExp")(f[0]);g=function(a){return typeof a!=="string"?!1:h.test(a)};break;default:throw new Error(d("ContextualConfigConstants").ERROR.ILLEGAL_STRING_STRATEGY)}return function(a){return g(a)}}g["default"]=a}),98);
__d("ContextualConfigParseContextBuckets",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParsePredBoolean","ContextualConfigParsePredNumeric","ContextualConfigParsePredString","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.MISSING_BUCKETS)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_BUCKETS)},k=d("ContextualConfigValidators").isKey(d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY),l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isString(a)&&k(a.toUpperCase()),d("ContextualConfigConstants").ERROR.MISSING_BUCKET_STRATEGY)},m=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.ILLEGAL_BUCKET_VALUES)},n=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.MISSING_BUCKET_NAME)},o=function(a,b){var e=b.name;n(e);var f=b.strategy;l(f);b=b.values||[];m(b);switch(a){case d("ContextualConfigConstants").TYPE.BOOL:return c("ContextualConfigParsePredBoolean")(e,f);case d("ContextualConfigConstants").TYPE.FLOAT:return c("ContextualConfigParsePredNumeric")(e,f,b,!1);case d("ContextualConfigConstants").TYPE.INT:return c("ContextualConfigParsePredNumeric")(e,f,b,!0);case d("ContextualConfigConstants").TYPE.STRING:return c("ContextualConfigParsePredString")(e,f,b);default:throw new Error(d("ContextualConfigConstants").ERROR.UNKNOWN_BUCKET_DEFINITION)}},p=function(a,b){i(b);var c=b.name;n(c);return{name:c,pred:o(a,b)}};function a(a,b){j(b);return b.map(function(b){return p(a,b)})}g["default"]=a}),98);
__d("ContextualConfigParseContexts",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContextBuckets","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a)&&a.length>0,d("ContextualConfigConstants").ERROR.MISSING_CONTEXT_IN_CONFIG)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isType(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},m=function(a){i(a);var b=a.name,d=a.type;a=a.buckets;k(b);l(d);return{name:b,type:d,buckets:c("ContextualConfigParseContextBuckets")(d,a)}};function a(a){j(a);return a.map(m)}g["default"]=a}),98);
__d("ContextualConfigIsEqualParams",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c+=1){var d=a[c],e=b[c];if(d.name!==e.name||d.type!==e.type)return!1}return!0}f["default"]=a}),66);
__d("ContextualConfigParseResultParamValue",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseBoolean","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isString(a),d("ContextualConfigConstants").ERROR.INVALID_STRING)};function a(a,b){j(b);switch(a){case d("ContextualConfigConstants").TYPE.BOOL:return c("ContextualConfigParseBoolean")(b);case d("ContextualConfigConstants").TYPE.FLOAT:return(i||(i=c("ContextualConfigParseFloat")))(b);case d("ContextualConfigConstants").TYPE.INT:return c("ContextualConfigParseInteger")(b);case d("ContextualConfigConstants").TYPE.STRING:return b;default:throw new Error(d("ContextualConfigConstants").ERROR.INVALID_VALUE_TYPE)}}g["default"]=a}),98);
__d("ContextualConfigParseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_RESULTS)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},m=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isType(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},n=function(a,b){for(var a=a,c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(f.name===b)return f.type}throw new Error(d("ContextualConfigConstants").ERROR.UNDECLARED_OUTPUT_PARAM)},o=function(a){return function(b){k(b);var d=b.name;l(d);var e=n(a,d);m(e);b=(i||(i=c("ContextualConfigParseResultParamValue")))(e,b.value);return{name:d,type:e,value:b}}};function a(a,b){j(b);return b.map(o(a))}g["default"]=a}),98);
__d("ContextualConfigParseDenseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b){return(h||(h=c("ContextualConfigAssert")))(c("ContextualConfigIsEqualParams")(a,b),d("ContextualConfigConstants").ERROR.RESULTS_VECTOR_SIZE_MISMATCH)};function a(a,b){b=c("ContextualConfigParseResultParams")(a,b.map(function(b,c){return{name:a[c].name,value:b}}));i(a,b);return b}g["default"]=a}),98);
__d("ContextualConfigParseDenseDefaults",["ContextualConfigConstants","ContextualConfigParseDenseResultParams"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){try{return c("ContextualConfigParseDenseResultParams")(a,b)}catch(a){throw new Error(d("ContextualConfigConstants").ERROR.MISSING_DEFAULT_VALUE)}}g["default"]=a}),98);
__d("ContextualConfigParseMonitors",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.BAD_MONITORED_CONTEXTS)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isType(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},m=function(a){i(a);var b=a.name;a=a.type;k(b);l(a);return{name:b,type:a}};function a(a){j(a);return a.map(m)}g["default"]=a}),98);
__d("ContextualConfigParseOutputParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_OUTPUTS_DEFINITION)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isType(a),d("ContextualConfigConstants").ERROR.BAD_OUTPUT_TYPE)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.BAD_OUTPUT_NAME)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(m(a),d("ContextualConfigConstants").ERROR.DUPLICATE_OUTPUT_NAME)},m=function(a){var b={};for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(b[e.name])return!1;b[e.name]=!0}return!0},n=function(a){k(a.name);j(a.type);return a};function a(a){i(a);a=a.map(n);l(a);return a}g["default"]=a}),98);
__d("ContextualConfigParseVector",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_VECTOR)},k=function(a,b){return(h||(h=c("ContextualConfigAssert")))(a===b,d("ContextualConfigConstants").ERROR.RESULTS_VECTOR_SIZE_MISMATCH)},l=function(a,b){k(a.length,b.length);for(var d=0;d<a.length;d+=1){var e=a[d].type,f=b[d];(i||(i=c("ContextualConfigParseResultParamValue")))(e,f)}},m=function(a){return a.reduce(function(a,b){b=b.buckets;return a*b.length},1)};function a(a,b,c){j(c);b=m(b);var d=a.length;k(b*d,c.length);for(var e=0;e<b;e+=1){var f=e*d;l(a,c.slice(f,f+d))}return c}g["default"]=a}),98);
__d("ContextualConfigResolveContexts",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){for(var c=0;c<a.length;c+=1){var d=a[c];try{if(d.pred(b))return[d.name,c]}catch(a){return null}}return null};function a(a,b,c){var e=null;a=a.map(function(a){var f=a.name,g={name:f};if(e!=null)return g;var i;c[f]!=null?i=c[f]:b[f]!=null?i=b[f]():i=null;g.value=i;if(a.buckets!=null){f=h(a.buckets,i);if(f==null){e=new Error(d("ContextualConfigConstants").ERROR.MISSING_BUCKET_MATCH);return g}a=f[0];i=f[1];g.bucketName=a;g.bucketIndex=i}return g});return[e,a]}g["default"]=a}),98);
__d("DenseContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContexts","ContextualConfigParseDenseDefaults","ContextualConfigParseDenseResultParams","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseVector","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONFIG)},j=function(a){var b=[],c=1;for(var d=a.length-1;d>=0;d-=1)b.push(c),c*=a[d].buckets.length;return b.reverse()},k=function(a,b,d,e){try{b=b.slice(d,d+a.length);return[null,c("ContextualConfigParseDenseResultParams")(a,b)]}catch(a){return[a,e]}},l=function(a,b,d){try{d=d.reduce(function(b,d,e){(h||(h=c("ContextualConfigAssert")))(e<a.length,"Auxillery index out of range.");return b+a[e]*d},0);return[null,d*b]}catch(a){return[a,-1]}};a=function(){function a(a,b){i(a);this.globalContextProviders=babelHelpers["extends"]({},b);b=c("ContextualConfigParseOutputParams")(a.outputs);var d=c("ContextualConfigParseContexts")(a.contexts);this.aux=j(d);this.contexts=d;this.defaults=c("ContextualConfigParseDenseDefaults")(b,a.vectorDefaults);this.monitors=a.monitors!=null?c("ContextualConfigParseMonitors")(a.monitors):[];this.outputs=b;this.vector=c("ContextualConfigParseVector")(b,d,a.vector)}var b=a.prototype;b.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.defaults,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}};b.unsafeResolve=function(a){var b=this.aux,e=this.globalContextProviders,f=this.contexts,g=this.defaults,h=this.monitors,i=this.outputs,j=this.vector;f=c("ContextualConfigResolveContexts")(f,e,a);var m=f[0];f=f[1];if(m!=null)return[m,g,f,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];m=l(b,i.length,d("ContextualConfigResolvedContextsUtils").getBucketIndices(f));b=m[0];m=m[1];if(b!=null)return[b,g,f,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];b=k(i,j,m,g);i=b[0];j=b[1];if(i!=null)return[i,j,f,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];m=c("ContextualConfigResolveContexts")(h,e,a);g=m[0];b=m[1];return g!=null?[g,j,f,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]:[null,j,f,b]};return a}();g["default"]=a}),98);
__d("MultiOutputResolvedContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseResultParams","ContextualConfigResolveContexts","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONFIG)};a=function(){function a(a,b){i(a);this.globalContextProviders=babelHelpers["extends"]({},b);b=c("ContextualConfigParseOutputParams")(a.outputs);this.monitors=a.monitors!=null?c("ContextualConfigParseMonitors")(a.monitors):[];this.values=c("ContextualConfigParseResultParams")(b,a.values)}var b=a.prototype;b.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.values,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}};b.unsafeResolve=function(a){var b=this.globalContextProviders,e=this.monitors,f=this.values;e=c("ContextualConfigResolveContexts")(e,b,a);b=e[0];a=e[1];return b!=null?[b,f,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]:[null,f,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,a]};return a}();g["default"]=a}),98);
__d("ContextualConfigMergePartialResultParams",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;c[f.name]=f}f=[];for(e=a,d=Array.isArray(e),b=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(b>=e.length)break;a=e[b++]}else{b=e.next();if(b.done)break;a=b.value}a=a;var g=c[a.name];f.push(g!=null&&g.name===a.name&&g.type===a.type?g:a)}return f}f["default"]=a}),66);
__d("ContextualConfigParseDefaults",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b){return(h||(h=c("ContextualConfigAssert")))(c("ContextualConfigIsEqualParams")(a,b),d("ContextualConfigConstants").ERROR.MISSING_DEFAULT_VALUE)};function a(a,b){b=c("ContextualConfigParseResultParams")(a,b);i(a,b);return b}g["default"]=a}),98);
__d("ContextualConfigParseTable",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParams","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_TABLE)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.MISSING_TABLE)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.MISSING_TABLE_ITEM_BUCKET)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_TABLE_ITEM_VALUES)},m=function(a,b){j(b);var d=b.bucket;b=b.values;k(d);l(b);return{bucket:d,values:c("ContextualConfigParseResultParams")(a,b)}};function a(a,b){i(b);return b.reduce(function(b,c){c=m(a,c);b[c.bucket]=c.values;return b},{})}g["default"]=a}),98);
__d("TableContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigMergePartialResultParams","ContextualConfigParseContexts","ContextualConfigParseDefaults","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseTable","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=[],j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONFIG)};a=function(){function a(a,b){j(a);this.globalContextProviders=babelHelpers["extends"]({},b);b=c("ContextualConfigParseOutputParams")(a.outputs);this.contexts=c("ContextualConfigParseContexts")(a.contexts);this.defaults=c("ContextualConfigParseDefaults")(b,a.defaults);this.monitors=a.monitors!=null?c("ContextualConfigParseMonitors")(a.monitors):[];this.table=c("ContextualConfigParseTable")(b,a.table)}var b=a.prototype;b.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.defaults,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}};b.unsafeResolve=function(a){var b=this.globalContextProviders,e=this.contexts,f=this.defaults,g=this.monitors,h=this.table;e=c("ContextualConfigResolveContexts")(e,b,a);var j=e[0];e=e[1];if(j!=null)return[j,f,e,[]];j=d("ContextualConfigResolvedContextsUtils").getBucketNames(e).join(d("ContextualConfigConstants").BUCKET_DELIMITER);h=h[j]||i;j=c("ContextualConfigMergePartialResultParams")(f,h);f=c("ContextualConfigResolveContexts")(g,b,a);h=f[0];g=f[1];return h!=null?[h,j,e,[]]:[null,j,e,g]};return a}();g["default"]=a}),98);
__d("ContextualConfigParseConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators","DenseContextualConfig","MultiOutputResolvedContextualConfig","TableContextualConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=[1],j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a)&&d("ContextualConfigValidators").isDefined(a.version),d("ContextualConfigConstants").ERROR.BAD_CONFIG)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(i.indexOf(a)!==-1,d("ContextualConfigConstants").ERROR.UNSUPPORTED_CONFIG_VERSION)};function a(a,b){j(a);k(a.version);switch(a.cctype){case d("ContextualConfigConstants").CONFIG_TYPE.DENSE:return new(c("DenseContextualConfig"))(a,b);case d("ContextualConfigConstants").CONFIG_TYPE.MULTI_OUTPUT_RESOLVED:return new(c("MultiOutputResolvedContextualConfig"))(a,b);case d("ContextualConfigConstants").CONFIG_TYPE.TABLE:return new(c("TableContextualConfig"))(a,b);default:throw new Error(d("ContextualConfigConstants").ERROR.UNKNOWN_CONFIG_TYPE)}}g["default"]=a}),98);
__d("ContextualConfigWarn",[],(function(a,b,c,d,e,f){"use strict";function a(a){}f["default"]=a}),66);
__d("ContextualConfigResult",["ContextualConfigConstants","ContextualConfigWarn"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a.reduce(function(a,b){var c=b.name;b=b.value;a[c]=b;return a},{}),this.$2=a}var b=a.prototype;b.get=function(a,b){try{a=this.$1[a];if(typeof a!==typeof b){c("ContextualConfigWarn")(d("ContextualConfigConstants").ERROR.REQUESTED_PARAM_NOT_FOUND);return b}return a}catch(a){c("ContextualConfigWarn")(a.message);return b}};b.getParams=function(){return this.$2};return a}();g["default"]=a}),98);
__d("ErrorContextualConfig",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.error=a}var b=a.prototype;b.resolve=function(a){return[this.error,d("ContextualConfigConstants").EMPTY_RESULT_PARAMS,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]};return a}();g["default"]=a}),98);
__d("ContextualConfig",["ContextualConfigCollateExposureData","ContextualConfigConstants","ContextualConfigExposureLogger","ContextualConfigParseConfig","ContextualConfigResult","ErrorContextualConfig","Random"],(function(a,b,c,d,e,f,g){"use strict";var h=1/d("ContextualConfigConstants").JSON_SUB_SAMPLE_RATE,i=1;a=function(){function a(a,b){b===void 0&&(b={}),this.isDebugLoggingEnabled=!1,this.$3=!1,this.$4=a,this.$2=b}var b=a.prototype;b.$5=function(){if(this.$1)return this.$1;var a=this.$2,b=this.$4;try{b=c("ContextualConfigParseConfig")(b,a)}catch(a){b=new(c("ErrorContextualConfig"))(a)}this.$1=b;return b};b.$6=function(a){var b=this.isDebugLoggingEnabled,e=this.$4,f=this.$3;f=!f&&d("Random").random()<h;f&&(this.$3=!0);e=c("ContextualConfigCollateExposureData")(e,a,f);a=c("ContextualConfigExposureLogger").createEvent(e);a.log(b)};b.resolve=function(a){a===void 0&&(a={});var b=this.$1||this.$5();b=b.resolve(a);this.$6(b);return new(c("ContextualConfigResult"))(b[i])};return a}();g["default"]=a}),98);
__d("DGWRequestStreamUtils",["Base64","WebDriverConfig","cr:3024","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,d,e,f){var g={};a=Object.entries(a);for(var h=0;h<a.length;h++){var i=a[h],j=i[0];i=i[1];typeof i=="string"?g["XRSS-"+j]=i:typeof i=="number"?g["XRSN-"+j]=i.toString():typeof i=="boolean"?g["XRSB-"+j]=i.toString():typeof i=="object"&&i!=null&&(g["XRSO-"+j]=c("Base64").encode(JSON.stringify(i)))}d&&(g["xrs-body"]="true");e!=null&&e.length>0&&(g["xrs-instrumentation"]=c("Base64").encode(e));g["XRS-Accept-Ack"]="RSAck";f!=null&&f.ackTimeoutSec!=null&&(g["XRS-SRAck-Timeout"]=f.ackTimeoutSec.toString());g["XRSS-http_referer"]=window.location.href;if(c("WebDriverConfig").isTestRunning&&c("gkx")("20919")){j=b("cr:3024")==null?void 0:b("cr:3024").get();j!=null&&(g["XRSB-is_test"]="true",g["XRSS-original_request_id"]=j)}return g}function h(a){return Object.keys(a).reduce(function(b,c){(typeof a[c]==="string"||typeof a[c]==="boolean"||typeof a[c]==="number"||typeof a[c]==="object")&&(b[c]=a[c]);return b},{})}function d(a){if(a.response&&a.response.instrumentation_data!=null&&a.response.instrumentation_data.length>0)try{a=JSON.parse(new TextDecoder("utf-8").decode(a.response.instrumentation_data));return{auxId:a.auxId,dfTraceId:(a=a.dataFlowTracingData)==null?void 0:a.traceId}}catch(a){}return null}function e(a,b){var c=a.headers;a=a.body;b.kill_body===!0&&(a=null);b.new_body!=null&&(a=b.new_body);if(b.new_headers!=null)try{c=h(JSON.parse(b.new_headers))}catch(a){}if(b.patch_headers!=null)try{c=babelHelpers["extends"]({},c,h(JSON.parse(b.patch_headers)))}catch(a){}return{headers:c,body:a}}g.convertHeaders=a;g.cleanHeaders=h;g.getInstrumentationDataFieldsFromPayload=d;g.transformContextWithRewriteDelta=e}),98);
__d("DGWStreamHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e){this.$2=a,this.$3=b,this.$4=c,this.$5=d,this.$6=e,this.$1=!0}var b=a.prototype;b.onClose=function(a){if(!this.$1)return;this.$2(a)};b.onDataReceived=function(a){if(!this.$1)return;this.$3(a)};b.onError=function(a){if(!this.$1)return;this.$4(a)};b.onStreamMustDrain=function(a,b){if(!this.$1)return;this.$5(a,b)};b.onServerHasFinishedSendingData=function(a){if(!this.$1)return;this.$6(a)};b.stop=function(){this.$1=!1};b.isStopped=function(){return!this.$1};return a}();f["default"]=a}),66);
__d("InflightAmends",["Deferred","err"],(function(a,b,c,d,e,f,g){"use strict";var h="inflight_amends_timeout",i="inflight_amends_duplicate_id";a=function(){function a(a,b,c){this.$1=a,this.$3=b,this.$4=c,this.$2=new Map()}var b=a.prototype;b.add=function(a){var b=this;if(this.$2.has(a))throw c("err")(i);var d=new(c("Deferred"))(),e=Date.now(),f=setTimeout(function(){b.$2.has(a)&&b.reject(a,c("err")(h))},this.$1);this.$2.set(a,{id:a,deferred:d,createdTimestampMs:e,timeoutId:f});return d.getPromise()};b.getPromise=function(a){return(a=this.$5(a))==null?void 0:a.deferred.getPromise()};b.resolve=function(a,b){a=this.$5(a);a&&(a.deferred.resolve==null?void 0:a.deferred.resolve(b),this.$3(a.id,Date.now()-a.createdTimestampMs),this.$6(a))};b.reject=function(a,b){a=this.$5(a);a&&(a.deferred.reject==null?void 0:a.deferred.reject(b),this.$4(a.id,b),this.$6(a))};b.rejectAll=function(a){for(var b=this.$2.entries(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=e[0];e[1];this.reject(f,a)}};b.getSize=function(){return this.$2.size};b.getAllPromises=function(){var a=[];for(var b=this.$2.values(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;a.push(e.deferred.getPromise())}return a};b.$6=function(a){clearTimeout(a.timeoutId),this.$2["delete"](a.id)};b.$5=function(a){return this.$2.get(a)};return a}();g["default"]=a}),98);
__d("RequestStreamCloseReason",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["UserIntention","StartStreamFailure","StreamError","RemoteTermination","ServerDataEnd","ServerDrain","ReestablishError","ClientError"]);f.RequestStreamCloseReason=a}),66);
__d("RequestStreamCommonRequestStreamCommonSerializers",["RequestStreamCommonRequestStreamCommonTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{}}function b(){return{expected_existing_headers:"",patch_headers_if_match:""}}function e(){return{bytes:Uint8Array.of()}}function f(){return{message:""}}function i(){return{reason:d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0)}}function j(){return{}}function k(){return{stream_id:"0",last_sequencer:0,amendment_count:0,last_status:d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0)}}function l(){return{caller_timestamp_ms:"0"}}function m(){return{original_ping_timestamp_ms:"0"}}function n(){return{}}function o(a,b){b.writeStructBegin("ResponseRewriteRequest"),a.new_headers!=null&&(b.writeFieldBegin({fname:"new_headers",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeString(a.new_headers),b.writeFieldEnd()),a.new_body!=null&&(b.writeFieldBegin({fname:"new_body",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeBinary(a.new_body),b.writeFieldEnd()),a.patch_headers!=null&&(b.writeFieldBegin({fname:"patch_headers",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeString(a.patch_headers),b.writeFieldEnd()),a.kill_body!=null&&(b.writeFieldBegin({fname:"kill_body",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:4}),b.writeBool(a.kill_body),b.writeFieldEnd()),a.temporary!=null&&(b.writeFieldBegin({fname:"temporary",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:5}),b.writeBool(a.temporary),b.writeFieldEnd()),a.conditional_patch_headers!=null&&(b.writeFieldBegin({fname:"conditional_patch_headers",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6}),p(a.conditional_patch_headers,b),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function p(a,b){b.writeStructBegin("ResponseRewriteConditionalPatchHeaders");b.writeFieldBegin({fname:"expected_existing_headers",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.expected_existing_headers!=null)b.writeString(a.expected_existing_headers);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"patch_headers_if_match",ftype:h.STRING,fid:2});if(a.patch_headers_if_match!=null)b.writeString(a.patch_headers_if_match);else{d="";b.writeString(d)}b.writeFieldEnd();a.patch_headers_otherwise!=null&&(b.writeFieldBegin({fname:"patch_headers_otherwise",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeString(a.patch_headers_otherwise),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function q(a,b){b.writeStructBegin("ResponseData");b.writeFieldBegin({fname:"bytes",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.bytes!=null)b.writeBinary(a.bytes);else{var d=Uint8Array.of();b.writeBinary(d)}b.writeFieldEnd();a.metadata!=null&&(b.writeFieldBegin({fname:"metadata",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.metadata),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function r(a,b){b.writeStructBegin("LogMessage");b.writeFieldBegin({fname:"message",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.message!=null)b.writeString(a.message);else{a="";b.writeString(a)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function s(a,b){b.writeStructBegin("Termination");b.writeFieldBegin({fname:"reason",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.reason!=null){var e;b.writeI32((e=a.reason)!=null?e:0)}else{e=d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0);b.writeI32((e=e)!=null?e:0)}b.writeFieldEnd();a.message!=null&&(b.writeFieldBegin({fname:"message",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.message),b.writeFieldEnd());a.retry_delay_ms!=null&&(b.writeFieldBegin({fname:"retry_delay_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:3}),b.writeI64(c("jsbi").BigInt(a.retry_delay_ms)),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function t(a,b){b.writeStructBegin("AmendStreamAck"),a.amendment_id!=null&&(b.writeFieldBegin({fname:"amendment_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(c("jsbi").BigInt(a.amendment_id)),b.writeFieldEnd()),a.accepted!=null&&(b.writeFieldBegin({fname:"accepted",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:2}),b.writeBool(a.accepted),b.writeFieldEnd()),a.result!=null&&(b.writeFieldBegin({fname:"result",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeBinary(a.result),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function u(a,b){b.writeStructBegin("StreamCheck");b.writeFieldBegin({fname:"stream_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.stream_id!=null)b.writeI64(c("jsbi").BigInt(a.stream_id));else{var e="0";b.writeI64(c("jsbi").BigInt(e))}b.writeFieldEnd();b.writeFieldBegin({fname:"last_sequencer",ftype:h.I32,fid:2});if(a.last_sequencer!=null)b.writeI32(a.last_sequencer);else{e=0;b.writeI32(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"amendment_count",ftype:h.I32,fid:4});if(a.amendment_count!=null)b.writeI32(a.amendment_count);else{e=0;b.writeI32(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"last_status",ftype:h.I32,fid:3});if(a.last_status!=null){b.writeI32((e=a.last_status)!=null?e:0)}else{a=d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0);b.writeI32((e=a)!=null?e:0)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function v(a,b){b.writeStructBegin("Ping");b.writeFieldBegin({fname:"caller_timestamp_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.caller_timestamp_ms!=null)b.writeI64(c("jsbi").BigInt(a.caller_timestamp_ms));else{var d="0";b.writeI64(c("jsbi").BigInt(d))}b.writeFieldEnd();if(a.streams_to_check!=null){b.writeFieldBegin({fname:"streams_to_check",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});b.writeListBegin({etype:h.STRUCT,size:a.streams_to_check.length});for(var d=a.streams_to_check,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;u(f,b)}b.writeListEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function w(a,b){b.writeStructBegin("Pong");b.writeFieldBegin({fname:"original_ping_timestamp_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.original_ping_timestamp_ms!=null)b.writeI64(c("jsbi").BigInt(a.original_ping_timestamp_ms));else{var d="0";b.writeI64(c("jsbi").BigInt(d))}b.writeFieldEnd();if(a.stream_ids_missing!=null){b.writeFieldBegin({fname:"stream_ids_missing",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});b.writeListBegin({etype:h.I64,size:a.stream_ids_missing.length});for(var d=a.stream_ids_missing,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;b.writeI64(c("jsbi").BigInt(g))}b.writeListEnd();b.writeFieldEnd()}if(a.stream_ids_behind!=null){b.writeFieldBegin({fname:"stream_ids_behind",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:3});b.writeListBegin({etype:h.I64,size:a.stream_ids_behind.length});for(g=a.stream_ids_behind,f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;d=g[e++]}else{e=g.next();if(e.done)break;d=e.value}d=d;b.writeI64(c("jsbi").BigInt(d))}b.writeListEnd();b.writeFieldEnd()}if(a.stream_ids_with_lost_amendments!=null){b.writeFieldBegin({fname:"stream_ids_with_lost_amendments",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:4});b.writeListBegin({etype:h.I64,size:a.stream_ids_with_lost_amendments.length});for(d=a.stream_ids_with_lost_amendments,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;b.writeI64(c("jsbi").BigInt(g))}b.writeListEnd();b.writeFieldEnd()}if(a.stream_ids_with_wrong_status!=null){b.writeFieldBegin({fname:"stream_ids_with_wrong_status",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:5});b.writeListBegin({etype:h.I64,size:a.stream_ids_with_wrong_status.length});for(g=a.stream_ids_with_wrong_status,f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;d=g[e++]}else{e=g.next();if(e.done)break;d=e.value}a=d;b.writeI64(c("jsbi").BigInt(a))}b.writeListEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function x(a,b){b.writeStructBegin("StreamResponseDelta");if(a.flow_status!=null){var d;b.writeFieldBegin({fname:"flow_status",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});b.writeI32((d=a.flow_status)!=null?d:0);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.log!=null){b.writeFieldBegin({fname:"log",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:2});r(a.log,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.rewrite!=null){b.writeFieldBegin({fname:"rewrite",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:3});o(a.rewrite,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.data!=null){b.writeFieldBegin({fname:"data",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:4});q(a.data,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.termination!=null){b.writeFieldBegin({fname:"termination",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:5});s(a.termination,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.amend_ack!=null){b.writeFieldBegin({fname:"amend_ack",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6});t(a.amend_ack,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}b.writeFieldStop();b.writeStructEnd()}function y(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.new_headers=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.new_body=a.readBinary():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.patch_headers=a.readString():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).BOOL?b.kill_body=a.readBool():a.skip(e);break;case 5:e===(h||(h=c("ThriftTypes"))).BOOL?b.temporary=a.readBool():a.skip(e);break;case 6:e===(h||(h=c("ThriftTypes"))).STRUCT?b.conditional_patch_headers=z(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function z(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.expected_existing_headers=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.patch_headers_if_match=a.readString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.patch_headers_otherwise=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.expected_existing_headers===void 0&&(b.expected_existing_headers="");b.patch_headers_if_match===void 0&&(b.patch_headers_if_match="");return b}function A(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.bytes=a.readBinary():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.metadata=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.bytes===void 0&&(b.bytes=Uint8Array.of());return b}function B(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.message=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.message===void 0&&(b.message="");return b}function C(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.reason=d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(a.readI32()):a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRING?b.message=a.readString():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I64?b.retry_delay_ms=a.readI64().toString():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.reason===void 0&&(b.reason=d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0));return b}function D(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.amendment_id=a.readI64().toString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).BOOL?b.accepted=a.readBool():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.result=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function E(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I64?b.stream_id=a.readI64().toString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.last_sequencer=a.readI32():a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).I32?b.amendment_count=a.readI32():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.last_status=d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(a.readI32()):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.stream_id===void 0&&(b.stream_id="0");b.last_sequencer===void 0&&(b.last_sequencer=0);b.amendment_count===void 0&&(b.amendment_count=0);b.last_status===void 0&&(b.last_status=d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0));return b}function F(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.caller_timestamp_ms=a.readI64().toString():a.skip(e);break;case 2:if(e===(h||(h=c("ThriftTypes"))).LIST){b.streams_to_check=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=E(a);b.streams_to_check.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.caller_timestamp_ms===void 0&&(b.caller_timestamp_ms="0");return b}function G(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.original_ping_timestamp_ms=a.readI64().toString():a.skip(e);break;case 2:if(e===(h||(h=c("ThriftTypes"))).LIST){b.stream_ids_missing=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readI64().toString();b.stream_ids_missing.push(g)}}else a.skip(e);break;case 3:if(e===(h||(h=c("ThriftTypes"))).LIST){b.stream_ids_behind=[];g=a.readListBegin();for(f=0;f<g.size;f++){d=a.readI64().toString();b.stream_ids_behind.push(d)}}else a.skip(e);break;case 4:if(e===(h||(h=c("ThriftTypes"))).LIST){b.stream_ids_with_lost_amendments=[];d=a.readListBegin();for(f=0;f<d.size;f++){g=a.readI64().toString();b.stream_ids_with_lost_amendments.push(g)}}else a.skip(e);break;case 5:if(e===(h||(h=c("ThriftTypes"))).LIST){b.stream_ids_with_wrong_status=[];g=a.readListBegin();for(f=0;f<g.size;f++){d=a.readI64().toString();b.stream_ids_with_wrong_status.push(d)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.original_ping_timestamp_ms===void 0&&(b.original_ping_timestamp_ms="0");return b}function H(a){var b,e={};a.readStructBegin();while(!0){var f=a.readFieldBegin(),g=f.ftype;f=f.fid;if(g===(h||(h=c("ThriftTypes"))).STOP)break;switch(f){case 1:if(g===(h||(h=c("ThriftTypes"))).I32)if(b==null)e.flow_status=d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(a.readI32()),b="flow_status";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: flow_status, previous deserialized field: "+b);else a.skip(g);break;case 2:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.log=B(a),b="log";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: log, previous deserialized field: "+b);else a.skip(g);break;case 3:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.rewrite=y(a),b="rewrite";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: rewrite, previous deserialized field: "+b);else a.skip(g);break;case 4:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.data=A(a),b="data";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: data, previous deserialized field: "+b);else a.skip(g);break;case 5:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.termination=C(a),b="termination";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: termination, previous deserialized field: "+b);else a.skip(g);break;case 6:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.amend_ack=D(a),b="amend_ack";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: amend_ack, previous deserialized field: "+b);else a.skip(g);break;default:a.skip(g)}a.readFieldEnd()}a.readStructEnd();return e}g.ResponseRewriteRequest$DefaultConstructor=a;g.ResponseRewriteConditionalPatchHeaders$DefaultConstructor=b;g.ResponseData$DefaultConstructor=e;g.LogMessage$DefaultConstructor=f;g.Termination$DefaultConstructor=i;g.AmendStreamAck$DefaultConstructor=j;g.StreamCheck$DefaultConstructor=k;g.Ping$DefaultConstructor=l;g.Pong$DefaultConstructor=m;g.StreamResponseDelta$DefaultConstructor=n;g.serializeResponseRewriteRequest=o;g.serializeResponseRewriteConditionalPatchHeaders=p;g.serializeResponseData=q;g.serializeLogMessage=r;g.serializeTermination=s;g.serializeAmendStreamAck=t;g.serializeStreamCheck=u;g.serializePing=v;g.serializePong=w;g.serializeStreamResponseDelta=x;g.deserializeResponseRewriteRequest=y;g.deserializeResponseRewriteConditionalPatchHeaders=z;g.deserializeResponseData=A;g.deserializeLogMessage=B;g.deserializeTermination=C;g.deserializeAmendStreamAck=D;g.deserializeStreamCheck=E;g.deserializePing=F;g.deserializePong=G;g.deserializeStreamResponseDelta=H}),98);
__d("RequestStreamSingleChannelSingleChannelRequestStreamTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Ignored:100,Success:200,Queued:250,UnknownStream:400,HandledUnknownResult:450,Failure:500});c=b("$InternalEnum")({Request_headers:"request_headers",Request_body:"request_body",Amend:"amend",Ack:"ack",Response:"response",Ping:"ping",Pong:"pong"});e.exports={Ack:a,Payload$Types:c}}),null);
__d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers",["RequestStreamCommonRequestStreamCommonSerializers","RequestStreamCommonRequestStreamCommonTypes","RequestStreamSingleChannelSingleChannelRequestStreamTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{}}function b(){return{body:Uint8Array.of()}}function e(){return{amendment:Uint8Array.of()}}function f(){return{ack:d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0)}}function i(){return{delta:[]}}function j(){return{}}function k(a,b){b.writeStructBegin("RequestStreamHeaders"),a.headers!=null&&(b.writeFieldBegin({fname:"headers",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeBinary(a.headers),b.writeFieldEnd()),a.instrumentation_data!=null&&(b.writeFieldBegin({fname:"instrumentation_data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeBinary(a.instrumentation_data),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function l(a,b){b.writeStructBegin("RequestStreamBody");b.writeFieldBegin({fname:"body",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.body!=null)b.writeBinary(a.body);else{a=Uint8Array.of();b.writeBinary(a)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function m(a,b){b.writeStructBegin("AmendStream");a.amendment_id!=null&&(b.writeFieldBegin({fname:"amendment_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(c("jsbi").BigInt(a.amendment_id)),b.writeFieldEnd());b.writeFieldBegin({fname:"amendment",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2});if(a.amendment!=null)b.writeBinary(a.amendment);else{var d=Uint8Array.of();b.writeBinary(d)}b.writeFieldEnd();a.is_query!=null&&(b.writeFieldBegin({fname:"is_query",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:3}),b.writeBool(a.is_query),b.writeFieldEnd());a.instrumentation_data!=null&&(b.writeFieldBegin({fname:"instrumentation_data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeBinary(a.instrumentation_data),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function n(a,b){b.writeStructBegin("StreamResponseAck");a.response_id!=null&&(b.writeFieldBegin({fname:"response_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(c("jsbi").BigInt(a.response_id)),b.writeFieldEnd());b.writeFieldBegin({fname:"ack",ftype:(h||(h=c("ThriftTypes"))).I32,fid:2});if(a.ack!=null){var e;b.writeI32((e=a.ack)!=null?e:0)}else{e=d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0);b.writeI32((e=e)!=null?e:0)}b.writeFieldEnd();a.query_result!=null&&(b.writeFieldBegin({fname:"query_result",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeBinary(a.query_result),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function o(a,b){b.writeStructBegin("StreamResponse");a.response_id!=null&&(b.writeFieldBegin({fname:"response_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(c("jsbi").BigInt(a.response_id)),b.writeFieldEnd());b.writeFieldBegin({fname:"delta",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});if(a.delta!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.delta.length});for(var e=a.delta,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(g>=e.length)break;i=e[g++]}else{g=e.next();if(g.done)break;i=g.value}i=i;d("RequestStreamCommonRequestStreamCommonSerializers").serializeStreamResponseDelta(i,b)}b.writeListEnd()}else{i=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:i.length});for(g=0;g<i.length;g++){f=i[g];d("RequestStreamCommonRequestStreamCommonSerializers").serializeStreamResponseDelta(f,b)}b.writeListEnd()}b.writeFieldEnd();if(a.ack_level!=null){b.writeFieldBegin({fname:"ack_level",ftype:(h||(h=c("ThriftTypes"))).I32,fid:3});b.writeI32((e=a.ack_level)!=null?e:0);b.writeFieldEnd()}a.query_request!=null&&(b.writeFieldBegin({fname:"query_request",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeBinary(a.query_request),b.writeFieldEnd());a.instrumentation_data!=null&&(b.writeFieldBegin({fname:"instrumentation_data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:5}),b.writeBinary(a.instrumentation_data),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function p(a,b){b.writeStructBegin("Payload");if(a.request_headers!=null){b.writeFieldBegin({fname:"request_headers",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1});k(a.request_headers,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.request_body!=null){b.writeFieldBegin({fname:"request_body",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:2});l(a.request_body,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.amend!=null){b.writeFieldBegin({fname:"amend",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:3});m(a.amend,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.ack!=null){b.writeFieldBegin({fname:"ack",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:4});n(a.ack,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.response!=null){b.writeFieldBegin({fname:"response",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:5});o(a.response,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.ping!=null){b.writeFieldBegin({fname:"ping",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6});d("RequestStreamCommonRequestStreamCommonSerializers").serializePing(a.ping,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.pong!=null){b.writeFieldBegin({fname:"pong",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:7});d("RequestStreamCommonRequestStreamCommonSerializers").serializePong(a.pong,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}b.writeFieldStop();b.writeStructEnd()}function q(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.headers=a.readBinary():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.instrumentation_data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function r(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.body=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.body===void 0&&(b.body=Uint8Array.of());return b}function s(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.amendment_id=a.readI64().toString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.amendment=a.readBinary():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).BOOL?b.is_query=a.readBool():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).STRING?b.instrumentation_data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.amendment===void 0&&(b.amendment=Uint8Array.of());return b}function t(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I64?b.response_id=a.readI64().toString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.ack=d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(a.readI32()):a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).STRING?b.query_result=a.readBinary():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.ack===void 0&&(b.ack=d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0));return b}function u(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I64?b.response_id=a.readI64().toString():a.skip(f);break;case 2:if(f===(h||(h=c("ThriftTypes"))).LIST){b.delta=[];e=a.readListBegin();for(var g=0;g<e.size;g++){var i=d("RequestStreamCommonRequestStreamCommonSerializers").deserializeStreamResponseDelta(a);b.delta.push(i)}}else a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.ack_level=d("RequestStreamCommonRequestStreamCommonTypes").AckLevel.cast(a.readI32()):a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).STRING?b.query_request=a.readBinary():a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).STRING?b.instrumentation_data=a.readBinary():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.delta===void 0&&(b.delta=[]);return b}function v(a){var b,e={};a.readStructBegin();while(!0){var f=a.readFieldBegin(),g=f.ftype;f=f.fid;if(g===(h||(h=c("ThriftTypes"))).STOP)break;switch(f){case 1:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.request_headers=q(a),b="request_headers";else throw new Error("more than one field have been deserialized in union type: Payload; current field: request_headers, previous deserialized field: "+b);else a.skip(g);break;case 2:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.request_body=r(a),b="request_body";else throw new Error("more than one field have been deserialized in union type: Payload; current field: request_body, previous deserialized field: "+b);else a.skip(g);break;case 3:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.amend=s(a),b="amend";else throw new Error("more than one field have been deserialized in union type: Payload; current field: amend, previous deserialized field: "+b);else a.skip(g);break;case 4:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.ack=t(a),b="ack";else throw new Error("more than one field have been deserialized in union type: Payload; current field: ack, previous deserialized field: "+b);else a.skip(g);break;case 5:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.response=u(a),b="response";else throw new Error("more than one field have been deserialized in union type: Payload; current field: response, previous deserialized field: "+b);else a.skip(g);break;case 6:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.ping=d("RequestStreamCommonRequestStreamCommonSerializers").deserializePing(a),b="ping";else throw new Error("more than one field have been deserialized in union type: Payload; current field: ping, previous deserialized field: "+b);else a.skip(g);break;case 7:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.pong=d("RequestStreamCommonRequestStreamCommonSerializers").deserializePong(a),b="pong";else throw new Error("more than one field have been deserialized in union type: Payload; current field: pong, previous deserialized field: "+b);else a.skip(g);break;default:a.skip(g)}a.readFieldEnd()}a.readStructEnd();return e}g.RequestStreamHeaders$DefaultConstructor=a;g.RequestStreamBody$DefaultConstructor=b;g.AmendStream$DefaultConstructor=e;g.StreamResponseAck$DefaultConstructor=f;g.StreamResponse$DefaultConstructor=i;g.Payload$DefaultConstructor=j;g.serializeRequestStreamHeaders=k;g.serializeRequestStreamBody=l;g.serializeAmendStream=m;g.serializeStreamResponseAck=n;g.serializeStreamResponse=o;g.serializePayload=p;g.deserializeRequestStreamHeaders=q;g.deserializeRequestStreamBody=r;g.deserializeAmendStream=s;g.deserializeStreamResponseAck=t;g.deserializeStreamResponse=u;g.deserializePayload=v}),98);
__d("RequestStreamState",["RequestStreamCommonRequestStreamCommonTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b){case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:return a.seenAccepted?a:{flowStatus:d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted,seenAccepted:!0};default:if(!a.seenAccepted||a.flowStatus===b)return a;else return{flowStatus:b,seenAccepted:!0}}}g.getNextState=a}),98);
__d("StreamRetryState",[],(function(a,b,c,d,e,f){"use strict";var g=1e3,h=2*60*1e3;a=function(){function a(){this.$1=0}var b=a.prototype;b.resetErrorAndRetryCount=function(){this.$1=0};b.onRetry=function(){this.$1+=1};b.getRetryCount=function(){return this.$1};b.getBackoffDelayMs=function(){if(this.$1<=1)return 0;if(this.$1===2)return g*Math.random();var a=g*Math.pow(2,this.$1-3),b=a*Math.random();a=a+b;return Math.min(a,h)};return a}();f["default"]=a}),66);
__d("DGWRequestStreamRef",["CompactSerializerPolyfill","DGWRequestStreamUtils","DGWStream","DGWStreamHandler","InflightAmends","Promise","RequestStreamCloseReason","RequestStreamCommonRequestStreamCommonTypes","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RequestStreamE2ELogger","RequestStreamE2ESampling","RequestStreamSingleChannelSingleChannelRequestStreamSerializers","RequestStreamSingleChannelSingleChannelRequestStreamTypes","RequestStreamState","RequestStreamTransport","RtiWebRequestStreamClient","StreamRetryState","err","gkx","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=4,j=0,k=1e3,l=2,m=c("gkx")("20915")?3e4:5e3,n="dgw_stream_send_ack_failure";function o(a){if(!a){a=c("err")(n);a.stack;throw a}}function p(a,b){if(a==null||a.length===0)return null;a=JSON.parse(a);a.auxId=b;return new TextEncoder().encode(JSON.stringify(a))}function q(a){var b={};a=a.delta;a.forEach(function(a){if(a.flow_status){b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Flow_status;switch(a.flow_status){case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:b.flow_status="Accepted";break;case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started:b.flow_status="Started";break;case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped:b.flow_status="Stopped";break}}else a.log?b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Log:a.rewrite?b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Rewrite:a.data?b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Data:a.termination?b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Termination:a.amend_ack&&(b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Amend_ack)});return b}a=function(){function a(a,b,e,f,g,h){var j=this;this.$6=null;this.$7={};this.$10=!1;this.$15=new(c("StreamRetryState"))();this.$16=0;this.$17=0;this.$18=0;this.$21=0;var k=null;typeof b=="string"?k=new TextEncoder().encode(b):typeof b=="object"&&(k=b);this.$1={headers:a,body:k};this.$3=e;this.$4=f;this.$12=i;this.$9=!1;this.$14=!1;this.$20=h;g!=null&&(this.$22()||(g.dgwStreamGroupLoggingId=this.$20.getStreamGroupLoggingId()),g.dgwCountPriorStreamsInGroup=this.$20.guessStreamGroupPriorStreamCount(),g.transport="WEB_RS_STARGATE");this.$5=d("RequestStreamE2ESampling").validateInstrumentationData(a,g,f==null?void 0:f.requestLogContext,f==null?void 0:f.upsampleMultiplier);!this.$22()?this.$6=d("RequestStreamE2ELogger").createStreamLogger(a,this.$5,d("RequestStreamTransport").RequestStreamTransport.WEB_RS_STARGATE):this.$7.disableFalcoLogging=!0;(f==null?void 0:f.deviceId)!=null&&(this.$7.deviceId=f.deviceId);this.$6&&(this.$7.loggingId=this.$6.getRequestId());f&&f.overrideUrl!=null&&(this.$7.overrideUrl=f.overrideUrl);this.$8={flowStatus:d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped,seenAccepted:!1};this.$19=new(c("InflightAmends"))(m,function(a,b){var d;(d=j.$6)==null?void 0:d.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT_ACK,c("RequestStreamE2EClientLoggerEvent").RECEIVED,babelHelpers["extends"]({},j.$23(),{latency:b.toString()}),a)},function(a,b){if(b.message!==n){var d;(d=j.$6)==null?void 0:d.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT_ACK,c("RequestStreamE2EClientLoggerEvent").FAILURE,babelHelpers["extends"]({},j.$23(),{reason:b.message}),a)}});(k=this.$6)==null?void 0:k.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:(h=b==null?void 0:(e=b.length)==null?void 0:e.toString())!=null?h:"0"},"0","0")}var e=a.prototype;e.getInstrumentationData=function(){return this.$5};e.getE2EClientLogger=function(){return this.$6};e.amendWithAck=function(a){a=this.$24(a,!0);return a===null||a===void 0?(h||(h=b("Promise"))).resolve(!1):this.$19.getPromise(a)||(h||(h=b("Promise"))).resolve(!1)};e.amendWithoutAck=function(a){this.$24(a,!1)};e.cancel=function(){var a;(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").CANCEL,c("RequestStreamE2EClientLoggerEvent").RECEIVED);this.$9=!0;this.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0)};e.start=function(a){var e=this;a===void 0&&(a=!1);var f=String(this.$16++),g=Date.now();return this.$26(f).then(function(){var a;e.$14=!1;e.$21=0;var b=(Date.now()-g).toString();(a=e.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").PUBACK,{latency:b},f,String(e.$18))})["catch"](function(g){g.stack;if(g.message===n&&e.$10)return;e.$14=!1;if(g!==d("DGWStream").StreamError.ESTABLISHMENT_ERROR){var i,j=g.message;g===d("DGWStream").StreamError.UNAUTHENTICATED?j="UNAUTHENTICATED":g===d("DGWStream").StreamError.UNAUTHORIZED&&(j="UNAUTHORIZED");(i=e.$6)==null?void 0:i.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:j},f,String(e.$18));e.$25(a?d("RequestStreamCloseReason").RequestStreamCloseReason.ReestablishError:d("RequestStreamCloseReason").RequestStreamCloseReason.StartStreamFailure,j,!0);if(g===d("DGWStream").StreamError.UNAUTHENTICATED||g===d("DGWStream").StreamError.UNAUTHORIZED)return;throw g}else{(i=e.$6)==null?void 0:i.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:(j=g.message)!=null?j:g},f,String(e.$18));e.$15.onRetry();var m=c("gkx")("20916")?e.$15.getBackoffDelayMs():k*Math.pow(l,e.$21);return new(h||(h=b("Promise")))(function(a){return window.setTimeout(a,m)}).then(function(){e.$21++;e.$18++;return e.start()})}})};e.getFlowStatus=function(){return this.$8.flowStatus};e.shouldTerminateOrRetry=function(a,e,f,g){var i=this;if(this.$14)return;var k=e;this.$12||(k="cannot retry for error: "+e+" because of hit max retry limitation");if(a!==d("RequestStreamCloseReason").RequestStreamCloseReason.ClientError){(e=this.$6)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:k},null,String(this.$18))}e=f&&(c("gkx")("20916")||this.$12);this.$25(a,k,!e);if(e){var l=c("gkx")("20916")?Math.max((f=g)!=null?f:0,this.$15.getBackoffDelayMs()):(a=g)!=null?a:j;this.$14=!0;return new(h||(h=b("Promise")))(function(a){return window.setTimeout(a,l)}).then(function(){return i.$27()})["catch"](function(a){})}};e.$28=function(){return this.$11!=null};e.$24=function(a,b){var e,f=this,g=typeof a=="string"?new TextEncoder().encode(a):a,h=String(this.$17++);(e=this.$6)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{},h);e=p(this.$5,h);g={amend:{amendment:g,instrumentation_data:e}};b&&g.amend&&(g.amend.amendment_id=h);e=d("CompactSerializerPolyfill").serialize(g,d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload);var i=Date.now();if(this.$29()&&this.$11!=null){b&&this.$19.add(h);this.$11.send(e).then(function(a){var b;o(a);a=(Date.now()-i).toString();(b=f.$6)==null?void 0:b.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").PUBACK,{latency:a},h)})["catch"](function(a){var b;(b=f.$6)==null?void 0:b.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:a.message},h);f.$19.reject(h,a)});(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").SENT,{data_size:(e=a==null?void 0:(b=a.length)==null?void 0:b.toString())!=null?e:"0"},h);return h}else{(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"not_started"},h)}};e.$26=function(a){var e=this,f,g,h,j,k,l,m,n,p;return b("regeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:if(this.$9){q.next=39;break}g=this.$2||this.$1;q.prev=2;h=this.$30();this.$13=h;j=g.headers.graphiql_sandbox;k=babelHelpers["extends"]({},g.headers,this.$31());j!=null&&(k=babelHelpers["extends"]({},k,{www_sandbox:j}));l=d("DGWRequestStreamUtils").convertHeaders(k,g.body!=null,this.$5);q.next=11;return b("regeneratorRuntime").awrap(this.$20.establishStream(l,h,this.$7));case 11:this.$11=q.sent;q.next=26;break;case 14:q.prev=14;q.t0=q["catch"](2);if(!(q.t0===d("DGWStream").StreamError.ESTABLISHMENT_ERROR)){q.next=18;break}throw q.t0;case 18:if(!(d("DGWStream").StreamError.isValid(q.t0)&&!d("DGWStream").isRetryableError(q.t0))){q.next=22;break}throw q.t0;case 22:if(!(d("DGWStream").StreamError.isValid(q.t0)&&d("DGWStream").isRetryableError(q.t0))){q.next=25;break}this.$32(q.t0);return q.abrupt("return");case 25:throw q.t0;case 26:if(!this.$9){q.next=29;break}this.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0);return q.abrupt("return");case 29:m=new Uint8Array([]);g.body!=null&&(n={request_body:{body:g.body}},m=d("CompactSerializerPolyfill").serialize(n,d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload));if(this.$11){q.next=33;break}throw new Error("dgwstream_is_null");case 33:p=this.$11.send(m).then(function(a){o(a),e.$9&&e.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0)});(f=this.$6)==null?void 0:f.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").SENT,{},a,String(this.$18));this.$12=i;return q.abrupt("return",p);case 39:throw new Error("stream_already_canceled");case 40:case"end":return q.stop()}},null,this,[[2,14]])};e.$29=function(){return this.$8.flowStatus===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started||this.$8.flowStatus===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted};e.$25=function(a,b,c){var e;this.$11&&a!==d("RequestStreamCloseReason").RequestStreamCloseReason.StreamError&&a!==d("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination&&this.$11.close();(e=this.$13)==null?void 0:e.stop();this.$11=null;this.$10=!0;this.$33(d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped)&&this.$3.onFlowStatus(d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped);c&&!this.$9&&this.$3.onTermination("terminate stream because "+a+" with msg : "+b)};e.$33=function(a){var b=this.$8;this.$8=d("RequestStreamState").getNextState(b,a);return b!==this.$8};e.$27=function(){this.$12--;this.$18++;this.$15.onRetry();return this.start(!0)};e.$34=function(a){var b=this;a=d("CompactSerializerPolyfill").deserialize(a,d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").deserializePayload);if(a.response){var e=d("DGWRequestStreamUtils").getInstrumentationDataFieldsFromPayload(a),f=e==null?void 0:e.auxId;e=e==null?void 0:e.dfTraceId;if(!this.$28()){var g;(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"response_received_after_close"},f,String(this.$18),e);return}(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").RECEIVED,q(a.response),f,String(this.$18),e);g=a.response.delta;g.forEach(function(a){if(a.data)b.$15.resetErrorAndRetryCount(),b.$8.flowStatus===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started&&b.$3.onData(new TextDecoder("utf-8").decode(a.data.bytes));else if(a.flow_status){var c=a.flow_status;c===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started&&b.$15.resetErrorAndRetryCount();b.$33(c)&&b.$3.onFlowStatus(c)}else if(a.termination){c=(c=a.termination.message)!=null?c:"unknown termination msg";b.$2=null;b.shouldTerminateOrRetry(d("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination,c,a.termination.reason===d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.TryAgain,a.termination.retry_delay_ms!=null?parseInt(a.termination.retry_delay_ms,10):null)}else if(a.log)b.$3.onLog(a.log.message);else if(a.amend_ack){c=a.amend_ack.amendment_id;if(c!=null){var e=a.amend_ack.accepted||!1;b.$19.resolve(c,e)}}else if(a.rewrite){c=d("DGWRequestStreamUtils").transformContextWithRewriteDelta(b.$1,a.rewrite);a.rewrite.temporary===!0?b.$2=c:b.$1=c}});(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").SENT,q(a.response),f,String(this.$18),e);a.response.ack_level===d("RequestStreamCommonRequestStreamCommonTypes").AckLevel.Device&&a.response.response_id!=null&&this.$35(a.response.response_id,f)}else{(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"unexpected_payload_type"},null,String(this.$18))}};e.$35=function(a,b){a={ack:{response_id:a,ack:d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.Success}};a=d("CompactSerializerPolyfill").serialize(a,d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload);if(this.$11!=null){this.$11.send(a);(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE_ACK,c("RequestStreamE2EClientLoggerEvent").SENT,{},b,String(this.$18))}else{(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE_ACK,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"not_started"},b,String(this.$18))}};e.$22=function(){return this.$1.headers.method==="Falco"};e.$30=function(){return new(c("DGWStreamHandler"))(this.$36.bind(this),this.$37.bind(this),this.$32.bind(this),this.$38.bind(this),this.$39.bind(this))};e.$39=function(a){(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"OnClose: Server Has FinishedSendingData"},null,String(this.$18));this.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.ServerDataEnd,"Client receive OnServerHasFinishedSendingData and Server will not send more data",!0)};e.$36=function(a){(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"OnClose: Server Close Connection"},null,String(this.$18));this.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination,"Client receive OnClose and Server will not send more data",!0)};e.$37=function(a){try{this.$34(a)}catch(b){(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:b.message},null,String(this.$18));this.shouldTerminateOrRetry(d("RequestStreamCloseReason").RequestStreamCloseReason.ClientError,b.message,!1)}};e.$32=function(a){var b="",c=d("DGWStream").isRetryableError(a);b="StreamError: Received "+a;this.shouldTerminateOrRetry(d("RequestStreamCloseReason").RequestStreamCloseReason.StreamError,b,c)};e.$38=function(a,b){this.shouldTerminateOrRetry(d("RequestStreamCloseReason").RequestStreamCloseReason.ServerDrain,b,!0)};e.$31=function(){return c("RtiWebRequestStreamClient").overrideHeaders};e.$23=function(){var a={};c("gkx")("20918")&&(a.pending_amendments_size=this.$19.getSize().toString());return a};return a}();g["default"]=a}),98);
__d("DGWStreamGroupHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.onStreamGroupError=function(a){this.$1(a)};b.onStreamGroupMustDrain=function(a){this.$2(a)};b.onStreamGroupTransportClose=function(){this.$3()};return a}();f["default"]=a}),66);
__d("DGWStreamFactory",["DGWClient","DGWStreamGroupHandler","Promise","gkx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i="realtime",j=1e4,k=null;a=function(){function a(){this.$3=0,this.$1=null,c("gkx")("20920")&&(this.$2=c("uuidv4")())}a.get=function(){k==null&&(k=new a());return k};var d=a.prototype;d.getStreamGroupLoggingId=function(){return this.$2};d.guessStreamGroupPriorStreamCount=function(){return this.$3};d.establishStream=function(a,d,e){var f=this;if(this.$1==null||!this.$1.canCreateGroupedStream()){var g={deviceId:e.deviceId,serviceId:i,disableFalcoLogging:e.disableFalcoLogging,streamGroupAppHeaders:{"stream-group":"group1"}};e.overrideUrl!=null&&(g.overrideUrl=e.overrideUrl);g.keepAliveMs=j;c("gkx")("20920")?(this.$2=c("uuidv4")(),g.loggingId=this.$2):this.$2=null;this.$3=0;try{this.$1=c("DGWClient")().createStreamGroup(new(c("DGWStreamGroupHandler"))(function(){f.$1=null},function(){f.$1=null},function(){f.$1=null}),g)}catch(a){return(h||(h=b("Promise"))).reject(a)}}this.$3++;return this.$1.establishStream({loggingId:e.loggingId,disableFalcoLogging:e.disableFalcoLogging,groupedStreamHeaders:a},d)};return a}();g["default"]=a}),98);
__d("DGWRequestStreamClient",["DGWRequestStreamRef","DGWStreamFactory","Promise","cr:2046346"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){this.$1=a!=null?a:c("DGWStreamFactory").get()}var d=a.prototype;d.createStream=function(a,d,e,f,g){b("cr:2046346")!=null&&b("cr:2046346").startPulsarTest();return(h||(h=b("Promise"))).resolve(new(c("DGWRequestStreamRef"))(a,d,f,g,e,this.$1))};return a}();g["default"]=a}),98);
__d("FDSDialogStartAlignedTextHeader.react",["fbt","BaseDialogLabelIDProvider","FBNucleusCrossFilled24Icon.react","FDSCircleButton.react","FDSDialogHeaderContainer.react","FDSText.react","emptyFunction","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={addOnEnd:{alignSelf:"xqcrz7y",marginTop:"x14vqqas",marginBottom:"xod5an3",marginStart:"x1d52u69",marginEnd:"xktsk01",marginLeft:null,marginRight:null,$$css:!0},headerPlaceholder:{height:"xc9qbxq",marginTop:"xw7yly9",marginBottom:"x1yztbdb",width:"x14qfxbe",$$css:!0},headerText:{marginTop:"xw7yly9",marginBottom:"x1yztbdb",marginLeft:"xq1n1xh",marginStart:null,marginEnd:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12),e=a.closeTestID,f=a.disabled,g=a.onClose,i=a.text,l=a.withCloseButton;a=a.withoutDivider;e=e===void 0?"close-button":e;f=f===void 0?!1:f;g=g===void 0?c("emptyFunction"):g;l=l===void 0?!0:l;a=a===void 0?!0:a;var m=d("BaseDialogLabelIDProvider").useDialogHeaderID();a=!a;var n;b[0]!==m||b[1]!==i?(n=i!=null&&j.jsx(d("react-strict-dom").html.div,{style:k.headerText,children:j.jsx(c("FDSText.react"),{align:"start",id:m,isSemanticHeading:!0,type:"headlineEmphasized2",children:i})}),b[0]=m,b[1]=i,b[2]=n):n=b[2];b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==l?(m=j.jsx(d("react-strict-dom").html.div,{style:k.addOnEnd,children:l?j.jsx(c("FDSCircleButton.react"),{disabled:f,icon:c("FBNucleusCrossFilled24Icon.react"),label:h._(/*BTDS*/"__JHASH__tnRfHlva-bL__JHASH__"),onPress:g,size:36,testid:void 0}):j.jsx(d("react-strict-dom").html.div,{style:k.headerPlaceholder})}),b[3]=e,b[4]=f,b[5]=g,b[6]=l,b[7]=m):m=b[7];b[8]!==a||b[9]!==n||b[10]!==m?(i=j.jsxs(c("FDSDialogHeaderContainer.react"),{withDivider:a,children:[n,m]}),b[8]=a,b[9]=n,b[10]=m,b[11]=i):i=b[11];return i}g["default"]=a}),226);
__d("FDSAlertDialogImpl.react",["fbt","FDSDialog.react","FDSDialogFooter.react","FDSDialogStartAlignedTextHeader.react","FDSText.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={content:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,position:"x1n2onr6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(16),e=a.onClose,f=a.body,g=a.close;a=a.title;if(b[0]!==g){var i;i=(i=g)!=null?i:h._(/*BTDS*/"__JHASH__XzprMQh2D7n__JHASH__");b[0]=g;b[1]=i}else i=b[1];b[2]!==e||b[3]!==i?(g=j.jsx(c("FDSDialogFooter.react"),{expanding:!1,primary:{label:i,onPress:e,testid:"FDSAlertDialogImpl-closeButton"}}),b[2]=e,b[3]=i,b[4]=g):g=b[4];b[5]!==e||b[6]!==a?(i=j.jsx(c("FDSDialogStartAlignedTextHeader.react"),{onClose:e,text:a}),b[5]=e,b[6]=a,b[7]=i):i=b[7];var l;b[8]!==f?(l=j.jsx(d("react-strict-dom").html.div,{style:k.content,children:j.jsx(c("FDSText.react"),{type:"body3",children:f})}),b[8]=f,b[9]=l):l=b[9];b[10]!==e||b[11]!==g||b[12]!==i||b[13]!==l||b[14]!==a?(f=j.jsx(c("FDSDialog.react"),{"aria-label":a,footer:g,header:i,onClose:e,children:l}),b[10]=e,b[11]=g,b[12]=i,b[13]=l,b[14]=a,b[15]=f):f=b[15];return f}g["default"]=a}),226);
__d("QpActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744247");b=d("FalcoLoggerInternal").create("qp_action",a);e=b;g["default"]=e}),98);
__d("QpImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744249");b=d("FalcoLoggerInternal").create("qp_impression",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("CometComposerWarnStatusTextLengthForLexical.react",["CometComposerInlineErrorRenderer.react","CometComposerStylingConstants","MLCCharacterLimitCountPlugin.react","lengthInUTF8Bytes","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useState;function a(a){var b=d("react-compiler-runtime").c(13),e=a.characterLimit,f=a.customWarningLimit,g=a.lexicalEditor;a=a.xstyle;var h=j(null),k=h[0],l=h[1],m=(h=f)!=null?h:d("CometComposerStylingConstants").COMPOSER_WARNING_LIMIT;b[0]!==m?(f=function(a){a<=m?l(a):a>m&&l(null)},b[0]=m,b[1]=f):f=b[1];h=f;b[2]!==e||b[3]!==g||b[4]!==h?(f=i.jsx(c("MLCCharacterLimitCountPlugin.react"),{editor__DEPRECATED:g,limit:e,onChange:h,strlen:c("lengthInUTF8Bytes")}),b[2]=e,b[3]=g,b[4]=h,b[5]=f):f=b[5];b[6]!==k||b[7]!==m||b[8]!==a?(e=k!=null&&k<=m&&i.jsx(c("CometComposerInlineErrorRenderer.react"),{error:k,xstyle:a}),b[6]=k,b[7]=m,b[8]=a,b[9]=e):e=b[9];b[10]!==f||b[11]!==e?(g=i.jsxs(i.Fragment,{children:[f,e]}),b[10]=f,b[11]=e,b[12]=g):g=b[12];return g}g["default"]=a}),98);
__d("ComposerStoryCreateMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9797715060256360"}),null);
__d("ComposerStoryCreateMutation.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","ComposerStoryCreateMutation_facebookRelayOperation","CometUFIShareActionMigration.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","GHLShouldChangeAdIdFieldName.relayprovider","IsWorkUser.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider","CometImmersivePhotoCanUserDisable3DMotion.relayprovider","IsMergQAPolls.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","EventCometCardImage_prefetchEventImage.relayprovider","GHLShouldChangeSponsoredAuctionDistanceFieldName.relayprovider"],(function(a,b,aa,ba,ca,da){"use strict";a=function(){var a={defaultValue:!1,kind:"LocalArgument",name:"canUserManageOffers"},aa={defaultValue:null,kind:"LocalArgument",name:"checkPhotosToReelsUpsellEligibility"},ba={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},ca={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},da={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},ea={defaultValue:null,kind:"LocalArgument",name:"gridMediaWidth"},fa={defaultValue:null,kind:"LocalArgument",name:"groupID"},ga={defaultValue:null,kind:"LocalArgument",name:"hashtag"},ha={defaultValue:null,kind:"LocalArgument",name:"input"},ia={defaultValue:null,kind:"LocalArgument",name:"inviteShortLinkKey"},ja={defaultValue:null,kind:"LocalArgument",name:"isEvent"},ka={defaultValue:null,kind:"LocalArgument",name:"isFeed"},la={defaultValue:null,kind:"LocalArgument",name:"isFunFactPost"},ma={defaultValue:null,kind:"LocalArgument",name:"isFundraiser"},na={defaultValue:null,kind:"LocalArgument",name:"isGroup"},oa={defaultValue:null,kind:"LocalArgument",name:"isPageNewsFeed"},pa={defaultValue:null,kind:"LocalArgument",name:"isProfileReviews"},qa={defaultValue:!1,kind:"LocalArgument",name:"isSocialLearning"},ra={defaultValue:null,kind:"LocalArgument",name:"isTimeline"},sa={defaultValue:null,kind:"LocalArgument",name:"isWorkSharedDraft"},ta={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},ua={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},va={defaultValue:null,kind:"LocalArgument",name:"scale"},wa={defaultValue:!1,kind:"LocalArgument",name:"useDefaultActor"},xa=[{kind:"Variable",name:"data",variableName:"input"}],ya={alias:null,args:null,kind:"ScalarField",name:"story_id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},za={alias:null,args:null,kind:"ScalarField",name:"publishing_flow",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},Aa={alias:null,args:null,kind:"ScalarField",name:"scheduled_publish_time",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},Ba={alias:null,args:null,kind:"ScalarField",name:"legacy_story_hideable_id",storageKey:null},Ca={alias:null,args:null,kind:"ScalarField",name:"is_marked_as_spam_by_admin_assistant",storageKey:null},Da={alias:null,args:null,kind:"ScalarField",name:"is_anonymous",storageKey:null},f=[d],g={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},h=[g],Ea={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:h,storageKey:null},Fa={alias:null,args:null,concreteType:"LearningCourseModule",kind:"LinkedField",name:"module",plural:!1,selections:f,storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},j=[i],k={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:j,storageKey:null},Ga={alias:null,args:null,concreteType:"SocialLearningPost",kind:"LinkedField",name:"social_learning_post",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},{alias:"contentTypeText",args:[{kind:"Literal",name:"string_enum",value:"POST_CONTENT_TYPE"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"POST_CONTENT_TYPE")'},k],storageKey:null},Ha={condition:"canUserManageOffers",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_commerce_offer_intent",storageKey:null}]},l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},Ia=[l],Ja={condition:"checkPhotosToReelsUpsellEligibility",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_render_p2r_after_creation_upsell_comet",storageKey:null}]},Ka={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},La=[Ka],Ma={alias:"docs_and_files",args:null,concreteType:"GroupFilesAndDocsConnection",kind:"LinkedField",name:"group_docs_and_files",plural:!1,selections:La,storageKey:null},Na=[{kind:"Literal",name:"supported",value:"1NHih8"}],Oa={kind:"InlineFragment",selections:[{args:null,documentName:"groupsCometComposerDecoratePushPageOnComplete_story",fragmentName:"GroupsCometParticipationQuestionsDialogPageRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CommunityParticipationQuestionsComposerPageRenderer",abstractKey:null},Pa={kind:"InlineFragment",selections:[{args:null,documentName:"groupsCometComposerDecoratePushPageOnComplete_story",fragmentName:"GroupsCometMembershipQuestionsDialogPageRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CommunityMembershipQuestionsComposerPageRenderer",abstractKey:null},Qa={kind:"InlineFragment",selections:[{args:null,documentName:"groupsCometComposerDecoratePushPageOnComplete_story",fragmentName:"GroupRoomComposerEndPageLobbyRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"ComposerEndPageGroupRoomLobbyRenderer",abstractKey:null},Ra={kind:"InlineFragment",selections:[{args:null,documentName:"groupsCometComposerDecoratePushPageOnComplete_story",fragmentName:"GroupsCometAdminAssistActionBasedUpsellRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBAdminAssistWelcomePostUpsellComposerPageRenderer",abstractKey:null},m={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},Sa={args:null,kind:"FragmentSpread",name:"CometFeedUnit_feedUnit"},Ta={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null},Ua={kind:"InlineFragment",selections:[Ta],type:"Cacheable",abstractKey:"__isCacheable"},n={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:h,storageKey:null},Va=[{kind:"Literal",name:"if_style",value:"album"}],Wa=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometMediaPhotosTabGridItem_photo"}],type:"Photo",abstractKey:null}],storageKey:null}],Xa={alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},Ya={alias:null,args:null,concreteType:"BackdatedTime",kind:"LinkedField",name:"backdated_time",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null}],storageKey:null},Za=[Sa],$a=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:Za,storageKey:null}],ab={alias:null,args:null,kind:"ScalarField",name:"logging_token",storageKey:null},o=[l,d],p={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},q={kind:"Literal",name:"height",value:24},r={kind:"Literal",name:"width",value:24},bb={alias:"picture",args:[q,r],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:j,storageKey:"profile_picture(height:24,width:24)"},cb=[e],s={alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null},db={alias:"deleteUnitButtonText",args:[{kind:"Literal",name:"string_enum",value:"DELETE_UNIT_BUTTON"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"DELETE_UNIT_BUTTON")'},t={alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},eb={alias:null,args:null,kind:"ScalarField",name:"context_actor_hovercard",storageKey:null},fb={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[eb,d],storageKey:null},d],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"is_story_civic",storageKey:null},v={condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},w={condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"advert_identification_label",args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},x=[v,w,{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_rendering_loggers",storageKey:null},l],gb={condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:x,storageKey:null}]};x={condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"data_spon_lbl",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:x,storageKey:null}]};var hb={args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"},ib={kind:"InlineFragment",selections:[t,fb,u,gb,x,hb],type:"Story",abstractKey:null},y={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitGoodwillMemoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GoodwillCometStory",abstractKey:null},z={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMKQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedPeopleYouMayKnowFeedUnit",abstractKey:null},A={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometReelsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"ShowcaseFeedUnit",abstractKey:null},B={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFriendRequestsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"FriendRequestsFeedUnit",abstractKey:null},C={alias:null,args:null,concreteType:"QuickPromotionFeedUnitItem",kind:"LinkedField",name:"quick_promotion_items",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"quick_promotion",plural:!1,selections:f,storageKey:null}],storageKey:null},D={kind:"InlineFragment",selections:[C,{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitQuickPromotionStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},E={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GroupsCometGYSJFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupsYouShouldJoinFeedUnit",abstractKey:null},F={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupsSuggestionFeedUnitStrategy_unit",fragmentPropName:"unit",kind:"ModuleImport"}],type:"GroupsSuggestionUnit",abstractKey:null},G={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMIQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedGroupsPeopleYouMayInviteFeedUnit",abstractKey:null},H={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GeminiPYSFQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PeopleYouShouldFollowAtWorkFeedUnit",abstractKey:null},I={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometSPFFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"SuggestedPublicEntitiesToFollowFeedUnit",abstractKey:null},J={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CoronavirusCommunityHelpFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"CoronavirusCommunityHelpFeedUnit",abstractKey:null},K={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometEndOfFeedUpsellStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"EndOfFeedUpsellFeedUnit",abstractKey:null},L={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedGroupsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedGroupsFeedUnit",abstractKey:null},M={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedKeywordsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedKeywordsFeedUnit",abstractKey:null},N={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometStoriesSingleBucketFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"StoriesSingleBucketInlineViewerFeedUnit",abstractKey:null};C={kind:"InlineFragment",selections:[C],type:"QuickPromotionFeedUnit",abstractKey:null};var O={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TrackingData",kind:"LinkedField",name:"trackingdata",plural:!1,selections:f,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}],type:"TrackableFeedUnit",abstractKey:"__isTrackableFeedUnit"},jb=[d,{kind:"InlineFragment",selections:[l,ib,y,z,A,B,D,E,F,G,H,I,J,K,L,M,N,C,O],type:"FeedUnit",abstractKey:"__isFeedUnit"}],kb=[{kind:"Literal",name:"first",value:3}];k={alias:null,args:null,concreteType:"LearningCourseUnitModulesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"LearningCourseModule",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:"contentType",args:null,kind:"ScalarField",name:"content_type",storageKey:null},d,{alias:"isCompleted",args:null,kind:"ScalarField",name:"has_viewer_completed",storageKey:null},p,{alias:"contentTypeText",args:[{kind:"Literal",name:"string_enum",value:"MODULE_CONTENT_TYPE"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"MODULE_CONTENT_TYPE")'},k],storageKey:null}],storageKey:null};var lb={alias:null,args:null,kind:"ScalarField",name:"unpublished_content_type",storageKey:null},mb={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:h,storageKey:null},P={kind:"InlineFragment",selections:f,type:"Node",abstractKey:"__isNode"},nb={alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},ob={alias:null,args:null,kind:"ScalarField",name:"depth",storageKey:null},pb=[l,P],qb={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[g,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:pb,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null}],storageKey:null},rb={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"2H8MDo"}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAvatarAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerAvatarStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoAutoplayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommentPlaceInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPageInCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageInCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFISubscriptionGiftingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSubscriptionGiftStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFIFactsInCommentsUnavailableAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFactsInCommentsCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDataSnapshotAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDataSnapshotStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnswerAgentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentMetaGenFeedbackStyleRenderer",abstractKey:null}],storageKey:'style_type_renderer(supported:"2H8MDo")'}],storageKey:null},sb={alias:null,args:null,kind:"ScalarField",name:"is_markdown_enabled",storageKey:null},tb={alias:null,args:null,concreteType:"XFBCommunityCommentSignalRenderer",kind:"LinkedField",name:"community_comment_signal_renderer",plural:!1,selections:[{args:null,documentName:"CometCommunityCommentSignalRenderer_comment",fragmentName:"CometCommunityCommentSignalBubble_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],storageKey:null},ub={kind:"Variable",name:"feed_location",variableName:"feedLocation"},Q=[ub],vb={alias:null,args:Q,kind:"ScalarField",name:"comment_menu_tooltip",storageKey:null},wb={alias:null,args:Q,kind:"ScalarField",name:"should_show_comment_menu",storageKey:null},xb={kind:"TypeDiscriminator",abstractKey:"__isActor"},R={kind:"Variable",name:"scale",variableName:"scale"},yb={alias:"profile_picture_depth_0",args:[{kind:"Literal",name:"height",value:32},R,{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:j,storageKey:null};q={alias:"profile_picture_depth_1",args:[q,R,r],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:j,storageKey:null};r={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null};var zb={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},Ab={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},Bb={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]};r={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[l,d,p,xb,yb,q,{kind:"InlineFragment",selections:cb,type:"Entity",abstractKey:"__isEntity"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},r,zb,{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},Ab,Bb],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[r],type:"Page",abstractKey:null}],storageKey:null};var Cb={alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},Db={alias:null,args:Q,concreteType:null,kind:"LinkedField",name:"comment_action_links",plural:!0,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentReactionActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentReactionActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentReplyActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentReplyActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentShareActionLinkExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentShareActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentTimeStampActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentTimeStampActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentHideActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentHideActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentUnhideActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentUnhideActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentLearnMoreAboutPendingCommentActionLinkExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentLearnMoreAboutPendingCommentActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentSeeDeclinedCommentFeedbackActionLinkExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentSeeDeclinedCommentFeedbackActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentPinActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentPinActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentUnpinActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentUnpinActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentViewCommentThreadActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentViewCommentThreadActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentGeminiQAActionLinksExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentGeminiQAActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"GeminiUFIESHMarkAsResolvedAnswerActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentGeminiESHActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentRemovePreviewActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentRemovePreviewActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentEditHistoryActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentEditHistoryActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentPageAdminActorInfoActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentPageAdminActorInfoActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentPagePrivateReplyActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentPageAdminPrivateReplyActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentPagePrivateReplyContextActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentPageAdminPrivateReplyContextActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:[{kind:"Literal",name:"CometUFICommentTranslationActionLink_commentActionLink$translationType",value:"ORIGINAL"}],documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentTranslationActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentTranslationActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentVoteActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentVoteActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentAnswerAgentFeedbackActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentAnswerAgentFeedbackActionLink",abstractKey:null}],storageKey:null},Eb={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},Fb=[Eb],Gb={alias:null,args:Fb,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:f,storageKey:null},Hb={alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"visible_in_bling_bar",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:f,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},Ib={alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count_reduced",storageKey:null}],storageKey:null};zb={kind:"InlineFragment",selections:[zb],type:"User",abstractKey:null};var Jb={alias:null,args:null,kind:"ScalarField",name:"emoji_size",storageKey:null},Kb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:o,storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"feedback_id",storageKey:null},T={args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},U=[T],Lb=[{kind:"Literal",name:"translation_type",value:"ORIGINAL"}],Mb={alias:null,args:Lb,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[l,{kind:"InlineFragment",selections:[T,g],type:"TextWithEntities",abstractKey:null},T,{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};Lb={alias:"body_renderer",args:Lb,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentTextBodyRenderer_comment",fragmentName:"CometUFICommentBodyTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentTextBodyRenderer_comment",fragmentName:"CometUFICommentBodyComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};var Nb={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[l,p,zb,d],storageKey:null},d],storageKey:null},Ob={alias:null,args:null,kind:"ScalarField",name:"is_declined_by_group_admin_assistant",storageKey:null},Pb={alias:null,args:null,kind:"ScalarField",name:"is_gaming_video_comment",storageKey:null},Qb={alias:null,args:null,kind:"ScalarField",name:"timestamp_in_video",storageKey:null},Rb={alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect",storageKey:null}],storageKey:null},Sb={alias:null,args:null,kind:"ScalarField",name:"written_while_video_was_live",storageKey:null},Tb={alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{args:null,documentName:"CometUFICommentActorLink_comment_groups",fragmentName:"CometUFIGroupCommentActorLink_groupCommentInfo",fragmentPropName:"groupCommentInfo",kind:"ModuleImport"}],storageKey:null},Ub={alias:null,args:Q,concreteType:"BizWebCommentInfo",kind:"LinkedField",name:"bizweb_comment_info",plural:!1,selections:[{args:null,documentName:"CometUFICommentActorLink_comment_bizweb",fragmentName:"BizWebFBCommentAuthorLink_bizWebCommentInfo",fragmentPropName:"bizWebCommentInfo",kind:"ModuleImport"}],storageKey:null},Vb={alias:null,args:null,kind:"ScalarField",name:"has_constituent_badge",storageKey:null},Wb={alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_subsribe_button",storageKey:null},Xb={alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},Yb={alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},Zb=[l,p,d],$b={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[p,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null},d],storageKey:null},d],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:Zb,storageKey:null}],storageKey:null},ac={alias:null,args:null,kind:"ScalarField",name:"question_and_answer_type",storageKey:null},bc={alias:null,args:Q,concreteType:null,kind:"LinkedField",name:"author_user_signals_renderer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null}],storageKey:null},cc={alias:null,args:[ub,{kind:"Literal",name:"supported",value:"1TpJJ9"}],concreteType:null,kind:"LinkedField",name:"author_badge_renderers",plural:!0,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorConstituentBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorConstituentBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorVerifiedBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorVerifiedBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorAMAQuestionAnswerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorAMAQuestionAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentInlineFollowCTARenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentInlineFollowCTARenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorDeactivatedAccountBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorDeactivatedAccountBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorBotBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorBotBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorNonCoworkerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorNonCoworkerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentPostAuthorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentPostAuthorBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentQAAnswerBadge_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentQAAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentWorkKnowledgeEditorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentWorkKnowledgeEditorBadge",abstractKey:null}],storageKey:null},dc={alias:"grey_badge_asset",args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},ec={alias:"dark_mode_badge_asset",args:null,kind:"ScalarField",name:"information_asset_dark_mode_v2",storageKey:null},fc={alias:"light_mode_badge_asset",args:null,kind:"ScalarField",name:"information_asset_v2",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"is_earned",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"information_title",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"information_description",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"is_enabled",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"is_manageable",storageKey:null},gc={alias:null,args:null,kind:"ScalarField",name:"serialized",storageKey:null},hc={alias:null,args:null,kind:"ScalarField",name:"identity_badge_type",storageKey:null},ic={alias:null,args:null,kind:"ScalarField",name:"information_button_enabled",storageKey:null},jc={alias:null,args:null,kind:"ScalarField",name:"information_button_uri",storageKey:null},kc={alias:null,args:null,kind:"ScalarField",name:"information_button_text",storageKey:null},lc={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tier_info",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"tier_name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stars_sent_this_week",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stars_threshold_for_next_tier",storageKey:null}],type:"TipperBadgeTierInfo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"supporter_age_for_progress_bar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supporter_threshold_for_next_tier",storageKey:null}],type:"WoodhengeBadgeTierInfo",abstractKey:null}],storageKey:null},mc={alias:null,args:Q,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple_badge_asset",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"text_gradient",storageKey:null},dc,ec,fc,V,W,X,Y,Z,gc,hc,ic,jc,kc,lc,{alias:null,args:null,kind:"ScalarField",name:"gaming_video_image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gaming_video_dark_mode_image_uri",storageKey:null}],storageKey:null},nc={alias:null,args:Q,kind:"ScalarField",name:"can_show_multiple_identity_badges",storageKey:null};dc={alias:null,args:null,concreteType:"IdentityBadge",kind:"LinkedField",name:"discoverable_identity_badges_web",plural:!0,selections:[dc,ec,fc,V,W,X,Y,Z,gc,hc,ic,jc,kc,lc],storageKey:null};ec={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[p,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:j,storageKey:null},d],storageKey:null};fc={alias:null,args:null,kind:"ScalarField",name:"is_viewer_comment_poster",storageKey:null};V=[{alias:null,args:null,kind:"ScalarField",name:"video_channel_is_viewer_following",storageKey:null}];W={kind:"InlineFragment",selections:f,type:"DynamicFeedAdAttachmentMedia",abstractKey:null};X={kind:"InlineFragment",selections:f,type:"GenericAttachmentMedia",abstractKey:null};Y={kind:"InlineFragment",selections:f,type:"MontageImage",abstractKey:null};Z={kind:"InlineFragment",selections:f,type:"MontageVideo",abstractKey:null};gc={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"parent_post_story",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[l,{kind:"InlineFragment",selections:[d,{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_duration",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor_to_follow",plural:!1,selections:[l,d,{kind:"InlineFragment",selections:V,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:V,type:"User",abstractKey:null}],storageKey:null},p],type:"VideoOwner",abstractKey:"__isVideoOwner"},d],storageKey:null}],type:"Video",abstractKey:null},P,W,X,Y,Z],storageKey:null}],storageKey:null},d],storageKey:null};hc={alias:null,args:null,kind:"ScalarField",name:"work_ama_answer_status",storageKey:null};ic={alias:null,args:null,concreteType:"WorkKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"LinkedField",name:"work_knowledge_inline_annotation_comment_badge_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentBody_comment_work_knowledge_inline_annotation_comment_badge_renderer",fragmentName:"CometUFICommentBodyInlineAnnotationBadgeWrapper_workKnowledgeInlineAnnotationCommentBadgeRenderer",fragmentPropName:"workKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"ModuleImport"}],storageKey:null};jc={alias:null,args:null,concreteType:"XFBBusinessCommentAttribute",kind:"LinkedField",name:"business_comment_attributes",plural:!0,selections:[{args:null,documentName:"CometUFICommentBody_comment_business_comment_attributes",fragmentName:"BizWebBusinessCommentBadge_businessCommentAttributes",fragmentPropName:"businessCommentAttributes",kind:"ModuleImport"},d],storageKey:null};kc={alias:null,args:null,kind:"ScalarField",name:"is_live_video_comment",storageKey:null};lc={alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null};V={alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null};var oc={alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{args:null,documentName:"CometUFIComment_comment",fragmentName:"CometUFICommentQualitySurvey_inlineSurveyConfig",fragmentPropName:"inlineSurveyConfig",kind:"ModuleImport"}],storageKey:null},pc={alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},qc={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:o,storageKey:null},rc={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_direct_parent",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[l,p,{kind:"InlineFragment",selections:[Ab],type:"User",abstractKey:null},d],storageKey:null},d],storageKey:null},sc={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_see_member_page_tooltip",plural:!1,selections:o,storageKey:null},tc={alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},uc={alias:null,args:null,concreteType:"WorkAMAUFIAnsweredEventCommentModuleRenderer",kind:"LinkedField",name:"work_answered_event_comment_renderer",plural:!1,selections:[{args:null,documentName:"CometUFIComment_comment_work_answered_event_comment_renderer",fragmentName:"CometUFIAMABroadcastAnswerEventRow_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null},vc={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comment_upper_badge_renderer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentPinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentPinnedBadgeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentUnpinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentUnpinnedBadgeRenderer",abstractKey:null}],storageKey:null},wc={alias:null,args:[{kind:"Literal",name:"supported",value:"4hvozm"}],concreteType:null,kind:"LinkedField",name:"elevated_comment_data",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIStarsElevatedCommentContent_starsElevatedCommentData",fragmentPropName:"starsElevatedCommentData",kind:"ModuleImport"}],type:"StarsElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIFubsElevatedCommentContent_fubsElevatedCommentData",fragmentPropName:"fubsElevatedCommentData",kind:"ModuleImport"}],type:"SupporterElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"SimpleElevatedCommentContent_simpleElevatedCommentData",fragmentPropName:"simpleElevatedCommentData",kind:"ModuleImport"}],type:"SimpleElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIClipElevatedCommentContent_clipElevatedCommentData",fragmentPropName:"clipElevatedCommentData",kind:"ModuleImport"}],type:"ClipElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIGiftedSubsElevatedCommentContent_giftedSubsElevatedCommentData",fragmentPropName:"giftedSubsElevatedCommentData",kind:"ModuleImport"}],type:"GiftedSubsElevatedCommentData",abstractKey:null}],storageKey:'elevated_comment_data(supported:"4hvozm")'},xc={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},{alias:null,args:null,concreteType:"FBGComponentRoot",kind:"LinkedField",name:"fbg_component_root",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"interactive_plugin_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbg_component_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbg_component_source",storageKey:null}],storageKey:null}]},yc={condition:"__relay_internal__pv__IsWorkUserrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_author_original_poster",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_bot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_non_coworker",storageKey:null}]};v=[l,v,w];w=[{kind:"Literal",name:"allows_guests",value:!1},{kind:"Literal",name:"first",value:10},{kind:"Variable",name:"group_hashtag_name",variableName:"hashtag"}];var zc={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null};ib={kind:"InlineFragment",selections:[ib,y,z,A,B,D,E,F,G,H,I,J,K,L,M,N,C,O],type:"FeedUnit",abstractKey:"__isFeedUnit"};var Ac={kind:"TypeDiscriminator",abstractKey:"__isFeedUnit"},Bc={kind:"InlineFragment",selections:f,type:"CommunityTabTrendingPOGFeedUnit",abstractKey:null},Cc={kind:"InlineFragment",selections:f,type:"FBShortsMidCardFeedUnit",abstractKey:null},Dc={kind:"InlineFragment",selections:f,type:"GroupsMultiGYSJStoryUnit",abstractKey:null},Ec={kind:"InlineFragment",selections:f,type:"GroupsTabCategoriesUnit",abstractKey:null},Fc={kind:"InlineFragment",selections:f,type:"PagesYouMayLikeFeedUnit",abstractKey:null},Gc={kind:"InlineFragment",selections:f,type:"StoriesTrayFeedUnit",abstractKey:null},Hc={kind:"InlineFragment",selections:f,type:"XFBDummyReelsInWatchIFU",abstractKey:null},Ic=[{kind:"Variable",name:"location",variableName:"renderLocation"}],Jc={alias:null,args:Ic,kind:"ScalarField",name:"should_host_actor_link_in_watch",storageKey:null},Kc={alias:null,args:[{kind:"Literal",name:"supported",value:"1Fy9p8"}],concreteType:null,kind:"LinkedField",name:"context_layout",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupConflictAlertContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupAdminAutonomyContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupAdminAutonomyContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryServicesLocalBusinessUpdatesContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryServicesLocalBusinessUpdatesContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryCoronavirusHubHelpContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryCoronavirusHubHelpContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupPendingPostContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupPendingPostContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryThreadedStoryContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryThreadedStoryContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryAggregatedContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryAggregatedContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryDefaultContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryDefaultContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryPluginContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryPluginContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryDefaultContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryDefaultContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStorySocialLearningModuleContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningModuleContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryKeyUpdateFeedUnitContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryKeyUpdateFeedUnitContextLayoutStrategy",abstractKey:null}],storageKey:'context_layout(supported:"1Fy9p8")'},Lc={alias:null,args:[{kind:"Literal",name:"supported",value:"3umJuM"}],concreteType:null,kind:"LinkedField",name:"footer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInformTreatmentFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryInformTreatmentFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsDistributionScoreFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsWithDistributionScoreFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsRetentionCurveFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsWithRetentionCurveFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryVideoChaptersV2FooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryVideoChaptersV2FooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryVideoChaptersFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryVideoChaptersFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStorySuggestedVideoChaptersFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStorySuggestedVideoChaptersFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryTopicsFooterStrategy_storySection",fragmentPropName:"storySection",kind:"ModuleImport"}],type:"CometFeedStoryTopicsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryGroupTopicsFooterStrategy_topics",fragmentPropName:"topics",kind:"ModuleImport"}],type:"CometFeedStoryGroupTopicsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryProfilePlusPostFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometProfilePlusStoryFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryAutoAttachedUserFundingCTAFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryAutoAttachedUserFundingCTAFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryFubsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryFubsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStorySocialLearningModuleFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningModuleFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStorySocialLearningMallCTAFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningMallCTAFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryGroupInsightsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupInsightsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryCoronavirusCrisisMessageFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryCoronavirusCrisisMessageFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryContentManagerFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryContentManagerFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryVideoCreatorTeamFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryVideoCreatorTeamFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventAlbumFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryEventAlbumFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryImportantPostFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryImportantPostFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiStoryPromotedPostMarkAsReadFooterStrategy_markAsRead",fragmentPropName:"markAsRead",kind:"ModuleImport"}],type:"GeminiStoryPromotedPostMarkAsReadFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventConversationFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryEventConversationFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventsTaggingUpsellFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryEventsTaggingUpsellFooterStrategy",abstractKey:null}],storageKey:'footer(supported:"3umJuM")'},Mc={alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},Nc={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},Oc={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},Pc={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null};i=[Oc,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},i,Pc];var Qc={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:i,storageKey:null},Rc={kind:"TypeDiscriminator",abstractKey:"__isNFXAction"},$={alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},Sc=[{kind:"Literal",name:"site",value:"www"}];g=[g,T];T={alias:null,args:null,concreteType:"TombstoneFeedUnit",kind:"LinkedField",name:"tombstone_feedunit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden_from_client",storageKey:null},{alias:null,args:null,concreteType:"Tombstone",kind:"LinkedField",name:"tombstone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},d,s,{alias:null,args:null,kind:"ScalarField",name:"author_id",storageKey:null},S,{alias:null,args:null,kind:"ScalarField",name:"canUndo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_loading",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"negativeFeedbackActionID",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"DeletedPostTombstoneContent",kind:"LinkedField",name:"deleted_post_tombstone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"member_stats_text",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tombstone_actions",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"executed_action",plural:!1,selections:[l,Nc,Qc,Rc,$,d],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followup_actions",plural:!0,selections:[l,Nc,Rc,d,$,{alias:null,args:null,kind:"ScalarField",name:"can_display_completed_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"already_completed",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:Sc,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:Sc,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'},tc,{alias:null,args:null,kind:"ScalarField",name:"tooltip",storageKey:null}],type:"NFXActionWhichRedirects",abstractKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:U,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:U,storageKey:null},Qc,{alias:null,args:null,kind:"ScalarField",name:"confirmation_required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"loading_text",plural:!1,selections:U,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_message",plural:!1,selections:U,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_button_label",plural:!1,selections:g,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_user_id",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"confirmed_icon",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_title",plural:!1,selections:U,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_subtitle",plural:!1,selections:U,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_undo",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"undo_button_label",plural:!1,selections:g,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};Rc={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null};$=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[l,d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null}];Qc=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[l,{kind:"InlineFragment",selections:[Rc,d,{alias:null,args:[{kind:"Literal",name:"height",value:104},R,{kind:"Literal",name:"sizing",value:"cover-fill"},{kind:"Literal",name:"width",value:104}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:j,storageKey:null},{alias:"viewer_image",args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},R,{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[Oc,Pc],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"immersive_photo_encodings",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null},d],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:$,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:$,type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}],type:"Photo",abstractKey:null},P,W,X,Y,Z],storageKey:null}];i={alias:null,args:[{kind:"Literal",name:"supported",value:"3AbuAz"}],concreteType:null,kind:"LinkedField",name:"aggregated_stories",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineGridStoryAttachment_story__aggregated_stories",fragmentName:"ProfileCometTimelineGridStoryAggregatedStoryRenderer_aggregatedStories",fragmentPropName:"aggregatedStories",kind:"ModuleImport"}],type:"CometStoryAggregatedStoriesStrategy",abstractKey:null}],storageKey:'aggregated_stories(supported:"3AbuAz")'};g={alias:null,args:[{kind:"Literal",name:"supported",value:"3wjgY3"}],concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineGridStoryAttachment_story__message",fragmentName:"ProfileCometTimelineGridStoryFormattedBackgroundMessageRenderer_message",fragmentPropName:"message",kind:"ModuleImport"}],type:"CometFeedStoryFormattedBackgroundMessageRenderingStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineGridStoryAttachment_story__message",fragmentName:"ProfileCometTimelineGridStoryDefaultMessageRenderer_message",fragmentPropName:"message",kind:"ModuleImport"}],type:"CometFeedStoryDefaultMessageRenderingStrategy",abstractKey:null}],storageKey:'message(supported:"3wjgY3")'};Oc={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:[{kind:"Variable",name:"render_location",variableName:"renderLocation"},{kind:"Literal",name:"supported",value:"474Gm0"}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineGridStoryAttachment_story",fragmentName:"ProfileCometTimelineGridStoryAlbumAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineGridStoryAttachment_story",fragmentName:"ProfileCometTimelineGridStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineGridStoryAttachment_story",fragmentName:"ProfileCometTimelineGridStoryVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineGridStoryAttachment_story",fragmentName:"ProfileCometTimelineGridStoryLifeEventAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentLifeEventStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineGridStoryAttachment_story",fragmentName:"ProfileCometTimelineGridStoryProfileIntroCardBioAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentProfileIntroCardBioStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineGridStoryAttachment_story",fragmentName:"ProfileCometTimelineGridStoryMapAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentMapStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineGridStoryAttachment_story",fragmentName:"ProfileCometTimelineGridStoryShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineGridStoryAttachment_story",fragmentName:"ProfileCometTimelineGridStoryFunFactsPromptAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFunFactsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineGridStoryAttachment_story",fragmentName:"ProfileCometTimelineGridStory3DPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachment3DPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineGridStoryAttachment_story",fragmentName:"ProfileCometTimelineGridStory360PhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachment360PhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineGridStoryAttachment_story",fragmentName:"ProfileCometTimelineGridStoryPublicChatLinkAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPublicChatLinkStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineGridStoryAttachment_story",fragmentName:"ProfileCometTimelineGridStoryFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null}],storageKey:null}],storageKey:null};Pc=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,Ac,{kind:"InlineFragment",selections:[t,d,fb,u,gb,x,hb],type:"Story",abstractKey:null},y,z,A,B,D,E,F,G,H,I,J,K,L,M,N,C,O,P,Bc,Cc,Dc,Ec,Fc,Gc,Hc],storageKey:null}];$=[{kind:"Literal",name:"first",value:8}];var Tc=[R,{kind:"Literal",name:"width",value:500}],Uc=[{alias:null,args:null,concreteType:"FunFactPrompt",kind:"LinkedField",name:"fun_fact_prompt",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fun_fact_prompt_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},d],storageKey:null}];return{fragment:{argumentDefinitions:[a,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa],kind:"Fragment",metadata:null,name:"ComposerStoryCreateMutation",selections:[{alias:null,args:xa,concreteType:"StoryCreateResponsePayload",kind:"LinkedField",name:"story_create",plural:!1,selections:[ya,c,za,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[d,Aa,e,Ba,Ca,Da,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"default_actor",plural:!1,selections:f,storageKey:null},{condition:"isSocialLearning",kind:"Condition",passingValue:!0,selections:[Ea,c,{alias:null,args:null,concreteType:"SocialLearningInfoUnitModule",kind:"LinkedField",name:"social_learning_info_unit_module",plural:!1,selections:[{alias:null,args:null,concreteType:"LearningCourseInfo",kind:"LinkedField",name:"info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometSocialLearningUnitCourseProgress_courseInfo"}],storageKey:null},Fa,{alias:null,args:null,concreteType:"LearningCourseUnit",kind:"LinkedField",name:"unit",plural:!1,selections:[d,{args:null,kind:"FragmentSpread",name:"GroupsCometSocialLearningLeftRailUnit_unit"},{args:null,kind:"FragmentSpread",name:"GroupsCometSocialLearningUnitList_unit"},{args:null,kind:"FragmentSpread",name:"GroupsCometSocialLearningUnit_unit"}],storageKey:null}],storageKey:null},Ga]},Ha,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"if_viewer_can_learn_more_about_pending_post",plural:!1,selections:Ia,storageKey:null},Ja,{condition:"isGroup",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometOnboardingRHCCard_group"},{args:null,kind:"FragmentSpread",name:"GroupsGeminiFeedReminders_group"},{kind:"InlineFragment",selections:[d,Ma,{args:null,kind:"FragmentSpread",name:"useGroupsCometMallTabs_group"},{args:[{kind:"Literal",name:"count",value:10},{kind:"Variable",name:"hashtag",variableName:"hashtag"}],kind:"FragmentSpread",name:"GroupRoomTab_groupRooms"},{args:null,kind:"FragmentSpread",name:"GroupRoomTab_group"},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_pending_post_in_mall",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometFeedPendingPostsSection_group"}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_pending_content_card",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometPendingActions_group"},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_cannot_add_pending_participation_content_in_forum",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometInlineComposerRenderer_group"},{args:null,kind:"FragmentSpread",name:"CometGroupDiscussionRoot_rateLimitReachCard"}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"GroupsCometScheduledPostsFeed_group"},{args:null,kind:"FragmentSpread",name:"GroupsCometScheduledPostsFeed_groupHeader"}],type:"Group",abstractKey:null}],storageKey:null}]},{kind:"InlineDataFragmentSpread",name:"groupsCometComposerDecoratePushPageOnComplete_story",selections:[{alias:null,args:Na,concreteType:null,kind:"LinkedField",name:"composer_end_page_renderer",plural:!1,selections:[Oa,Pa,Qa,Ra],storageKey:'composer_end_page_renderer(supported:"1NHih8")'}],args:null,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"GeminiDraftForDraftsTableData_storiesData",selections:[d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:f,storageKey:null},{args:null,kind:"FragmentSpread",name:"GeminiDraftForTitleColumn_titleColumn"},{args:null,kind:"FragmentSpread",name:"GeminiDraftForReviewerColumn_reviewerColumn"},{args:null,kind:"FragmentSpread",name:"GeminiDraftForGroupColumn_groupColumn"},{args:null,kind:"FragmentSpread",name:"GeminiDraftForStatusColumn_statusColumn"},{args:null,kind:"FragmentSpread",name:"GeminiDraftForDrafterActionsCtaColumn_story"}],args:null,argumentDefinitions:[]},{condition:"isWorkSharedDraft",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"GeminiContentManagerPostsInProgressTableData_storiesData",selections:[d,{args:null,kind:"FragmentSpread",name:"GeminiContentManagerPostsTitleColumn_titleColumn"},{args:null,kind:"FragmentSpread",name:"GeminiContentManagerPostsGroupColumn_groupColumn"},{args:null,kind:"FragmentSpread",name:"GeminiContentManagerPostsStatusColumn_statusColumn"},{args:null,kind:"FragmentSpread",name:"GeminiContentManagerPostsEditButtonColumn_editButtonColumn"},{args:null,kind:"FragmentSpread",name:"GeminiContentManagerPostsMenuButtonColumn_menuButtonColumn"}],args:null,argumentDefinitions:[]},{args:null,kind:"FragmentSpread",name:"GeminiCreationHubDraftsRootOnboardingRenderer_stories"}]}],storageKey:null},{condition:"isEvent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"EventStoriesEdge",kind:"LinkedField",name:"event_stories_edge",plural:!1,selections:[m,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"node",plural:!1,selections:[l,Sa],storageKey:null}],storageKey:null}]},{condition:"isFeed",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"NewsFeedEdge",kind:"LinkedField",name:"feed_story_edge",plural:!1,selections:[m,{args:null,kind:"FragmentSpread",name:"CometNewsFeedUnit_edge"}],storageKey:null}]},{condition:"isGroup",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"GroupFeedEdge",kind:"LinkedField",name:"group_feed_story_edge",plural:!1,selections:[m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,{args:null,kind:"FragmentSpread",name:"CometFeedUnitStoryStrategy_feedUnit"},{args:null,kind:"FragmentSpread",name:"CometFeedUnitContainerSection_feedUnit"},Ua,{kind:"InlineFragment",selections:[n,{args:null,kind:"FragmentSpread",name:"GroupsCometSectionHeader_groupsSectionHeaderUnit"}],type:"GroupsSectionHeaderUnit",abstractKey:null},Sa,{kind:"InlineFragment",selections:[d,{alias:"album_attachments",args:Va,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[{alias:null,args:null,concreteType:"SubattachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"node",plural:!1,selections:Wa,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'attachments(if_style:"album")'},{alias:"photo_attachments",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:Wa,storageKey:null}],type:"Story",abstractKey:null}],storageKey:null}],storageKey:null}]},{condition:"isTimeline",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"TimelineFeedUnitsEdge",kind:"LinkedField",name:"timeline_feed_units_edge",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[Sa,{kind:"InlineFragment",selections:f,type:"Story",abstractKey:null},{args:null,kind:"FragmentSpread",name:"ProfileCometTimelineGridStory_story"},{kind:"InlineDataFragmentSpread",name:"groupTimelineStories_story",selections:[{kind:"InlineFragment",selections:[d,Xa,Ya],type:"Story",abstractKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}]},{condition:"isFundraiser",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"FundraiserWithPresenceToFeedPostsEdge",kind:"LinkedField",name:"fundraiser_feed_story_edge",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"node",plural:!1,selections:Za,storageKey:null}],storageKey:null}]},{condition:"isPageNewsFeed",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"PagesNewsFeedEdge",kind:"LinkedField",name:"pages_news_feed_edge",plural:!1,selections:$a,storageKey:null}]},{condition:"isProfileReviews",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"TimelineFeedUnitsEdge",kind:"LinkedField",name:"profile_review_edge",plural:!1,selections:$a,storageKey:null}]},{condition:"isFunFactPost",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileCometAppCollectionFunFactsRendererSection_user"}],storageKey:null}]},ab],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[ha,ba,ca,da,ea,fa,va,ta,aa,ua,wa,ia,ka,ma,la,na,ja,ra,qa,oa,pa,sa,ga,a,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIShareActionMigrationrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsMergQAPollsrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider"}],kind:"Operation",name:"ComposerStoryCreateMutation",selections:[{alias:null,args:xa,concreteType:"StoryCreateResponsePayload",kind:"LinkedField",name:"story_create",plural:!1,selections:[ya,c,za,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[d,Aa,e,Ba,Ca,Da,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"default_actor",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"if_viewer_can_learn_more_about_pending_post",plural:!1,selections:o,storageKey:null},{alias:null,args:Na,concreteType:null,kind:"LinkedField",name:"composer_end_page_renderer",plural:!1,selections:[l,Oa,Pa,Qa,Ra],storageKey:'composer_end_page_renderer(supported:"1NHih8")'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[l,d,p,bb,{kind:"InlineFragment",selections:cb,type:"Group",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_shared_draft_post_title",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"work_shared_draft_final_author",plural:!1,selections:[p,bb,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_shared_draft_post_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_shared_draft_scheduled_time",storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_member_of_readonly_work_company",storageKey:null}],storageKey:null},{condition:"isSocialLearning",kind:"Condition",passingValue:!0,selections:[Ea,c,{alias:null,args:null,concreteType:"SocialLearningInfoUnitModule",kind:"LinkedField",name:"social_learning_info_unit_module",plural:!1,selections:[{alias:null,args:null,concreteType:"LearningCourseInfo",kind:"LinkedField",name:"info",plural:!1,selections:[{alias:"completedRequiredUnits",args:null,kind:"ScalarField",name:"completed_required_units_count",storageKey:null},{alias:"totalRequiredUnits",args:null,kind:"ScalarField",name:"required_units_count",storageKey:null},{alias:"unitProgressText",args:[{kind:"Literal",name:"string_enum",value:"UNIT_PROGRESS"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"UNIT_PROGRESS")'},d],storageKey:null},Fa,{alias:null,args:null,concreteType:"LearningCourseUnit",kind:"LinkedField",name:"unit",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"is_synchronizing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_optional",storageKey:null},{alias:"makeUnitOptionalText",args:[{kind:"Literal",name:"string_enum",value:"MAKE_UNIT_OPTIONAL"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"MAKE_UNIT_OPTIONAL")'},{alias:"makeUnitOptionalToastText",args:[{kind:"Literal",name:"string_enum",value:"MAKE_UNIT_OPTIONAL_TOAST"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"MAKE_UNIT_OPTIONAL_TOAST")'},{alias:null,args:null,concreteType:"LearningCourseInfo",kind:"LinkedField",name:"learning_course_info",plural:!1,selections:[{alias:"reorderPostsDialogTitleText",args:[{kind:"Literal",name:"string_enum",value:"REORDER_POSTS_DIALOG_TITLE"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"REORDER_POSTS_DIALOG_TITLE")'},{alias:"reorderPostsDialogMenuItemText",args:[{kind:"Literal",name:"string_enum",value:"REORDER_POSTS_MENU_ITEM"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"REORDER_POSTS_MENU_ITEM")'},d,s,db,{alias:"deleteSyncedUnitErrorText",args:[{kind:"Literal",name:"string_enum",value:"DELETE_SYNCED_UNIT_ERROR"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"DELETE_SYNCED_UNIT_ERROR")'},{alias:"editUnitMenuItemText",args:[{kind:"Literal",name:"string_enum",value:"EDIT_UNIT_MENU_ITEM"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"EDIT_UNIT_MENU_ITEM")'},{alias:"unitHeaderExpandedTitleText",args:[{kind:"Literal",name:"string_enum",value:"UNIT_HEADER_EXPANDED_TITLE"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"UNIT_HEADER_EXPANDED_TITLE")'},{alias:"unitHeaderExpandedDescriptionText",args:[{kind:"Literal",name:"string_enum",value:"UNIT_HEADER_EXPANDED_DESCRIPTION"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"UNIT_HEADER_EXPANDED_DESCRIPTION")'}],storageKey:null},{alias:"modules",args:null,concreteType:"LearningCourseUnitModulesConnection",kind:"LinkedField",name:"learning_course_unit_modules",plural:!1,selections:[Ka,{alias:null,args:null,concreteType:"LearningCourseUnitModulesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"LearningCourseModule",kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:jb,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"learningCourseInfo",args:null,concreteType:"LearningCourseInfo",kind:"LinkedField",name:"learning_course_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"container_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"container_vanity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"surface_type",storageKey:null},{alias:"deleteUnitHeaderText",args:[{kind:"Literal",name:"string_enum",value:"DELETE_UNIT_HEADER"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"DELETE_UNIT_HEADER")'},{alias:"deleteUnitBodyText",args:[{kind:"Literal",name:"string_enum",value:"DELETE_UNIT_BODY"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"DELETE_UNIT_BODY")'},db,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"delete_synced_headline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"delete_synced_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},p,{alias:"unitSavedToastText",args:[{kind:"Literal",name:"string_enum",value:"UNIT_SAVED_TOAST"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"UNIT_SAVED_TOAST")'},{alias:"unitTitleText",args:[{kind:"Literal",name:"string_enum",value:"UNIT_TITLE_SHOW_OPTIONAL"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"UNIT_TITLE_SHOW_OPTIONAL")'},{alias:"giveUnitFeedbackPopoverText",args:[{kind:"Literal",name:"string_enum",value:"GIVE_UNIT_FEEDBACK_POPOVER"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"GIVE_UNIT_FEEDBACK_POPOVER")'},{alias:"modulePreviews",args:kb,concreteType:"LearningCourseUnitModulesConnection",kind:"LinkedField",name:"learning_course_unit_modules",plural:!1,selections:[Ka,k],storageKey:"learning_course_unit_modules(first:3)"},lb,{alias:"emptyUnitMessageText",args:[{kind:"Literal",name:"string_enum",value:"EMPTY_UNIT_MESSAGE"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"EMPTY_UNIT_MESSAGE")'},{alias:"emptyUnitSecondaryMessageText",args:[{kind:"Literal",name:"string_enum",value:"EMPTY_UNIT_SECONDARY_MESSAGE"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"EMPTY_UNIT_SECONDARY_MESSAGE")'},{alias:"learningCourseUnitModules",args:null,concreteType:"LearningCourseUnitModulesConnection",kind:"LinkedField",name:"learning_course_unit_modules",plural:!1,selections:[k],storageKey:null},{alias:null,args:null,concreteType:"LearningCourseUnitModulesConnection",kind:"LinkedField",name:"learning_course_unit_modules",plural:!1,selections:La,storageKey:null},{alias:"completedRequiredPostsCount",args:null,kind:"ScalarField",name:"completed_required_modules_count",storageKey:null},{alias:"requiredPostsCount",args:null,kind:"ScalarField",name:"required_modules_count",storageKey:null},{alias:"showCompletion",args:null,kind:"ScalarField",name:"show_completion",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[d,e,c,{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{alias:null,args:null,concreteType:"MessagingInformTreatmentViewModel",kind:"LinkedField",name:"inform_treatment_for_messaging",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"treatment_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messaging_inform_treatment_name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"target_group",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,concreteType:"GroupPrivacyInfo",kind:"LinkedField",name:"privacy_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_name",storageKey:null},mb],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shareable_from_perspective_of_feed_ufi",plural:!1,selections:[l,e,P],storageKey:null},{alias:"vote_attachments",args:[{kind:"Literal",name:"if_style",value:"question"}],concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[l,d,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"orderby",value:["creation_time"]}],concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"options",plural:!1,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"QuestionOptionVotersConnection",kind:"LinkedField",name:"voters",plural:!1,selections:La,storageKey:null},d],storageKey:null}],storageKey:'options(orderby:["creation_time"])'}],type:"Question",abstractKey:null}],storageKey:null}],storageKey:'attachments(if_style:"question")'},{alias:null,args:[{fields:[{kind:"Variable",name:"fb_feed_location",variableName:"feedLocation"},{kind:"Variable",name:"focused_comment_id",variableName:"focusCommentID"}],kind:"ObjectValue",name:"feed_rendering_context"}],concreteType:"FeedbackContext",kind:"LinkedField",name:"feedback_context",plural:!1,selections:[{alias:null,args:null,concreteType:"ContextualComment",kind:"LinkedField",name:"interesting_top_level_comments",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment",plural:!1,selections:[d,nb,ob,qb,rb,sb,tb,vb,wb,r,Cb,Db,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[Gb,d,Hb,Ib,{alias:"total_reply_count",args:null,kind:"ScalarField",name:"comment_count",storageKey:null},{alias:null,args:Fb,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[l,d,xb,p,yb,q,{kind:"InlineFragment",selections:[Ab,Bb],type:"User",abstractKey:null}],storageKey:null},e,l,{alias:"plugins",args:[ub,Eb],concreteType:null,kind:"LinkedField",name:"comment_composer_plugins",plural:!0,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGenAICreatePlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGenAICreatePlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"unidash_regex_link",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerUnidashWidgetPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerUnidashWidgetPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerCustomEmojiPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerCustomEmojiPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[d,{alias:"should_use_membership_questions_in_group",args:[{kind:"Literal",name:"gk_name",value:"participant_questionnaire_deprecation"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}],storageKey:'gk_check(gk_name:"participant_questionnaire_deprecation")'}],storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerParticipateQuestionPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerParticipationQuestionPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerCommentCharacterLimitPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerCommentCharacterLimitPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"candidate_info_share",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null},d],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recruiting_group_unencoded_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[l,zb,d],storageKey:null},d],storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerCommentRecruitingGroupMotivateInterestPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerRecruitingGroupMotivateInterestPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"composer_tip",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerTipPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerTipPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"platform_tool",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"additional_profile_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_admin_type_v2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"additional_profile_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"platform_tool_uri",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerProfilePlusTipPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerProfilePlusTipPlugin",abstractKey:null},{kind:"InlineFragment",selections:[Jb,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerEmojiPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerEmojiPlugin",abstractKey:null},{kind:"InlineFragment",selections:[s,c,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[s,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupRulesMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupRulesMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[s,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupRulesTaggingEntryMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupRulesTaggingEntryMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"context_id",storageKey:null},c,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerHashtagPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerHashtagPlugin",abstractKey:null},{kind:"InlineFragment",selections:[Kb,{alias:null,args:null,kind:"ScalarField",name:"should_condense_video_preview",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerMediaUploadPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerMediaUploadPlugin",abstractKey:null},{kind:"InlineFragment",selections:[Jb,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerEmoticonPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerEmoticonPlugin",abstractKey:null},{kind:"InlineFragment",selections:[S,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGIFPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGIFPlugin",abstractKey:null},{kind:"InlineFragment",selections:[S,{alias:null,args:null,kind:"ScalarField",name:"stars_target_id",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerStarsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerStarsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:f,storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerBotsComposerPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerBotsComposerPlugin",abstractKey:null},{kind:"InlineFragment",selections:[S,{alias:null,args:null,kind:"ScalarField",name:"owning_profile_id",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerStickersPlugin_next_plugin",fragmentPropName:"next_plugin",kind:"ModuleImport"}],type:"CometComposerCometizedStickersPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerPrefillMentionPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerPrefillMentionPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerAssociateReplyWithParentPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerAssociateReplyWithParentPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerSetReplyClickedPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerSetReplyClickedPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_avatar",storageKey:null},S,{alias:null,args:null,kind:"ScalarField",name:"avatar_style_version",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerAvatarPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerAvatarPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerStateSnapshotPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerStateSnapshotPlugin",abstractKey:null},{kind:"InlineFragment",selections:[S,Kb,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerLiveTypingBroadcastPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerLiveTypingBroadcastPlugin",abstractKey:null},{kind:"InlineFragment",selections:[S,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerMarkdownPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerMarkdownPlugin",abstractKey:null},{kind:"InlineFragment",selections:[Kb,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_file",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerFileUploadPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerFileUploadPlugin",abstractKey:null},{kind:"InlineFragment",selections:[S,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerSmartComposePlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerSmartComposePlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_gif",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_sticker",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:o,storageKey:null},d],storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerUnifiedInputPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerUnifiedInputPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerSpellcheckPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"XFBCommentComposerSpellcheckPlugin",abstractKey:null},{kind:"InlineFragment",selections:[s,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupRulesPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupRulesPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_inline_vote_enabled",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerReputationSystemPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerReputationSystemPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"comment_slowdown_message",plural:!1,selections:U,storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupCommentSlowdownPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupCommentSlowdownPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerWriteToComposerPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerWriteToComposerPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerIntlTranslationMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"XFBCommentComposerIntlTranslationMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupAnswerAgentFollowupPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"XFBCommentComposerGroupAnswerAgentFollowupPlugin",abstractKey:null}],storageKey:null},{alias:null,args:Fb,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},{alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},Eb],kind:"ScalarField",name:"can_viewer_comment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"have_comments_been_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_comment_ordering_mode",storageKey:null},{alias:null,args:Q,kind:"ScalarField",name:"inline_composer_visible_by_default",storageKey:null},{alias:null,args:[{kind:"Literal",name:"scenario",value:"WWW_FEED_TOTAL_COUNT_SCENARIO_V1"}],concreteType:"XFBCommentRenderingInstance",kind:"LinkedField",name:"comment_rendering_instance",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBCommentRenderingInstanceCommentsConnection",kind:"LinkedField",name:"comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null}],storageKey:'comment_rendering_instance(scenario:"WWW_FEED_TOTAL_COUNT_SCENARIO_V1")'}],storageKey:null},Mb,Lb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,$b,ac,bc,cc,mc,nc,dc,ec,fc,gc,hc,ic,jc,kc,lc,V,oc,pc,qc,rc,sc,tc,uc,vc,wc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"inline_replies_expander_renderer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIInlineRepliesExpander_comment",fragmentName:"CometUFIInlineInterestingReplierExpander_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBInterestingReplierInlineRepliesExpanderRenderer",abstractKey:null}],storageKey:null},xc,yc],storageKey:null},{alias:null,args:null,concreteType:"ContextualCommentRelevantContextualRepliesConnection",kind:"LinkedField",name:"relevant_contextual_replies",plural:!1,selections:[{alias:null,args:null,concreteType:"ContextualComment",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment",plural:!1,selections:[d,nb,ob,qb,rb,sb,tb,vb,wb,r,Cb,Db,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[Gb,d,Hb,Ib],storageKey:null},Mb,Lb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,$b,ac,bc,cc,mc,nc,dc,ec,fc,gc,hc,ic,jc,kc,lc,V,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:Fb,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:o,storageKey:null},{alias:null,args:Q,concreteType:null,kind:"LinkedField",name:"ufi_renderer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUFI_feedback",fragmentName:"CometFullUFIRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"FullUFIRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUFI_feedback",fragmentName:"CometSimplifiedUFIRendererContainer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"SimplifiedUFIRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUFI_feedback",fragmentName:"CometInlineLiveUFIRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"InlineLiveUFIRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUFI_feedback",fragmentName:"CometStoryPreviewUFIRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"StoryPreviewUFIRenderer",abstractKey:null}],storageKey:null},d],storageKey:null},{condition:"__relay_internal__pv__CometUFIShareActionMigrationrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shareable",plural:!1,selections:pb,storageKey:null},{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:Ia,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"link_type",storageKey:null}],type:"LinkOpenActionLink",abstractKey:null}],storageKey:null}],storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:v,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"data_spon_lbl",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:v,storageKey:null}]},{args:null,documentName:"useCometUFIAdaptivePostActionBar_story",fragmentName:"CometUFIAdaptiveShareActionRenderer_story",fragmentPropName:"story",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_recommended_posts",storageKey:null}],storageKey:null}],storageKey:null},Ga]},Ha,Ja,{condition:"isGroup",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"GroupOnboardingWizard",kind:"LinkedField",name:"onboarding_wizard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"wizard_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status_type",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"dismiss_card",plural:!1,selections:[l,mb,n],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"completed_card",plural:!1,selections:[l,n],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"wizard_title",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"wizard_subtitle",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"wizard_steps",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"is_completed",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingInviteMemberRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepInviteMember",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingChooseCoverPhotoRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepChooseCoverPhoto",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingWriteGroupDescriptionRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepWriteGroupDescription",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingChooseGoalTagsRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepSelectGroupGoalTags",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingWriteFirstPostRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepWriteFirstPost",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingCreateChatRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepCreateChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingCustomizeGroupProfileRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepCustomizeGroupProfile",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingWriteAPostRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepWriteAPost",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingAnswerMemberQuestionsRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepAnswerMemberQuestions",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingMonitorChatRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"XFBGroupOnboardingWizardStepMonitorChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingInviteMemberToChatRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"XFBGroupOnboardingWizardStepInviteMemberToChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingStartConversationRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"XFBGroupOnboardingWizardStepStartConversation",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingAddGreetingRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepAddGreeting",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_admin_left_hand_rail",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"GroupLeadersEngagementLoggingSettings",kind:"LinkedField",name:"leaders_engagement_logging_settings",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comet_surface_mappings",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"surface",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"trace_policy",storageKey:null}],type:"GroupLeadersEngagementLoggingExactCometSurfaceMapping",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"prefixes",storageKey:null}],type:"GroupLeadersEngagementLoggingPrefixCometSurfaceMapping",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"work_group_reminder_list_renderer",plural:!0,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsGeminiFeedReminders_group",fragmentName:"GroupsGeminiScheduledPostsReminderRenderer_reminderRenderer",fragmentPropName:"reminderRenderer",kind:"ModuleImport"}],type:"CometGroupScheduledPostsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsGeminiFeedReminders_group",fragmentName:"GroupsGeminiPendingMembersReminderRenderer_reminderRenderer",fragmentPropName:"reminderRenderer",kind:"ModuleImport"}],type:"CometGroupPendingMembersReminderRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsGeminiFeedReminders_group",fragmentName:"GroupsGeminiPendingPostsReminderRenderer_reminderRenderer",fragmentPropName:"reminderRenderer",kind:"ModuleImport"}],type:"CometGroupPendingPostsReminderRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsGeminiFeedReminders_group",fragmentName:"GroupsGeminiDraftPostsReminderV1Renderer_reminderRenderer",fragmentPropName:"reminderRenderer",kind:"ModuleImport"}],type:"CometGroupDraftPostsReminderRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsGeminiFeedReminders_group",fragmentName:"GroupsGeminiDraftPostsReminderV2Renderer_reminderRenderer",fragmentPropName:"reminderRenderer",kind:"ModuleImport"}],type:"CometGroupDraftPostsReminderV2Renderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsGeminiFeedReminders_group",fragmentName:"GroupsGeminiDeclinedPostsReminderRenderer_reminderRenderer",fragmentPropName:"reminderRenderer",kind:"ModuleImport"}],type:"CometGroupDeclinedPostsReminderRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsGeminiFeedReminders_group",fragmentName:"GroupsGeminiRemovedPostsReminderRenderer_reminderRenderer",fragmentPropName:"reminderRenderer",kind:"ModuleImport"}],type:"CometGroupRemovedPostsReminderRenderer",abstractKey:null}],storageKey:null},Ma,{alias:null,args:null,kind:"ScalarField",name:"group_address",storageKey:null},{alias:null,args:null,concreteType:"GroupContentViewsConnection",kind:"LinkedField",name:"group_content_views",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupContentViewsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"GroupContentView",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"content_view_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_view_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_view_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_default_selected_content_view",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},e,{alias:null,args:w,concreteType:"GroupJoinableVideoChatsConnection",kind:"LinkedField",name:"joinable_video_chats",plural:!1,selections:[{"if":null,kind:"Stream",label:"GroupRoomTab_groupRooms$stream$GroupRoomTab_joinable_video_chats",selections:[{alias:null,args:null,concreteType:"GroupJoinableVideoChatsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"is_invited",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_join_button_for_group_surface",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_room_type",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_comet_jvc_list_cell_renderer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"GroupRoomListCellContainer_link",fragmentName:"GroupRoomListCell_link",fragmentPropName:"link",kind:"ModuleImport"}],type:"GroupsCometJVCListCell",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupRoomListCellContainer_link",fragmentName:"GroupRoomEventListCell_link",fragmentPropName:"link",kind:"ModuleImport"}],type:"GroupsCometEventJVCListCell",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupRoomListCellContainer_link",fragmentName:"GroupRoomGamingAudioRoomListCell_link",fragmentPropName:"link",kind:"ModuleImport"}],type:"GroupsCometGamingAudioRoomJVCListCell",abstractKey:null}],storageKey:null},l],storageKey:null},m],storageKey:null}]},{"if":null,kind:"Defer",label:"GroupRoomTab_groupRooms$defer$GroupRoomTab_joinable_video_chats$page_info",selections:[zc]}],storageKey:null},{alias:null,args:w,filters:["allows_guests","group_hashtag_name"],handle:"connection",key:"GroupRoomTab_joinable_video_chats",kind:"LinkedHandle",name:"joinable_video_chats"},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_pending_post_in_mall",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_pending_post_in_mall",plural:!1,selections:[{alias:null,args:null,concreteType:"CometGroupForumPendingParticipationPostCardRenderer",kind:"LinkedField",name:"comet_pending_post_cards",plural:!1,selections:[{args:null,documentName:"GroupsCometFeedPendingPostsSection_group",fragmentName:"GroupsCometForumPendingParticipationPostCardRenderer_cardRenderer",fragmentPropName:"cardRenderer",kind:"ModuleImport"}],storageKey:null},d],storageKey:null},d],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_pending_content_card",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"invite_short_link_key",variableName:"inviteShortLinkKey"},{kind:"Literal",name:"supported",value:"3GziX2"}],concreteType:null,kind:"LinkedField",name:"group_pending_action_card_renderer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsArchivedCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsArchivedCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsPausedCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsPausedCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsCommunityPauseCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBGroupsCometHeaderPendingActionsCommunityPauseCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsFrozenNoticeCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsFrozenNoticeCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsAdminInviteCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsAdminInviteCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsRequestCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsRequestCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsInvitationCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsInvitationCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsMutedCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsMutedCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsAdminPromotionCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsAdminPromotionCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsAppealCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometHeaderPendingActionsAppealCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsExpertInviteCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometHeaderPendingActionsExpertInviteCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsTaskSetInviteCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometHeaderPendingActionsTaskSetInviteCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsRequestCardTrustedParticipantRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsTrustedParticipantCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsPostRateLimitedCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsPostRateLimitedCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsInviteLinkCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBGroupsCometHeaderPendingActionsInviteLinkCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsRequestCardContentRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsContentCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsAdminInactivityNoticeCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsAdminInactivityNoticeCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsChatHostInviteCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCometGroupHeaderPendingActionsChatHostInviteCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsAnswerAgentGroupMallBannerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBGroupsCometHeaderPendingActionsAnswerAgentGroupMallBannerRenderer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_cannot_add_pending_participation_content_in_forum",plural:!1,selections:[d,{alias:null,args:[{kind:"Literal",name:"feed_type",value:"DISCUSSION"}],concreteType:null,kind:"LinkedField",name:"comet_inline_composer_renderer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometInlineComposerRenderer_group",fragmentName:"GroupsCometDefaultGroupInlineComposerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupInlineDefaultComposerRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometInlineComposerRenderer_group",fragmentName:"GroupsCometSaleInlineComposerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupInlineSalesComposerRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometInlineComposerRenderer_group",fragmentName:"CometGroupQAComposerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupInlineQAComposerRenderer",abstractKey:null}],storageKey:'comet_inline_composer_renderer(feed_type:"DISCUSSION")'},{alias:null,args:null,concreteType:"CometGroupForumPendingContentLimitReachCardRenderer",kind:"LinkedField",name:"pending_content_limit_reach_card",plural:!1,selections:[{args:null,documentName:"CometGroupDiscussionRoot_rateLimitReachCard",fragmentName:"GroupsCometForumPendingContentLimitReachCard_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],storageKey:null}],storageKey:null},d],storageKey:null},{alias:null,args:kb,concreteType:"GroupScheduledStoriesConnection",kind:"LinkedField",name:"group_scheduled_stories",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupScheduledStoriesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"node",plural:!1,selections:[Ta,d,l,ib],storageKey:null},m],storageKey:null},zc],storageKey:"group_scheduled_stories(first:3)"},{alias:null,args:kb,filters:null,handle:"connection",key:"GroupsCometScheduledPostsFeed_group_scheduled_stories",kind:"LinkedHandle",name:"group_scheduled_stories"},{alias:null,args:null,kind:"ScalarField",name:"group_type_name_for_content",storageKey:null},{alias:null,args:null,concreteType:"GroupNavigationInfo",kind:"LinkedField",name:"navigation_info",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"destination",plural:!1,selections:Zb,storageKey:null}],storageKey:null},{alias:"stories_for_header",args:null,concreteType:"GroupScheduledStoriesConnection",kind:"LinkedField",name:"group_scheduled_stories",plural:!1,selections:La,storageKey:null}],type:"Group",abstractKey:null}],storageKey:null}]},{condition:"isWorkSharedDraft",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:o,storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[l,P,W,X,Y,Z],storageKey:null}],storageKey:null}],storageKey:"all_subattachments(first:5)"}],storageKey:null},lb,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:o,storageKey:null},l]}],storageKey:null},ab,{condition:"isEvent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"EventStoriesEdge",kind:"LinkedField",name:"event_stories_edge",plural:!1,selections:[m,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"node",plural:!1,selections:[l,d,ib],storageKey:null}],storageKey:null}]},{condition:"isFeed",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"NewsFeedEdge",kind:"LinkedField",name:"feed_story_edge",plural:!1,selections:[m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,Ac,{kind:"InlineFragment",selections:[t,d,fb,u,c,gb,x,hb],type:"Story",abstractKey:null},y,z,A,B,D,E,F,G,H,I,J,K,L,M,N,C,O,P,Bc,Cc,Dc,Ec,Fc,Gc,Hc],storageKey:null},{alias:null,args:null,concreteType:"FeedBackendData",kind:"LinkedField",name:"feed_backend_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"qid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_qid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vsid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vspos",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_recent_vpv_fetch_tracking_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serialized_payloads",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"brs_content_label",storageKey:null},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sponsored_auction_distance",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"dist_for_spon_auc",args:null,kind:"ScalarField",name:"sponsored_auction_distance",storageKey:null}]}],storageKey:null}]},{condition:"isGroup",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"GroupFeedEdge",kind:"LinkedField",name:"group_feed_story_edge",plural:!1,selections:[m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,Ac,{kind:"InlineFragment",selections:[d,Ta,{alias:null,args:null,kind:"ScalarField",name:"matched_terms",storageKey:null},c,{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"unknown"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"render_type",storageKey:null}],type:"OverlayWarningScreenViewModel",abstractKey:null},P],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"unknown")'},{alias:null,args:null,concreteType:"FutureOfFeedInfo",kind:"LinkedField",name:"future_of_feed_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_reverse_message_and_attachment_position",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_overlay_header",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"aspect_ratio_update",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web_reshare_variant",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[d,Jc,{alias:null,args:Ic,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[Kc,Lc],storageKey:null},Mc,{kind:"ClientExtension",selections:[T]}],storageKey:null},{alias:null,args:null,concreteType:"StoryBumperData",kind:"LinkedField",name:"bumpers",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"triggered_bumpers",plural:!0,selections:[l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"triggers",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"trigger_event",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:Ic,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[l,{alias:null,args:[{kind:"Literal",name:"supported",value:"20GvtT"}],concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryInitiallyCollapsedContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryInitiallyCollapsedContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryAttachmentOnlyContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryAttachmentOnlyContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryDefaultContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryDefaultContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"GeminiFeedStoryKeyUpdateFeedUnitContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"GeminiFeedStoryKeyUpdateFeedUnitContentStrategy",abstractKey:null}],storageKey:'content(supported:"20GvtT")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3vatP7"}],concreteType:null,kind:"LinkedField",name:"layout",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStorySideUFILayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStorySideUFILayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"GeminiFeedStoryLongReadPostContentLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"GeminiFeedStoryLongReadPostContentLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryDefaultLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryDefaultLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryPendingParticipationPostLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryPendingParticipationPostLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryFullbleedContentLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryFullbleedContentLayoutStrategy",abstractKey:null}],storageKey:'layout(supported:"3vatP7")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"2lQ7jN"}],concreteType:null,kind:"LinkedField",name:"copyright_violation_header",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCopyrightViolationHeaderSection_story",fragmentName:"CometFeedStoryCopyrightViolationHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryCopyrightViolationHeaderStrategy",abstractKey:null}],storageKey:'copyright_violation_header(supported:"2lQ7jN")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3H0I6T"}],concreteType:null,kind:"LinkedField",name:"header",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupAdminAutonomyHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupAdminAutonomyHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupAdminAutonomyAlertedHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupAdminAutonomyAlertedHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GroupsCometViewerContentFlaggedHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryViewerContentFlaggedHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupConflictAlertHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupsUnconnectedContentHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupsUnconnectedContentHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometGroupsAlertedContentHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometGroupsAlertedContentHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryGroupPendingQueueMemberPostApprovalHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryGroupPendingQueueMemberPostApprovalHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryCrisisCloseListingHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryCrisisCloseListingHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAlbumHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAlbumHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryPostUpsellHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryPostUpsellHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryStoryHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryStoryHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryFallbackHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryFallbackHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStorySimpleStoryHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStorySimpleStoryHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryCommerceHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryCommerceHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStorySocialLearningModuleHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStorySocialLearningModuleHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GeminiFeedEmailLandingStoryStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"GeminiFeedEmailLandingStoryStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GeminiFeedStoryImportantHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"GeminiFeedStoryImportantHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryPhotoReviewCTAHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryPhotoReviewCTAHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryLookingForPlayersUpgradePromptHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryLookingForPlayersUpgradePromptHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryBusinessMemoriesHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryBusinessMemoriesHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupMemberWarningHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupMemberWarningHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryProductRecommendationsPostDowngradePromptHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryProductRecommendationsPostDowngradePromptHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryTopicAnnotationHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryTopicAnnotationHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryBasicAdsHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryBasicAdsHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAdsSocialContextHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAdsSocialContextHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAdsNonProfitSocialContextHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAdsNonProfitSocialContextHeaderStrategy",abstractKey:null}],storageKey:'header(supported:"3H0I6T")'},Kc,{alias:null,args:[{kind:"Literal",name:"supported",value:"40M411"}],concreteType:null,kind:"LinkedField",name:"aymt_footer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTBizWebPostFooterStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTBizWebPostFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTPagePostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTPagePostFooterChannelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTNewsFeedPostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTNewsFeedPostFooterChannelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTProfessionalProfilePostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTProfessionalProfilePostFooterChannelStrategy",abstractKey:null}],storageKey:'aymt_footer(supported:"40M411")'},Lc,{alias:null,args:[{kind:"Literal",name:"supported",value:"1mHlFQ"}],concreteType:null,kind:"LinkedField",name:"feedback",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentFlaggedStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentFlaggedStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupConflictAlertUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupConflictAlertUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackMemoriesStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackMemoriesStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupContentModerationQueueStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupContentModerationQueueStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentDeletedPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentDeletedPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupDraftPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupDraftPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiFeedStoryFeedbackGroupDelegationPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackGroupDelegationPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackPluginStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackPluginStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackIntegrationStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackIntegrationStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiFeedStoryFeedbackGroupDraftedForOthersStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackGroupDraftedForOthersStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentPublishedPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentPublishedPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupScheduledPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupScheduledPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackEventScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupContextualProfileUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupContextualProfileUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupAdminAutonomyQueueAlertedStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupAdminAutonomyQueueAlertedStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometStoriesSingleBucketFeedUnitFeedbackStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoriesSingleBucketFeedUnitUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupAdminAssistPreviewStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupAdminAssistPreviewStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackWorkLiveAMAStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryWorkLiveAMAStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupModminReviewFolderPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupModminReviewFolderPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackKeyUpdateFeedUnitPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackKeyUpdateFeedUnitPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackKeyUpdateFeedUnitPreviewStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackKeyUpdateFeedUnitPreviewStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackEventModminReviewFolderPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackEventModminReviewFolderPostStrategy",abstractKey:null}],storageKey:'feedback(supported:"1mHlFQ")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"5fIuY"}],concreteType:null,kind:"LinkedField",name:"outer_footer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryMisinformationRelatedArticleStrategy_misinfoRelatedArticles",fragmentPropName:"misinfoRelatedArticles",kind:"ModuleImport"}],type:"CometStoryMisinformationRelatedArticleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryPendingPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryPendingPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"GeminiFeedStoryPendingPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryPendingPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryGroupConflictAlertOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryGroupCommentRateLimitedOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupCommentRateLimitedOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryPendingParticipationPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryPendingParticipationPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryViewThreadFooter_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryViewThreadFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryInlineSurveyOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryInlineSurveyOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryJoinInVrOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryJoinInVrOuterFooterStrategy",abstractKey:null}],storageKey:'outer_footer(supported:"5fIuY")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"dyiij"}],concreteType:null,kind:"LinkedField",name:"call_to_action",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryTaggedProductsBumperCallToActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometTaggedProductsBumperCallToActionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryAnonymousPostUpsellActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometStoryGroupAnonymousPostUpsellActionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryDefaultCallToActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometStoryDefaultCallToActionStrategy",abstractKey:null}],storageKey:'call_to_action(supported:"dyiij")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3t3kTK"}],concreteType:null,kind:"LinkedField",name:"post_inform_treatment",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPostInformTreatmentSection_story",fragmentName:"CometFeedStoryPostCoverInformTreatmentStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryInformTreatmentPostCoverStrategy",abstractKey:null}],storageKey:'post_inform_treatment(supported:"3t3kTK")'}],storageKey:null},Mc,Jc,t,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[d,eb],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"WhatsAppStoryAdContext",kind:"LinkedField",name:"whatsapp_ad_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action_link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"schema_context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"click_tracking_linkshim_cb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_click_tracking",storageKey:null},u,{alias:"album_attachments",args:Va,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[{alias:null,args:null,concreteType:"SubattachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"node",plural:!1,selections:Qc,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'attachments(if_style:"album")'},{alias:"photo_attachments",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:Qc,storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"tombstone_is_loading",storageKey:null},T,{alias:null,args:null,kind:"ScalarField",name:"optimistic_loading_type",storageKey:null},{alias:null,args:null,concreteType:"OptimisticMediaAttachmentData",kind:"LinkedField",name:"optimistic_media_attachments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"entID",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectURL",storageKey:null},Nc,{alias:null,args:null,kind:"ScalarField",name:"useCDNPreview",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_session_id",storageKey:null}]},hb,gb,x],type:"Story",abstractKey:null},y,z,A,B,D,E,F,G,H,I,J,K,L,M,N,Ua,{kind:"InlineFragment",selections:[n,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"target_group",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_sorting_switcher",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_expanded_color",plural:!1,selections:[{args:null,documentName:"GroupsCometColorWrapper_group_canSeeExpandedColor",fragmentName:"GroupsCometColorExpandedWrapper_group",fragmentPropName:"group",kind:"ModuleImport"},d],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_cannot_see_expanded_color",plural:!1,selections:[{args:null,documentName:"GroupsCometColorWrapper_group_cannotSeeExpandedColor",fragmentName:"GroupsCometColorDefaultWrapper_group",fragmentPropName:"group",kind:"ModuleImport"},d],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeader",kind:"LinkedField",name:"story_header",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"style_infos",plural:!0,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"GroupFeedSortingSwitcher",kind:"LinkedField",name:"viewer_available_sorting_switchers",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"option_description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"option_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sorting_setting",storageKey:null},l],storageKey:null}],type:"GroupsSectionHeaderStyleInfo",abstractKey:null}],storageKey:null}],storageKey:null}],type:"GroupsSectionHeaderUnit",abstractKey:null},C,O,P,Bc,Cc,Dc,Ec,Fc,Gc,Hc],storageKey:null}],storageKey:null}]},{condition:"isTimeline",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"TimelineFeedUnitsEdge",kind:"LinkedField",name:"timeline_feed_units_edge",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,Ac,{kind:"InlineFragment",selections:[t,d,fb,u,{alias:null,args:Ic,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"JPSPk"}],concreteType:null,kind:"LinkedField",name:"actor_photo",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"CometFeedStoryActorCommunityPromptIconStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"CometFeedStoryActorCommunityPromptIconStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"CometFeedStoryActorCommunityAttributionStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"CometFeedStoryActorCommunityAttributionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"CometFeedStoryActorVideoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"CometFeedStoryActorVideoStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"CometFeedStoryDualActorPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"CometFeedStoryDualActorPhotoStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"GeminiFeedDraftForStoryActorPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"GeminiFeedDraftForStoryActorPhotoStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryCoAuthorPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"GeminiFeedStoryCoAuthorPhotoStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryCoAuthorLegacyPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"GeminiFeedStoryCoAuthorLegacyPhotoStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"CometFeedStoryActorPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"CometFeedStoryActorPhotoStrategy",abstractKey:null}],storageKey:'actor_photo(supported:"JPSPk")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3OAtxf"}],concreteType:null,kind:"LinkedField",name:"audience",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAudienceSection_story",fragmentName:"CometFeedStoryPrivacySelectorStrategy_audience",fragmentPropName:"audience",kind:"ModuleImport"}],type:"CometFeedStoryPrivacySelectorStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAudienceSection_story",fragmentName:"CometFeedStoryAudienceStrategy_audience",fragmentPropName:"audience",kind:"ModuleImport"}],type:"CometFeedStoryAudienceStrategy",abstractKey:null}],storageKey:'audience(supported:"3OAtxf")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3zfBNR"}],concreteType:null,kind:"LinkedField",name:"timestamp",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryBackdatedTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryBackdatedTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryScheduledTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryScheduledTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryLongerTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryLongerTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryMinimizedTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryMinimizedTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryTimestampStrategy",abstractKey:null}],storageKey:'timestamp(supported:"3zfBNR")'},i,g],storageKey:null},Mc,Ea,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"summary",plural:!1,selections:h,storageKey:null},{alias:null,args:Sc,kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},n,Oc,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[Oc,{alias:null,args:Ic,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[i,g],storageKey:null},d],storageKey:null},Xa,Ya,gb,x,hb],type:"Story",abstractKey:null},y,z,A,B,D,E,F,G,H,I,J,K,L,M,N,C,O,P,Bc,Cc,Dc,Ec,Fc,Gc,Hc],storageKey:null}],storageKey:null}]},{condition:"isFundraiser",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"FundraiserWithPresenceToFeedPostsEdge",kind:"LinkedField",name:"fundraiser_feed_story_edge",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"node",plural:!1,selections:jb,storageKey:null}],storageKey:null}]},{condition:"isPageNewsFeed",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"PagesNewsFeedEdge",kind:"LinkedField",name:"pages_news_feed_edge",plural:!1,selections:Pc,storageKey:null}]},{condition:"isProfileReviews",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"TimelineFeedUnitsEdge",kind:"LinkedField",name:"profile_review_edge",plural:!1,selections:Pc,storageKey:null}]},{condition:"isFunFactPost",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:"pageAnswers",args:$,concreteType:"UserToFunFactAnswersConnection",kind:"LinkedField",name:"fun_fact_answers",plural:!1,selections:[{alias:null,args:null,concreteType:"UserToFunFactAnswersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"node",plural:!1,selections:[Ea,{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"text_format_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"avatar_story_text_format_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fixed_aspect_ratio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_add_text_shadow_and_stroke",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_always_vertical_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_direction",storageKey:null},{alias:null,args:Tc,concreteType:"Image",kind:"LinkedField",name:"background_image",plural:!1,selections:j,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_weight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_style",storageKey:null},{alias:null,args:Tc,concreteType:"Image",kind:"LinkedField",name:"portrait_background_image",plural:!1,selections:j,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text_align",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preset_id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"style_infos",plural:!0,selections:[l,{kind:"InlineFragment",selections:Uc,type:"AskedFunFactPromptAttachmentStyleInfo",abstractKey:null},{kind:"InlineFragment",selections:Uc,type:"FunFactPromptAttachmentStyleInfo",abstractKey:null},P,{kind:"InlineFragment",selections:f,type:"GamesInstantPlayStyleInfo",abstractKey:null},{kind:"InlineFragment",selections:f,type:"GroupsMetaGenCommentAttachmentStyleInfo",abstractKey:null},{kind:"InlineFragment",selections:f,type:"XFBPluginStyleInfo",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[l,{alias:null,args:[{kind:"Literal",name:"height",value:150},R,{kind:"Literal",name:"width",value:150}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:j,storageKey:null},{kind:"InlineFragment",selections:[Rc],type:"Photo",abstractKey:null},P,W,X,Y,Z],storageKey:null}],storageKey:null}],storageKey:null},e,d,l],storageKey:null},m],storageKey:null},zc],storageKey:"fun_fact_answers(first:8)"},{alias:"pageAnswers",args:$,filters:null,handle:"connection",key:"ProfileCometAppCollectionFunFactsRendererItems_pageAnswers",kind:"LinkedHandle",name:"fun_fact_answers"},d],storageKey:null}]}],storageKey:null}]},params:{id:b("ComposerStoryCreateMutation_facebookRelayOperation"),metadata:{},name:"ComposerStoryCreateMutation",operationKind:"mutation",text:null,providedVariables:{__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider:b("GHLShouldChangeAdIdFieldName.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:b("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider:b("CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:b("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider:b("EventCometCardImage_prefetchEventImage.relayprovider"),__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider:b("GHLShouldChangeSponsoredAuctionDistanceFieldName.relayprovider")}}}}();ca.exports=a}),null);
__d("UnpublishedContentTypeApiEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({SCHEDULED:"SCHEDULED",SCHEDULED_RECURRING:"SCHEDULED_RECURRING",DRAFT:"DRAFT",ADS_POST:"ADS_POST",INLINE_CREATED:"INLINE_CREATED",PREVIEW:"PREVIEW",VALIDATION:"VALIDATION",PUBLISHED:"PUBLISHED",REVIEWABLE_BRANDED_CONTENT:"REVIEWABLE_BRANDED_CONTENT"});f["default"]=a}),66);
__d("ComposerStoryMutationLogging",["UnpublishedContentTypeApiEnum","cometComposerLogger","getJSEnumSafe","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){var f=d.isComposerPostLogged,g=babelHelpers.objectWithoutPropertiesLoose(d,["isComposerPostLogged"]);if(f===!0)return;f=babelHelpers["extends"]({},g,{composerEntryPicker:b.composer_entry_picker,composerEntryPointName:b.composer_entry_point,composerSourceSurface:b.composer_source_surface,composerType:b.composer_type,unpublishedContentType:b.unpublished_content_data&&c("getJSEnumSafe")(c("UnpublishedContentTypeApiEnum"),b.unpublished_content_data.unpublished_content_type)});c("cometComposerLogger")({fields:f,type:"COMPOSER_POST"},a,e);d.isComposerPostLogged=!0}function b(a){a=(a=a==null?void 0:(a=a.variables)==null?void 0:a.creationSessionID)!=null?a:"";a===""&&c("recoverableViolation")("Expected to provide a creationSessionID here","comet_composer");return a}g.logComposerPostAction=a;g.getCreationSessionId=b}),98);
__d("isGroupStoryRenderLocation",[],(function(a,b,c,d,e,f){"use strict";var g=new Set(["group_activity_log","group_admin_to_member_feedback","group_alerted_queue","group_bio","group_flagged_queue","group_grid_island","group_hoisted","group_immersive","group_mall","group_pending_queue","group_permalink","group_in_orion_video_player","group_report_queue","group_units","group","groups_gsym_see_more","groups_landing","groups_my_posts","groups_saved_posts","groups_tab","snaptu_groups_feed","profile_community","group_lightweight_groups","groups_viewer_content_scheduled_posts"]);function a(a){return g.has(a)}f["default"]=a}),66);
__d("ComposerStoryCreateMutation",["CometRelay","ComposerStoryCreateMutation.graphql","ComposerStoryMutationLogging","OptimisticLoadingTypeEnum","UnpublishedContentTypeApiEnum","WebPixelRatio","cometComposerLogger","cometUniqueID","getJSEnumSafe","isGroupStoryRenderLocation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("ComposerStoryCreateMutation.graphql");function j(a,b){var e;a=a==null?void 0:a.variables;var f=a==null?void 0:a.renderLocation,g=a==null?void 0:a.feedLocation;return{canUserManageOffers:a==null?void 0:a.canUserManageOffers,checkPhotosToReelsUpsellEligibility:(e=a==null?void 0:a.checkPhotosToReelsUpsellEligibility)!=null?e:!1,feedbackSource:a==null?void 0:a.feedbackSource,feedLocation:a==null?void 0:a.feedLocation,gridMediaWidth:a==null?void 0:a.gridMediaWidth,hashtag:a==null?void 0:a.hashtag,input:b,isEvent:f==="event",isFeed:f==="homepage_stream",isFundraiser:f==="fundraiser_page",isFunFactPost:b.fun_fact_prompt_id!=null,isGroup:f!=null&&c("isGroupStoryRenderLocation")(f),isPageNewsFeed:f==="pages_feed",isProfileReviews:g==="PAGE_SURFACE_RECOMMENDATIONS",isSocialLearning:f==="group_units",isTimeline:f==="timeline"||f==="bizweb_self_view",isWorkSharedDraft:((e=b.work_shared_draft)==null?void 0:e.was_created_as_work_shared_draft)===!0,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:f,scale:d("WebPixelRatio").get()}}function a(a,b,e,f,g){var h=d("ComposerStoryMutationLogging").getCreationSessionId(e),k=j(e,b);d("ComposerStoryMutationLogging").logComposerPostAction(h,b,babelHelpers["extends"]({},f,{isEditComposer:!1}),g);c("cometComposerLogger")({fields:{composerEntryPicker:b.composer_entry_picker,composerEntryPointName:b.composer_entry_point,composerSourceSurface:b.composer_source_surface,composerType:b.composer_type,destination:"feed",isEditComposer:!1},type:"COMPOSER_POST_MUTATION_START"},h);var l=c("cometUniqueID")(),m=d("CometRelay").commitMutation(a,{mutation:i,onCompleted:function(a){var d;c("cometComposerLogger")({fields:{composerEntryPicker:b.composer_entry_picker,composerEntryPointName:b.composer_entry_point,composerSourceSurface:b.composer_source_surface,composerType:b.composer_type,isEditComposer:!1,loggingIds:(d=a.story_create)==null?void 0:d.logging_token,payload:f==null?void 0:f.payload,retryCount:f==null?void 0:f.retryCount,unpublishedContentType:c("getJSEnumSafe")(c("UnpublishedContentTypeApiEnum"),(d=b.unpublished_content_data)==null?void 0:d.unpublished_content_type)},type:"COMPOSER_POST_SUCCESS"},h);e&&e.onCompleted&&e.onCompleted(a,k);c("cometComposerLogger")({fields:{composerEntryPicker:b.composer_entry_picker,composerEntryPointName:b.composer_entry_point,composerSourceSurface:b.composer_source_surface,composerType:b.composer_type,destination:"feed",isEditComposer:!1},type:"COMPOSER_POST_SERVER_CONTENT_RENDERED"},h)},onError:function(a){var d;c("cometComposerLogger")({fields:{composerEntryPicker:b.composer_entry_picker,composerEntryPointName:b.composer_entry_point,composerSourceSurface:b.composer_source_surface,composerType:b.composer_type,errorDescription:typeof a.description==="string"?a.description:(d=a.description)==null?void 0:d.toString(),errorInfo:a.message,isEditComposer:!1,payload:f==null?void 0:f.payload,retryCount:f==null?void 0:f.retryCount,unpublishedContentType:c("getJSEnumSafe")(c("UnpublishedContentTypeApiEnum"),(d=b.unpublished_content_data)==null?void 0:d.unpublished_content_type)},type:"COMPOSER_POST_FAILURE"},h);e==null?void 0:e.onError==null?void 0:e.onError(a,k)},optimisticResponse:(g=e&&e.optimisticResponse)!=null?g:void 0,optimisticUpdater:function(a){e&&e.optimisticUpdater&&e.optimisticUpdater(a,l)},updater:function(a){var b=a.getRootField("story_create");b=b&&b.getLinkedRecord("feed_story_edge");b=b&&b.getLinkedRecord("node");b&&(b.setValue(c("OptimisticLoadingTypeEnum").SHOW_ANIMATION,"optimistic_loading_type"),b.setValue(h,"creation_session_id"));e&&e.updater&&e.updater(a,l)},variables:babelHelpers["extends"]({input:b},k)});return{dispose:function(){m&&m.dispose(),m=null}}}function e(a,b,e,f,g){var h=j(e,b);d("ComposerStoryMutationLogging").logComposerPostAction(d("ComposerStoryMutationLogging").getCreationSessionId(e),b,f,g);var k=c("cometUniqueID")(),l=d("CometRelay").applyOptimisticMutation(a,{mutation:i,optimisticResponse:e&&e.optimisticResponse,optimisticUpdater:function(a){e&&e.optimisticUpdater&&e.optimisticUpdater(a,k)},variables:babelHelpers["extends"]({input:b},h)});return{dispose:function(){l&&l.dispose(),l=null}}}g.commit=a;g.commitOptimistic=e}),98);
__d("ComposerStoryEditMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="27772366502378142"}),null);
__d("ComposerStoryEditMutation.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","ComposerStoryEditMutation_facebookRelayOperation","IsWorkUser.relayprovider","GHLShouldChangeAdIdFieldName.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider","CometImmersivePhotoCanUserDisable3DMotion.relayprovider","IsMergQAPolls.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometUFIShareActionMigration.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","EventCometCardImage_prefetchEventImage.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},c={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},d={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},e={defaultValue:null,kind:"LocalArgument",name:"input"},f={defaultValue:null,kind:"LocalArgument",name:"isGroupViewerContent"},aa={defaultValue:!1,kind:"LocalArgument",name:"isSocialLearning"},ba={defaultValue:!1,kind:"LocalArgument",name:"isWorkDraftFor"},ca={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},da={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},ea={defaultValue:null,kind:"LocalArgument",name:"scale"},fa={defaultValue:!1,kind:"LocalArgument",name:"useDefaultActor"},ga=[{kind:"Variable",name:"data",variableName:"input"}],g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},ha={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"hidden_results",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"poll_answers_state",storageKey:null}],type:"Question",abstractKey:null},h={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},i=[g],ia={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_content_state",storageKey:null}],type:"GroupPostStoryFeedback",abstractKey:null},ja={args:null,kind:"FragmentSpread",name:"GeminiDraftForTitleColumn_titleColumn"},ka={args:null,kind:"FragmentSpread",name:"GeminiDraftForGroupColumn_groupColumn"},la={args:null,kind:"FragmentSpread",name:"GeminiDraftForStatusColumn_statusColumn"},j={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},ma=[j],na={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:ma,storageKey:null},oa={alias:null,args:null,concreteType:"LearningCourseModule",kind:"LinkedField",name:"module",plural:!1,selections:i,storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},l=[k],m={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:l,storageKey:null},pa={alias:null,args:null,concreteType:"SocialLearningPost",kind:"LinkedField",name:"social_learning_post",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},{alias:"contentTypeText",args:[{kind:"Literal",name:"string_enum",value:"POST_CONTENT_TYPE"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"POST_CONTENT_TYPE")'},m],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={kind:"InlineFragment",selections:i,type:"Node",abstractKey:"__isNode"},p=[{kind:"Variable",name:"location",variableName:"renderLocation"}],qa={alias:null,args:p,kind:"ScalarField",name:"should_host_actor_link_in_watch",storageKey:null},ra={alias:null,args:[{kind:"Literal",name:"supported",value:"1Fy9p8"}],concreteType:null,kind:"LinkedField",name:"context_layout",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupConflictAlertContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupAdminAutonomyContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupAdminAutonomyContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryServicesLocalBusinessUpdatesContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryServicesLocalBusinessUpdatesContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryCoronavirusHubHelpContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryCoronavirusHubHelpContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupPendingPostContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupPendingPostContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryThreadedStoryContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryThreadedStoryContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryAggregatedContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryAggregatedContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryDefaultContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryDefaultContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryPluginContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryPluginContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryDefaultContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryDefaultContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStorySocialLearningModuleContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningModuleContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryKeyUpdateFeedUnitContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryKeyUpdateFeedUnitContextLayoutStrategy",abstractKey:null}],storageKey:'context_layout(supported:"1Fy9p8")'},sa={alias:null,args:[{kind:"Literal",name:"supported",value:"3umJuM"}],concreteType:null,kind:"LinkedField",name:"footer",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInformTreatmentFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryInformTreatmentFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsDistributionScoreFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsWithDistributionScoreFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsRetentionCurveFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsWithRetentionCurveFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryVideoChaptersV2FooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryVideoChaptersV2FooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryVideoChaptersFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryVideoChaptersFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStorySuggestedVideoChaptersFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStorySuggestedVideoChaptersFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryTopicsFooterStrategy_storySection",fragmentPropName:"storySection",kind:"ModuleImport"}],type:"CometFeedStoryTopicsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryGroupTopicsFooterStrategy_topics",fragmentPropName:"topics",kind:"ModuleImport"}],type:"CometFeedStoryGroupTopicsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryProfilePlusPostFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometProfilePlusStoryFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryAutoAttachedUserFundingCTAFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryAutoAttachedUserFundingCTAFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryFubsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryFubsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStorySocialLearningModuleFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningModuleFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStorySocialLearningMallCTAFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningMallCTAFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryGroupInsightsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupInsightsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryCoronavirusCrisisMessageFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryCoronavirusCrisisMessageFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryContentManagerFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryContentManagerFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryVideoCreatorTeamFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryVideoCreatorTeamFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventAlbumFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryEventAlbumFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryImportantPostFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryImportantPostFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiStoryPromotedPostMarkAsReadFooterStrategy_markAsRead",fragmentPropName:"markAsRead",kind:"ModuleImport"}],type:"GeminiStoryPromotedPostMarkAsReadFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventConversationFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryEventConversationFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventsTaggingUpsellFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryEventsTaggingUpsellFooterStrategy",abstractKey:null}],storageKey:'footer(supported:"3umJuM")'},ta={alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"feedback_id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};k=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},k,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}];var t={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:k,storageKey:null},u={kind:"TypeDiscriminator",abstractKey:"__isNFXAction"},v={alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},w=[{kind:"Literal",name:"site",value:"www"}],x={alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},y={args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},z=[y],A=[j,y];u={alias:null,args:null,concreteType:"TombstoneFeedUnit",kind:"LinkedField",name:"tombstone_feedunit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden_from_client",storageKey:null},{alias:null,args:null,concreteType:"Tombstone",kind:"LinkedField",name:"tombstone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},g,q,{alias:null,args:null,kind:"ScalarField",name:"author_id",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"canUndo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_loading",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"negativeFeedbackActionID",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"DeletedPostTombstoneContent",kind:"LinkedField",name:"deleted_post_tombstone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"member_stats_text",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tombstone_actions",plural:!0,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"executed_action",plural:!1,selections:[n,s,t,u,v,g],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followup_actions",plural:!0,selections:[n,s,u,g,v,{alias:null,args:null,kind:"ScalarField",name:"can_display_completed_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"already_completed",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:w,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:w,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'},x,{alias:null,args:null,kind:"ScalarField",name:"tooltip",storageKey:null}],type:"NFXActionWhichRedirects",abstractKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:z,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:z,storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"confirmation_required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"loading_text",plural:!1,selections:z,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_message",plural:!1,selections:z,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_button_label",plural:!1,selections:A,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_user_id",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"confirmed_icon",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_title",plural:!1,selections:z,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_subtitle",plural:!1,selections:z,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_undo",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"undo_button_label",plural:!1,selections:A,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null};w={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:i,storageKey:null};t={args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"};k={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitGoodwillMemoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GoodwillCometStory",abstractKey:null};A={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMKQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedPeopleYouMayKnowFeedUnit",abstractKey:null};var ua={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometReelsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"ShowcaseFeedUnit",abstractKey:null},va={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFriendRequestsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"FriendRequestsFeedUnit",abstractKey:null},wa={args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitQuickPromotionStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"},xa={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GroupsCometGYSJFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupsYouShouldJoinFeedUnit",abstractKey:null},ya={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupsSuggestionFeedUnitStrategy_unit",fragmentPropName:"unit",kind:"ModuleImport"}],type:"GroupsSuggestionUnit",abstractKey:null},za={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMIQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedGroupsPeopleYouMayInviteFeedUnit",abstractKey:null},Aa={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GeminiPYSFQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PeopleYouShouldFollowAtWorkFeedUnit",abstractKey:null},Ba={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometSPFFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"SuggestedPublicEntitiesToFollowFeedUnit",abstractKey:null},Ca={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CoronavirusCommunityHelpFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"CoronavirusCommunityHelpFeedUnit",abstractKey:null},Da={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometEndOfFeedUpsellStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"EndOfFeedUpsellFeedUnit",abstractKey:null},Ea={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedGroupsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedGroupsFeedUnit",abstractKey:null},Fa={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedKeywordsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedKeywordsFeedUnit",abstractKey:null},Ga={kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometStoriesSingleBucketFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"StoriesSingleBucketInlineViewerFeedUnit",abstractKey:null},B=[n,g],C={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},D={kind:"Literal",name:"height",value:24},E={kind:"Literal",name:"width",value:24},Ha={alias:"picture",args:[D,E],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:"profile_picture(height:24,width:24)"},F={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},Ia=[F],Ja=[C,Ha,g],Ka={alias:"deleteUnitButtonText",args:[{kind:"Literal",name:"string_enum",value:"DELETE_UNIT_BUTTON"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"DELETE_UNIT_BUTTON")'},G={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},H={condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},La={condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"advert_identification_label",args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},Ma=[H,La,{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_rendering_loggers",storageKey:null},n],Na={alias:null,args:null,concreteType:"QuickPromotionFeedUnitItem",kind:"LinkedField",name:"quick_promotion_items",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"quick_promotion",plural:!1,selections:i,storageKey:null}],storageKey:null};m={alias:null,args:null,concreteType:"LearningCourseUnitModulesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"LearningCourseModule",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:"contentType",args:null,kind:"ScalarField",name:"content_type",storageKey:null},g,{alias:"isCompleted",args:null,kind:"ScalarField",name:"has_viewer_completed",storageKey:null},C,{alias:"contentTypeText",args:[{kind:"Literal",name:"string_enum",value:"MODULE_CONTENT_TYPE"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"MODULE_CONTENT_TYPE")'},m],storageKey:null}],storageKey:null};var Oa=[G],Pa={alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},Qa={alias:null,args:null,kind:"ScalarField",name:"depth",storageKey:null},Ra=[n,o],Sa={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[j,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:Ra,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null}],storageKey:null},Ta={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"2H8MDo"}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAvatarAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerAvatarStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoAutoplayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommentPlaceInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPageInCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageInCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFISubscriptionGiftingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSubscriptionGiftStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFIFactsInCommentsUnavailableAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFactsInCommentsCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDataSnapshotAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDataSnapshotStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnswerAgentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentMetaGenFeedbackStyleRenderer",abstractKey:null}],storageKey:'style_type_renderer(supported:"2H8MDo")'}],storageKey:null},Ua={alias:null,args:null,kind:"ScalarField",name:"is_markdown_enabled",storageKey:null},Va={alias:null,args:null,concreteType:"XFBCommunityCommentSignalRenderer",kind:"LinkedField",name:"community_comment_signal_renderer",plural:!1,selections:[{args:null,documentName:"CometCommunityCommentSignalRenderer_comment",fragmentName:"CometCommunityCommentSignalBubble_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],storageKey:null},I={kind:"Variable",name:"feed_location",variableName:"feedLocation"},J=[I],Wa={alias:null,args:J,kind:"ScalarField",name:"comment_menu_tooltip",storageKey:null},Xa={alias:null,args:J,kind:"ScalarField",name:"should_show_comment_menu",storageKey:null},Ya={kind:"TypeDiscriminator",abstractKey:"__isActor"},K={kind:"Variable",name:"scale",variableName:"scale"},Za={alias:"profile_picture_depth_0",args:[{kind:"Literal",name:"height",value:32},K,{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:null};D={alias:"profile_picture_depth_1",args:[D,K,E],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:null};K={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null};E={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null};var $a={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},ab={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]};K={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[n,g,C,Ya,Za,D,{kind:"InlineFragment",selections:Ia,type:"Entity",abstractKey:"__isEntity"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},K,E,{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},$a,ab],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[K],type:"Page",abstractKey:null}],storageKey:null};var bb={alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},cb={alias:null,args:J,concreteType:null,kind:"LinkedField",name:"comment_action_links",plural:!0,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentReactionActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentReactionActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentReplyActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentReplyActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentShareActionLinkExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentShareActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentTimeStampActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentTimeStampActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentHideActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentHideActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentUnhideActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentUnhideActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentLearnMoreAboutPendingCommentActionLinkExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentLearnMoreAboutPendingCommentActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentSeeDeclinedCommentFeedbackActionLinkExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentSeeDeclinedCommentFeedbackActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentPinActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentPinActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentUnpinActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentUnpinActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentViewCommentThreadActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentViewCommentThreadActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentGeminiQAActionLinksExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentGeminiQAActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"GeminiUFIESHMarkAsResolvedAnswerActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentGeminiESHActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentRemovePreviewActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentRemovePreviewActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentEditHistoryActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentEditHistoryActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentPageAdminActorInfoActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentPageAdminActorInfoActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentPagePrivateReplyActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentPageAdminPrivateReplyActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentPagePrivateReplyContextActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentPageAdminPrivateReplyContextActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:[{kind:"Literal",name:"CometUFICommentTranslationActionLink_commentActionLink$translationType",value:"ORIGINAL"}],documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentTranslationActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentTranslationActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentVoteActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentVoteActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentAnswerAgentFeedbackActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentAnswerAgentFeedbackActionLink",abstractKey:null}],storageKey:null},db={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},L=[db],eb={alias:null,args:L,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:i,storageKey:null},fb={alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"visible_in_bling_bar",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},gb={alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count_reduced",storageKey:null}],storageKey:null};E={kind:"InlineFragment",selections:[E],type:"User",abstractKey:null};var hb={alias:null,args:null,kind:"ScalarField",name:"emoji_size",storageKey:null},ib={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:B,storageKey:null},M=[{kind:"Literal",name:"translation_type",value:"ORIGINAL"}];y={alias:null,args:M,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[n,{kind:"InlineFragment",selections:[y,j],type:"TextWithEntities",abstractKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};M={alias:"body_renderer",args:M,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentTextBodyRenderer_comment",fragmentName:"CometUFICommentBodyTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentTextBodyRenderer_comment",fragmentName:"CometUFICommentBodyComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};var jb={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[n,C,E,g],storageKey:null},g],storageKey:null},kb={alias:null,args:null,kind:"ScalarField",name:"is_declined_by_group_admin_assistant",storageKey:null},lb={alias:null,args:null,kind:"ScalarField",name:"is_gaming_video_comment",storageKey:null},mb={alias:null,args:null,kind:"ScalarField",name:"timestamp_in_video",storageKey:null},nb={alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect",storageKey:null}],storageKey:null},ob={alias:null,args:null,kind:"ScalarField",name:"written_while_video_was_live",storageKey:null},pb={alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{args:null,documentName:"CometUFICommentActorLink_comment_groups",fragmentName:"CometUFIGroupCommentActorLink_groupCommentInfo",fragmentPropName:"groupCommentInfo",kind:"ModuleImport"}],storageKey:null},qb={alias:null,args:J,concreteType:"BizWebCommentInfo",kind:"LinkedField",name:"bizweb_comment_info",plural:!1,selections:[{args:null,documentName:"CometUFICommentActorLink_comment_bizweb",fragmentName:"BizWebFBCommentAuthorLink_bizWebCommentInfo",fragmentPropName:"bizWebCommentInfo",kind:"ModuleImport"}],storageKey:null},rb={alias:null,args:null,kind:"ScalarField",name:"has_constituent_badge",storageKey:null},sb={alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_subsribe_button",storageKey:null},tb={alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},ub={alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},vb={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[C,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null},g],storageKey:null},g],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[n,C,g],storageKey:null}],storageKey:null},wb={alias:null,args:null,kind:"ScalarField",name:"question_and_answer_type",storageKey:null},xb={alias:null,args:J,concreteType:null,kind:"LinkedField",name:"author_user_signals_renderer",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null}],storageKey:null},yb={alias:null,args:[I,{kind:"Literal",name:"supported",value:"1TpJJ9"}],concreteType:null,kind:"LinkedField",name:"author_badge_renderers",plural:!0,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorConstituentBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorConstituentBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorVerifiedBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorVerifiedBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorAMAQuestionAnswerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorAMAQuestionAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentInlineFollowCTARenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentInlineFollowCTARenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorDeactivatedAccountBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorDeactivatedAccountBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorBotBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorBotBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorNonCoworkerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorNonCoworkerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentPostAuthorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentPostAuthorBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentQAAnswerBadge_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentQAAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentWorkKnowledgeEditorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentWorkKnowledgeEditorBadge",abstractKey:null}],storageKey:null},N={alias:"grey_badge_asset",args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},O={alias:"dark_mode_badge_asset",args:null,kind:"ScalarField",name:"information_asset_dark_mode_v2",storageKey:null},P={alias:"light_mode_badge_asset",args:null,kind:"ScalarField",name:"information_asset_v2",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"is_earned",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"information_title",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"information_description",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"is_enabled",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"is_manageable",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"serialized",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"identity_badge_type",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"information_button_enabled",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"information_button_uri",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"information_button_text",storageKey:null},$={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tier_info",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"tier_name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stars_sent_this_week",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stars_threshold_for_next_tier",storageKey:null}],type:"TipperBadgeTierInfo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"supporter_age_for_progress_bar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supporter_threshold_for_next_tier",storageKey:null}],type:"WoodhengeBadgeTierInfo",abstractKey:null}],storageKey:null};j={alias:null,args:J,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple_badge_asset",storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"text_gradient",storageKey:null},N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,{alias:null,args:null,kind:"ScalarField",name:"gaming_video_image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gaming_video_dark_mode_image_uri",storageKey:null}],storageKey:null};var zb={alias:null,args:J,kind:"ScalarField",name:"can_show_multiple_identity_badges",storageKey:null};N={alias:null,args:null,concreteType:"IdentityBadge",kind:"LinkedField",name:"discoverable_identity_badges_web",plural:!0,selections:[N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$],storageKey:null};O={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[C,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:null},g],storageKey:null};P={alias:null,args:null,kind:"ScalarField",name:"is_viewer_comment_poster",storageKey:null};Q=[{alias:null,args:null,kind:"ScalarField",name:"video_channel_is_viewer_following",storageKey:null}];R={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"parent_post_story",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[n,{kind:"InlineFragment",selections:[g,{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_duration",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor_to_follow",plural:!1,selections:[n,g,{kind:"InlineFragment",selections:Q,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:Q,type:"User",abstractKey:null}],storageKey:null},C],type:"VideoOwner",abstractKey:"__isVideoOwner"},g],storageKey:null}],type:"Video",abstractKey:null},o,{kind:"InlineFragment",selections:i,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:i,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:i,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:i,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null},g],storageKey:null};S={alias:null,args:null,kind:"ScalarField",name:"work_ama_answer_status",storageKey:null};T={alias:null,args:null,concreteType:"WorkKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"LinkedField",name:"work_knowledge_inline_annotation_comment_badge_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentBody_comment_work_knowledge_inline_annotation_comment_badge_renderer",fragmentName:"CometUFICommentBodyInlineAnnotationBadgeWrapper_workKnowledgeInlineAnnotationCommentBadgeRenderer",fragmentPropName:"workKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"ModuleImport"}],storageKey:null};U={alias:null,args:null,concreteType:"XFBBusinessCommentAttribute",kind:"LinkedField",name:"business_comment_attributes",plural:!0,selections:[{args:null,documentName:"CometUFICommentBody_comment_business_comment_attributes",fragmentName:"BizWebBusinessCommentBadge_businessCommentAttributes",fragmentPropName:"businessCommentAttributes",kind:"ModuleImport"},g],storageKey:null};V={alias:null,args:null,kind:"ScalarField",name:"is_live_video_comment",storageKey:null};W={alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null};X={alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null};Y={alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{args:null,documentName:"CometUFIComment_comment",fragmentName:"CometUFICommentQualitySurvey_inlineSurveyConfig",fragmentPropName:"inlineSurveyConfig",kind:"ModuleImport"}],storageKey:null};Z={alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null};$={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:B,storageKey:null};l={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_direct_parent",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[n,C,{kind:"InlineFragment",selections:[$a],type:"User",abstractKey:null},g],storageKey:null},g],storageKey:null};Q={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_see_member_page_tooltip",plural:!1,selections:B,storageKey:null};var Ab={alias:null,args:null,concreteType:"WorkAMAUFIAnsweredEventCommentModuleRenderer",kind:"LinkedField",name:"work_answered_event_comment_renderer",plural:!1,selections:[{args:null,documentName:"CometUFIComment_comment_work_answered_event_comment_renderer",fragmentName:"CometUFIAMABroadcastAnswerEventRow_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null},Bb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comment_upper_badge_renderer",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentPinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentPinnedBadgeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentUnpinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentUnpinnedBadgeRenderer",abstractKey:null}],storageKey:null},Cb={alias:null,args:[{kind:"Literal",name:"supported",value:"4hvozm"}],concreteType:null,kind:"LinkedField",name:"elevated_comment_data",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIStarsElevatedCommentContent_starsElevatedCommentData",fragmentPropName:"starsElevatedCommentData",kind:"ModuleImport"}],type:"StarsElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIFubsElevatedCommentContent_fubsElevatedCommentData",fragmentPropName:"fubsElevatedCommentData",kind:"ModuleImport"}],type:"SupporterElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"SimpleElevatedCommentContent_simpleElevatedCommentData",fragmentPropName:"simpleElevatedCommentData",kind:"ModuleImport"}],type:"SimpleElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIClipElevatedCommentContent_clipElevatedCommentData",fragmentPropName:"clipElevatedCommentData",kind:"ModuleImport"}],type:"ClipElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIGiftedSubsElevatedCommentContent_giftedSubsElevatedCommentData",fragmentPropName:"giftedSubsElevatedCommentData",kind:"ModuleImport"}],type:"GiftedSubsElevatedCommentData",abstractKey:null}],storageKey:'elevated_comment_data(supported:"4hvozm")'},Db={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},{alias:null,args:null,concreteType:"FBGComponentRoot",kind:"LinkedField",name:"fbg_component_root",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"interactive_plugin_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbg_component_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbg_component_source",storageKey:null}],storageKey:null}]},Eb={condition:"__relay_internal__pv__IsWorkUserrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_author_original_poster",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_bot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_non_coworker",storageKey:null}]};H=[n,H,La];return{fragment:{argumentDefinitions:[a,c,d,e,f,aa,ba,ca,da,ea,fa],kind:"Fragment",metadata:null,name:"ComposerStoryEditMutation",selections:[{alias:null,args:ga,concreteType:"StoryEditResponsePayload",kind:"LinkedField",name:"story_edit",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[g,{args:null,kind:"FragmentSpread",name:"CometFeedUnitStoryStrategy_feedUnit"},{args:null,kind:"FragmentSpread",name:"CometFeedUnitContainerSection_feedUnit"},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[ha],storageKey:null}],storageKey:null},h,{condition:"isGroupViewerContent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[{kind:"InlineFragment",selections:i,type:"Group",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_feedback",plural:!1,selections:[ia],storageKey:null}]},{condition:"isWorkDraftFor",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"GeminiDraftForDraftsTableData_storiesData",selections:[g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:i,storageKey:null},ja,{args:null,kind:"FragmentSpread",name:"GeminiDraftForReviewerColumn_reviewerColumn"},ka,la,{args:null,kind:"FragmentSpread",name:"GeminiDraftForDrafterActionsCtaColumn_story"}],args:null,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"GeminiDraftForNeedsApprovalTableData_storiesData",selections:[g,ja,ka,{args:null,kind:"FragmentSpread",name:"GeminiDraftForCreatedByColumn_drafterColumn"},la,{args:null,kind:"FragmentSpread",name:"GeminiDraftForFinalAuthorActionsCtaColumn_story"}],args:null,argumentDefinitions:[]}]}],storageKey:null},{condition:"isSocialLearning",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[na,{alias:null,args:null,concreteType:"SocialLearningInfoUnitModule",kind:"LinkedField",name:"social_learning_info_unit_module",plural:!1,selections:[{alias:null,args:null,concreteType:"LearningCourseInfo",kind:"LinkedField",name:"info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometSocialLearningUnitCourseProgress_courseInfo"}],storageKey:null},oa,{alias:null,args:null,concreteType:"LearningCourseUnit",kind:"LinkedField",name:"unit",plural:!1,selections:[g,{args:null,kind:"FragmentSpread",name:"GroupsCometSocialLearningLeftRailUnit_unit"},{args:null,kind:"FragmentSpread",name:"GroupsCometSocialLearningUnitList_unit"},{args:null,kind:"FragmentSpread",name:"GroupsCometSocialLearningUnit_unit"}],storageKey:null}],storageKey:null},pa],storageKey:null}]}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,a,c,d,ea,ca,da,fa,f,aa,ba,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsMergQAPollsrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIShareActionMigrationrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider"}],kind:"Operation",name:"ComposerStoryEditMutation",selections:[{alias:null,args:ga,concreteType:"StoryEditResponsePayload",kind:"LinkedField",name:"story_edit",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[g,n,{alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matched_terms",storageKey:null},h,{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"unknown"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"render_type",storageKey:null}],type:"OverlayWarningScreenViewModel",abstractKey:null},o],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"unknown")'},{alias:null,args:null,concreteType:"FutureOfFeedInfo",kind:"LinkedField",name:"future_of_feed_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_reverse_message_and_attachment_position",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_overlay_header",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"aspect_ratio_update",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web_reshare_variant",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[g,qa,{alias:null,args:p,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[ra,sa],storageKey:null},ta,{kind:"ClientExtension",selections:[u]}],storageKey:null},{alias:null,args:null,concreteType:"StoryBumperData",kind:"LinkedField",name:"bumpers",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"triggered_bumpers",plural:!0,selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"triggers",plural:!0,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"trigger_event",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:p,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[n,{alias:null,args:[{kind:"Literal",name:"supported",value:"20GvtT"}],concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryInitiallyCollapsedContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryInitiallyCollapsedContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryAttachmentOnlyContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryAttachmentOnlyContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryDefaultContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryDefaultContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"GeminiFeedStoryKeyUpdateFeedUnitContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"GeminiFeedStoryKeyUpdateFeedUnitContentStrategy",abstractKey:null}],storageKey:'content(supported:"20GvtT")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3vatP7"}],concreteType:null,kind:"LinkedField",name:"layout",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStorySideUFILayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStorySideUFILayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"GeminiFeedStoryLongReadPostContentLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"GeminiFeedStoryLongReadPostContentLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryDefaultLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryDefaultLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryPendingParticipationPostLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryPendingParticipationPostLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryFullbleedContentLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryFullbleedContentLayoutStrategy",abstractKey:null}],storageKey:'layout(supported:"3vatP7")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"2lQ7jN"}],concreteType:null,kind:"LinkedField",name:"copyright_violation_header",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCopyrightViolationHeaderSection_story",fragmentName:"CometFeedStoryCopyrightViolationHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryCopyrightViolationHeaderStrategy",abstractKey:null}],storageKey:'copyright_violation_header(supported:"2lQ7jN")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3H0I6T"}],concreteType:null,kind:"LinkedField",name:"header",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupAdminAutonomyHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupAdminAutonomyHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupAdminAutonomyAlertedHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupAdminAutonomyAlertedHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GroupsCometViewerContentFlaggedHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryViewerContentFlaggedHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupConflictAlertHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupsUnconnectedContentHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupsUnconnectedContentHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometGroupsAlertedContentHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometGroupsAlertedContentHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryGroupPendingQueueMemberPostApprovalHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryGroupPendingQueueMemberPostApprovalHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryCrisisCloseListingHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryCrisisCloseListingHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAlbumHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAlbumHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryPostUpsellHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryPostUpsellHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryStoryHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryStoryHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryFallbackHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryFallbackHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStorySimpleStoryHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStorySimpleStoryHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryCommerceHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryCommerceHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStorySocialLearningModuleHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStorySocialLearningModuleHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GeminiFeedEmailLandingStoryStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"GeminiFeedEmailLandingStoryStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GeminiFeedStoryImportantHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"GeminiFeedStoryImportantHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryPhotoReviewCTAHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryPhotoReviewCTAHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryLookingForPlayersUpgradePromptHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryLookingForPlayersUpgradePromptHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryBusinessMemoriesHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryBusinessMemoriesHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupMemberWarningHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupMemberWarningHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryProductRecommendationsPostDowngradePromptHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryProductRecommendationsPostDowngradePromptHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryTopicAnnotationHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryTopicAnnotationHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryBasicAdsHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryBasicAdsHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAdsSocialContextHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAdsSocialContextHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAdsNonProfitSocialContextHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAdsNonProfitSocialContextHeaderStrategy",abstractKey:null}],storageKey:'header(supported:"3H0I6T")'},ra,{alias:null,args:[{kind:"Literal",name:"supported",value:"40M411"}],concreteType:null,kind:"LinkedField",name:"aymt_footer",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTBizWebPostFooterStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTBizWebPostFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTPagePostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTPagePostFooterChannelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTNewsFeedPostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTNewsFeedPostFooterChannelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTProfessionalProfilePostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTProfessionalProfilePostFooterChannelStrategy",abstractKey:null}],storageKey:'aymt_footer(supported:"40M411")'},sa,{alias:null,args:[{kind:"Literal",name:"supported",value:"1mHlFQ"}],concreteType:null,kind:"LinkedField",name:"feedback",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentFlaggedStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentFlaggedStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupConflictAlertUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupConflictAlertUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackMemoriesStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackMemoriesStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupContentModerationQueueStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupContentModerationQueueStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentDeletedPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentDeletedPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupDraftPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupDraftPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiFeedStoryFeedbackGroupDelegationPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackGroupDelegationPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackPluginStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackPluginStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackIntegrationStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackIntegrationStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiFeedStoryFeedbackGroupDraftedForOthersStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackGroupDraftedForOthersStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentPublishedPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentPublishedPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupScheduledPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupScheduledPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackEventScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupContextualProfileUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupContextualProfileUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupAdminAutonomyQueueAlertedStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupAdminAutonomyQueueAlertedStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometStoriesSingleBucketFeedUnitFeedbackStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoriesSingleBucketFeedUnitUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupAdminAssistPreviewStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupAdminAssistPreviewStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackWorkLiveAMAStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryWorkLiveAMAStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupModminReviewFolderPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupModminReviewFolderPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackKeyUpdateFeedUnitPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackKeyUpdateFeedUnitPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackKeyUpdateFeedUnitPreviewStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackKeyUpdateFeedUnitPreviewStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackEventModminReviewFolderPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackEventModminReviewFolderPostStrategy",abstractKey:null}],storageKey:'feedback(supported:"1mHlFQ")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"5fIuY"}],concreteType:null,kind:"LinkedField",name:"outer_footer",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryMisinformationRelatedArticleStrategy_misinfoRelatedArticles",fragmentPropName:"misinfoRelatedArticles",kind:"ModuleImport"}],type:"CometStoryMisinformationRelatedArticleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryPendingPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryPendingPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"GeminiFeedStoryPendingPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryPendingPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryGroupConflictAlertOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryGroupCommentRateLimitedOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupCommentRateLimitedOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryPendingParticipationPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryPendingParticipationPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryViewThreadFooter_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryViewThreadFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryInlineSurveyOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryInlineSurveyOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryJoinInVrOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryJoinInVrOuterFooterStrategy",abstractKey:null}],storageKey:'outer_footer(supported:"5fIuY")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"dyiij"}],concreteType:null,kind:"LinkedField",name:"call_to_action",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryTaggedProductsBumperCallToActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometTaggedProductsBumperCallToActionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryAnonymousPostUpsellActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometStoryGroupAnonymousPostUpsellActionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryDefaultCallToActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometStoryDefaultCallToActionStrategy",abstractKey:null}],storageKey:'call_to_action(supported:"dyiij")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3t3kTK"}],concreteType:null,kind:"LinkedField",name:"post_inform_treatment",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPostInformTreatmentSection_story",fragmentName:"CometFeedStoryPostCoverInformTreatmentStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryInformTreatmentPostCoverStrategy",abstractKey:null}],storageKey:'post_inform_treatment(supported:"3t3kTK")'}],storageKey:null},ta,qa,v,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[g,w],storageKey:null},{alias:null,args:null,concreteType:"WhatsAppStoryAdContext",kind:"LinkedField",name:"whatsapp_ad_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action_link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"schema_context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"click_tracking_linkshim_cb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_click_tracking",storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[n,ha,g],storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"tombstone_is_loading",storageKey:null},u,{alias:null,args:null,kind:"ScalarField",name:"optimistic_loading_type",storageKey:null},{alias:null,args:null,concreteType:"OptimisticMediaAttachmentData",kind:"LinkedField",name:"optimistic_media_attachments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"entID",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectURL",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"useCDNPreview",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_session_id",storageKey:null}]},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[t],type:"Story",abstractKey:null},k,A,ua,va,{kind:"InlineFragment",selections:[wa],type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga],type:"FeedUnit",abstractKey:"__isFeedUnit"},{condition:"isGroupViewerContent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:B,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_feedback",plural:!1,selections:[n,ia],storageKey:null}]},{condition:"isWorkDraftFor",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[n,g,C,Ha,{kind:"InlineFragment",selections:Ia,type:"Group",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_shared_draft_post_title",storageKey:null},F,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"work_shared_draft_final_author",plural:!1,selections:Ja,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_shared_draft_post_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_shared_draft_scheduled_time",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"default_actor",plural:!1,selections:B,storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_member_of_readonly_work_company",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"work_shared_draft_drafter",plural:!1,selections:Ja,storageKey:null}]}],storageKey:null},{condition:"isSocialLearning",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[na,{alias:null,args:null,concreteType:"SocialLearningInfoUnitModule",kind:"LinkedField",name:"social_learning_info_unit_module",plural:!1,selections:[{alias:null,args:null,concreteType:"LearningCourseInfo",kind:"LinkedField",name:"info",plural:!1,selections:[{alias:"completedRequiredUnits",args:null,kind:"ScalarField",name:"completed_required_units_count",storageKey:null},{alias:"totalRequiredUnits",args:null,kind:"ScalarField",name:"required_units_count",storageKey:null},{alias:"unitProgressText",args:[{kind:"Literal",name:"string_enum",value:"UNIT_PROGRESS"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"UNIT_PROGRESS")'},g],storageKey:null},oa,{alias:null,args:null,concreteType:"LearningCourseUnit",kind:"LinkedField",name:"unit",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"is_synchronizing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_optional",storageKey:null},{alias:"makeUnitOptionalText",args:[{kind:"Literal",name:"string_enum",value:"MAKE_UNIT_OPTIONAL"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"MAKE_UNIT_OPTIONAL")'},{alias:"makeUnitOptionalToastText",args:[{kind:"Literal",name:"string_enum",value:"MAKE_UNIT_OPTIONAL_TOAST"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"MAKE_UNIT_OPTIONAL_TOAST")'},{alias:null,args:null,concreteType:"LearningCourseInfo",kind:"LinkedField",name:"learning_course_info",plural:!1,selections:[{alias:"reorderPostsDialogTitleText",args:[{kind:"Literal",name:"string_enum",value:"REORDER_POSTS_DIALOG_TITLE"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"REORDER_POSTS_DIALOG_TITLE")'},{alias:"reorderPostsDialogMenuItemText",args:[{kind:"Literal",name:"string_enum",value:"REORDER_POSTS_MENU_ITEM"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"REORDER_POSTS_MENU_ITEM")'},g,q,Ka,{alias:"deleteSyncedUnitErrorText",args:[{kind:"Literal",name:"string_enum",value:"DELETE_SYNCED_UNIT_ERROR"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"DELETE_SYNCED_UNIT_ERROR")'},{alias:"editUnitMenuItemText",args:[{kind:"Literal",name:"string_enum",value:"EDIT_UNIT_MENU_ITEM"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"EDIT_UNIT_MENU_ITEM")'},{alias:"unitHeaderExpandedTitleText",args:[{kind:"Literal",name:"string_enum",value:"UNIT_HEADER_EXPANDED_TITLE"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"UNIT_HEADER_EXPANDED_TITLE")'},{alias:"unitHeaderExpandedDescriptionText",args:[{kind:"Literal",name:"string_enum",value:"UNIT_HEADER_EXPANDED_DESCRIPTION"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"UNIT_HEADER_EXPANDED_DESCRIPTION")'}],storageKey:null},{alias:"modules",args:null,concreteType:"LearningCourseUnitModulesConnection",kind:"LinkedField",name:"learning_course_unit_modules",plural:!1,selections:[G,{alias:null,args:null,concreteType:"LearningCourseUnitModulesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"LearningCourseModule",kind:"LinkedField",name:"node",plural:!1,selections:[g,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[g,{kind:"InlineFragment",selections:[n,{kind:"InlineFragment",selections:[v,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context_actor_hovercard",storageKey:null},g],storageKey:null},g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_story_civic",storageKey:null},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:Ma,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"data_spon_lbl",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:Ma,storageKey:null}]},t],type:"Story",abstractKey:null},k,A,ua,va,{kind:"InlineFragment",selections:[Na,wa],type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,{kind:"InlineFragment",selections:[Na],type:"QuickPromotionFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TrackingData",kind:"LinkedField",name:"trackingdata",plural:!1,selections:i,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}],type:"TrackableFeedUnit",abstractKey:"__isTrackableFeedUnit"}],type:"FeedUnit",abstractKey:"__isFeedUnit"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"learningCourseInfo",args:null,concreteType:"LearningCourseInfo",kind:"LinkedField",name:"learning_course_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"container_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"container_vanity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"surface_type",storageKey:null},{alias:"deleteUnitHeaderText",args:[{kind:"Literal",name:"string_enum",value:"DELETE_UNIT_HEADER"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"DELETE_UNIT_HEADER")'},{alias:"deleteUnitBodyText",args:[{kind:"Literal",name:"string_enum",value:"DELETE_UNIT_BODY"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"DELETE_UNIT_BODY")'},Ka,g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"delete_synced_headline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"delete_synced_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},C,{alias:"unitSavedToastText",args:[{kind:"Literal",name:"string_enum",value:"UNIT_SAVED_TOAST"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"UNIT_SAVED_TOAST")'},{alias:"unitTitleText",args:[{kind:"Literal",name:"string_enum",value:"UNIT_TITLE_SHOW_OPTIONAL"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"UNIT_TITLE_SHOW_OPTIONAL")'},{alias:"giveUnitFeedbackPopoverText",args:[{kind:"Literal",name:"string_enum",value:"GIVE_UNIT_FEEDBACK_POPOVER"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"GIVE_UNIT_FEEDBACK_POPOVER")'},{alias:"modulePreviews",args:[{kind:"Literal",name:"first",value:3}],concreteType:"LearningCourseUnitModulesConnection",kind:"LinkedField",name:"learning_course_unit_modules",plural:!1,selections:[G,m],storageKey:"learning_course_unit_modules(first:3)"},{alias:null,args:null,kind:"ScalarField",name:"unpublished_content_type",storageKey:null},{alias:"emptyUnitMessageText",args:[{kind:"Literal",name:"string_enum",value:"EMPTY_UNIT_MESSAGE"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"EMPTY_UNIT_MESSAGE")'},{alias:"emptyUnitSecondaryMessageText",args:[{kind:"Literal",name:"string_enum",value:"EMPTY_UNIT_SECONDARY_MESSAGE"}],kind:"ScalarField",name:"social_learning_string",storageKey:'social_learning_string(string_enum:"EMPTY_UNIT_SECONDARY_MESSAGE")'},{alias:"learningCourseUnitModules",args:null,concreteType:"LearningCourseUnitModulesConnection",kind:"LinkedField",name:"learning_course_unit_modules",plural:!1,selections:[m],storageKey:null},{alias:null,args:null,concreteType:"LearningCourseUnitModulesConnection",kind:"LinkedField",name:"learning_course_unit_modules",plural:!1,selections:Oa,storageKey:null},{alias:"completedRequiredPostsCount",args:null,kind:"ScalarField",name:"completed_required_modules_count",storageKey:null},{alias:"requiredPostsCount",args:null,kind:"ScalarField",name:"required_modules_count",storageKey:null},{alias:"showCompletion",args:null,kind:"ScalarField",name:"show_completion",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[g,F,h,{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{alias:null,args:null,concreteType:"MessagingInformTreatmentViewModel",kind:"LinkedField",name:"inform_treatment_for_messaging",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"treatment_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messaging_inform_treatment_name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"target_group",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,concreteType:"GroupPrivacyInfo",kind:"LinkedField",name:"privacy_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_name",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:ma,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shareable_from_perspective_of_feed_ufi",plural:!1,selections:[n,F,o],storageKey:null},{alias:"vote_attachments",args:[{kind:"Literal",name:"if_style",value:"question"}],concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[n,g,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"orderby",value:["creation_time"]}],concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"options",plural:!1,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"QuestionOptionVotersConnection",kind:"LinkedField",name:"voters",plural:!1,selections:Oa,storageKey:null},g],storageKey:null}],storageKey:'options(orderby:["creation_time"])'}],type:"Question",abstractKey:null}],storageKey:null}],storageKey:'attachments(if_style:"question")'},{alias:null,args:[{fields:[{kind:"Variable",name:"fb_feed_location",variableName:"feedLocation"},{kind:"Variable",name:"focused_comment_id",variableName:"focusCommentID"}],kind:"ObjectValue",name:"feed_rendering_context"}],concreteType:"FeedbackContext",kind:"LinkedField",name:"feedback_context",plural:!1,selections:[{alias:null,args:null,concreteType:"ContextualComment",kind:"LinkedField",name:"interesting_top_level_comments",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment",plural:!1,selections:[g,Pa,Qa,Sa,Ta,Ua,Va,Wa,Xa,K,bb,cb,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[eb,g,fb,gb,{alias:"total_reply_count",args:null,kind:"ScalarField",name:"comment_count",storageKey:null},{alias:null,args:L,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[n,g,Ya,C,Za,D,{kind:"InlineFragment",selections:[$a,ab],type:"User",abstractKey:null}],storageKey:null},F,n,{alias:"plugins",args:[I,db],concreteType:null,kind:"LinkedField",name:"comment_composer_plugins",plural:!0,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGenAICreatePlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGenAICreatePlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"unidash_regex_link",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerUnidashWidgetPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerUnidashWidgetPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerCustomEmojiPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerCustomEmojiPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[g,{alias:"should_use_membership_questions_in_group",args:[{kind:"Literal",name:"gk_name",value:"participant_questionnaire_deprecation"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}],storageKey:'gk_check(gk_name:"participant_questionnaire_deprecation")'}],storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerParticipateQuestionPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerParticipationQuestionPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerCommentCharacterLimitPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerCommentCharacterLimitPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"candidate_info_share",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null},g],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recruiting_group_unencoded_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[n,E,g],storageKey:null},g],storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerCommentRecruitingGroupMotivateInterestPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerRecruitingGroupMotivateInterestPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"composer_tip",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerTipPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerTipPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"platform_tool",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"additional_profile_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_admin_type_v2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"additional_profile_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"platform_tool_uri",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerProfilePlusTipPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerProfilePlusTipPlugin",abstractKey:null},{kind:"InlineFragment",selections:[hb,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerEmojiPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerEmojiPlugin",abstractKey:null},{kind:"InlineFragment",selections:[q,h,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[q,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupRulesMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupRulesMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[q,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupRulesTaggingEntryMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupRulesTaggingEntryMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"context_id",storageKey:null},h,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerHashtagPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerHashtagPlugin",abstractKey:null},{kind:"InlineFragment",selections:[ib,{alias:null,args:null,kind:"ScalarField",name:"should_condense_video_preview",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerMediaUploadPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerMediaUploadPlugin",abstractKey:null},{kind:"InlineFragment",selections:[hb,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerEmoticonPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerEmoticonPlugin",abstractKey:null},{kind:"InlineFragment",selections:[r,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGIFPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGIFPlugin",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:null,args:null,kind:"ScalarField",name:"stars_target_id",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerStarsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerStarsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[w,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerBotsComposerPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerBotsComposerPlugin",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:null,args:null,kind:"ScalarField",name:"owning_profile_id",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerStickersPlugin_next_plugin",fragmentPropName:"next_plugin",kind:"ModuleImport"}],type:"CometComposerCometizedStickersPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerPrefillMentionPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerPrefillMentionPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerAssociateReplyWithParentPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerAssociateReplyWithParentPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerSetReplyClickedPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerSetReplyClickedPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_avatar",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"avatar_style_version",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerAvatarPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerAvatarPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerStateSnapshotPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerStateSnapshotPlugin",abstractKey:null},{kind:"InlineFragment",selections:[r,ib,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerLiveTypingBroadcastPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerLiveTypingBroadcastPlugin",abstractKey:null},{kind:"InlineFragment",selections:[r,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerMarkdownPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerMarkdownPlugin",abstractKey:null},{kind:"InlineFragment",selections:[ib,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_file",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerFileUploadPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerFileUploadPlugin",abstractKey:null},{kind:"InlineFragment",selections:[r,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerSmartComposePlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerSmartComposePlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_gif",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_sticker",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:B,storageKey:null},g],storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerUnifiedInputPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerUnifiedInputPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerSpellcheckPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"XFBCommentComposerSpellcheckPlugin",abstractKey:null},{kind:"InlineFragment",selections:[q,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupRulesPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupRulesPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_inline_vote_enabled",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerReputationSystemPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerReputationSystemPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"comment_slowdown_message",plural:!1,selections:z,storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupCommentSlowdownPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupCommentSlowdownPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerWriteToComposerPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerWriteToComposerPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerIntlTranslationMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"XFBCommentComposerIntlTranslationMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupAnswerAgentFollowupPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"XFBCommentComposerGroupAnswerAgentFollowupPlugin",abstractKey:null}],storageKey:null},{alias:null,args:L,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},{alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},db],kind:"ScalarField",name:"can_viewer_comment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"have_comments_been_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_comment_ordering_mode",storageKey:null},{alias:null,args:J,kind:"ScalarField",name:"inline_composer_visible_by_default",storageKey:null},{alias:null,args:[{kind:"Literal",name:"scenario",value:"WWW_FEED_TOTAL_COUNT_SCENARIO_V1"}],concreteType:"XFBCommentRenderingInstance",kind:"LinkedField",name:"comment_rendering_instance",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBCommentRenderingInstanceCommentsConnection",kind:"LinkedField",name:"comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null}],storageKey:'comment_rendering_instance(scenario:"WWW_FEED_TOTAL_COUNT_SCENARIO_V1")'}],storageKey:null},y,M,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,j,zb,N,O,P,R,S,T,U,V,W,X,Y,Z,$,l,Q,x,Ab,Bb,Cb,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"inline_replies_expander_renderer",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIInlineRepliesExpander_comment",fragmentName:"CometUFIInlineInterestingReplierExpander_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBInterestingReplierInlineRepliesExpanderRenderer",abstractKey:null}],storageKey:null},Db,Eb],storageKey:null},{alias:null,args:null,concreteType:"ContextualCommentRelevantContextualRepliesConnection",kind:"LinkedField",name:"relevant_contextual_replies",plural:!1,selections:[{alias:null,args:null,concreteType:"ContextualComment",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment",plural:!1,selections:[g,Pa,Qa,Sa,Ta,Ua,Va,Wa,Xa,K,bb,cb,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[eb,g,fb,gb],storageKey:null},y,M,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,j,zb,N,O,P,R,S,T,U,V,W,X,Y,Z,$,l,Q,x,Ab,Bb,Cb,Db,Eb],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:L,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:B,storageKey:null},{alias:null,args:J,concreteType:null,kind:"LinkedField",name:"ufi_renderer",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUFI_feedback",fragmentName:"CometFullUFIRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"FullUFIRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUFI_feedback",fragmentName:"CometSimplifiedUFIRendererContainer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"SimplifiedUFIRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUFI_feedback",fragmentName:"CometInlineLiveUFIRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"InlineLiveUFIRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUFI_feedback",fragmentName:"CometStoryPreviewUFIRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"StoryPreviewUFIRenderer",abstractKey:null}],storageKey:null},g],storageKey:null},{condition:"__relay_internal__pv__CometUFIShareActionMigrationrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shareable",plural:!1,selections:Ra,storageKey:null},{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"link_type",storageKey:null}],type:"LinkOpenActionLink",abstractKey:null}],storageKey:null}],storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:H,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"data_spon_lbl",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:H,storageKey:null}]},{args:null,documentName:"useCometUFIAdaptivePostActionBar_story",fragmentName:"CometUFIAdaptiveShareActionRenderer_story",fragmentPropName:"story",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_recommended_posts",storageKey:null}],storageKey:null}],storageKey:null},pa],storageKey:null}]}],storageKey:null}]},params:{id:b("ComposerStoryEditMutation_facebookRelayOperation"),metadata:{},name:"ComposerStoryEditMutation",operationKind:"mutation",text:null,providedVariables:{__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider:b("GHLShouldChangeAdIdFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider:b("CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:b("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:b("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider:b("EventCometCardImage_prefetchEventImage.relayprovider")}}}}();e.exports=a}),null);
__d("ComposerStoryEditMutation",["CometRelay","ComposerStoryEditMutation.graphql","ComposerStoryMutationLogging","WebPixelRatio","cometComposerLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("ComposerStoryEditMutation.graphql");function a(a,b,e,f){var g,h=e==null?void 0:e.variables,j=h!=null?{feedLocation:(g=h==null?void 0:h.feedLocation)!=null?g:"NEWSFEED",renderLocation:(g=h==null?void 0:h.renderLocation)!=null?g:"homepage_stream"}:null;g=(e==null?void 0:(g=e.variables)==null?void 0:g.isGroupViewerContent)||!1;var k=d("ComposerStoryMutationLogging").getCreationSessionId(e);h=babelHelpers["extends"]({feedbackSource:1,isGroupViewerContent:g,isSocialLearning:(h==null?void 0:h.renderLocation)==="group_units",isWorkDraftFor:((g=b.work_shared_draft)==null?void 0:g.was_created_as_work_shared_draft)===!0,privacySelectorRenderLocation:"COMET_STREAM",scale:d("WebPixelRatio").get()},j);f&&d("ComposerStoryMutationLogging").logComposerPostAction(k,b,babelHelpers["extends"]({},f,{isEditComposer:!0}));c("cometComposerLogger")({fields:{composerEntryPicker:b.composer_entry_picker,composerEntryPointName:b.composer_entry_point,composerSourceSurface:b.composer_source_surface,composerType:b.composer_type,destination:"feed",isEditComposer:!0},type:"COMPOSER_POST_MUTATION_START"},k);g=function(a){c("cometComposerLogger")({fields:{composerEntryPicker:b.composer_entry_picker,composerEntryPointName:b.composer_entry_point,composerSourceSurface:b.composer_source_surface,composerType:b.composer_type,isEditComposer:!0,payload:f==null?void 0:f.payload,retryCount:f==null?void 0:f.retryCount},type:"COMPOSER_POST_SUCCESS"},k),e==null?void 0:e.onCompleted==null?void 0:e.onCompleted(a),c("cometComposerLogger")({fields:{composerEntryPicker:b.composer_entry_picker,composerEntryPointName:b.composer_entry_point,composerSourceSurface:b.composer_source_surface,composerType:b.composer_type,destination:"feed",isEditComposer:!0},type:"COMPOSER_POST_SERVER_CONTENT_RENDERED"},k)};var l=function(a){var d;c("cometComposerLogger")({fields:{composerEntryPicker:b.composer_entry_picker,composerEntryPointName:b.composer_entry_point,composerSourceSurface:b.composer_source_surface,composerType:b.composer_type,errorDescription:typeof a.description==="string"?a.description:(d=a.description)==null?void 0:d.toString(),errorInfo:a.message,isEditComposer:!0,payload:f==null?void 0:f.payload,retryCount:f==null?void 0:f.retryCount},type:"COMPOSER_POST_FAILURE"},k);e==null?void 0:e.onError==null?void 0:e.onError(a)},m=function(a,c){var d=a.get(b.story_id);if(d!=null){d=d.getLinkedRecords("nfx_action_menu_items",{feed_location:j==null?void 0:j.feedLocation});if(d!=null)for(var d=d,f=Array.isArray(d),g=0,d=f?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=d.length)break;h=d[g++]}else{g=d.next();if(g.done)break;h=g.value}h=h;h&&h.invalidateRecord()}}h=e==null?void 0:e.updater;h!=null&&h(a,c)},n=d("CometRelay").commitMutation(a,{mutation:i,onCompleted:g,onError:l,updater:m,variables:babelHelpers["extends"]({input:babelHelpers["extends"]({},b,{editable_post_feature_capabilities:["CONTAINED_LINK","CONTAINED_MEDIA","POLL"]})},h)});return{dispose:function(){n&&n.dispose(),n=null}}}g.commit=a}),98);
__d("ComposerTelemetryFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("101");b=d("FalcoLoggerInternal").create("composer_telemetry",a);e=b;g["default"]=e}),98);
__d("cometMediaEditorCanEditWithAnyToolEligibilityChecker",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b!=null){var c;c=((c=b==null?void 0:b.length)!=null?c:0<=a.index)?b[a.index]:b[0];b=h(c,a.isOnVideoLiteComposer);if(b==null)return{ALL:null}}return{}}function h(a,b){if(a==null)return;if(a.fileType==="VIDEO"&&a.state==="PREEXISTING"&&!b&&!c("gkx")("22891"))return;if(a.fileType!=="VIDEO"&&a.fileType!=="PHOTO")return;if(a.state!=="UPLOADED"&&a.state!=="UPLOADING"&&a.state!=="PREEXISTING")return;return a}g.cometMediaEditorCanEditWithAnyToolEligibilityChecker=a;g.validateMediaForAnyMutations=h}),98);
__d("composerAudienceFeedTransform",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ComposerTelemetryFalcoEvent").__setRef("composerAudienceFeedTransform");function a(a,b,c){var d,e=a==null?void 0:(d=a.albumData)==null?void 0:d.albumID,f=(a==null?void 0:a.viewerEditPostFeatureCapabilities)?a.viewerEditPostFeatureCapabilities.includes("POST_CONTAINER"):!1;h.onReady(function(b){return b.log(function(){var b;return{call_site:"composerAudienceFeedTransform",creation_session_id:(b=a.creationSessionID)!=null?b:"",debug_info:"viewState privacy info:"+((b=(b=a.audience)==null?void 0:(b=b.privacy)==null?void 0:b.base_state)!=null?b:"null")+" |albumID:"+((b=e)!=null?b:"null")+" |canMovePostToAlbum:"+f.toString(),event:"transform"}})});e!=null?f?c(babelHelpers["extends"]({},b,{audience:{album_id:e}})):c(b):c(babelHelpers["extends"]({},b,{audience:a.audience}))}g["default"]=a}),98);
__d("composerTrackingTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a.tracking!=null?c(babelHelpers["extends"]({},b,{is_tracking_encrypted:!0,tracking:a.tracking.encrypted_tracking})):c(b)}f["default"]=a}),66);
__d("getVideoCollabData",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d;d=((d=b)!=null?d:[]).find(function(b){var c;return(b==null?void 0:(c=b.data)==null?void 0:c.id)===a||(b==null?void 0:b.entID)===a});b=(b==null?void 0:b.length)===1&&(d==null?void 0:d.fileType)==="VIDEO";return b&&c!=null?{collaborators:c}:null}f["default"]=a}),66);
__d("getViewStatePhotoData",["cometMediaEditorCanEditWithAnyToolEligibilityChecker"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=((b=b)!=null?b:[]).find(function(b){var c;b=d("cometMediaEditorCanEditWithAnyToolEligibilityChecker").validateMediaForAnyMutations(b,!1);return(b==null?void 0:(c=b.data)==null?void 0:c.id)===a||(b==null?void 0:b.fileType)==="PHOTO"&&(b==null?void 0:b.originalEntID)===a});if(b!=null&&b.fileType==="PHOTO"&&((b==null?void 0:b.state)==="UPLOADED"||(b==null?void 0:b.state)==="PREEXISTING"))return b;else return null}g["default"]=a}),98);
__d("getViewStateVideoData",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=((b=b)!=null?b:[]).find(function(b){var c;return(b==null?void 0:(c=b.data)==null?void 0:c.id)===a||(b==null?void 0:b.state)==="UPLOADED"&&(b==null?void 0:b.fileType)==="VIDEO"&&(b==null?void 0:b.entID)===a});if(b!=null&&b.fileType==="VIDEO"&&((b==null?void 0:b.state)==="UPLOADED"||(b==null?void 0:b.state)==="PREEXISTING"))return b;else return null}f["default"]=a}),66);
__d("processXYTagsForMedia",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return;return a.map(function(a){if(a!=null){var b,c;b={id:(b=a.taggee)==null?void 0:b.id};c=(c=a.taggee)==null?void 0:(c=c.metadata)==null?void 0:c.product_tag_type;if(c!=null){var d;b={id:(d=a.taggee)==null?void 0:d.id,metadata:{product_tag_type:c}}}return babelHelpers["extends"]({},a,{taggee:babelHelpers["extends"]({},b)})}})}f["default"]=a}),66);
__d("mediaAttachmentAreaTransformUtil",["getVideoCollabData","getViewStatePhotoData","getViewStateVideoData","gkx","processXYTagsForMedia"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e,f=!1,g=[],h=[];((e=(e=d)!=null?e:[])==null?void 0:e.length)>1&&(f=c("gkx")("6273"));a.forEach(function(a){var e=a.attachmentID;if(a.attachmentType==="PHOTO"){var i,j=c("getViewStatePhotoData")(e,b);i=c("processXYTagsForMedia")(j==null?void 0:(i=j.data)==null?void 0:i.tags);g.push({photo:babelHelpers["extends"]({id:e},j==null?void 0:j.data,{tags:i})})}if(a.attachmentType==="VIDEO"){j=c("getVideoCollabData")(e,b,d==null?void 0:d.map(function(a){return a.key}));h.push({video:babelHelpers["extends"]({id:e},(i=c("getViewStateVideoData")(e,b))==null?void 0:i.data,{notify_when_processed:!0,video_collaboration:(a=f?null:j)!=null?a:void 0})})}});e=[].concat(g,h);return{createData:e,editData:e}}g.getMediaAttachmentAreaData=a}),98);
__d("mediaAttachmentAreaCreationDataTransform",["Promise","mediaAttachmentAreaTransformUtil","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){var g=[];for(var i in a.mediaUploadStatuses)g.push(a.mediaUploadStatuses[i].onFileComplete);c("promiseDone")((h||(h=b("Promise"))).all(g).then(function(b){var c;b=d("mediaAttachmentAreaTransformUtil").getMediaAttachmentAreaData(b,a.mediaAttachments,a.collaboratorInvitees).createData;f(babelHelpers["extends"]({},e,{attachments:[].concat((c=e.attachments)!=null?c:[],b)}))}));return}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("XContentRefControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/business/content_ref/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("ContentRefComet",["XContentRefControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b="DEFAULT");return c("XContentRefControllerRouteBuilder").buildURL({callsite:b,name:a})}g.get=a}),98);
__d("CometBCHSTStrings",["fbt","CometLink.react","ContentRefComet","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a={dialogContentAffiliateLink:h._(/*BTDS*/"__JHASH__Mv-HHPBMPrp__JHASH__"),dialogContentBrandDetected:h._(/*BTDS*/"__JHASH___-h-A0ubsBz__JHASH__",[h._param("newline",j.jsxs(j.Fragment,{children:[j.jsx("br",{}),j.jsx("br",{})]}))]),dialogContentSelfDisclosure:h._(/*BTDS*/"__JHASH__nv_SvwP1CDu__JHASH__",[h._param("Learn More link",j.jsx(c("CometLink.react"),{href:"/help/publisher/1396602470441939/",target:"_blank",children:h._(/*BTDS*/"__JHASH__ZNhvHHV7AhV__JHASH__")}))]),dialogTitle:h._(/*BTDS*/"__JHASH__sHm_FV336aM__JHASH__"),publishWithoutTagLabel:h._(/*BTDS*/"__JHASH__Cp7OXGUdMuf__JHASH__"),publishWithTagLabel:h._(/*BTDS*/"__JHASH__vF0Mz20RVUp__JHASH__"),scheduleWithoutTagLabel:h._(/*BTDS*/"__JHASH__z1iBQ6tOCCM__JHASH__"),scheduleWithTagLabel:h._(/*BTDS*/"__JHASH__IWiN783PQz7__JHASH__")};b={alertDialogText:function(a){return c("isStringNullOrEmpty")(a)?h._(/*BTDS*/"__JHASH__sjEAr39didG__JHASH__"):h._(/*BTDS*/"__JHASH__bIUNaX9vRMf__JHASH__",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"__JHASH__6SFYubn-WBC__JHASH__",[h._param("brandName",a)])}))])},secondPostErrorMessage:h._(/*BTDS*/"__JHASH__C9HsF01xYKF__JHASH__"),submitPostButtonLabel:h._(/*BTDS*/"__JHASH__O1OmmJdyBcx__JHASH__")};e={allowBoostTooltip:h._(/*BTDS*/"__JHASH__FE2FTcJFSBb__JHASH__",[h._param("Learn More Boost link",j.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",href:"/help/publisher/2021526178075899/",target:"_blank",children:h._(/*BTDS*/"__JHASH__ZNhvHHV7AhV__JHASH__")}))])};f={allowBoostLabel:h._(/*BTDS*/"__JHASH__ByYT0eOW-K___JHASH__"),allowBoostTooltip:h._(/*BTDS*/"__JHASH__RSr-jHxNP-V__JHASH__",[h._param("Learn More Boost link",j.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",href:"/help/publisher/2021526178075899/",target:"_blank",weight_DEPRECATED:"semibold",children:h._(/*BTDS*/"__JHASH__MmHC7Nf60jD__JHASH__")}))]),allowSponsorAddCTA:h._(/*BTDS*/"__JHASH__ohN4MrTbeQ3__JHASH__"),allowSponsorAddCTABody:h._(/*BTDS*/"__JHASH__gDgYL8yTK_-__JHASH__",[h._param("Learn More Sponsor CTA link",j.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",href:d("ContentRefComet").get("SPONSOR_CTA_HELP_LINK","BRANDED_CONTENT"),target:"_blank",weight_DEPRECATED:"semibold",children:h._(/*BTDS*/"__JHASH__ZNhvHHV7AhV__JHASH__")}))]),allowSponsorAddCTATooltip:h._(/*BTDS*/"__JHASH__LPjs3HIMZTS__JHASH__",[h._param("newline",j.jsxs(j.Fragment,{children:[j.jsx("br",{}),j.jsx("br",{})]})),h._param("newline2",j.jsxs(j.Fragment,{children:[j.jsx("br",{}),j.jsx("br",{})]})),h._param("Learn More Sponsor CTA link",j.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",href:d("ContentRefComet").get("SPONSOR_CTA_HELP_LINK","BRANDED_CONTENT"),target:"_blank",children:h._(/*BTDS*/"__JHASH__ZNhvHHV7AhV__JHASH__")}))]),boostWithNoSponsorCTA:h._(/*BTDS*/"__JHASH__iJaADEz9rw7__JHASH__"),boostWithSponsorCTA:h._(/*BTDS*/"__JHASH__1BYUgH9d0St__JHASH__"),campaignsList:h._(/*BTDS*/"__JHASH__9Wy6WD5SZSL__JHASH__"),campaignsNuxBody1:h._(/*BTDS*/"__JHASH__5c4EsITdKrT__JHASH__"),campaignsNuxBody2:h._(/*BTDS*/"__JHASH__se1c-Vyjwxm__JHASH__"),campaignsNuxTitle:h._(/*BTDS*/"__JHASH__INgJje0b5Az__JHASH__"),campaignsTooltip:h._(/*BTDS*/"__JHASH__t5ZcA6B5rxA__JHASH__"),dontAllowboostLabel:h._(/*BTDS*/"__JHASH__9A6X6puPPwN__JHASH__"),dontAllowSponsorAddCTA:h._(/*BTDS*/"__JHASH__MEoUM_6z5Sq__JHASH__"),paidPartnershipLabel:h._(/*BTDS*/"__JHASH__gR3JdzIWMsC__JHASH__"),restrictAudienceBody:h._(/*BTDS*/"__JHASH__OtpOq1MY4Z7__JHASH__",[h._param("policy_link",j.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",href:"/policies/brandedcontent/",target:"_blank",weight_DEPRECATED:"semibold",children:h._(/*BTDS*/"__JHASH__wRuPSXOUGqa__JHASH__")}))]),searchTooltip:h._(/*BTDS*/"__JHASH__rec_guFNFh5__JHASH__",[h._param("See policies link",j.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",href:"/policies/brandedcontent/",target:"_blank",children:h._(/*BTDS*/"__JHASH__SyxgSW_NOj0__JHASH__")}))]),sproutTooltip:h._(/*BTDS*/"__JHASH__V71dtYh4tvQ__JHASH__"),tagBasedOnActivity:h._(/*BTDS*/"__JHASH__9UVRVHFHXqE__JHASH__"),tagRelatedToPost:h._(/*BTDS*/"__JHASH__TU3HdLKHQUA__JHASH__"),tagSponsorLabel:h._(/*BTDS*/"__JHASH__V71dtYh4tvQ__JHASH__"),tagSponsorTypeaheadPlaceholder:h._(/*BTDS*/"__JHASH__-SQ_9fe2_g0__JHASH__"),title:h._(/*BTDS*/"__JHASH__V71dtYh4tvQ__JHASH__"),typeahead_null_state:h._(/*BTDS*/"__JHASH__xwo37QJnsH1__JHASH__"),"with":h._(/*BTDS*/"__JHASH__oP6RscXjC6-__JHASH__")};g.intercept=a;g.rbc=b;g.support=e;g.tagging=f}),226);
__d("CometComposerActorProfilePicture_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometComposerActorProfilePicture_profile",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("CometComposerActorProfilePicture.react",["fbt","ix","CometComposerActorProfilePicture_profile.graphql","CometRelay","FDSProfilePhoto.react","react","react-compiler-runtime","useCurrentRouteEntityKey"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||d("react"),m=i("762679");function a(a){var e,f=d("react-compiler-runtime").c(17),g=a.cursorDisabled;a=a.profile$key;g=g===void 0?!1:g;a=d("CometRelay").useFragment(j!==void 0?j:j=b("CometComposerActorProfilePicture_profile.graphql"),a);e=(e=a==null?void 0:(e=a.profile_picture)==null?void 0:e.uri)!=null?e:m;var i=c("useCurrentRouteEntityKey")();if((a==null?void 0:a.url)!=null&&(i==null?void 0:i.entity_id)!==a.id){f[0]!==(a==null?void 0:a.name)?(i=h._(/*BTDS*/"__JHASH__CAdiMQCOr4R__JHASH__",[h._param("userName",a==null?void 0:a.name)]),f[0]=a==null?void 0:a.name,f[1]=i):i=f[1];var k;f[2]!==g||f[3]!==a?(k=g?void 0:{url:a.url},f[2]=g,f[3]=a,f[4]=k):k=f[4];f[5]!==e?(a={uri:e},f[5]=e,f[6]=a):a=f[6];var n;f[7]!==g||f[8]!==i||f[9]!==k||f[10]!==a?(n=l.jsx(c("FDSProfilePhoto.react"),{"aria-label":i,cursorDisabled:g,linkProps:k,shape:"circle",size:40,source:a,testid:void 0}),f[7]=g,f[8]=i,f[9]=k,f[10]=a,f[11]=n):n=f[11];return n}f[12]!==e?(i={uri:e},f[12]=e,f[13]=i):i=f[13];f[14]!==g||f[15]!==i?(k=l.jsx(c("FDSProfilePhoto.react"),{cursorDisabled:g,shape:"circle",size:40,source:i,testid:void 0}),f[14]=g,f[15]=i,f[16]=k):k=f[16];return k}g["default"]=a}),226);
__d("CometComposerBrandedContentPopoverResource",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("CometComposerBrandedContentPopover.react").__setRef("CometComposerBrandedContentPopoverResource");b=a;g["default"]=b}),98);
__d("CometComposerBrandedContentStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*BTDS*/"__JHASH__x4YM3z0IQ0u__JHASH__");g.popoverTitle=a}),226);
__d("composerTaggerReducer",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){var c;c=new Set((c=(c=b.taggerData)==null?void 0:c.activeTaggerList)!=null?c:[]);if(!c.has(a))return b;c["delete"](a);return babelHelpers["extends"]({},b,{taggerData:{activeTaggerList:c}})}function h(a,b){var c;c=new Set((c=(c=b.taggerData)==null?void 0:c.activeTaggerList)!=null?c:[]);if(c.has(a))return b;c.add(a);return babelHelpers["extends"]({},b,{taggerData:{activeTaggerList:c}})}function a(a,b){switch(b.type){case"REMOVE_TAGGER":var c=b.taggerType;return g(c,a);case"ACTIVATE_TAGGER":c=b.taggerType;return h(c,a);default:break}return a}f["default"]=a}),66);
__d("CometComposerFeatureBasedSocialSentenceRenderer.react",["BootloaderResource","composerTaggerReducer","lazyLoadComponent","react","react-compiler-runtime","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9);a=a.taggerRegisteredFeature;var e=a.socialSentenceModule,f=a.reducerModule,g=a.stateCheckerModule;e.load();f.load();g==null?void 0:g.load();var h;b[0]!==f?(h=d("BootloaderResource").read(f),b[0]=f,b[1]=h):h=b[1];f=h;b[2]!==g?(h=g!=null?d("BootloaderResource").read(g):null,b[2]=g,b[3]=h):h=b[3];g=h;c("useComposerViewStateReducer")(f,g);c("useComposerViewStateReducer")(c("composerTaggerReducer"));b[4]!==e?(h=c("lazyLoadComponent")(e),b[4]=e,b[5]=h):h=b[5];f=h;b[6]!==f||b[7]!==a.taggerProps?(g=i.jsx(f,babelHelpers["extends"]({},a.taggerProps)),b[6]=f,b[7]=a.taggerProps,b[8]=g):g=b[8];return g}g["default"]=a}),98);
__d("CoreComposerDefaultSocialSentence.react",["FDSGlimmer.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={minutiaeGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x1kpxq89",marginStart:"x16n37ib",maxWidth:"xazcve0",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.showGlimmer;a=a.userName;e=e===void 0?!1:e;var f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x78zum5 x1q0g3np"},g={className:"x2lah0s"},b[0]=f,b[1]=g):(f=b[0],g=b[1]);b[2]!==a?(g=i.jsx("div",babelHelpers["extends"]({},g,{children:i.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:a})})),b[2]=a,b[3]=g):g=b[3];b[4]!==e?(a=e===!0&&i.jsx(c("FDSGlimmer.react"),{index:1,xstyle:j.minutiaeGlimmer}),b[4]=e,b[5]=a):a=b[5];b[6]!==g||b[7]!==a?(e=i.jsxs("div",babelHelpers["extends"]({},f,{children:[g,a]})),b[6]=g,b[7]=a,b[8]=e):e=b[8];return e}g["default"]=a}),98);
__d("CometComposerFeatureBasedSocialSentence.react",["CometComposerFeatureBasedSocialSentenceRenderer.react","CometErrorBoundary.react","CoreComposerDefaultSocialSentence.react","react","react-compiler-runtime","useCometComposerFeatureDefinitions","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.activeTaggers,f=a.userName;a=(a=(a=c("useCometComposerFeatureDefinitions")())==null?void 0:a.taggers)!=null?a:[];if(b[0]!==e||b[1]!==a){var g;b[3]!==e?(g=function(a){if(!(e==null?void 0:e.has(a.taggerType)))return!1;var b=new Set([].concat(a.supportedTaggers,[a.taggerType]));a=Array.from((a=e)!=null?a:[]).find(function(a){return!b.has(a)});if(a===void 0)return!0},b[3]=e,b[4]=g):g=b[4];g=a.find(g);b[0]=e;b[1]=a;b[2]=g}else g=b[2];a=g;if(a!=null){b[5]!==f?(g=function(){return i.jsx(c("CoreComposerDefaultSocialSentence.react"),{userName:f})},b[5]=f,b[6]=g):g=b[6];var h;b[7]!==a?(h=i.jsx(c("CometComposerFeatureBasedSocialSentenceRenderer.react"),{taggerRegisteredFeature:a}),b[7]=a,b[8]=h):h=b[8];b[9]!==g||b[10]!==h?(a=i.jsx(c("CometErrorBoundary.react"),{fallback:g,children:h}),b[9]=g,b[10]=h,b[11]=a):a=b[11];return a}b[12]!==f?(g=i.jsx(c("CoreComposerDefaultSocialSentence.react"),{userName:f}),b[12]=f,b[13]=g):g=b[13];return g}b=c("withComposerViewStatePart")(a,function(a){return{activeTaggers:(a=a.taggerData)==null?void 0:a.activeTaggerList}});g["default"]=b}),98);
__d("CometComposerIPSPlugin_scope.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerIPSPlugin_scope",selections:[{args:null,kind:"FragmentSpread",name:"useCometPrivacySelectorPushView_scope"},{alias:null,args:null,kind:"ScalarField",name:"privacy_write_id",storageKey:null}],type:"PrivacyScope",abstractKey:null};e.exports=a}),null);
__d("CometComposerIPSPluginRefreshQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4855587684528139"}),null);
__d("CometComposerIPSPluginRefreshQuery.graphql",["CometComposerIPSPluginRefreshQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerIPSPluginRefreshQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometComposerIPSPlugin_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometComposerIPSPluginRefreshQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"AudienceInfo",kind:"LinkedField",name:"audience_info",plural:!1,selections:[{alias:null,args:null,concreteType:"ComposerPostPrivacyFollowUpInfo",kind:"LinkedField",name:"post_privacy_followup_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"eligible_for_survey",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_for_default_privacy",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometComposerIPSPluginRefreshQuery_facebookRelayOperation"),metadata:{},name:"CometComposerIPSPluginRefreshQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometComposerIPSPlugin_viewer.graphql",["CometComposerIPSPluginRefreshQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["viewer"],operation:b("CometComposerIPSPluginRefreshQuery.graphql")}},name:"CometComposerIPSPlugin_viewer",selections:[{alias:null,args:null,concreteType:"AudienceInfo",kind:"LinkedField",name:"audience_info",plural:!1,selections:[{alias:null,args:null,concreteType:"ComposerPostPrivacyFollowUpInfo",kind:"LinkedField",name:"post_privacy_followup_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"eligible_for_survey",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_for_default_privacy",storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometIPSPushPageQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9127409210626474"}),null);
__d("CometIPSPushPageQuery$Parameters",["CometIPSPushPageQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometIPSPushPageQuery_facebookRelayOperation"),metadata:{},name:"CometIPSPushPageQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometIPSPushPage.entrypoint",["CometIPSPushPageQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.currentSelectedPrivacy;return{queries:{query:{parameters:c("CometIPSPushPageQuery$Parameters"),variables:{currentSelectedPrivacy:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometIPSPushPage.react").__setRef("CometIPSPushPage.entrypoint")};g["default"]=a}),98);
__d("InlinePrivacySurveyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1810928");b=d("FalcoLoggerInternal").create("inline_privacy_survey",a);e=b;g["default"]=e}),98);
__d("logIPSEvent",["InlinePrivacySurveyFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){c("InlinePrivacySurveyFalcoEvent").log(function(){return{from_privacy_json:b,ips_event:a,product:"comet_composer",source:"default_privacy_composer",to_privacy_json:d}})}g["default"]=a}),98);
__d("useCometComposerPrivacyPushPage",["CometComposerPushPageContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(6),e=a.onClose,f=a.styles,g=a.withBackButton,h=a.withCloseButton,m=(a=j(c("CometComposerPushPageContext")))==null?void 0:a.pushPageHandler;bb0:{if(m==null){a=void 0;break bb0}var n;b[0]!==m||b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==h?(n=function(a,b){m(String(b==null?void 0:b.title),function(b){b=b.onReturn;return i.jsx("div",{className:f,children:i.jsx(a,{onReturn:b,setTitle:l})})},{onBack:function(){var a=b==null?void 0:b.onBack;a&&a(k)},onClose:e,withBackButton:g,withCloseButton:h})},b[0]=m,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=n):n=b[5];a=n}return a}function k(){}function l(){}g["default"]=a}),98);
__d("CometPrivacySelectorSavePrivacyMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8795472927157290"}),null);
__d("CometPrivacySelectorSavePrivacyMutation.graphql",["CometPrivacySelectorSavePrivacyMutation_facebookRelayOperation","CometUFIShareActionMigration.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"input"},c={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e={defaultValue:null,kind:"LocalArgument",name:"storyRenderLocation"},f={defaultValue:null,kind:"LocalArgument",name:"tags"},g=[{kind:"Variable",name:"input",variableName:"input"}],h={kind:"Variable",name:"tags",variableName:"tags"},i=[{kind:"Variable",name:"renderLocation",variableName:"privacySelectorRenderLocation"},h],j=[{args:null,kind:"FragmentSpread",name:"CometUFIShareActionRenderer_feedback"}],k=[{kind:"Literal",name:"supported",value:"cOoG"}],l=[{kind:"Variable",name:"story_render_location",variableName:"storyRenderLocation"}],m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={kind:"Variable",name:"render_location",variableName:"privacySelectorRenderLocation"},p={alias:null,args:null,kind:"ScalarField",name:"current_tag_expansion",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"explanation",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"explanation_with_tag_expansion",storageKey:null},s={kind:"Variable",name:"scale",variableName:"scale"},t=[{kind:"Literal",name:"icon_purpose",value:"OPTION_LIST"},o,s],u={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},y={alias:null,args:t,concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[u,v,w,x,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"info_type",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},B={alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"allow",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deny",storageKey:null},{alias:null,args:null,concreteType:"PrivacyRowInputTargetingFields",kind:"LinkedField",name:"privacy_targeting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_fields",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tag_expansion_state",storageKey:null}],storageKey:null};u=[u,v,w,x];v=[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[{alias:null,args:t,concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:u,storageKey:null},p,q,r,n,A,B],storageKey:null}];w=[m,n];x=[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[y,p,q,r,z,A,B,n],storageKey:null}];t=[n,{alias:null,args:null,kind:"ScalarField",name:"is_selected",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"2rUGKi"}],concreteType:null,kind:"LinkedField",name:"renderer",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[p,q,r,y,n,z,A,B],storageKey:null}],type:"PrivacyOptionBasicOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:v,type:"PrivacyOptionFullCustomOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"saved_custom_type",storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"included_members",plural:!0,selections:w,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"excluded_members",plural:!0,selections:w,storageKey:null},n,p,q,r,y,z,A,B],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dialog_title",storageKey:null}],type:"PrivacyOptionSavedCustomOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:x,type:"PrivacyOptionLockedProfileDisabledOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[n,B],storageKey:null}],type:"PrivacyOptionRestrictedAudienceOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:x,type:"PrivacyOptionPublicForYouthDisabledOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:v,type:"WorkUserPrivacyOptionFullCustomOptionRenderer",abstractKey:null}],storageKey:'renderer(supported:"2rUGKi")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:"trigger_icon_image",args:[{kind:"Literal",name:"icon_purpose",value:"TRIGGER"},o,s],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:u,storageKey:null}];w=[n,{alias:null,args:null,kind:"ScalarField",name:"should_show_reshare_warning",storageKey:null}];p={kind:"InlineFragment",selections:[n],type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:[a,c,d,e,f],kind:"Fragment",metadata:null,name:"CometPrivacySelectorSavePrivacyMutation",selections:[{alias:null,args:g,concreteType:"PrivacySelectorSaveResponsePayload",kind:"LinkedField",name:"privacy_selector_save",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:[{args:i,kind:"FragmentSpread",name:"CometPrivacySelectorForScope_scope"},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:j,storageKey:null},{alias:null,args:k,concreteType:null,kind:"LinkedField",name:"privacy_scope_renderer",plural:!1,selections:[{args:i,kind:"FragmentSpread",name:"CometPrivacySelectorPickerContainer_renderer"}],storageKey:'privacy_scope_renderer(supported:"cOoG")'},{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"shareable_entity",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shareable",plural:!1,selections:j,storageKey:null}],type:"Story",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,d,e,f,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIShareActionMigrationrelayprovider"}],kind:"Operation",name:"CometPrivacySelectorSavePrivacyMutation",selections:[{alias:null,args:g,concreteType:"PrivacySelectorSaveResponsePayload",kind:"LinkedField",name:"privacy_selector_save",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:[{alias:null,args:k,concreteType:null,kind:"LinkedField",name:"privacy_scope_renderer",plural:!1,selections:[m,n,{kind:"TypeDiscriminator",abstractKey:"__isPrivacySelectorRenderer"},{kind:"InlineFragment",selections:[{alias:null,args:[o,h],concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_save_on_select",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comet_save_confirmation_dialog_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"s316O"}],concreteType:null,kind:"LinkedField",name:"header_renderer",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"CometPrivacySelectorPicker_scope",fragmentName:"CometPrivacySelectorPickerHeader_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"PrivacySelectorSimpleHeaderRenderer",abstractKey:null}],storageKey:'header_renderer(supported:"s316O")'},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"options",plural:!0,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_write_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_tag_expansion_options",storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"youth_disabled_public_education_option",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_in_locked_profile_mode",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"4b8fJE"}],concreteType:null,kind:"LinkedField",name:"footer_renderer",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"CometPrivacySelectorPickerFooter_scope",fragmentName:"CometDefaultPrivacySelectorPickerFooter_footer",fragmentPropName:"footer",kind:"ModuleImport"}],type:"PrivacySelectorDefaultPrivacyFooterRenderer",abstractKey:null}],storageKey:'footer_renderer(supported:"4b8fJE")'}],storageKey:null},B,{args:[{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$renderLocation",variableName:"privacySelectorRenderLocation"}],documentName:"CometPrivacySelectorForScope_scope",fragmentName:"CometPrivacySelectorEditable_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"PrivacyScopeEditableRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:[{kind:"Variable",name:"CometPrivacySelectorUneditable_renderer$renderLocation",variableName:"privacySelectorRenderLocation"}],documentName:"CometPrivacySelectorForScope_scope",fragmentName:"CometPrivacySelectorUneditable_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"PrivacyScopeUneditableRenderer",abstractKey:null}],storageKey:'privacy_scope_renderer(supported:"cOoG")'},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:w,storageKey:null},{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"shareable_entity",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shareable",plural:!1,selections:[m,{kind:"InlineFragment",selections:w,type:"Feedback",abstractKey:null},p],storageKey:null}],type:"Story",abstractKey:null},p],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometPrivacySelectorSavePrivacyMutation_facebookRelayOperation"),metadata:{},name:"CometPrivacySelectorSavePrivacyMutation",operationKind:"mutation",text:null,providedVariables:{__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider")}}}}();e.exports=a}),null);
__d("CometPrivacySelectorSavePrivacyMutation",["CometPrivacySelectorSavePrivacyMutation.graphql","CometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return{option:{icon_purpose:a,render_location:b,scale:c},scope:{scale:c}}}function j(a,b,c){var d=b.privacySelectorRenderLocation,e=b.scale;b=b.tags;var f=c.privacyWriteID;c=c.selectedOptionID;if(c==null)return;a=a.get(f);if(a==null)return;f=a.getLinkedRecord("privacy_scope_for_location",{render_location:d,tags:b});if(f==null)return;b=(a=f.getLinkedRecords("options"))!=null?a:[];for(var a=b,b=Array.isArray(a),g=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(b){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;if(h==null)continue;var j=h.getValue("id");j=j===c;h.setValue(j,"is_selected");if(j){j=h.getValue("label");var k=h.getValue("description"),l=i("TRIGGER",d,e),m=h.getLinkedRecord("icon_image",l.option);f.setLinkedRecord(h,"selected_option");f.setValue(j,"label");f.setValue(k,"description");m!=null?(f.setLinkedRecord(m,"icon_image",l.option),f.setLinkedRecord(m,"icon_image",l.scope)):(f.setValue(null,"icon_image",l.option),f.setValue(null,"icon_image",l.scope))}}}function a(a,c){var e=c.environment,f=c.onCompleted,g=c.onError,i=c.updaterVariables;return d("CometRelay").commitMutation(e,{mutation:h!==void 0?h:h=b("CometPrivacySelectorSavePrivacyMutation.graphql"),onCompleted:f,onError:g&&function(a){return g(a)},optimisticUpdater:function(b){j(b,a,i)},variables:a})}function c(a){var b=a.environment,c=a.mutationVariables,e=a.updaterVariables;return d("CometRelay").commitLocalUpdate(b,function(a){j(a,c,e)})}g.getIconArgs=i;g.commitPrivacySaveMutation=a;g.commitLocalPrivacyChange=c}),98);
__d("refetchCometPrivacySelectorNonAutosavePickerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8459629594162916"}),null);
__d("refetchCometPrivacySelectorNonAutosavePickerQuery.graphql",["CometPrivacySelectorEditable_renderer$normalization.graphql","refetchCometPrivacySelectorNonAutosavePickerQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"localPrivacyRow"},{defaultValue:null,kind:"LocalArgument",name:"privacyWriteID"},{defaultValue:null,kind:"LocalArgument",name:"renderLocation"},{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"tags"}],c=[{kind:"Variable",name:"id",variableName:"privacyWriteID"}],d={kind:"Variable",name:"render_location",variableName:"renderLocation"},e={kind:"Variable",name:"tags",variableName:"tags"},f=[d,{kind:"Variable",name:"selected_override",variableName:"localPrivacyRow"},e],g=[{alias:null,args:null,kind:"ScalarField",name:"allow",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deny",storageKey:null},{alias:null,args:null,concreteType:"PrivacyRowInputTargetingFields",kind:"LinkedField",name:"privacy_targeting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_fields",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tag_expansion_state",storageKey:null}],h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},j={alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[h,i],storageKey:null};e=[{kind:"Variable",name:"localPrivacyRow",variableName:"localPrivacyRow"},{kind:"Variable",name:"renderLocation",variableName:"renderLocation"},e];var k={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"current_tag_expansion",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"explanation",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"explanation_with_tag_expansion",storageKey:null},o={kind:"Variable",name:"scale",variableName:"scale"},p=[{kind:"Literal",name:"icon_purpose",value:"OPTION_LIST"},d,o],q={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},u={alias:null,args:p,concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[q,r,s,t,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"info_type",storageKey:null},w={alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:g,storageKey:null};q=[q,r,s,t];r=[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[{alias:null,args:p,concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:q,storageKey:null},l,m,n,h,i,w],storageKey:null}];s=[k,h];t=[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[u,l,m,n,v,i,w,h],storageKey:null}];p=[h,{alias:null,args:null,kind:"ScalarField",name:"is_selected",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"2rUGKi"}],concreteType:null,kind:"LinkedField",name:"renderer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[l,m,n,u,h,v,i,w],storageKey:null}],type:"PrivacyOptionBasicOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:r,type:"PrivacyOptionFullCustomOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"saved_custom_type",storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"included_members",plural:!0,selections:s,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"excluded_members",plural:!0,selections:s,storageKey:null},h,l,m,n,u,v,i,w],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dialog_title",storageKey:null}],type:"PrivacyOptionSavedCustomOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:t,type:"PrivacyOptionLockedProfileDisabledOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[h,w],storageKey:null}],type:"PrivacyOptionRestrictedAudienceOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:t,type:"PrivacyOptionPublicForYouthDisabledOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:r,type:"WorkUserPrivacyOptionFullCustomOptionRenderer",abstractKey:null}],storageKey:'renderer(supported:"2rUGKi")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:"trigger_icon_image",args:[{kind:"Literal",name:"icon_purpose",value:"TRIGGER"},d,o],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:q,storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"refetchCometPrivacySelectorNonAutosavePickerQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:f,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"selected_row_override",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PrivacyRowInput_inline",selections:g,args:null,argumentDefinitions:[]}],storageKey:null},j],storageKey:null},{args:e,kind:"FragmentSpread",name:"CometPrivacySelectorPickerContainer_renderer"},{args:e,kind:"FragmentSpread",name:"CometPrivacySelectorEditable_renderer"}],type:"PrivacyScopeEditableRenderer",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"refetchCometPrivacySelectorNonAutosavePickerQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[k,h,{kind:"InlineFragment",selections:[{alias:null,args:f,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"selected_row_override",plural:!1,selections:g,storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"should_save_on_select",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comet_save_confirmation_dialog_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"s316O"}],concreteType:null,kind:"LinkedField",name:"header_renderer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometPrivacySelectorPicker_scope",fragmentName:"CometPrivacySelectorPickerHeader_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"PrivacySelectorSimpleHeaderRenderer",abstractKey:null}],storageKey:'header_renderer(supported:"s316O")'},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"options",plural:!0,selections:p,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_write_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_tag_expansion_options",storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"youth_disabled_public_education_option",plural:!1,selections:p,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_in_locked_profile_mode",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"4b8fJE"}],concreteType:null,kind:"LinkedField",name:"footer_renderer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometPrivacySelectorPickerFooter_scope",fragmentName:"CometDefaultPrivacySelectorPickerFooter_footer",fragmentPropName:"footer",kind:"ModuleImport"}],type:"PrivacySelectorDefaultPrivacyFooterRenderer",abstractKey:null}],storageKey:'footer_renderer(supported:"4b8fJE")'}],storageKey:null},w,{args:[{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$localPrivacyRow",variableName:"localPrivacyRow"},{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$renderLocation",variableName:"renderLocation"},{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$tags",variableName:"tags"}],fragment:b("CometPrivacySelectorEditable_renderer$normalization.graphql"),kind:"FragmentSpread"}],type:"PrivacyScopeEditableRenderer",abstractKey:null}],storageKey:null}]},params:{id:b("refetchCometPrivacySelectorNonAutosavePickerQuery_facebookRelayOperation"),metadata:{},name:"refetchCometPrivacySelectorNonAutosavePickerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("refetchCometPrivacySelectorNonAutosavePicker",["CometRelay","PrivacyRowInput","WebPixelRatio","refetchCometPrivacySelectorNonAutosavePickerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=a.dispatch,e=a.environment,f=a.onComplete,g=a.privacyWriteID,i=a.rawLocalPrivacyRow,j=a.renderLocation,k=a.tags;d("CometRelay").fetchQuery(e,h!==void 0?h:h=b("refetchCometPrivacySelectorNonAutosavePickerQuery.graphql"),{localPrivacyRow:i,privacyWriteID:g,renderLocation:j,scale:d("WebPixelRatio").get(),tags:k}).subscribe({next:function(a){a=(a=a.node)==null?void 0:a.privacy_scope_for_location;var b=a==null?void 0:a.selected_row_override;b=d("PrivacyRowInput").getPrivacyRowInput(b);var h=(b=b)!=null?b:i;d("CometRelay").commitLocalUpdate(e,function(a){a=a.get(g);if(a==null)return;var b=a.getLinkedRecord("privacy_scope_for_location",{render_location:j,selected_override:i,tags:k});if(b==null)return;a.setLinkedRecord(b,"privacy_scope_for_location",{render_location:j,selected_override:h,tags:k})});c({localPrivacyRow:h,type:"setLocalPrivacyRow"});f==null?void 0:f(a==null?void 0:(b=a.selected_option)==null?void 0:b.id,h,a==null?void 0:(b=a.selected_option)==null?void 0:b.label)}})}g["default"]=a}),98);
__d("useCometPrivacySelectorChangePrivacy",["fbt","CometPrivacySelectorSavePrivacyMutation","CometRelay","PrivacyMutationToken","WebPixelRatio","react","refetchCometPrivacySelectorNonAutosavePicker","useCometAlertDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).useCallback;function a(a){var b=a.callsiteContextInput,e=a.dispatch,f=a.onPrivacyChange,g=a.onPrivacyChangeStart,i=a.privacyWriteID,k=a.renderLocation,l=a.shouldSaveOnSelect,m=a.storyRenderLocation,n=a.supervisedUserID,o=a.tags,p=d("PrivacyMutationToken").usePrivacyMutationToken(),q=c("useCometAlertDialog")(),r=d("CometRelay").useRelayEnvironment();return j(function(a,j){var s;if(j==null||i==null)return;g&&g(j);s={input:{privacy_mutation_token:p,privacy_row_input:{allow:(s=j.allow)!=null?s:[],base_state:j.base_state,deny:(s=j.deny)!=null?s:[],privacy_targeting:j.privacy_targeting,tag_expansion_state:(s=j.tag_expansion_state)!=null?s:"UNSPECIFIED"},privacy_selector_callsite_context_input:b,privacy_write_id:i,render_location:k,supervised_user_id:n},privacySelectorRenderLocation:k,scale:d("WebPixelRatio").get(),storyRenderLocation:m,tags:o};a={privacyWriteID:i,selectedOptionID:a};l?d("CometPrivacySelectorSavePrivacyMutation").commitPrivacySaveMutation(s,{environment:r,onCompleted:function(){e({localPrivacyRow:null,type:"setLocalPrivacyRow"}),f&&f({isDefaultPrivacyChecked:l,privacyRowInput:j,type:"success"})},onError:function(a){var b;b=(b=a.summary)!=null?b:h._(/*BTDS*/"__JHASH__Dk74keO6x-z__JHASH__");a=(a=a.description)!=null?a:h._(/*BTDS*/"__JHASH__cCtM1StMa0C__JHASH__");q({body:a,title:b},function(){});f&&f({type:"error"})},updaterVariables:a}):c("refetchCometPrivacySelectorNonAutosavePicker")({dispatch:e,environment:r,onComplete:function(a,b,c){f==null?void 0:f({__newLocalPrivacyRow:b,isDefaultPrivacyChecked:l,label:c,privacyRowInput:b,type:"success"})},privacyWriteID:i,rawLocalPrivacyRow:j,renderLocation:k,tags:o})},[b,e,r,f,g,p,i,k,l,q,m,o])}g["default"]=a}),226);
__d("coercePrivacyData",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return null;var b=a.privacy_targeting;a=babelHelpers.objectWithoutPropertiesLoose(a,["privacy_targeting"]);return babelHelpers["extends"]({privacy_targeting:b},a)}f["default"]=a}),66);
__d("useComposerPrivacyChangeHandlers",["CometComposerViewStateContext","ComposerAudienceOverrideLogger","coercePrivacyData","react","react-compiler-runtime","requireDeferred","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext,j=c("requireDeferred")("ComposerTelemetryFalcoEvent").__setRef("useComposerPrivacyChangeHandlers");function a(){var a,b=d("react-compiler-runtime").c(9),e=c("useComposerViewStateDispatcher")(),f=i(c("CometComposerViewStateContext")),g=(a=f.audience)==null?void 0:(a=a.privacy)==null?void 0:a.base_state;b[0]!==g||b[1]!==e||b[2]!==f.creationSessionID?(a=function(a){if(a.type==="init"||a.type==="success"){var b=f.creationSessionID;a.type==="success"&&b!=null&&b.trim().length>0&&d("ComposerAudienceOverrideLogger").logBasicPrivacyChangeCompleted({creationSessionID:b,eventType:a.isDefaultPrivacyChecked===!0?"client_and_default_privacy_update":"client_privacy_update",privacyPostParam:a.privacyRowInput});j.onReady(function(b){return b.log(function(){var b;return{call_site:"useComposerPrivacyChangeHandlers",creation_session_id:(b=f.creationSessionID)!=null?b:"",debug_info:"viewState privacy info:"+((b=g)!=null?b:"null")+" |private row input:"+((b=(b=a.privacyRowInput)==null?void 0:b.base_state)!=null?b:"null"),event:"onPrivacyChange."+a.type}})});k(e,a.privacyRowInput)}else a.type==="error"&&k(e,null)},b[0]=g,b[1]=e,b[2]=f.creationSessionID,b[3]=a):a=b[3];a=a;var h;b[4]!==e?(h=function(a){k(e,a)},b[4]=e,b[5]=h):h=b[5];h=h;var l;b[6]!==a||b[7]!==h?(l={onPrivacyChange:a,onPrivacyChangeStart:h},b[6]=a,b[7]=h,b[8]=l):l=b[8];return l}function k(a,b){a({audience:{privacy:c("coercePrivacyData")(b)},type:"update_audience"})}g["default"]=a}),98);
__d("CometComposerIPSPlugin.react",["fbt","CometComposerIPSPlugin_scope.graphql","CometComposerIPSPlugin_viewer.graphql","CometIPSPushPage.entrypoint","CometPlaceholder.react","CometPrivacySelectorContext","CometRelay","FDSProgressIndicator.react","logIPSEvent","react","useCometComposerPrivacyPushPage","useCometComposerPushPage","useCometPrivacySelectorChangePrivacy","useCometPrivacySelectorPushView","useCometRelayEntrypointContextualEnvironmentProvider","useComposerPreSubmitHook","useComposerPrivacyChangeHandlers","useVerifyCometComposerPushPage","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useContext,o=e.useRef;function a(a){var e=a.cometComposerIPSPlugin_viewer$key,f=a.currentSelectedPrivacy,g=a.onIPSClosedWithSelection;a=a.scopeRef;e=d("CometRelay").useRefetchableFragment(i!==void 0?i:i=b("CometComposerIPSPlugin_viewer.graphql"),e);var k=e[0],p=e[1];e=d("CometRelay").useFragment(j!==void 0?j:j=b("CometComposerIPSPlugin_scope.graphql"),a);var q=o(!1),r=q.current!==!0&&(k==null?void 0:(a=k.audience_info)==null?void 0:(a=a.post_privacy_followup_info)==null?void 0:a.eligible_for_survey)===!0&&(k==null?void 0:(a=k.audience_info)==null?void 0:(k=a.post_privacy_followup_info)==null?void 0:k.is_for_default_privacy)===!0,s=c("useVerifyCometComposerPushPage")(),t=c("useCometComposerPushPage")();a=n(c("CometPrivacySelectorContext"));k=a[0];a=a[1];var u=c("useComposerPrivacyChangeHandlers")(),v=u.onPrivacyChange;u=u.onPrivacyChangeStart;var w=m(function(a){v&&v(a),g(a)},[g,v]),x=c("useCometPrivacySelectorPushView")(e,{onPrivacyChange:w,onPrivacyChangeStart:u,pushPage:c("useCometComposerPrivacyPushPage")({withBackButton:!1,withCloseButton:!1}),renderLocation:"COMET_COMPOSER",title:h._(/*BTDS*/"__JHASH__9iUTTT6yFHo__JHASH__")},k,a),y=m(function(a,b,d){x!=null&&(b(),a(),x(),c("logIPSEvent")("more_options",d,null))},[x]),z=function(a,b,d,e){c("logIPSEvent")(a,e,e),d(),b()},A=c("useCometPrivacySelectorChangePrivacy")({dispatch:a,onPrivacyChange:w,onPrivacyChangeStart:u,privacyWriteID:e==null?void 0:e.privacy_write_id,renderLocation:"COMET_COMPOSER",shouldSaveOnSelect:!1,storyRenderLocation:void 0,tags:[]}),B=function(a,b,d,e,f,g,h){e(),A(b,d),f(),c("logIPSEvent")(a,g,h)},C=c("useCometRelayEntrypointContextualEnvironmentProvider")();k=function(a){var b=a.onContinue,e=a.onHalt;if(!s||!r||f==null){b();return}var g=d("CometRelay").loadEntryPoint(C,c("CometIPSPushPage.entrypoint"),{currentSelectedPrivacy:f});t("",function(a){var f=a.onReturn;return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1egiwwb xl56j7k xvue9z"},{children:l.jsx(c("FDSProgressIndicator.react"),{})})),children:l.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:g,props:{onFirstOptionSelected:function(a){return z("chose_first_option",b,f,a)},onMoreOptionsSelected:function(a){return y(f,e,a)},onSecondOptionSelected:function(a,b,c,d){B("chose_second_option",a,b,f,e,c,d)},onSkipAndContinueSelected:function(a){return z("dismissed",b,f,a)},onThirdOptionSelected:function(a,b,c,d){B("chose_third_option",a,b,f,e,c,d)}}})})},{hasCustomHeader:!0,withBackButton:!1,withCloseButton:!1});q.current=!0;p({},{fetchPolicy:"network-only"});c("logIPSEvent")("exposed")};c("useComposerPreSubmitHook")(k);return null}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){return{currentSelectedPrivacy:(a=a.audience)==null?void 0:a.privacy}});g["default"]=e}),226);
__d("CometComposerMinutiaeBarLayout.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),c=a.body,e=a.meta;a=a.profilePicture;var f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x6s0dn4 x78zum5 xktsk01 x1d52u69 xyamay9 x4uap5 x1l90r2v xkhd6sd"},g={className:"x1mvxwlf"},b[0]=f,b[1]=g):(f=b[0],g=b[1]);b[2]!==a?(g=i.jsx("div",babelHelpers["extends"]({},g,{children:a})),b[2]=a,b[3]=g):g=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x78zum5 xdt5ytf xh8yej3"},b[4]=a):a=b[4];var h;b[5]!==e?(h=e!=null&&i.jsx("div",babelHelpers["extends"]({className:"x1aawmmo"},{children:e})),b[5]=e,b[6]=h):h=b[6];b[7]!==c||b[8]!==h?(e=i.jsxs("div",babelHelpers["extends"]({},a,{children:[c,h]})),b[7]=c,b[8]=h,b[9]=e):e=b[9];b[10]!==g||b[11]!==e?(a=i.jsxs("div",babelHelpers["extends"]({},f,{children:[g,e]})),b[10]=g,b[11]=e,b[12]=a):a=b[12];return a}g["default"]=a}),98);
__d("CometComposerMinutiaeBarMeta.react",["BaseMiddot.react","CometBCHSTStrings","FDSText.react","isStringNullOrEmpty","react","react-compiler-runtime","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.brandedContent,f=a.channelsSelector,g=a.destinationSelector,h=a.genAILabelSelector;a=a.privacySelector;e=!c("isStringNullOrEmpty")(e==null?void 0:e.sponsorID)&&(e==null?void 0:e.sponsorRelationship)==="PAID_RELATIONSHIP_WITH";var j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x6s0dn4 x78zum5"},b[0]=j):j=b[0];var k;b[1]!==e?(k=e&&i.jsxs(c("FDSText.react"),{type:"meta1",children:[d("CometBCHSTStrings").tagging.paidPartnershipLabel,i.jsx(c("BaseMiddot.react"),{className:"x1emribx xsgj6o6"})]}),b[1]=e,b[2]=k):k=b[2];b[3]!==f||b[4]!==g||b[5]!==h||b[6]!==a||b[7]!==k?(e=i.jsxs("div",babelHelpers["extends"]({},j,{children:[k,g,a,f,h]})),b[3]=f,b[4]=g,b[5]=h,b[6]=a,b[7]=k,b[8]=e):e=b[8];return e}b=c("withComposerViewStatePart")(a,function(a){return{brandedContent:a.brandedContent}});g["default"]=b}),98);
__d("CometComposerMinutiaeBar_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometComposerMinutiaeBar_profile",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometComposerActorProfilePicture_profile"}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("ComposerSocialSentenceWithLocalAlertRenderer.react",["fbt","CometPlaceholder.react","FDSText.react","FDSTextPairing.react","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("ComposerSocialSentenceWithLocalAlert.react").__setRef("ComposerSocialSentenceWithLocalAlertRenderer.react"));function a(a){var b=d("react-compiler-runtime").c(8),e=a.allLocalAlertData;a=a.userName;var f=e==null?void 0:e.socialSentence;if(f!=null)return f;f=e==null?void 0:e.newAlert;if(f==null||a==null)return null;b[0]!==a?(e=j.jsx(c("FDSTextPairing.react"),{headline:h._(/*BTDS*/"__JHASH__JlzWVWwGaas__JHASH__",[h._param("userName",j.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:a}))]),level:4,reduceEmphasis:!0}),b[0]=a,b[1]=e):e=b[1];var g;b[2]!==f||b[3]!==a?(g=j.jsx(k,{localAlert:f,userName:a}),b[2]=f,b[3]=a,b[4]=g):g=b[4];b[5]!==e||b[6]!==g?(f=j.jsx(c("CometPlaceholder.react"),{fallback:e,children:g}),b[5]=e,b[6]=g,b[7]=f):f=b[7];return f}b=c("withComposerViewStatePart")(a,function(a){return{allLocalAlertData:a.localAlert}});g["default"]=b}),226);
__d("FeedComposerSocialSentenceLocation.react",["fbt","CometComposerTaggerPluginTypes","CometLink.react","FDSText.react","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime","recoverableViolation","useCometComposerPushPage","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useMemo;var k=c("lazyLoadComponent")(c("JSResourceForInteraction")("ComposerLocationListContainer.react").__setRef("FeedComposerSocialSentenceLocation.react"));function a(a){var b=d("react-compiler-runtime").c(9);a=a.name;var e=c("useCometComposerPushPage")(),f;b[0]!==e?(f=function(){e(h._(/*BTDS*/"__JHASH__Qray2IaBbp9__JHASH__"),l,void 0,c("CometComposerTaggerPluginTypes").LOCATION)},b[0]=e,b[1]=f):f=b[1];f=f;f=f;if(a==null){c("recoverableViolation")("Attempting to render null location in social sentence","comet_composer");return null}if(f!=null){var g;b[2]!==a?(g=j.jsx(c("FDSText.react"),{color:"primary",type:"headlineEmphasized4",children:a}),b[2]=a,b[3]=g):g=b[3];var i;b[4]!==f||b[5]!==g?(i=j.jsx(c("CometLink.react"),{href:"#",onClick:f,children:g}),b[4]=f,b[5]=g,b[6]=i):i=b[6];return i}else c("recoverableViolation")("push page should not be null","comet_composer");b[7]!==a?(f=j.jsx(c("FDSText.react"),{color:"primary",type:"headlineEmphasized4",children:a}),b[7]=a,b[8]=f):f=b[8];return f}function l(a){a=a.onReturn;return j.jsx(k,{onClose:a})}l.displayName=l.name+" [from "+f.id+"]";b=c("withComposerViewStatePart")(a,function(a){return{name:(a=a.locationMinutiae)==null?void 0:a.name}});g["default"]=b}),226);
__d("composerLocationTaggingViewStateReducer",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){return babelHelpers["extends"]({},a,{locationMinutiae:{address:b.address,categoryIcon:b.categoryIcon,isGeohub:b.is_geohub,name:b.name,placeID:b.id,showAttachment:!0}})}function h(a){return babelHelpers["extends"]({},a,{locationMinutiae:void 0})}function a(a,b){switch(b.type){case"SET_LOCATION_TAG_ID":return g(a,b);case"CLEAR":return h(a)}return a}f["default"]=a}),66);
__d("ComposerSocialSentenceWithLocation.react",["fbt","FDSText.react","FDSTextPairing.react","FeedComposerSocialSentenceLocation.react","composerLocationTaggingViewStateReducer","react","react-compiler-runtime","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.locationMinutiae;a=a.userName;c("useComposerViewStateReducer")(c("composerLocationTaggingViewStateReducer"));if(a==null)return null;var f;b[0]!==(e==null?void 0:e.isGeohub)||b[1]!==a?(f=j.jsx(c("FDSTextPairing.react"),{headline:(e==null?void 0:e.isGeohub)?h._(/*BTDS*/"__JHASH__lrDB_S3bt0P__JHASH__",[h._param("userName",j.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:a})),h._param("location",j.jsx(c("FeedComposerSocialSentenceLocation.react"),{}))]):h._(/*BTDS*/"__JHASH__c2DSc8A98OS__JHASH__",[h._param("userName",j.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:a})),h._param("location",j.jsx(c("FeedComposerSocialSentenceLocation.react"),{}))]),level:4,reduceEmphasis:!0}),b[0]=e==null?void 0:e.isGeohub,b[1]=a,b[2]=f):f=b[2];return f}b=c("withComposerViewStatePart")(a,function(a){return{locationMinutiae:a.locationMinutiae}});g["default"]=b}),226);
__d("FeedComposerSocialSentenceTaggedUsersQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6393403844002903"}),null);
__d("FeedComposerSocialSentenceTaggedUsersQuery.graphql",["FeedComposerSocialSentenceTaggedUsersQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"ids"}],c=[{kind:"Variable",name:"ids",variableName:"ids"}],d={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"Profile",abstractKey:"__isProfile"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FeedComposerSocialSentenceTaggedUsersQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FeedComposerSocialSentenceTaggedUsersQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("FeedComposerSocialSentenceTaggedUsersQuery_facebookRelayOperation"),metadata:{},name:"FeedComposerSocialSentenceTaggedUsersQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("isTwoFriendListsDifferent",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b.length!==a.length)return!0;a=new Set(a);for(var c=0;c<b.length;c++){var d=b[c];if(!a.has(d))return!0}return!1}f["default"]=a}),66);
__d("composerWithTagStateChecker",["isTwoFriendListsDifferent","withTagIDsTrackerConversionUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=(b=d("withTagIDsTrackerConversionUtils").convertWithTagIDsTrackerToArray(b==null?void 0:b.withTagIDsTracker))!=null?b:[];a=(a=d("withTagIDsTrackerConversionUtils").convertWithTagIDsTrackerToArray(a==null?void 0:a.withTagIDsTracker))!=null?a:[];return c("isTwoFriendListsDifferent")(a,b)}g["default"]=a}),98);
__d("getSocialSentenceTaggedUsersText",["fbt","CometLink.react","FDSText.react","IntlVariations","emptyFunction","intlList","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react");function k(a,b){return b===c("emptyFunction")?a:j.jsx(c("FDSText.react"),{color:"primary",type:"headlineEmphasized4",children:j.jsx(c("CometLink.react"),{onClick:b,children:a})})}k.displayName=k.name+" [from "+f.id+"]";function a(a,b,d){d===void 0&&(d=c("emptyFunction"));var e=b.length;if(e<=a)return c("intlList")(b.map(function(a){a=h._(/*BTDS*/"__JHASH__3HxSvC7xoKj__JHASH__",[h._name("name",a,c("IntlVariations").GENDER_UNKNOWN)]);return k(a,d)}));else{e=e-a;a=h._(/*BTDS*/"__JHASH__M0DGlBKQM-G__JHASH__",[h._plural(e,"number")]);return c("intlList")(b.slice(0,3).map(function(a){a=h._(/*BTDS*/"__JHASH__3HxSvC7xoKj__JHASH__",[h._name("name",a,c("IntlVariations").GENDER_UNKNOWN)]);return k(a,d)}).concat([k(a,d)]))}}g.getSocialSentenceTaggedUsersText=a}),226);
__d("FeedComposerSocialSentenceTaggedUsers.react",["fbt","CometComposerTaggerPluginTypes","CometComposerViewStateAlteredContext","CometRelay","FeedComposerSocialSentenceTaggedUsersQuery.graphql","JSResourceForInteraction","composerWithTagStateChecker","getSocialSentenceTaggedUsersText","gkx","intlList","lazyLoadComponent","react","react-compiler-runtime","recoverableViolation","useCometComposerPushPage","useContextRef","useFeedComposerCometWithTagDataSource"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));j.useMemo;var l=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerFriendListContainer.react").__setRef("FeedComposerSocialSentenceTaggedUsers.react")),m=3;function a(a){var e=d("react-compiler-runtime").c(8);a=a.ids;c("useContextRef")(c("composerWithTagStateChecker"),c("CometComposerViewStateAlteredContext"));var f=c("useCometComposerPushPage")(),g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={limit:20},e[0]=g):g=e[0];var j=c("useFeedComposerCometWithTagDataSource")(g);e[1]!==f||e[2]!==j?(g=function(){var a=c("gkx")("20836")?h._(/*BTDS*/"__JHASH__gMARiTF6041__JHASH__"):h._(/*BTDS*/"__JHASH__fHB-5J7kvKZ__JHASH__");f(a,function(b){b=b.onReturn;return k.jsx(l,{dataSource:j,headerProps:{isHeaderEnabled:!0,title:a,withBackButton:!0,withCloseButton:!1},onClose:b,withPopover:!1})},{hasCustomHeader:!0,overrideOnEscape_I_KNOW_WHAT_IM_DOING:!0},c("CometComposerTaggerPluginTypes").TAG)},e[1]=f,e[2]=j,e[3]=g):g=e[3];g=g;g=g;a=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("FeedComposerSocialSentenceTaggedUsersQuery.graphql"),{ids:a});var p=a.nodes,q,r;if(e[4]!==a.nodes||e[5]!==g){r=Symbol["for"]("react.early_return_sentinel");bb0:{p=p.map(o);if(g!=null){r=d("getSocialSentenceTaggedUsersText").getSocialSentenceTaggedUsersText(m,p,g);break bb0}else c("recoverableViolation")("push page should not be null","comet_composer");q=c("intlList")(p.map(n))}e[4]=a.nodes;e[5]=g;e[6]=q;e[7]=r}else q=e[6],r=e[7];return r!==Symbol["for"]("react.early_return_sentinel")?r:q}function n(a){return k.jsx("span",{children:a})}n.displayName=n.name+" [from "+f.id+"]";function o(a){return a.name}g["default"]=a}),226);
__d("removeWithTagAttributionFromTracker",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=b.get(a);if(d!=null){d={isDisplayedInSocialSentence:!1,withTagSourceIDs:d.withTagSourceIDs.filter(function(a){return a!==c})};d.withTagSourceIDs.length>0?b.set(a,d):b["delete"](a)}return b}f["default"]=a}),66);
__d("removeAllWithTagAttributionForSourceIDFromTracker",["removeWithTagAttributionFromTracker"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){for(var d=a.keys(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c("removeWithTagAttributionFromTracker")(g,a,b)}return a}g["default"]=a}),98);
__d("composerWithTagViewStateReducer",["addTagsToWithTagsIDsTracker","removeAllWithTagAttributionForSourceIDFromTracker","removeWithTagAttributionFromTracker"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){b=b.withTagID;b=c("addTagsToWithTagsIDsTracker")("WithTagTool",[b],(b=a.withTagIDsTracker)!=null?b:new Map());return babelHelpers["extends"]({},a,{withTagIDsTracker:b})}function i(a,b){var d=new Map(a.withTagIDsTracker);b=b.withTagID;b=c("removeWithTagAttributionFromTracker")(b,d,"WithTagTool");return babelHelpers["extends"]({},a,{withTagIDsTracker:b})}function j(a){return babelHelpers["extends"]({},a,{withTagIDsTracker:void 0})}function k(a,b){var d=new Map(a.withTagIDsTracker);b=b.withTagIDs;d=c("removeAllWithTagAttributionForSourceIDFromTracker")(d,"WithTagTool");d=c("addTagsToWithTagsIDsTracker")("WithTagTool",b,(b=d)!=null?b:new Map());return babelHelpers["extends"]({},a,{withTagIDsTracker:d})}function a(a,b){switch(b.type){case"ADD_WITH_TAG_ID":return h(a,b);case"REMOVE_WITH_TAG_ID":return i(a,b);case"REMOVE_ALL_WITH_TAGS":return j(a);case"SET_WITH_TAGS_IDS":return k(a,b)}return a}g["default"]=a}),98);
__d("ComposerSocialSentenceWithLocationAndTaggedUsers.react",["fbt","FDSText.react","FDSTextPairing.react","FeedComposerSocialSentenceLocation.react","FeedComposerSocialSentenceTaggedUsers.react","composerLocationTaggingViewStateReducer","composerWithTagStateChecker","composerWithTagViewStateReducer","react","react-compiler-runtime","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e=a.locationMinutiae,f=a.taggedUsers;a=a.userName;c("useComposerViewStateReducer")(c("composerLocationTaggingViewStateReducer"));c("useComposerViewStateReducer")(c("composerWithTagViewStateReducer"),c("composerWithTagStateChecker"));var g;b[0]!==(e==null?void 0:e.isGeohub)||b[1]!==f||b[2]!==a?(g=j.jsx(c("FDSTextPairing.react"),{headline:(e==null?void 0:e.isGeohub)?h._(/*BTDS*/"__JHASH__XWO2Lv8t-RY__JHASH__",[h._param("userName",j.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:a})),h._param("listOfTaggedPeople",j.jsx(c("FeedComposerSocialSentenceTaggedUsers.react"),{ids:f})),h._param("location",j.jsx(c("FeedComposerSocialSentenceLocation.react"),{}))]):h._(/*BTDS*/"__JHASH__SaO1DZcLv_S__JHASH__",[h._param("userName",j.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:a})),h._param("listOfTaggedPeople",j.jsx(c("FeedComposerSocialSentenceTaggedUsers.react"),{ids:f})),h._param("location",j.jsx(c("FeedComposerSocialSentenceLocation.react"),{}))]),level:4,reduceEmphasis:!0}),b[0]=e==null?void 0:e.isGeohub,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}b=c("withComposerViewStatePart")(a,function(a){return{locationMinutiae:a.locationMinutiae}});g["default"]=b}),226);
__d("ComposerSocialSentenceWithTaggedUsers.react",["fbt","FDSText.react","FDSTextPairing.react","FeedComposerSocialSentenceTaggedUsers.react","composerWithTagStateChecker","composerWithTagViewStateReducer","react","react-compiler-runtime","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.taggedUsers;a=a.userName;c("useComposerViewStateReducer")(c("composerWithTagViewStateReducer"),c("composerWithTagStateChecker"));var f;b[0]!==e||b[1]!==a?(f=j.jsx(c("FDSTextPairing.react"),{headline:h._(/*BTDS*/"__JHASH__wfr_5ufKJn6__JHASH__",[h._param("userName",j.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:a})),h._param("listOfTaggedPeople",j.jsx(c("FeedComposerSocialSentenceTaggedUsers.react"),{ids:e}))]),level:4,reduceEmphasis:!0}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),226);
__d("FeedComposerSocialSentenceActivityObjectQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9740063192731365"}),null);
__d("FeedComposerSocialSentenceActivityObjectQuery.graphql",["FeedComposerSocialSentenceActivityObjectQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"id",variableName:"id"}],d={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"Profile",abstractKey:"__isProfile"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FeedComposerSocialSentenceActivityObjectQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FeedComposerSocialSentenceActivityObjectQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("FeedComposerSocialSentenceActivityObjectQuery_facebookRelayOperation"),metadata:{},name:"FeedComposerSocialSentenceActivityObjectQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useCometComposerPushTagEventPage",["CometComposerTaggerPluginTypes","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime","useCometComposerPushPageWithReducer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerEventListComposerPage.react").__setRef("useCometComposerPushTagEventPage"));function a(a){var b=d("react-compiler-runtime").c(3),e=c("useCometComposerPushPageWithReducer")(),f;b[0]!==e||b[1]!==a?(f=function(){e(a,k,c("CometComposerTaggerPluginTypes").EVENT)},b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}function k(a){a=a.onReturn;return i.jsx(j,{onClose:a})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FeedComposerSocialSentenceActivityObject.react",["fbt","CometComposerTaggerPluginTypes","CometLink.react","CometRelay","FDSText.react","FeedComposerSocialSentenceActivityObjectQuery.graphql","react","react-compiler-runtime","recoverableViolation","useCometComposerPushMinutiaePage","useCometComposerPushTagEventPage","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var e=d("react-compiler-runtime").c(10),f=a.id;a=a.minutiaeSource;var g=a===void 0?c("CometComposerTaggerPluginTypes").MINUTIAE:a,j=c("useCometComposerPushMinutiaePage")();e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"__JHASH___pRcx7inqx2__JHASH__"),e[0]=a):a=e[0];var l=c("useCometComposerPushTagEventPage")(a);e[1]!==g||e[2]!==j||e[3]!==l?(a=function(){bb6:switch(g){case c("CometComposerTaggerPluginTypes").EVENT:l();break bb6;default:case c("CometComposerTaggerPluginTypes").MINUTIAE:j()}},e[1]=g,e[2]=j,e[3]=l,e[4]=a):a=e[4];a=a;f=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("FeedComposerSocialSentenceActivityObjectQuery.graphql"),{id:f});f=(f=f.node)==null?void 0:f.name;if(j!=null){var m;e[5]!==f?(m=k.jsx(c("FDSText.react"),{color:"primary",type:"headlineEmphasized4",children:f}),e[5]=f,e[6]=m):m=e[6];var n;e[7]!==a||e[8]!==m?(n=k.jsx(c("CometLink.react"),{onClick:a,children:m}),e[7]=a,e[8]=m,e[9]=n):n=e[9];return n}else c("recoverableViolation")("push page context should not be null","comet_composer");return f}e=c("withComposerViewStatePart")(a,function(a){return{minutiaeSource:(a=a.activityMinutiae)==null?void 0:a.source}});g["default"]=e}),226);
__d("FeedComposerSocialSentenceIcon.react",["CometImage.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={root:{marginEnd:"xw3qccf",position:"x1n2onr6",top:"xxk6nc9",$$css:!0},startMargin:{marginStart:"xsgj6o6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(7),e=a.hasOmittedLinkingVerb;a=a.iconURI;var f;b[0]!==e?(f=(h||(h=c("stylex"))).props(k.root,e&&k.startMargin),b[0]=e,b[1]=f):f=b[1];b[2]!==a?(e=j.jsx(c("CometImage.react"),{height:16,src:a,width:16}),b[2]=a,b[3]=e):e=b[3];b[4]!==f||b[5]!==e?(a=j.jsx("span",babelHelpers["extends"]({},f,{children:e})),b[4]=f,b[5]=e,b[6]=a):a=b[6];return a}g["default"]=a}),98);
__d("FeedComposerSocialSentenceWithActivityQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6847764661935430"}),null);
__d("FeedComposerSocialSentenceWithActivityQuery.graphql",["FeedComposerSocialSentenceWithActivityQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"activityLegacyID"}],c=[{kind:"Variable",name:"legacy_api_id",variableName:"activityLegacyID"}],d={alias:null,args:null,kind:"ScalarField",name:"omit_linking_verb",storageKey:null},e=[{alias:null,args:null,kind:"ScalarField",name:"template_string",storageKey:null},{alias:null,args:null,concreteType:"ActivityTemplateToken",kind:"LinkedField",name:"template_tokens",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"token_position",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"token_type",storageKey:null}],storageKey:null}],f={alias:"previewTemplate",args:null,concreteType:"TaggableActivityPreviewTemplate",kind:"LinkedField",name:"preview_template",plural:!1,selections:e,storageKey:null},g={kind:"Literal",name:"with_place",value:"SPECIFIC"},h={alias:"previewTemplateWithPlace",args:[g],concreteType:"TaggableActivityPreviewTemplate",kind:"LinkedField",name:"preview_template",plural:!1,selections:e,storageKey:'preview_template(with_place:"SPECIFIC")'},i={kind:"Literal",name:"with_people",value:"SINGLE"},j={alias:"previewTemplateWithPerson",args:[i],concreteType:"TaggableActivityPreviewTemplate",kind:"LinkedField",name:"preview_template",plural:!1,selections:e,storageKey:'preview_template(with_people:"SINGLE")'},k={kind:"Literal",name:"with_people",value:"MULTIPLE"},l={alias:"previewTemplateWithPeople",args:[k],concreteType:"TaggableActivityPreviewTemplate",kind:"LinkedField",name:"preview_template",plural:!1,selections:e,storageKey:'preview_template(with_people:"MULTIPLE")'};i={alias:"previewTemplateWithPlaceAndPerson",args:[i,g],concreteType:"TaggableActivityPreviewTemplate",kind:"LinkedField",name:"preview_template",plural:!1,selections:e,storageKey:'preview_template(with_people:"SINGLE",with_place:"SPECIFIC")'};k={alias:"previewTemplateWithPlaceAndPeople",args:[k,g],concreteType:"TaggableActivityPreviewTemplate",kind:"LinkedField",name:"preview_template",plural:!1,selections:e,storageKey:'preview_template(with_people:"MULTIPLE",with_place:"SPECIFIC")'};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FeedComposerSocialSentenceWithActivityQuery",selections:[{alias:null,args:c,concreteType:"TaggableActivity",kind:"LinkedField",name:"taggable_activity",plural:!1,selections:[d,f,h,j,l,i,k],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FeedComposerSocialSentenceWithActivityQuery",selections:[{alias:null,args:c,concreteType:"TaggableActivity",kind:"LinkedField",name:"taggable_activity",plural:!1,selections:[d,f,h,j,l,i,k,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("FeedComposerSocialSentenceWithActivityQuery_facebookRelayOperation"),metadata:{},name:"FeedComposerSocialSentenceWithActivityQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("FeedComposerSocialSentenceWithActivity.react",["fbt","CometRelay","FDSText.react","FDSTextPairing.react","FeedComposerSocialSentenceActivityObject.react","FeedComposerSocialSentenceIcon.react","FeedComposerSocialSentenceLocation.react","FeedComposerSocialSentenceTaggedUsers.react","FeedComposerSocialSentenceWithActivityQuery.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function l(a,b){var d=b.activityObjectID,e=b.hasLocation,f=b.hasOmittedLinkingVerb,g=b.iconURI,h=b.taggedUsers;b=a==null?void 0:a.template_string;a=a==null?void 0:a.template_tokens;var i=0,j=[];if(a!=null&&b!=null){var l=b.toLowerCase();j=a.reduce(function(a,b){var j=b.token_position;b=b.token_type;if(j!=null&&b!=null){a.push(l.substring(i,j));switch(b){case"ICON":a.push(g!=null?k.jsx(c("FeedComposerSocialSentenceIcon.react"),{hasOmittedLinkingVerb:f,iconURI:g},b):null);break;case"OBJECT":a.push(k.jsx(c("FeedComposerSocialSentenceActivityObject.react"),{id:d},b));break;case"PLACE":a.push(e?k.jsx(c("FeedComposerSocialSentenceLocation.react"),{},b):null);break;case"PERSON":case"PEOPLE":a.push(h!=null?k.jsx(c("FeedComposerSocialSentenceTaggedUsers.react"),{ids:h},b):null);break}i=j}return a},j);j.push(l.substring(i))}return j}function a(a){var e,f=d("react-compiler-runtime").c(18),g=a.activityLegacyID,j=a.activityObjectID,m=a.iconURI,n=a.locationID,o=a.taggedUsers;a=a.userName;g={activityLegacyID:g};g=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("FeedComposerSocialSentenceWithActivityQuery.graphql"),g);e=(e=(e=g.taggable_activity)==null?void 0:e.omit_linking_verb)!=null?e:!1;n=n!=null;var p=o!=null&&o.length===1,q=o!=null&&o.length>1,r=null;if(!n&&!p&&!q){var s;r=(s=g.taggable_activity)==null?void 0:s.previewTemplate}else if(!n&&!p&&q){r=(s=g.taggable_activity)==null?void 0:s.previewTemplateWithPeople}else if(!n&&p&&!q){r=(s=g.taggable_activity)==null?void 0:s.previewTemplateWithPerson}else if(n&&!p&&!q){r=(s=g.taggable_activity)==null?void 0:s.previewTemplateWithPlace}else if(n&&!p&&q){r=(s=g.taggable_activity)==null?void 0:s.previewTemplateWithPlaceAndPeople}else if(n&&p&&!q){r=(s=g.taggable_activity)==null?void 0:s.previewTemplateWithPlaceAndPerson}f[0]!==j||f[1]!==n||f[2]!==m||f[3]!==e||f[4]!==o||f[5]!==r||f[6]!==a?(p=h._(/*BTDS*/"__JHASH__TSrWY8CbUTe__JHASH__",[h._param("userName",k.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:a})),h._param("activityInPresentTense",k.jsx(k.Fragment,{children:l(r,{activityObjectID:j,hasLocation:n,hasOmittedLinkingVerb:e,iconURI:m,taggedUsers:o})}))]),f[0]=j,f[1]=n,f[2]=m,f[3]=e,f[4]=o,f[5]=r,f[6]=a,f[7]=p):p=f[7];q=p;if(!e){f[8]!==j||f[9]!==n||f[10]!==m||f[11]!==e||f[12]!==o||f[13]!==r||f[14]!==a?(g=h._(/*BTDS*/"__JHASH__TZIlOZSr21s__JHASH__",[h._param("userName",k.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:a})),h._param("activityInPresentTense",k.jsx(k.Fragment,{children:l(r,{activityObjectID:j,hasLocation:n,hasOmittedLinkingVerb:e,iconURI:m,taggedUsers:o})}))]),f[8]=j,f[9]=n,f[10]=m,f[11]=e,f[12]=o,f[13]=r,f[14]=a,f[15]=g):g=f[15];q=g}f[16]!==q?(s=k.jsx("div",{children:k.jsx(c("FDSTextPairing.react"),{headline:q,level:4,reduceEmphasis:!0})}),f[16]=q,f[17]=s):s=f[17];return s}g["default"]=a}),226);
__d("FeedComposerSocialSentenceWithLookingForPlayers.react",["fbt","ix","FDSIcon.react","FDSText.react","IconSource","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=k.jsx(c("FDSIcon.react"),{icon:new(c("IconSource"))("FB",i("1980965"),16)});function a(a){var b=d("react-compiler-runtime").c(3),e=a.lookingForPlayers;a=a.userName;var f;b[0]!==(e==null?void 0:e.title)||b[1]!==a?(f=k.jsx(c("FDSText.react"),{type:"body4",children:h._(/*BTDS*/"__JHASH__8-h4y0tJSHM__JHASH__",[h._param("post author",k.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:a})),h._param("icon",l),h._implicitParam("=m5",k.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:h._(/*BTDS*/"__JHASH__MoyRwWaWNBq__JHASH__",[h._param("game title",e==null?void 0:e.title)])}))])}),b[0]=e==null?void 0:e.title,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),226);
__d("FeedComposerSocialSentenceWithTaggedSponsorQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4294644153971652"}),null);
__d("FeedComposerSocialSentenceWithTaggedSponsorQuery.graphql",["FeedComposerSocialSentenceWithTaggedSponsorQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"sponsorID"}],c=[{kind:"Variable",name:"id",variableName:"sponsorID"}],d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FeedComposerSocialSentenceWithTaggedSponsorQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"profile",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FeedComposerSocialSentenceWithTaggedSponsorQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"profile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("FeedComposerSocialSentenceWithTaggedSponsorQuery_facebookRelayOperation"),metadata:{},name:"FeedComposerSocialSentenceWithTaggedSponsorQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("FeedComposerSocialSentenceWithTaggedSponsor.react",["fbt","CometComposerBrandedContentPopoverResource","CometComposerBrandedContentStrings","CometComposerTaggerPluginTypes","CometLink.react","CometRelay","FDSText.react","FDSTextPairing.react","FeedComposerSocialSentenceLocation.react","FeedComposerSocialSentenceWithTaggedSponsorQuery.graphql","lazyLoadComponent","react","react-compiler-runtime","recoverableViolation","useCometComposerPushPage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));j.useMemo;var l=c("lazyLoadComponent")(c("CometComposerBrandedContentPopoverResource"));function a(a){var e=d("react-compiler-runtime").c(20),f=a.placeID,g=a.sponsorID,j=a.sponsorRelationship;a=a.userName;var m=c("useCometComposerPushPage")(),n=j==="SUPPORT";j=f!=null;e[0]!==n||e[1]!==m?(f=function(){m(d("CometComposerBrandedContentStrings").popoverTitle,function(a){a=a.onReturn;return k.jsx(l,{onClose:a,pushPage:m,withPopover:!1})},{hasCustomHeader:!0},n?c("CometComposerTaggerPluginTypes").BC_SUPPORT:c("CometComposerTaggerPluginTypes").BRANDED_CONTENT)},e[0]=n,e[1]=m,e[2]=f):f=e[2];f=f;f=f;g=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("FeedComposerSocialSentenceWithTaggedSponsorQuery.graphql"),{sponsorID:g});if(f!=null){var o;o=(o=g.profile)==null?void 0:o.name;var p;e[3]!==o?(p=k.jsx(c("FDSText.react"),{color:"primary",type:"headlineEmphasized4",children:o}),e[3]=o,e[4]=p):p=e[4];e[5]!==f||e[6]!==p?(o=k.jsx(c("CometLink.react"),{href:"#",onClick:f,children:p}),e[5]=f,e[6]=p,e[7]=o):o=e[7];f=o}else{c("recoverableViolation")("push page should not be null","comet_composer");f=(p=g.profile)==null?void 0:p.name}if(!n&&!j){e[8]!==f||e[9]!==a?(o=k.jsx(c("FDSTextPairing.react"),{headline:h._(/*BTDS*/"__JHASH__t5EXu3XI6VF__JHASH__",[h._param("userName",k.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:a})),h._param("taggedSponsor",k.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:f}))]),level:4,reduceEmphasis:!0}),e[8]=f,e[9]=a,e[10]=o):o=e[10];return o}else if(n&&!j){e[11]!==f||e[12]!==a?(g=k.jsx(c("FDSTextPairing.react"),{headline:h._(/*BTDS*/"__JHASH__8NjytcuaIjM__JHASH__",[h._param("userName",k.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:a})),h._param("taggedSponsor",k.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:f}))]),level:4,reduceEmphasis:!0}),e[11]=f,e[12]=a,e[13]=g):g=e[13];return g}else if(!n&&j){e[14]!==f||e[15]!==a?(p=k.jsx(c("FDSTextPairing.react"),{headline:h._(/*BTDS*/"__JHASH__rUGjkNg3qKE__JHASH__",[h._param("userName",k.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:a})),h._param("taggedSponsor",k.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:f})),h._param("location",k.jsx(c("FeedComposerSocialSentenceLocation.react"),{}))]),level:4,reduceEmphasis:!0}),e[14]=f,e[15]=a,e[16]=p):p=e[16];return p}else if(n&&j){e[17]!==f||e[18]!==a?(o=k.jsx(c("FDSTextPairing.react"),{headline:h._(/*BTDS*/"__JHASH__xpyU3LH6sXf__JHASH__",[h._param("userName",k.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:a})),h._param("taggedSponsor",k.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:f})),h._param("location",k.jsx(c("FeedComposerSocialSentenceLocation.react"),{}))]),level:4,reduceEmphasis:!0}),e[17]=f,e[18]=a,e[19]=o):o=e[19];return o}else return""}g["default"]=a}),226);
__d("CometComposerSocialSentence.react",["ComposerSocialSentenceWithLocalAlertRenderer.react","ComposerSocialSentenceWithLocation.react","ComposerSocialSentenceWithLocationAndTaggedUsers.react","ComposerSocialSentenceWithTaggedUsers.react","CoreComposerDefaultSocialSentence.react","FeedComposerSocialSentenceWithActivity.react","FeedComposerSocialSentenceWithLookingForPlayers.react","FeedComposerSocialSentenceWithTaggedSponsor.react","isStringNullOrEmpty","react","react-compiler-runtime","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(27),e=a.activityMinutiae,f=a.brandedContentData,g=a.hasLocalAlert,h=a.isReshareWithFilter,j=a.locationMinutiae,k=a.lookingForPlayers,l=a.shouldHideReshareFilterMinutiae,m=a.taggedUsers;a=a.userName;var n=m!=null&&m.length>0,o=e!=null,p=e==null?void 0:e.activityLegacyID,q=e==null?void 0:e.objectID;e=e==null?void 0:e.iconURI;var r=j!=null,s=j==null?void 0:j.placeID,t=f==null?void 0:f.sponsorID;f=f==null?void 0:f.sponsorRelationship;var u=!c("isStringNullOrEmpty")(t),v=(k==null?void 0:k.title)!=null,w;b[0]!==a?(w=i.jsx(c("CoreComposerDefaultSocialSentence.react"),{userName:a}),b[0]=a,b[1]=w):w=b[1];w=w;if(v){b[2]!==k||b[3]!==a?(v=i.jsx(c("FeedComposerSocialSentenceWithLookingForPlayers.react"),{lookingForPlayers:k,userName:a}),b[2]=k,b[3]=a,b[4]=v):v=b[4];return v}else if(o&&p!=null&&q!=null&&(!l||!h)){k=j==null?void 0:j.placeID;b[5]!==p||b[6]!==q||b[7]!==e||b[8]!==k||b[9]!==m||b[10]!==a?(v=i.jsx(c("FeedComposerSocialSentenceWithActivity.react"),{activityLegacyID:p,activityObjectID:q,iconURI:e,locationID:k,taggedUsers:m,userName:a}),b[5]=p,b[6]=q,b[7]=e,b[8]=k,b[9]=m,b[10]=a,b[11]=v):v=b[11];return v}else if(!n&&!r&&!u&&!g)return w;else if(g&&!n&&!r&&!u){b[12]!==a?(o=i.jsx(c("ComposerSocialSentenceWithLocalAlertRenderer.react"),{userName:a}),b[12]=a,b[13]=o):o=b[13];return o}else if(!n&&!u&&r){b[14]!==a?(l=i.jsx(c("ComposerSocialSentenceWithLocation.react"),{userName:a}),b[14]=a,b[15]=l):l=b[15];return l}else if(n&&!r){b[16]!==m||b[17]!==a?(h=i.jsx(c("ComposerSocialSentenceWithTaggedUsers.react"),{taggedUsers:m,userName:a}),b[16]=m,b[17]=a,b[18]=h):h=b[18];return h}else if(n&&r){b[19]!==m||b[20]!==a?(j=i.jsx(c("ComposerSocialSentenceWithLocationAndTaggedUsers.react"),{taggedUsers:m,userName:a}),b[19]=m,b[20]=a,b[21]=j):j=b[21];return j}else if(u&&!c("isStringNullOrEmpty")(t)){b[22]!==s||b[23]!==t||b[24]!==f||b[25]!==a?(p=i.jsx(c("FeedComposerSocialSentenceWithTaggedSponsor.react"),{placeID:s,sponsorID:t,sponsorRelationship:f,userName:a}),b[22]=s,b[23]=t,b[24]=f,b[25]=a,b[26]=p):p=b[26];return p}else return w}b=c("withComposerViewStatePart")(a,function(a){var b;return{activityMinutiae:a.activityMinutiae,brandedContentData:a.brandedContent,hasLocalAlert:((b=a.localAlert)==null?void 0:b.newAlert)!=null||((b=a.localAlert)==null?void 0:b.socialSentence)!=null,isReshareWithFilter:a.reshareFilterMetadata!=null,locationMinutiae:a.locationMinutiae,lookingForPlayers:a.lookingForPlayers,shouldHideReshareFilterMinutiae:((b=a.reshareFilterMetadata)==null?void 0:b.is_used)===!1}});g["default"]=b}),98);
__d("CoreComposerSocialSentence.react",["CometComposerFeatureBasedSocialSentence.react","CometComposerSocialSentence.react","CometErrorBoundary.react","CometPlaceholder.react","CoreComposerDefaultSocialSentence.react","composerAttachmentAreaChecker","composerAttachmentAreaReducer","react","react-compiler-runtime","useComposerViewStateReducer","withComposerViewStatePart","withTagIDsTrackerConversionUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(18),e=a.featureDefinitionsGating,f=a.userName;a=a.withTagIDsTracker;c("useComposerViewStateReducer")(d("composerAttachmentAreaReducer").composerAttachmentAreaReducer,c("composerAttachmentAreaChecker"));if(b[0]!==a){var g;g=(g=d("withTagIDsTrackerConversionUtils").convertWithTagIDsTrackerToArray(a))!=null?g:[];b[0]=a;b[1]=g}else g=b[1];a=g;g=a;if(f==null)return null;b[2]!==f?(a=i.jsx(c("CoreComposerDefaultSocialSentence.react"),{userName:f}),b[2]=f,b[3]=a):a=b[3];var h=a;b[4]!==h?(a=function(a){return h},b[4]=h,b[5]=a):a=b[5];var j;b[6]!==f?(j=i.jsx(c("CoreComposerDefaultSocialSentence.react"),{showGlimmer:!0,userName:f}),b[6]=f,b[7]=j):j=b[7];var k;b[8]!==(e==null?void 0:e.areTaggersFeaturesSupported)||b[9]!==g||b[10]!==f?(k=(e==null?void 0:e.areTaggersFeaturesSupported)===!0?i.jsx(c("CometComposerFeatureBasedSocialSentence.react"),{userName:f}):i.jsx(c("CometComposerSocialSentence.react"),{taggedUsers:g,userName:f}),b[8]=e==null?void 0:e.areTaggersFeaturesSupported,b[9]=g,b[10]=f,b[11]=k):k=b[11];b[12]!==j||b[13]!==k?(e=i.jsx(c("CometPlaceholder.react"),{fallback:j,children:k}),b[12]=j,b[13]=k,b[14]=e):e=b[14];b[15]!==a||b[16]!==e?(g=i.jsx(c("CometErrorBoundary.react"),{fallback:a,children:e}),b[15]=a,b[16]=e,b[17]=g):g=b[17];return g}b=c("withComposerViewStatePart")(a,function(a){return{featureDefinitionsGating:a.featureDefinitionsGating,withTagIDsTracker:a.withTagIDsTracker}});g["default"]=b}),98);
__d("CometComposerMinutiaeBar.react",["CometComposerActorProfilePicture.react","CometComposerMinutiaeBarLayout.react","CometComposerMinutiaeBarMeta.react","CometComposerMinutiaeBar_profile.graphql","CometRelay","CoreComposerSocialSentence.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(14),f=a.channelsSelector,g=a.destinationSelector,i=a.genAILabelSelector,k=a.isProfilePictureClickable,l=a.privacySelector;a=a.profile$key;k=k===void 0?!0:k;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometComposerMinutiaeBar_profile.graphql"),a);var m;e[0]!==a.name?(m=j.jsx(c("CoreComposerSocialSentence.react"),{userName:a.name}),e[0]=a.name,e[1]=m):m=e[1];var n;e[2]!==f||e[3]!==g||e[4]!==i||e[5]!==l?(n=j.jsx(c("CometComposerMinutiaeBarMeta.react"),{channelsSelector:f,destinationSelector:g,genAILabelSelector:i,privacySelector:l}),e[2]=f,e[3]=g,e[4]=i,e[5]=l,e[6]=n):n=e[6];f=!k;e[7]!==a||e[8]!==f?(g=j.jsx(c("CometComposerActorProfilePicture.react"),{cursorDisabled:f,profile$key:a}),e[7]=a,e[8]=f,e[9]=g):g=e[9];e[10]!==m||e[11]!==n||e[12]!==g?(i=j.jsx(c("CometComposerMinutiaeBarLayout.react"),{body:m,meta:n,profilePicture:g}),e[10]=m,e[11]=n,e[12]=g,e[13]=i):i=e[13];return i}g["default"]=a}),98);
__d("CometComposerPrivacyScope_scope.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"privacySelectorRenderLocation"}],kind:"Fragment",metadata:null,name:"CometComposerPrivacyScope_scope",selections:[{args:[{kind:"Variable",name:"renderLocation",variableName:"privacySelectorRenderLocation"},{kind:"Literal",name:"tags",value:[]}],kind:"FragmentSpread",name:"CometPrivacySelectorForScope_scope"}],type:"PrivacyScope",abstractKey:null};e.exports=a}),null);
__d("arePrivacyDataEqual",[],(function(a,b,c,d,e,f){"use strict";var g=["allow","deny"];function a(a,b){if(a==null&&b==null)return!0;else if(a==null||b==null)return!1;if(a.base_state!==b.base_state)return!1;for(var c=g,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var h=a[f]||[],i=b[f]||[];if(h.length!==i.length)return!1;if(h.length>0){f=function(){var a=new Set(i);if(!h.every(function(b){return a.has(b)}))return{v:!1}}();if(typeof f==="object")return f.v}}return!0}f["default"]=a}),66);
__d("composerPrivacyAudienceChecker",["arePrivacyDataEqual"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return!c("arePrivacyDataEqual")(a==null?void 0:(a=a.audience)==null?void 0:a.privacy,b==null?void 0:(a=b.audience)==null?void 0:a.privacy)}g["default"]=a}),98);
__d("useComposerPrivacyAudienceReducer",["composerPrivacyAudienceChecker","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("useComposerViewStateReducer")(h,a===!0?c("composerPrivacyAudienceChecker"):void 0)}function h(a,b){if("update_audience"===b.type)return babelHelpers["extends"]({},a,{audience:b.audience});else if("set_is_initial_audience_logged"===b.type)return babelHelpers["extends"]({},a,{audienceLoggingData:{isInitialAudienceLogged:!0}});return a}g["default"]=a}),98);
__d("useComposerPrivacyTagsForDraftJS",["FBLogger","react","react-compiler-runtime","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect;b.useMemo;var j=b.useState,k=500;function a(a){var b=d("react-compiler-runtime").c(8),e=j(null),f=e[0],g=e[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={wait:k},b[0]=e):e=b[0];var h=c("useDebouncedComet")(l,e),m;b[1]!==h||b[2]!==a||b[3]!==f?(e=function(){h(a,g,f)},m=[h,a,g,f],b[1]=h,b[2]=a,b[3]=f,b[4]=e,b[5]=m):(e=b[4],m=b[5]);i(e,m);bb0:{if(f==null){e=null;break bb0}if(b[6]!==f){m=new Set();if(f!=null)for(var n=f,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}q=q;m.add(q)}q=Array.from(m);b[6]=f;b[7]=q}else q=b[7];e=q}return e}function l(a,b,d){if(a==null||a.__type!=="editor-state-based")return;var e=new Set(),f=a.draftEditorState.getCurrentContent();f.getBlockMap().forEach(function(a){a.findEntityRanges(function(){return!0},function(b){b=a.getEntityAt(b);if(b==null)return;b=f.getEntity(b);if(b.getType()!=="MENTION")return;b=b.getData();b=b.id;if(b==null)return;if(/^[0-9]+$/.test(b)===!1){c("FBLogger")("comet_composer").mustfix("Entity with type MENTION had an unexpected non-FBID id: %s",b);return}e.add(b)})});a=d!=null&&e.size===d.size&&Array.from(e).every(function(a){return d.has(a)});a||b(e)}g["default"]=a}),98);
__d("useComposerPrivacyTagsForLexical",["CometLexicalGenericEntityNode","Lexical","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function l(a){var b=[];a!=null&&a.getEditorState().read(function(){d("Lexical").$nodesOfType(d("CometLexicalGenericEntityNode").CometLexicalGenericEntityNode).forEach(function(a){a.getEntityType()!=="Hashtag"&&b.push(a.getID())})});return b.length===0?null:b}function a(a){var b=d("react-compiler-runtime").c(6),c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=new Map(),b[0]=c):c=b[0];var e=j(c);b[1]!==a?(c=l(a),b[1]=a,b[2]=c):c=b[2];c=k(c);var f=c[0],g=c[1],h;b[3]!==a?(c=function(){if(a!=null)return a.registerMutationListener(d("CometLexicalGenericEntityNode").CometLexicalGenericEntityNode,function(b){var c=a.getEditorState(),f=function(){if(i){if(j>=h.length)return"break";k=h[j++]}else{j=h.next();if(j.done)return"break";k=j.value}var a=k,b=a[0];a=a[1];var f=c.read(function(){return d("Lexical").$getNodeByKey(b)});if(f!=null&&a==="created"&&f.getEntityType()!=="Hashtag"){f=f.getID();e.current.set(b,f)}else a==="destroyed"&&e.current["delete"](b)};for(var h=b.entries(),i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;b=f();if(b==="break")break}g([].concat(Array.from(new Set(e.current.values()))))},{skipInitialization:!0})},h=[a],b[3]=a,b[4]=c,b[5]=h):(c=b[4],h=b[5]);i(c,h);return f}g["default"]=a}),98);
__d("useComposerPrivacyTags",["react","react-compiler-runtime","useComposerPrivacyTagsForDraftJS","useComposerPrivacyTagsForLexical"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a,b,e){var f=d("react-compiler-runtime").c(4);a=c("useComposerPrivacyTagsForDraftJS")(a);b=c("useComposerPrivacyTagsForLexical")(b);var g;bb0:{if(a==null&&b==null&&e==null){g=null;break bb0}if(f[0]!==a||f[1]!==b||f[2]!==e){var h=new Set();if(a!=null)for(var i=a,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}l=l;h.add(l)}if(b!=null)for(l=b,k=Array.isArray(l),j=0,l=k?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(k){if(j>=l.length)break;i=l[j++]}else{j=l.next();if(j.done)break;i=j.value}i=i;h.add(i)}if(e!=null)for(i=e,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(j){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}l=l;h.add(l)}l=Array.from(h);f[0]=a;f[1]=b;f[2]=e;f[3]=l}else l=f[3];g=l}return g}g["default"]=a}),98);
__d("CometComposerPrivacyScope.react",["CometComposerPrivacyScope_scope.graphql","CometPrivacySelectorForScope.react","CometRelay","PrivacyRowInput","gkx","react","react-compiler-runtime","useCometComposerPrivacyPushPage","useComposerPrivacyAudienceReducer","useComposerPrivacyChangeHandlers","useComposerPrivacyTags","withComposerViewStatePart","withTagIDsTrackerConversionUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));i.useMemo;function a(a){var e=d("react-compiler-runtime").c(19),f=a.editorState,g=a.isFullWidth,i=a.lexicalEditor,k=a.onPrivacyChange,l=a.onPrivacyChangeStart,m=a.plugins,n=a.privacyData,o=a.privacySelectorRenderLocation,p=a.scope,q=a.shouldOverridePrivacyWithComposerState,r=a.shouldRestorePrivacyFromDraftState,s=a.title;a=a.withTagIDsTracker;g=g===void 0?!1:g;p=d("CometRelay").useFragment(h!==void 0?h:h=b("CometComposerPrivacyScope_scope.graphql"),p);c("useComposerPrivacyAudienceReducer")(o==="COMET_STORY_EDIT_COMPOSER");var t=c("useComposerPrivacyChangeHandlers")(),u=t.onPrivacyChange;t=t.onPrivacyChangeStart;var v;e[0]!==a?(v=d("withTagIDsTrackerConversionUtils").convertWithTagIDsTrackerToArray(a),e[0]=a,e[1]=v):v=e[1];a=v;v=a;f=(a=c("useComposerPrivacyTags")(f,i,v))!=null?a:void 0;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(i={},e[2]=i):i=e[2];v=c("useCometComposerPrivacyPushPage")(i);e[3]!==n||e[4]!==q||e[5]!==r?(a=r===!0||q===!0?d("PrivacyRowInput").coerceFromPrivacyData(n):null,e[3]=n,e[4]=q,e[5]=r,e[6]=a):a=e[6];i=a;n=i;a=(r=k)!=null?r:u;k=(i=l)!=null?i:t;u=(r=o)!=null?r:"COMET_COMPOSER";l=c("gkx")("5936")&&q===!0;e[7]!==f||e[8]!==g||e[9]!==n||e[10]!==m||e[11]!==v||e[12]!==p||e[13]!==l||e[14]!==a||e[15]!==k||e[16]!==u||e[17]!==s?(i=j.jsx(c("CometPrivacySelectorForScope.react"),{isFullWidth:g,localPrivacyRow:n,onPrivacyChange:a,onPrivacyChangeStart:k,plugins:m,pushPage:v,renderLocation:u,scope:p,shouldOverrideState:l,tags:f,title:s}),e[7]=f,e[8]=g,e[9]=n,e[10]=m,e[11]=v,e[12]=p,e[13]=l,e[14]=a,e[15]=k,e[16]=u,e[17]=s,e[18]=i):i=e[18];return i}e=c("withComposerViewStatePart")(a,function(a){var b;return{editorState:a.editorState,lexicalEditor:a.lexicalEditor,privacyData:(b=a.audience)==null?void 0:b.privacy,privacyWriteID:a.privacyWriteID,storyID:a.storyID,withTagIDsTracker:a.withTagIDsTracker}});g["default"]=e}),98);
__d("getCoreStateHandlers",["FBLogger","composerAttachmentAreaChecker","composerAttachmentAreaReducer","composerTaggerReducer"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a.featureType==="TAGGER")return{coreReducer:c("composerTaggerReducer")};if(a.featureType==="ATTACHMENT"||a.featureType==="READ_ONLY_ATTACHMENT")return{coreChecker:c("composerAttachmentAreaChecker"),coreReducer:d("composerAttachmentAreaReducer").composerAttachmentAreaReducer};c("FBLogger")("comet_composer").mustfix("Unknown feature type %s",a.featureType);return{coreReducer:function(a,b){return a}}}g["default"]=a}),98);
__d("CometComposerPushPageAttachmentRegisterer.react",["BootloaderResource","getCoreStateHandlers","react","react-compiler-runtime","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(7),e=a.featureDefinition,f=a.reducerModule;a=a.stateCheckerModule;var g;b[0]!==e?(g=c("getCoreStateHandlers")(e),b[0]=e,b[1]=g):g=b[1];e=g;g=e.coreChecker;e=e.coreReducer;var h;b[2]!==f?(h=d("BootloaderResource").read(f),b[2]=f,b[3]=h):h=b[3];f=h;b[4]!==a?(h=a!=null?d("BootloaderResource").read(a):null,b[4]=a,b[5]=h):h=b[5];a=h;c("useComposerViewStateReducer")(e,g);c("useComposerViewStateReducer")(f,a);b[6]===Symbol["for"]("react.memo_cache_sentinel")?(h=i.jsx("div",{}),b[6]=h):h=b[6];return h}g["default"]=a}),98);
__d("CometComposerPushPageContextCreator.react",["CometComposerPushPageContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(6),e=a.children,f=a.ignorePushPageContext,g=a.pushPageHandler;a=a.useEntryPointBasedPushPages;var h;b[0]!==g||b[1]!==a?(h={pushPageHandler:g,useEntryPointBasedPushPages:a},b[0]=g,b[1]=a,b[2]=h):h=b[2];g=h;a=g;if(f)return e;b[3]!==e||b[4]!==a?(h=i.jsx(c("CometComposerPushPageContext").Provider,{value:a,children:e}),b[3]=e,b[4]=a,b[5]=h):h=b[5];return h}g["default"]=a}),98);
__d("CometComposerPushPageTaggerRegisterer.react",["BootloaderResource","getCoreStateHandlers","react","react-compiler-runtime","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(7),e=a.featureDefinition,f=a.reducerModule;a=a.stateCheckerModule;var g;b[0]!==e?(g=c("getCoreStateHandlers")(e),b[0]=e,b[1]=g):g=b[1];e=g;g=e.coreChecker;e=e.coreReducer;var h;b[2]!==f?(h=d("BootloaderResource").read(f),b[2]=f,b[3]=h):h=b[3];f=h;b[4]!==a?(h=a!=null?d("BootloaderResource").read(a):null,b[4]=a,b[5]=h):h=b[5];a=h;c("useComposerViewStateReducer")(e,g);c("useComposerViewStateReducer")(f,a);b[6]===Symbol["for"]("react.memo_cache_sentinel")?(h=i.jsx("div",{}),b[6]=h):h=b[6];return h}g["default"]=a}),98);
__d("CometComposerPushPageRenderer.react",["CometComposerPushPageAttachmentRegisterer.react","CometComposerPushPageTaggerRegisterer.react","getFeatureDefinition","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e,f=d("react-compiler-runtime").c(19),g=a.children,h=a.featureDefinitions;a=a.featureName;if(a==null||h==null){var j;f[0]!==g?(j=i.jsx(i.Fragment,{children:g}),f[0]=g,f[1]=j):j=f[1];return j}f[2]!==h||f[3]!==a?(j=c("getFeatureDefinition")(h,a),f[2]=h,f[3]=a,f[4]=j):j=f[4];h=j;if(h==null){f[5]!==g?(a=i.jsx(i.Fragment,{children:g}),f[5]=g,f[6]=a):a=f[6];return a}a=h==null?void 0:(j=h.attachmentData)==null?void 0:j.reducerModule;j=h==null?void 0:(j=h.attachmentData)==null?void 0:j.stateCheckerModule;b=h==null?void 0:(b=h.taggerData)==null?void 0:b.reducerModule;e=h==null?void 0:(e=h.taggerData)==null?void 0:e.stateCheckerModule;var k;f[7]!==h.taggerData||f[8]!==b||f[9]!==e?(k=h.taggerData!=null&&b!=null&&e!=null&&i.jsx(c("CometComposerPushPageTaggerRegisterer.react"),{featureDefinition:h.taggerData,reducerModule:b,stateCheckerModule:e}),f[7]=h.taggerData,f[8]=b,f[9]=e,f[10]=k):k=f[10];f[11]!==a||f[12]!==j||f[13]!==h.attachmentData?(b=h.attachmentData!=null&&a!=null&&j!=null&&i.jsx(c("CometComposerPushPageAttachmentRegisterer.react"),{featureDefinition:h.attachmentData,reducerModule:a,stateCheckerModule:j}),f[11]=a,f[12]=j,f[13]=h.attachmentData,f[14]=b):b=f[14];f[15]!==g||f[16]!==k||f[17]!==b?(e=i.jsxs(i.Fragment,{children:[k,b,g]}),f[15]=g,f[16]=k,f[17]=b,f[18]=e):e=f[18];return e}g["default"]=a}),98);
__d("CometComposerPushPageSizeSync.react",["react","react-compiler-runtime","stylex","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={maxHeight:function(a){return[{maxHeight:a==null?null:"x1kb659o",$$css:!0},{"--maxHeight":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},minWidth:function(a){return[{minWidth:a==null?null:"x1eqyben",$$css:!0},{"--minWidth":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]}};function a(a){var b=d("react-compiler-runtime").c(6),e=a.children,f=a.heightExperimental;a=a.minWidth;var g;b[0]!==f||b[1]!==a?(g=(h||(h=c("stylex"))).props(a!=null&&k.minWidth(a),f!=null&&k.maxHeight(f)),b[0]=f,b[1]=a,b[2]=g):g=b[2];b[3]!==e||b[4]!==g?(f=j.jsx("div",babelHelpers["extends"]({},g,{children:e})),b[3]=e,b[4]=g,b[5]=f):f=b[5];return f}b=c("withComposerViewStatePart")(a,function(a){var b;return{heightExperimental:(b=a.composerSizeAndStyleMetadata)==null?void 0:b.dialogHeightExperimental,minWidth:(b=a.composerSizeAndStyleMetadata)==null?void 0:b.composerDialogWidth}});g["default"]=b}),98);
__d("ComposerDefaultPrivacyUtils",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("21050")===!1||c("gkx")("6846");g.isDefaultPrivacyEnabled=a}),98);
__d("ComposerSubmissionFlowTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["OPTIMISTIC","DEFAULT"]);f.ComposerSubmissionFlowTypes=a}),66);
__d("decorateMultiStepContainerPushPage",["CometComposerHeader.react","CometComposerPushPageContextCreator.react","CometComposerPushPageGlimmer.react","CometComposerPushPageRenderer.react","CometComposerPushPageSizeSync.react","CometHideLayerOnEscape.react","CometPlaceholder.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b,d,e){e===void 0&&(e=!1);var f=function f(g,h,j,k){var l=function(a){var l=a.onReturn;return i.jsx(c("CometHideLayerOnEscape.react"),{debugName:"CometComposerPushPage",onHide:(j==null?void 0:j.overrideOnEscape_I_KNOW_WHAT_IM_DOING)===!0?c("emptyFunction"):l,children:i.jsx(c("CometComposerPushPageSizeSync.react"),{children:i.jsxs(c("CometComposerPushPageContextCreator.react"),{ignorePushPageContext:e,pushPageHandler:f,useEntryPointBasedPushPages:d,children:[(j==null?void 0:j.hasCustomHeader)===!0?null:i.jsx(c("CometComposerHeader.react"),{onBack:function(){l();var a=j==null?void 0:j.onBack;a&&a()},onClose:j==null?void 0:j.onClose,testid:void 0,title:g,withBackButton:(a=j==null?void 0:j.withBackButton)!=null?a:!0,withCloseButton:(a=j==null?void 0:j.withCloseButton)!=null?a:!1}),i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("CometComposerPushPageGlimmer.react"),{withPopover:!1,xstyle:j==null?void 0:j.xstyle}),children:i.jsx(c("CometComposerPushPageRenderer.react"),{featureDefinitions:b,featureName:k,children:i.jsx(h,{onReturn:l})})},1)]})})})};return a(l,j==null?void 0:j.viewStatePart)};return{pushPageHandler:f,useEntryPointBasedPushPages:d}}g["default"]=a}),98);
__d("feedEditStoryLiveInsertUpdater",["OptimisticLoadingTypeEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.getRootField("story_edit");d=d&&d.getLinkedRecord("story");if(!d){d=b.get(a);if(!d)return;d.setValue(c("OptimisticLoadingTypeEnum").PENDING,"optimistic_loading_type")}}g["default"]=a}),98);
__d("fetchComposerPostCreationStatusQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8944660268914652"}),null);
__d("fetchComposerPostCreationStatusQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","fetchComposerPostCreationStatusQuery_facebookRelayOperation","IsWorkUser.relayprovider","GHLShouldChangeAdIdFieldName.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider","CometImmersivePhotoCanUserDisable3DMotion.relayprovider","IsMergQAPolls.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometUFIShareActionMigration.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","EventCometCardImage_prefetchEventImage.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},c={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},d={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},e={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},f={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},g={defaultValue:null,kind:"LocalArgument",name:"scale"},h={defaultValue:null,kind:"LocalArgument",name:"story_id"},i={defaultValue:!1,kind:"LocalArgument",name:"useDefaultActor"},j=[{kind:"Variable",name:"id",variableName:"story_id"}],k={alias:null,args:null,kind:"ScalarField",name:"legacy_story_hideable_id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"should_render_p2r_after_creation_upsell_comet",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},p=[o],q=[{kind:"Variable",name:"location",variableName:"renderLocation"}],r={alias:null,args:q,kind:"ScalarField",name:"should_host_actor_link_in_watch",storageKey:null},s={alias:null,args:[{kind:"Literal",name:"supported",value:"1Fy9p8"}],concreteType:null,kind:"LinkedField",name:"context_layout",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupConflictAlertContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupAdminAutonomyContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupAdminAutonomyContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryServicesLocalBusinessUpdatesContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryServicesLocalBusinessUpdatesContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryCoronavirusHubHelpContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryCoronavirusHubHelpContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupPendingPostContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupPendingPostContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryThreadedStoryContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryThreadedStoryContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryAggregatedContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryAggregatedContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryDefaultContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryDefaultContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryPluginContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryPluginContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryDefaultContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryDefaultContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStorySocialLearningModuleContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningModuleContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryKeyUpdateFeedUnitContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryKeyUpdateFeedUnitContextLayoutStrategy",abstractKey:null}],storageKey:'context_layout(supported:"1Fy9p8")'},t={alias:null,args:[{kind:"Literal",name:"supported",value:"3umJuM"}],concreteType:null,kind:"LinkedField",name:"footer",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInformTreatmentFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryInformTreatmentFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsDistributionScoreFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsWithDistributionScoreFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsRetentionCurveFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsWithRetentionCurveFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryVideoChaptersV2FooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryVideoChaptersV2FooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryVideoChaptersFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryVideoChaptersFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStorySuggestedVideoChaptersFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStorySuggestedVideoChaptersFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryTopicsFooterStrategy_storySection",fragmentPropName:"storySection",kind:"ModuleImport"}],type:"CometFeedStoryTopicsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryGroupTopicsFooterStrategy_topics",fragmentPropName:"topics",kind:"ModuleImport"}],type:"CometFeedStoryGroupTopicsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryProfilePlusPostFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometProfilePlusStoryFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryAutoAttachedUserFundingCTAFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryAutoAttachedUserFundingCTAFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryFubsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryFubsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStorySocialLearningModuleFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningModuleFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStorySocialLearningMallCTAFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningMallCTAFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryGroupInsightsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupInsightsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryCoronavirusCrisisMessageFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryCoronavirusCrisisMessageFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryContentManagerFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryContentManagerFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryVideoCreatorTeamFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryVideoCreatorTeamFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventAlbumFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryEventAlbumFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryImportantPostFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryImportantPostFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiStoryPromotedPostMarkAsReadFooterStrategy_markAsRead",fragmentPropName:"markAsRead",kind:"ModuleImport"}],type:"GeminiStoryPromotedPostMarkAsReadFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventConversationFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryEventConversationFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventsTaggingUpsellFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryEventsTaggingUpsellFooterStrategy",abstractKey:null}],storageKey:'footer(supported:"3umJuM")'},u={alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},w=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],x={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:w,storageKey:null},y={kind:"TypeDiscriminator",abstractKey:"__isNFXAction"},z={alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},A=[{kind:"Literal",name:"site",value:"www"}],B={args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},C=[B];B=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},B];y={alias:null,args:null,concreteType:"TombstoneFeedUnit",kind:"LinkedField",name:"tombstone_feedunit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden_from_client",storageKey:null},{alias:null,args:null,concreteType:"Tombstone",kind:"LinkedField",name:"tombstone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"author_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUndo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_loading",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"negativeFeedbackActionID",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"DeletedPostTombstoneContent",kind:"LinkedField",name:"deleted_post_tombstone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"member_stats_text",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tombstone_actions",plural:!0,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"executed_action",plural:!1,selections:[n,v,x,y,z,o],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followup_actions",plural:!0,selections:[n,v,y,o,z,{alias:null,args:null,kind:"ScalarField",name:"can_display_completed_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"already_completed",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:A,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:A,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'},{alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tooltip",storageKey:null}],type:"NFXActionWhichRedirects",abstractKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:C,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:C,storageKey:null},x,{alias:null,args:null,kind:"ScalarField",name:"confirmation_required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"loading_text",plural:!1,selections:C,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_message",plural:!1,selections:C,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_button_label",plural:!1,selections:B,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_user_id",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"confirmed_icon",plural:!1,selections:w,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_title",plural:!1,selections:C,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_subtitle",plural:!1,selections:C,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_undo",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"undo_button_label",plural:!1,selections:B,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i],kind:"Fragment",metadata:null,name:"fetchComposerPostCreationStatusQuery",selections:[{alias:null,args:j,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedUnitStoryStrategy_feedUnit"},{args:null,kind:"FragmentSpread",name:"CometFeedUnitContainerSection_feedUnit"},{kind:"InlineFragment",selections:[k,l,m],type:"Story",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[h,a,c,d,g,i,e,f,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsMergQAPollsrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIShareActionMigrationrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider"}],kind:"Operation",name:"fetchComposerPostCreationStatusQuery",selections:[{alias:null,args:j,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n,o,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matched_terms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"unknown"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"render_type",storageKey:null}],type:"OverlayWarningScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"unknown")'},{alias:null,args:null,concreteType:"FutureOfFeedInfo",kind:"LinkedField",name:"future_of_feed_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_reverse_message_and_attachment_position",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_overlay_header",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"aspect_ratio_update",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web_reshare_variant",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[o,r,{alias:null,args:q,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[s,t],storageKey:null},u,{kind:"ClientExtension",selections:[y]}],storageKey:null},{alias:null,args:null,concreteType:"StoryBumperData",kind:"LinkedField",name:"bumpers",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"triggered_bumpers",plural:!0,selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"triggers",plural:!0,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"trigger_event",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:q,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[n,{alias:null,args:[{kind:"Literal",name:"supported",value:"20GvtT"}],concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryInitiallyCollapsedContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryInitiallyCollapsedContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryAttachmentOnlyContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryAttachmentOnlyContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryDefaultContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryDefaultContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"GeminiFeedStoryKeyUpdateFeedUnitContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"GeminiFeedStoryKeyUpdateFeedUnitContentStrategy",abstractKey:null}],storageKey:'content(supported:"20GvtT")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3vatP7"}],concreteType:null,kind:"LinkedField",name:"layout",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStorySideUFILayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStorySideUFILayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"GeminiFeedStoryLongReadPostContentLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"GeminiFeedStoryLongReadPostContentLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryDefaultLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryDefaultLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryPendingParticipationPostLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryPendingParticipationPostLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryFullbleedContentLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryFullbleedContentLayoutStrategy",abstractKey:null}],storageKey:'layout(supported:"3vatP7")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"2lQ7jN"}],concreteType:null,kind:"LinkedField",name:"copyright_violation_header",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCopyrightViolationHeaderSection_story",fragmentName:"CometFeedStoryCopyrightViolationHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryCopyrightViolationHeaderStrategy",abstractKey:null}],storageKey:'copyright_violation_header(supported:"2lQ7jN")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3H0I6T"}],concreteType:null,kind:"LinkedField",name:"header",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupAdminAutonomyHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupAdminAutonomyHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupAdminAutonomyAlertedHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupAdminAutonomyAlertedHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GroupsCometViewerContentFlaggedHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryViewerContentFlaggedHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupConflictAlertHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupsUnconnectedContentHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupsUnconnectedContentHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometGroupsAlertedContentHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometGroupsAlertedContentHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryGroupPendingQueueMemberPostApprovalHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryGroupPendingQueueMemberPostApprovalHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryCrisisCloseListingHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryCrisisCloseListingHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAlbumHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAlbumHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryPostUpsellHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryPostUpsellHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryStoryHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryStoryHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryFallbackHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryFallbackHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStorySimpleStoryHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStorySimpleStoryHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryCommerceHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryCommerceHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStorySocialLearningModuleHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStorySocialLearningModuleHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GeminiFeedEmailLandingStoryStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"GeminiFeedEmailLandingStoryStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GeminiFeedStoryImportantHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"GeminiFeedStoryImportantHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryPhotoReviewCTAHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryPhotoReviewCTAHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryLookingForPlayersUpgradePromptHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryLookingForPlayersUpgradePromptHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryBusinessMemoriesHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryBusinessMemoriesHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupMemberWarningHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupMemberWarningHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryProductRecommendationsPostDowngradePromptHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryProductRecommendationsPostDowngradePromptHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryTopicAnnotationHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryTopicAnnotationHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryBasicAdsHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryBasicAdsHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAdsSocialContextHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAdsSocialContextHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAdsNonProfitSocialContextHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAdsNonProfitSocialContextHeaderStrategy",abstractKey:null}],storageKey:'header(supported:"3H0I6T")'},s,{alias:null,args:[{kind:"Literal",name:"supported",value:"40M411"}],concreteType:null,kind:"LinkedField",name:"aymt_footer",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTBizWebPostFooterStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTBizWebPostFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTPagePostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTPagePostFooterChannelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTNewsFeedPostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTNewsFeedPostFooterChannelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTProfessionalProfilePostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTProfessionalProfilePostFooterChannelStrategy",abstractKey:null}],storageKey:'aymt_footer(supported:"40M411")'},t,{alias:null,args:[{kind:"Literal",name:"supported",value:"1mHlFQ"}],concreteType:null,kind:"LinkedField",name:"feedback",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentFlaggedStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentFlaggedStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupConflictAlertUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupConflictAlertUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackMemoriesStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackMemoriesStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupContentModerationQueueStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupContentModerationQueueStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentDeletedPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentDeletedPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupDraftPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupDraftPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiFeedStoryFeedbackGroupDelegationPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackGroupDelegationPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackPluginStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackPluginStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackIntegrationStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackIntegrationStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiFeedStoryFeedbackGroupDraftedForOthersStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackGroupDraftedForOthersStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentPublishedPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentPublishedPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupScheduledPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupScheduledPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackEventScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupContextualProfileUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupContextualProfileUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupAdminAutonomyQueueAlertedStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupAdminAutonomyQueueAlertedStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometStoriesSingleBucketFeedUnitFeedbackStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoriesSingleBucketFeedUnitUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupAdminAssistPreviewStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupAdminAssistPreviewStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackWorkLiveAMAStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryWorkLiveAMAStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupModminReviewFolderPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupModminReviewFolderPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackKeyUpdateFeedUnitPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackKeyUpdateFeedUnitPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackKeyUpdateFeedUnitPreviewStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackKeyUpdateFeedUnitPreviewStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackEventModminReviewFolderPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackEventModminReviewFolderPostStrategy",abstractKey:null}],storageKey:'feedback(supported:"1mHlFQ")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"5fIuY"}],concreteType:null,kind:"LinkedField",name:"outer_footer",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryMisinformationRelatedArticleStrategy_misinfoRelatedArticles",fragmentPropName:"misinfoRelatedArticles",kind:"ModuleImport"}],type:"CometStoryMisinformationRelatedArticleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryPendingPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryPendingPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"GeminiFeedStoryPendingPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryPendingPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryGroupConflictAlertOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryGroupCommentRateLimitedOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupCommentRateLimitedOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryPendingParticipationPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryPendingParticipationPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryViewThreadFooter_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryViewThreadFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryInlineSurveyOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryInlineSurveyOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryJoinInVrOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryJoinInVrOuterFooterStrategy",abstractKey:null}],storageKey:'outer_footer(supported:"5fIuY")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"dyiij"}],concreteType:null,kind:"LinkedField",name:"call_to_action",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryTaggedProductsBumperCallToActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometTaggedProductsBumperCallToActionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryAnonymousPostUpsellActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometStoryGroupAnonymousPostUpsellActionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryDefaultCallToActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometStoryDefaultCallToActionStrategy",abstractKey:null}],storageKey:'call_to_action(supported:"dyiij")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3t3kTK"}],concreteType:null,kind:"LinkedField",name:"post_inform_treatment",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPostInformTreatmentSection_story",fragmentName:"CometFeedStoryPostCoverInformTreatmentStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryInformTreatmentPostCoverStrategy",abstractKey:null}],storageKey:'post_inform_treatment(supported:"3t3kTK")'}],storageKey:null},u,r,{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[o,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:p,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"WhatsAppStoryAdContext",kind:"LinkedField",name:"whatsapp_ad_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action_link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"schema_context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"click_tracking_linkshim_cb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_click_tracking",storageKey:null},k,l,m,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"tombstone_is_loading",storageKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"optimistic_loading_type",storageKey:null},{alias:null,args:null,concreteType:"OptimisticMediaAttachmentData",kind:"LinkedField",name:"optimistic_media_attachments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"entID",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectURL",storageKey:null},v,{alias:null,args:null,kind:"ScalarField",name:"useCDNPreview",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_session_id",storageKey:null}]}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitGoodwillMemoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GoodwillCometStory",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMKQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedPeopleYouMayKnowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometReelsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"ShowcaseFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFriendRequestsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"FriendRequestsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitQuickPromotionStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GroupsCometGYSJFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupsYouShouldJoinFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupsSuggestionFeedUnitStrategy_unit",fragmentPropName:"unit",kind:"ModuleImport"}],type:"GroupsSuggestionUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMIQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedGroupsPeopleYouMayInviteFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GeminiPYSFQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PeopleYouShouldFollowAtWorkFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometSPFFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"SuggestedPublicEntitiesToFollowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CoronavirusCommunityHelpFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"CoronavirusCommunityHelpFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometEndOfFeedUpsellStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"EndOfFeedUpsellFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedGroupsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedGroupsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedKeywordsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedKeywordsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometStoriesSingleBucketFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"StoriesSingleBucketInlineViewerFeedUnit",abstractKey:null}],type:"FeedUnit",abstractKey:"__isFeedUnit"}],storageKey:null}]},params:{id:b("fetchComposerPostCreationStatusQuery_facebookRelayOperation"),metadata:{},name:"fetchComposerPostCreationStatusQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider:b("GHLShouldChangeAdIdFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider:b("CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:b("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:b("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider:b("EventCometCardImage_prefetchEventImage.relayprovider")}}}}();e.exports=a}),null);
__d("fetchComposerPostCreationStatusQuery",["CometRelay","FBLogger","cometUniqueID","emptyFunction","fetchComposerPostCreationStatusQuery.graphql","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("fetchComposerPostCreationStatusQuery.graphql");function a(a){var b=a.cleanupAsyncHandlers,e=a.commonStoryFetchVariables,f=a.environment,g=a.options,h=a.storyID,j=a.submissionFlowSettings,k=a.viewState;if(h==null){c("FBLogger")("comet_composer").mustfix("StoryID is null: Unable to query for story");return c("emptyFunction")}a=babelHelpers["extends"]({},e,{story_id:h});e=d("relay-runtime").getRequest(i);e=d("relay-runtime").createOperationDescriptor(e,a);f.retain(e);var l=d("CometRelay").fetchQuery(f,i,a).subscribe({error:function(){b({cleanQuery:!0,cleanSubscription:!1})},next:function(a){if((a==null?void 0:a.node)!=null){var e=a==null?void 0:a.node;b({cleanQuery:!1,cleanSubscription:!0});(g==null?void 0:g.onCompleted)&&(g==null?void 0:g.onCompleted(a,j,{futureStoryID:null,isComparatorEnabled:!1,isStoryEmpty:e==null,legacyStoryHideableID:e==null?void 0:e.legacy_story_hideable_id,postID:null,shouldRenderP2RAfterCreationUpsellComet:e==null?void 0:e.should_render_p2r_after_creation_upsell_comet,storyID:h,storyURL:e==null?void 0:e.url,type:"CREATE"},k,function(){return b({cleanQuery:!0,cleanSubscription:!0})}));d("CometRelay").commitLocalUpdate(f,function(a){var b;(g==null?void 0:(b=g.asyncHandlers)==null?void 0:b.standaloneUpdater)&&g.asyncHandlers.standaloneUpdater(a,h,c("cometUniqueID")())})}else b({cleanQuery:!0,cleanSubscription:!1})}});return function(){return l.unsubscribe()}}g["default"]=a}),98);
__d("generateOptimisticResponse",["CometRelay","JSResourceForInteraction","OptimisticLoadingTypeEnum","ServerTime","cometComposerLogger","cometUniqueID","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h=(b=c("JSResourceForInteraction"))("CometFeedUnitStoryStrategy.react").__setRef("generateOptimisticResponse"),i=b("CometFeedUnitStoryStrategy_feedUnit$normalization.graphql").__setRef("generateOptimisticResponse"),j=b("CometFeedStoryActorPhotoStrategy.react").__setRef("generateOptimisticResponse"),k=b("CometFeedStoryActorPhotoStrategy_actorPhoto$normalization.graphql").__setRef("generateOptimisticResponse"),l=b("CometFeedStoryDefaultContentStrategy.react").__setRef("generateOptimisticResponse"),m=b("CometFeedStoryDefaultContentStrategy_content$normalization.graphql").__setRef("generateOptimisticResponse"),n=b("CometFeedStoryLargeMessageRenderingStrategy_message$normalization.graphql").__setRef("generateOptimisticResponse"),o=b("CometFeedStoryLargeMessageRenderingStrategy.react").__setRef("generateOptimisticResponse"),p=b("CometFeedStoryMessageContainerRenderingStrategy_messageContainer$normalization.graphql").__setRef("generateOptimisticResponse"),q=b("CometFeedStoryMessageContainerRenderingStrategy.react").__setRef("generateOptimisticResponse"),r=b("CometFeedStoryDefaultLayoutStrategy_layout$normalization.graphql").__setRef("generateOptimisticResponse"),s=b("CometFeedStoryDefaultLayoutStrategy.react").__setRef("generateOptimisticResponse"),t=b("CometFeedStoryTimestampStrategy_timestamp$normalization.graphql").__setRef("generateOptimisticResponse"),u=b("CometFeedStoryTimestampStrategy.react").__setRef("generateOptimisticResponse"),v=b("CometFeedStoryTitleWithActorStrategy_contextTitle$normalization.graphql").__setRef("generateOptimisticResponse"),w=b("CometFeedStoryTitleWithActorStrategy.react").__setRef("generateOptimisticResponse"),x=b("CometFeedStoryDefaultContextLayoutStrategy_contextLayout$normalization.graphql").__setRef("generateOptimisticResponse"),y=b("CometFeedStoryDefaultContextLayoutStrategy.react").__setRef("generateOptimisticResponse");function a(a,b,e,f){var g,j=b==null?void 0:(g=b.message)==null?void 0:g.text,k=b==null?void 0:(g=b.attachments)==null?void 0:g.length;b=k!=null&&k!==0;g=c("cometUniqueID")();var l=c("cometUniqueID")();e=e.mediaAttachments;var m=e!=null?e.map(function(a){if(a.file==null)return null;if(a.fileType!=="FILE"&&a.fileType!=="UNKNOWN"&&a.state!=="CLIENT_PROCESSING"&&a.state!=="CLIENT_PROCESSING_COMPLETE"){var b=URL.createObjectURL(a.file);return{entID:a.state==="UPLOADED"?a.entID:void 0,objectURL:b,type:a.fileType,useCDNPreview:a.useCDNPreview}}return null}).filter(Boolean):null;e=function(){if(m!=null)return c("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW;else if(k!=null&&k!==0)return c("OptimisticLoadingTypeEnum").SHOW_PROGRESS_BAR;else if(!c("isStringNullOrEmpty")(j))return c("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW;else return c("OptimisticLoadingTypeEnum").SHOW_LOADER};e=e();c("cometComposerLogger")({fields:{publishFlowOptimisticStep:"CREATE_OPTIMISTIC_RESPONSE",typeOfOptimisticPost:e},type:"COMPOSER_PUBLISH_FLOW_OPTIMISTIC_PROCESS"},f);return{story_create:{feed_story_edge:{category:null,cursor:null,deduplication_key:null,feed_backend_data:null,min_gap_type_index_string:null,node:d("CometRelay").createPayloadFor3DField("CometFeedUnitContainerSection_feedUnit",i,h,{__isFeedUnit:!0,__isNode:!0,__isTrackableFeedUnit:"Story",__typename:"Story",attached_story:null,call_to_action:null,click_tracking_linkshim_cb:null,client_view_config:null,comet_sections:{aymt_footer:null,call_to_action:null,content:z(l,g,j,b),context_layout:C(a,g),copyright_violation_header:null,feedback:null,footer:null,header:null,layout:G(),outer_footer:null},creation_session_id:f,debug_info:null,encrypted_click_tracking:null,encrypted_tracking:null,feedback:{associated_group:{id:null},id:l},id:g,matched_terms:[],optimistic_loading_type:e,optimistic_media_attachments:m,should_host_actor_link_in_watch:null,sponsored_data:null,trackingdata:{id:null},viewability_config:[]})},fundraiser_feed_story_edge:void 0,group_feed_story_edge:void 0,logging_token:null,story:{attachments:[],default_actor:null,gemini_group_draft_summary:void 0,id:g,legacy_story_hideable_id:null,social_learning_info_unit_module:void 0,to:void 0},story_id:null,timeline_feed_units_edge:void 0,user:void 0}}}function z(a,b,c,e){return d("CometRelay").createPayloadFor3DField("CometFeedStoryContentMatchRenderer_story",m,l,{__isICometStorySection:!0,__typename:"CometFeedStoryDefaultContentStrategy",is_prod_eligible:!0,story:{actors:[],attached_story:null,attachments:[],can_viewer_see_menu:!1,comet_sections:{above_message:null,aggregated_stories:null,attached_story:null,attachment_overlay:null,info_icon:null,message:A(b,c,e),message_container:B(b,c),message_sticker:null,message_suffix:null},encrypted_tracking:null,feedback:{id:a},id:b,sponsored_data:null,text_format_metadata:null}})}function A(a,b,c){return d("CometRelay").createPayloadFor3DField("CometFeedStoryMessageMatchRenderer_story",n,o,{__isICometStorySection:!0,__typename:"CometFeedStoryLargeMessageRenderingStrategy",is_prod_eligible:!0,story:{id:a,is_text_only_story:c,message:{aggregated_ranges:[],color_ranges:[],delight_ranges:[],image_ranges:[],inline_style_ranges:[],ranges:[],text:b}}})}function B(a,b){return d("CometRelay").createPayloadFor3DField("CometFeedStoryMessageContainerMatchRenderer_story",p,q,{__isICometStorySection:!0,__typename:"CometFeedStoryMessageContainerRenderingStrategy",is_prod_eligible:!0,story:{attachments:[],comet_sections:{message:null},id:a,message:{text:b},referenced_sticker:null,text_format_metadata:null}})}function C(a,b){return d("CometRelay").createPayloadFor3DField("CometFeedStoryContextSectionMatchRenderer_story",x,y,{__isICometStorySection:!0,__typename:"CometFeedStoryDefaultContextLayoutStrategy",is_prod_eligible:!0,story:{actors:[],can_viewer_see_menu:!1,comet_sections:{action_link:null,actor_photo:D(b),alert_badge:null,audience:null,badge_action_link:null,classifier_dogfooding:null,identity_badge:null,location:null,location_transparency:null,page_admin_attribution:null,paid_partnership_label:null,sponsored_label:null,timestamp:E(b),title:F(a,b),viewed_count:null,work_intern_qa_question:null,work_intern_task:null},debug_info:null,encrypted_tracking:null,id:b,serialized_frtp_identifiers:null}})}function D(a){return d("CometRelay").createPayloadFor3DField("CometFeedStoryActorPhotoSectionMatchRenderer_story",k,j,{__isICometStorySection:!0,__typename:"CometFeedStoryActorPhotoStrategy",is_prod_eligible:!0,story:{actors:[],id:a}})}function E(a){return d("CometRelay").createPayloadFor3DField("CometFeedStoryTimestampSection_story",t,u,{__isICometStorySection:!0,__typename:"CometFeedStoryTimestampStrategy",is_prod_eligible:!0,story:{creation_time:Math.round(d("ServerTime").getMillis()/1e3),ghl_label:null,id:a,url:null}})}function F(a,b){return d("CometRelay").createPayloadFor3DField("CometFeedStoryTitleSectionMatchRenderer_story",v,w,{__isICometStorySection:!0,__typename:"CometFeedStoryTitleWithActorStrategy",is_prod_eligible:!0,story:{actors:[{__typename:"User",id:a,name:void 0,url:void 0}],comet_sections:void 0,encrypted_tracking:null,id:b,title:null}})}function G(){return d("CometRelay").createPayloadFor3DField("CometFeedStoryLayoutMatchRenderer_story",r,s,{__isICometStorySection:!0,__typename:"CometStoryDefaultLayoutStrategy",is_prod_eligible:!0})}g["default"]=a}),98);
__d("getFeedComposerPostSubmissionComparators",["FBLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("8683");function a(a,b){function d(a){var d=a.field,e=a.newValue;a=a.originalValue;b.isComparatorEnabled&&a!==e&&c("FBLogger")("comet_composer").mustfix("Field %s has mismatch between original and new. Original: %s, New: %s",d,a,e);return h?e:a}function e(){var c;c=a.story_create&&a.story_create.story==null&&a.story_create.story_id!=null||a!=null&&a.story_edit!=null&&((c=a.story_edit)==null?void 0:c.story)==null;var e=b.type==="EDIT"?b.isStoryEmpty:b.isStoryEmpty===!0&&b.futureStoryID!=null;return d({field:"getIsPendingPost",newValue:e,originalValue:c})}function f(){var c;c=a.story_create?(c=a.story_create)==null?void 0:(c=c.story)==null?void 0:c.url:null;var e=b.type==="CREATE"?b.storyURL:null;return d({field:"getStoryURL",newValue:e,originalValue:c})}function g(){var c;c=a.story_create?(c=a.story_create)==null?void 0:(c=c.story)==null?void 0:c.id:null;var e=b.type==="CREATE"?b.storyID:null;return d({field:"getStoryID",newValue:e,originalValue:c})}function i(){var c=a.story_create!=null||a.story_edit!=null,e=b.type==="CREATE"||b.type==="EDIT";return d({field:"getIsCreateOrEdit",newValue:e,originalValue:c})}function j(){var c=a.story_create!=null,e=b.type==="CREATE";return d({field:"getIsCreate",newValue:e,originalValue:c})}function k(){var c;c=(c=a.story_create)==null?void 0:(c=c.story)==null?void 0:c.legacy_story_hideable_id;var e=b.type==="CREATE"?b.legacyStoryHideableID:null;return d({field:"getLegacyStoryHideableID",newValue:e,originalValue:c})}function l(){var c,e;c=(c=a.story_create)==null?void 0:(c=c.story)==null?void 0:c.legacy_story_hideable_id;if(c==null&&((e=a.story_edit)==null?void 0:(e=e.story)==null?void 0:e.post_id)!==null){c=(e=a.story_edit)==null?void 0:(e=e.story)==null?void 0:e.post_id}e=!1;if(c==null){var f;c=(f=a.story_create)==null?void 0:f.post_id;c!=null&&(e=!0)}f=b.type==="CREATE"?(f=b.legacyStoryHideableID)!=null?f:b.postID:b.postID;var g=b.type==="CREATE"&&b.legacyStoryHideableID==null&&b.postID!=null;return{isVideoStoryEncoding:d({field:"isVideoStoryEncoding",newValue:g,originalValue:e}),postID:d({field:"postIDData",newValue:f,originalValue:c})}}function m(){var c;c=a==null?void 0:(c=a.story_create)==null?void 0:c.post_id;var e=b.type==="CREATE"?b.postID:null;return d({field:"getStoryCreationPostID",newValue:e,originalValue:c})}function n(){var c;c=((c=a.story_create)==null?void 0:(c=c.story)==null?void 0:c.should_render_p2r_after_creation_upsell_comet)===!0;var e=b.type==="CREATE"?b.shouldRenderP2RAfterCreationUpsellComet===!0:!1;return d({field:"getShouldRenderP2RAfterCreationUpsell",newValue:e,originalValue:c})}return{getIsCreate:j,getIsCreateOrEdit:i,getIsPendingPost:e,getLegacyStoryHideableID:k,getPostIDData:l,getShouldRenderP2RAfterCreationUpsell:n,getStoryCreationPostID:m,getStoryID:g,getStoryURL:f}}g["default"]=a}),98);
__d("getTextLengthLimitReachedText",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.limit;a=a.numCharacters;return h._(/*BTDS*/"__JHASH__3cLfvzWtg36__JHASH__",[h._param("maxselect",b,[0]),h._param("number",a-b,[0])])}g["default"]=a}),226);
__d("handleVideoThumbnailURLConversion",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.map(function(a){if(a!=null)if(a instanceof File)return URL.createObjectURL(a);else return a.getURL();else return""})}f["default"]=a}),66);
__d("transformComposerViewStateToMutationData",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){function f(d,g){var h=c[g];if(h!=null){var i=function(a){f(a,g+1)};h(a,b,d,i)}else e(d)}f(d,0)}f["default"]=a}),66);
__d("transformersArrayHelpers",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.map(function(a){if(typeof a==="function")return a;else return a.creationDataTransformer})}function b(a){return a.map(function(a){if(typeof a==="function")return function(b,c,d,e){return a(c,d,e)};else return a.mutationDataTransformer})}f.transformersArrayToCreationDataTransformers=a;f.transformersArrayToMutationDataTransformers=b}),66);
__d("useCentralOnCompletedHandlers",["fbt","VideoUploadComposerSurface","VideoUploadSurface","react","react-compiler-runtime","useTriggerAccessibilityAlert"],(function(a,b,c,d,e,f,g,h){"use strict";var i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=c("useTriggerAccessibilityAlert")(),e;a[0]!==b?(e=function(a,c){c&&c.disposable&&c.disposable.dispose();d("VideoUploadComposerSurface").onSubmitPostCompleted(a.creationSessionID,d("VideoUploadSurface").VideoUploadSurfaceIDs.FEED);c=(c=a.audience)==null?void 0:(a=c.privacy)==null?void 0:a.base_state;c==null?b(h._(/*BTDS*/"__JHASH__YWZCc1pIIdm__JHASH__")):b(h._(/*BTDS*/"__JHASH__cyTk8PoeTIM__JHASH__",[h._param("audience",c)]))},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),226);
__d("useCometComposerValidateStatusTextLengthForLexical.react",["CometComposerStylingConstants","LexicalText","getTextLengthLimitReachedText","lengthInUTF8Bytes","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(10),e=a.lexicalEditor,f=(a=a==null?void 0:a.characterLimit)!=null?a:d("CometComposerStylingConstants").COMPOSER_CHARACTER_LIMIT;if(b[0]!==e){a=(a=e==null?void 0:e.getEditorState().read(d("LexicalText").$rootTextContent).length)!=null?a:0;b[0]=e;b[1]=a}else a=b[1];a=a;a=a>f?a:null;a=j(a);var g=a[0],h=a[1],k;b[2]!==e||b[3]!==f||b[4]!==g?(a=function(){if(e!=null)return e.registerTextContentListener(function(a){a=c("lengthInUTF8Bytes")(a);a>f?h(a):g!=null&&a<=f&&h(null)})},k=[g,f,e],b[2]=e,b[3]=f,b[4]=g,b[5]=a,b[6]=k):(a=b[5],k=b[6]);i(a,k);if(g!=null){b[7]!==f||b[8]!==g?(a=c("getTextLengthLimitReachedText")({limit:f,numCharacters:g}),b[7]=f,b[8]=g,b[9]=a):a=b[9];return a}return null}g["default"]=a}),98);
__d("useComposerCreatePostSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8620256928096680"}),null);
__d("useComposerCreatePostSubscription.graphql",["useComposerCreatePostSubscription_facebookRelayOperation","GHLShouldChangeSponsoredAuctionDistanceFieldName.relayprovider","GHLShouldChangeAdIdFieldName.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","IsWorkUser.relayprovider","CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider","CometImmersivePhotoCanUserDisable3DMotion.relayprovider","IsMergQAPolls.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometUFIShareActionMigration.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","EventCometCardImage_prefetchEventImage.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},c={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},d={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},e={defaultValue:null,kind:"LocalArgument",name:"input"},f={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},g={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},h={defaultValue:null,kind:"LocalArgument",name:"scale"},i={defaultValue:!1,kind:"LocalArgument",name:"useDefaultActor"},j=[{kind:"Variable",name:"data",variableName:"input"}],k={alias:null,args:null,kind:"ScalarField",name:"client_subscription_id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"legacy_story_hideable_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_render_p2r_after_creation_upsell_comet",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"story_id",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"post_published",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r=[{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"advert_identification_label",args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_rendering_loggers",storageKey:null},q],s=[l],t={alias:null,args:null,concreteType:"QuickPromotionFeedUnitItem",kind:"LinkedField",name:"quick_promotion_items",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"quick_promotion",plural:!1,selections:s,storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i],kind:"Fragment",metadata:null,name:"useComposerCreatePostSubscription",selections:[{alias:null,args:j,concreteType:"StoryCreatePostPublishedSubscribeResponsePayload",kind:"LinkedField",name:"story_create_post_published_subscribe",plural:!1,selections:[k,{alias:null,args:null,concreteType:"StoryCreateResponsePayload",kind:"LinkedField",name:"payload",plural:!1,selections:[{alias:null,args:null,concreteType:"NewsFeedEdge",kind:"LinkedField",name:"feed_story_edge",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNewsFeedUnit_edge"}],storageKey:null},m,n,o],storageKey:null},p],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,a,c,d,h,i,f,g,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsMergQAPollsrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIShareActionMigrationrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider"}],kind:"Operation",name:"useComposerCreatePostSubscription",selections:[{alias:null,args:j,concreteType:"StoryCreatePostPublishedSubscribeResponsePayload",kind:"LinkedField",name:"story_create_post_published_subscribe",plural:!1,selections:[k,{alias:null,args:null,concreteType:"StoryCreateResponsePayload",kind:"LinkedField",name:"payload",plural:!1,selections:[{alias:null,args:null,concreteType:"NewsFeedEdge",kind:"LinkedField",name:"feed_story_edge",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[q,{kind:"TypeDiscriminator",abstractKey:"__isFeedUnit"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},l,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context_actor_hovercard",storageKey:null},l],storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_story_civic",storageKey:null},n,{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:r,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"data_spon_lbl",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:r,storageKey:null}]},{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitGoodwillMemoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GoodwillCometStory",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMKQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedPeopleYouMayKnowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometReelsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"ShowcaseFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFriendRequestsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"FriendRequestsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[t,{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitQuickPromotionStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GroupsCometGYSJFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupsYouShouldJoinFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupsSuggestionFeedUnitStrategy_unit",fragmentPropName:"unit",kind:"ModuleImport"}],type:"GroupsSuggestionUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMIQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedGroupsPeopleYouMayInviteFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GeminiPYSFQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PeopleYouShouldFollowAtWorkFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometSPFFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"SuggestedPublicEntitiesToFollowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CoronavirusCommunityHelpFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"CoronavirusCommunityHelpFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometEndOfFeedUpsellStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"EndOfFeedUpsellFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedGroupsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedGroupsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedKeywordsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedKeywordsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometStoriesSingleBucketFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"StoriesSingleBucketInlineViewerFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[t],type:"QuickPromotionFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TrackingData",kind:"LinkedField",name:"trackingdata",plural:!1,selections:s,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}],type:"TrackableFeedUnit",abstractKey:"__isTrackableFeedUnit"},{kind:"InlineFragment",selections:s,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:s,type:"CommunityTabTrendingPOGFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:s,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:s,type:"GroupsMultiGYSJStoryUnit",abstractKey:null},{kind:"InlineFragment",selections:s,type:"GroupsTabCategoriesUnit",abstractKey:null},{kind:"InlineFragment",selections:s,type:"PagesYouMayLikeFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:s,type:"StoriesTrayFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:s,type:"XFBDummyReelsInWatchIFU",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FeedBackendData",kind:"LinkedField",name:"feed_backend_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"qid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_qid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vsid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vspos",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_recent_vpv_fetch_tracking_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serialized_payloads",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"brs_content_label",storageKey:null},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sponsored_auction_distance",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"dist_for_spon_auc",args:null,kind:"ScalarField",name:"sponsored_auction_distance",storageKey:null}]}],storageKey:null},m,n,o],storageKey:null},p],storageKey:null}]},params:{id:b("useComposerCreatePostSubscription_facebookRelayOperation"),metadata:{subscriptionName:"story_create_post_published_subscribe"},name:"useComposerCreatePostSubscription",operationKind:"subscription",text:null,providedVariables:{__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider:b("GHLShouldChangeSponsoredAuctionDistanceFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider:b("GHLShouldChangeAdIdFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider:b("CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:b("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:b("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider:b("EventCometCardImage_prefetchEventImage.relayprovider")}}}}();e.exports=a}),null);
__d("useComposerCreatePostSubscription",["CometRelay","RelayHooks","cometUniqueID","err","react-compiler-runtime","useComposerCreatePostSubscription.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useComposerCreatePostSubscription.graphql");function j(a){var b=a.cleanupAsyncHandlers,e=a.commonStoryFetchVariables,f=a.creationSessionID,g=a.environment,h=a.options,j=a.submissionFlowSettings,k=a.viewState;a=babelHelpers["extends"]({},e,{input:{composer_session_id:f}});return d("CometRelay").requestSubscription(g,{onError:function(a){(h==null?void 0:h.onError)&&(h==null?void 0:h.onError(a,j,k)),b({cleanQuery:!0,cleanSubscription:!0})},onNext:function(a){var d;b({cleanQuery:!0,cleanSubscription:!1});if((a==null?void 0:(d=a.story_create_post_published_subscribe)==null?void 0:d.post_published)===!0){var e;d=a==null?void 0:(d=a.story_create_post_published_subscribe)==null?void 0:(d=d.payload)==null?void 0:d.story;(h==null?void 0:h.onCompleted)&&(h==null?void 0:h.onCompleted(a,j,{futureStoryID:a==null?void 0:(e=a.story_create_post_published_subscribe)==null?void 0:(e=e.payload)==null?void 0:e.story_id,isComparatorEnabled:!1,isStoryEmpty:d==null,legacyStoryHideableID:d==null?void 0:d.legacy_story_hideable_id,postID:a==null?void 0:(e=a.story_create_post_published_subscribe)==null?void 0:(a=e.payload)==null?void 0:a.post_id,shouldRenderP2RAfterCreationUpsellComet:d==null?void 0:d.should_render_p2r_after_creation_upsell_comet,storyID:d==null?void 0:d.id,storyURL:d==null?void 0:d.url,type:"CREATE"},k,function(){return b({cleanQuery:!0,cleanSubscription:!0})}))}else(h==null?void 0:h.onError)&&(h==null?void 0:h.onError(c("err")("Story create post published subscription failed"),j,k))},subscription:i,updater:function(a){var b;((b=h.asyncHandlers)==null?void 0:b.subscriptionUpdater)&&((b=h.asyncHandlers)==null?void 0:b.subscriptionUpdater(a,(b=k.creationSessionID)!=null?b:c("cometUniqueID")()))},variables:a})}function a(){var a=d("react-compiler-runtime").c(2),b=d("RelayHooks").useRelayEnvironment(),c;a[0]!==b?(c=function(a){var c=a.cleanupAsyncHandlers,d=a.commonStoryFetchVariables,e=a.creationSessionID,f=a.options,g=a.submissionFlowSettings;a=a.viewState;var h=j({cleanupAsyncHandlers:c,commonStoryFetchVariables:d,creationSessionID:e,environment:b,options:f,submissionFlowSettings:g,viewState:a});return function(){return h.dispose()}},a[0]=b,a[1]=c):c=a[1];return c}g["default"]=a}),98);
__d("useHandleAsyncProcess",["WebPixelRatio","fetchComposerPostCreationStatusQuery","react","react-compiler-runtime","useComposerCreatePostSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function a(){var a=d("react-compiler-runtime").c(3),b=c("useComposerCreatePostSubscription")(),e=i(null),f=i(null),g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){a.cleanQuery&&(e.current!=null&&e.current()),a.cleanSubscription&&(f.current!=null&&f.current())},a[0]=g):g=a[0];var h=g;a[1]!==b?(g=function(a){var g=a.creationSessionID,i=a.environment,j=a.options,k=a.storyID;a=a.viewState;var l={processingType:"ASYNC_SILENT",submissionFlowType:j.getSubmissionFlowType(a)},m=j.variables;m={feedbackSource:m.feedbackSource,feedLocation:m.feedLocation,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:m.renderLocation,scale:d("WebPixelRatio").get()};f.current=b({cleanupAsyncHandlers:h,commonStoryFetchVariables:m,creationSessionID:g,options:j,submissionFlowSettings:l,viewState:a});e.current=c("fetchComposerPostCreationStatusQuery")({cleanupAsyncHandlers:h,commonStoryFetchVariables:m,environment:i,options:j,storyID:k,submissionFlowSettings:l,viewState:a})},a[1]=b,a[2]=g):g=a[2];return g}g["default"]=a}),98);
__d("useComposerSubmitExecute",["CometRelay","EventCometActionLoggerUtils","FBLogger","MLCInstrumentationCommands","NetworkStatus","Promise","cometComposerLogger","cometUniqueID","genCreationDataTransformersFromFeatureDefinitions","generateOptimisticResponse","handleVideoThumbnailURLConversion","promiseDone","react","requireDeferred","transformComposerViewStateToCreationData","transformersArrayHelpers","useHandleAsyncProcess","useMinifiedProductAttribution","useNotificationsTrackingString"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useRef,k=c("requireDeferred")("ComposerStoryCreateMutation").__setRef("useComposerSubmitExecute"),l=2,m=new Set(["NetworkTimeoutError","NetworkTransportError","PHPTimeoutException","PHPOutOfMemoryException"]);function n(a){var b;return m.has(a.name)||m.has((b=(b=a.source)==null?void 0:(b=b.exception)==null?void 0:b["class"])!=null?b:"")||((b=a.source)==null?void 0:b.is_transient)===!0}function o(a){var b;c("NetworkStatus").isOnline()?a():b=c("NetworkStatus").onChange(function(c){c=c.online;c&&(b.remove(),a())})}function a(a,e){var f=a.actorID,g=a.creationSessionID,i=c("cometUniqueID")(),m=d("EventCometActionLoggerUtils").useExtractEventComposerSurface(),r={composer_entry_point:a.composerEntryPoint,composer_source_surface:a.composerSourceSurface,composer_type:a.composerType,idempotence_token:a.creationSessionID+"_"+a.requestType,source:"WWW"},s=c("useNotificationsTrackingString")(),t=d("CometRelay").useRelayEnvironment(),u=c("useMinifiedProductAttribution")(),v=j(0),w=c("useHandleAsyncProcess")(),x=function j(x){var y=x.loggingData,z=x.mutationConfig,A=x.onBeforeCommit,B=x.onCompleted,C=x.onError,D=x.shouldRunRetries,E=x.transformers,F=x.updateStoreOptimistically,G=x.useCommitOptimistic,H=x.useUpdater,I=x.viewState,J=H===void 0?!1:H,K;K=null;if(a.composerType==="goodwill_campaign"){H=((x=I.linkAttachment)==null?void 0:x.storyId)!=null?"THROWBACK_POST":"NOT_THROWBACK_POST";x=I.goodwillCometMetadata;K={goodwill_comet_metadata:x,is_throwback_post:H}}var L=function(a){D&&n(a)&&v.current<l?(v.current=v.current+1,o(function(){j({loggingData:y,mutationConfig:z,onBeforeCommit:A,onCompleted:B,onError:C,shouldRunRetries:D,transformers:E,updateStoreOptimistically:F,useCommitOptimistic:G,useUpdater:J,viewState:I})})):C&&C(a)},M={disposable:null};c("promiseDone")((h||(h=b("Promise"))).all(c("genCreationDataTransformersFromFeatureDefinitions")(a.featureDefinitions,I)).then(function(b){b=E.concat(b);c("transformComposerViewStateToCreationData")(I,z,d("transformersArrayHelpers").transformersArrayToCreationDataTransformers(b),babelHelpers["extends"]({},r,K),function(b){var h=I.lexicalEditor;h!=null&&h.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"create");y.retryCount=v.current.toString();b.logging={composer_session_id:g};u!=null&&(b.navigation_data={attribution_id_v2:u});b.tracking=b.tracking?b.tracking.concat(s):[s];if(((h=b.publishing_flow)==null?void 0:h.supported_flows.find(q))&&a.asyncHandlers==null){c("FBLogger")("comet_composer").mustfix("Unsupported ASYNC_SILENT attempt, no subscription updater provided");b.publishing_flow={supported_flows:(h=(h=b.publishing_flow)==null?void 0:h.supported_flows.filter(p))!=null?h:[]}}if((h=I.abTestData)==null?void 0:h.isABTest){h=(h=(h=I.abTestData)==null?void 0:h.variantThumbnails)!=null?h:[];h=c("handleVideoThumbnailURLConversion")(h);b.ab_test={alternative_thumbnails:h,alternative_titles:(h=I.abTestData)==null?void 0:h.variantTitles,creation_entry_point:"COMPOSER_LITE"};b.unpublished_content_data={unpublished_content_type:"DRAFT"}}b.event_share_metadata={surface:m};k.onReady(function(d){var h=d.commit;d=d.commitOptimistic;d=G===!0?d:h;A&&A();M.disposable=d(t,b,{onCompleted:function(b){var c;if(((c=b.story_create)==null?void 0:c.publishing_flow)==="ASYNC_SILENT"){w({creationSessionID:g,environment:t,options:a,storyID:(c=b.story_create)==null?void 0:c.story_id,viewState:I});return}B&&B(b)},onError:L,optimisticResponse:F===!0?c("generateOptimisticResponse")(f,b,I,g):void 0,optimisticUpdater:function(b){return F===!0?a.optimisticUpdater&&a.optimisticUpdater(b,i):void 0},updater:function(b){var d=b.getRootField("story_create");d=d==null?void 0:d.getValue("publishing_flow");if(d==="ASYNC_SILENT")return;F===!0&&c("cometComposerLogger")({fields:{composerType:r.composer_type,publishFlowOptimisticStep:"TRIGGER_REPLACE_OPTIMISTIC_POST"},type:"COMPOSER_PUBLISH_FLOW_OPTIMISTIC_PROCESS"},g);J&&a.updater(b,i)},variables:a.variables},y,e)})})}));return M};return x}function p(a){return a!=="ASYNC_SILENT"}function q(a){return a==="ASYNC_SILENT"}g["default"]=a}),98);
__d("useEditComposerSubmit",["CometRelay","feedEditStoryLiveInsertUpdater","react","react-compiler-runtime","requireDeferred","transformComposerViewStateToMutationData","transformersArrayHelpers","useCentralOnCompletedHandlers","useNotificationsTrackingString"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;var i=c("requireDeferred")("ComposerStoryEditMutation").__setRef("useEditComposerSubmit");function a(a,b){var e=d("react-compiler-runtime").c(12),f=c("useNotificationsTrackingString")(),g=d("CometRelay").useRelayEnvironment(),h=c("useCentralOnCompletedHandlers")(),j;e[0]!==h||e[1]!==a?(j=function(b){h(b);return function(c){var d;d=c.story_edit!=null&&((d=c.story_edit)==null?void 0:d.story)==null;a.onCompleted(c,{processingType:d?"ASYNC_NOTIF":"FALLBACK",submissionFlowType:a.getSubmissionFlowType(b)},{isComparatorEnabled:!0,isStoryEmpty:(c==null?void 0:(d=c.story_edit)==null?void 0:d.story)==null,postID:(d=c.story_edit)==null?void 0:(c=d.story)==null?void 0:c.post_id,type:"EDIT"},b)}},e[0]=h,e[1]=a,e[2]=j):j=e[2];var k=j;e[3]!==g||e[4]!==k||e[5]!==b||e[6]!==a.creationSessionID||e[7]!==a.transformers||e[8]!==a.variables.feedLocation||e[9]!==a.variables.renderLocation||e[10]!==f?(j=function(e,h,j){c("transformComposerViewStateToMutationData")(e,h,d("transformersArrayHelpers").transformersArrayToMutationDataTransformers(a.transformers),{story_id:j},function(d){d.tracking=d.tracking?d.tracking.concat(f):[f],d.logging={composer_session_id:a.creationSessionID},i.onReady(function(e){e=e.commit;e(g,d,{onCompleted:k(h),onError:b(h),updater:function(a){c("feedEditStoryLiveInsertUpdater")(j,a)},variables:{creationSessionID:a.creationSessionID,feedLocation:a.variables.feedLocation,renderLocation:a.variables.renderLocation}})})})},e[3]=g,e[4]=k,e[5]=b,e[6]=a.creationSessionID,e[7]=a.transformers,e[8]=a.variables.feedLocation,e[9]=a.variables.renderLocation,e[10]=f,e[11]=j):j=e[11];return j}g["default"]=a}),98);
__d("useComposerSubmit",["fbt","ComposerSubmissionFlowTypes","VideoUploadComposerSurface","VideoUploadSurface","err","getComposerLoggingPayload","ifRequireable","react","react-compiler-runtime","transformersArrayHelpers","useCentralOnCompletedHandlers","useComposerSubmitExecute","useEditComposerSubmit"],(function(a,b,c,d,e,f,g,h){"use strict";var i;(i||d("react")).useCallback;function a(a,b){var e=d("react-compiler-runtime").c(9),f=a.actorID,g;e[0]!==a?(g=function(b,c,e,f){return function(g){d("VideoUploadComposerSurface").onSubmitPostError(b.creationSessionID,d("VideoUploadSurface").VideoUploadSurfaceIDs.FEED),a.onError(g,{processingType:"FALLBACK",submissionFlowType:a.getSubmissionFlowType(b)},b),c&&c.disposable&&c.disposable.dispose(),e&&f&&e.errorObserver.unsubscribe(f)}},e[0]=a,e[1]=g):g=e[1];var i=g,j=c("useCentralOnCompletedHandlers")(),k=c("useEditComposerSubmit")(a,i),l=c("useComposerSubmitExecute")(a,b);e[2]!==f||e[3]!==j||e[4]!==l||e[5]!==i||e[6]!==k||e[7]!==a?(g=function(b){var e=b.composerLoggingExtraData,g=b.mutationConfig,m=b.viewState;b=m.storyID;if(b!=null)k(a.unalteredBeginningViewState,m,b);else{var n;n=null;b=a.optimisticTransformers;var o;o=null;c("ifRequireable")("ComposerMediaFileUploader",function(a){o=a.getInstance(f),d("VideoUploadComposerSurface").onSubmitPost(m.creationSessionID,d("VideoUploadSurface").VideoUploadSurfaceIDs.FEED)});var p=function(b){b=c("err")((b=(b=b.error)==null?void 0:b.toString())!=null?b:h._(/*BTDS*/"__JHASH___KMLLhPJP31__JHASH__").toString());a&&a.onError(b,{processingType:"FALLBACK",submissionFlowType:a.getSubmissionFlowType(m)},m);n&&n.disposable&&n.disposable.dispose()};e=babelHelpers["extends"]({payload:d("getComposerLoggingPayload").getFeedComposerLoggingPayload(m)},e);if(b){var q=function(){o&&o.errorObserver.subscribe(p)};n=l({loggingData:e,mutationConfig:g,onBeforeCommit:q,shouldRunRetries:!1,transformers:d("transformersArrayHelpers").transformersArrayToCreationDataTransformers(b),updateStoreOptimistically:a.getSubmissionFlowType(m)===d("ComposerSubmissionFlowTypes").ComposerSubmissionFlowTypes.OPTIMISTIC,useCommitOptimistic:!0,viewState:m})}q=function(b){b&&a.mutationDataValidator&&a.mutationDataValidator(b)};l({loggingData:e,mutationConfig:g,onBeforeCommit:q,onCompleted:function(b){var c,d;c=b==null?void 0:(c=b.story_create)==null?void 0:c.story;j(m,n);a&&a.onCompleted(b,{processingType:(d=b==null?void 0:(d=b.story_create)==null?void 0:d.publishing_flow)!=null?d:"FALLBACK",submissionFlowType:a.getSubmissionFlowType(m)},{futureStoryID:b==null?void 0:(d=b.story_create)==null?void 0:d.story_id,isComparatorEnabled:!0,isStoryEmpty:c==null,legacyStoryHideableID:c==null?void 0:c.legacy_story_hideable_id,postID:b==null?void 0:(d=b.story_create)==null?void 0:d.post_id,shouldRenderP2RAfterCreationUpsellComet:c==null?void 0:c.should_render_p2r_after_creation_upsell_comet,storyID:c==null?void 0:c.id,storyURL:c==null?void 0:c.url,type:"CREATE"},m)},onError:i(m,n,o,p),shouldRunRetries:!0,transformers:d("transformersArrayHelpers").transformersArrayToCreationDataTransformers(a.transformers),updateStoreOptimistically:a.getSubmissionFlowType(m)===d("ComposerSubmissionFlowTypes").ComposerSubmissionFlowTypes.OPTIMISTIC,useUpdater:!0,viewState:m})}},e[2]=f,e[3]=j,e[4]=l,e[5]=i,e[6]=k,e[7]=a,e[8]=g):g=e[8];return g}g["default"]=a}),226);
__d("useDefaultPrivacyCallout",["fbt","ARIA_LABEL_PLACEHOLDER_FIXME","react","react-compiler-runtime","useFDSCallout"],(function(a,b,c,d,e,f,g,h){"use strict";var i;b=i||d("react");b.useCallback;var j=b.useState,k={tooltip:{maxWidth:"xw5ewwj",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(7),b=j(""),e=b[0],f=b[1];b=j(!1);var g=b[0],i=b[1];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){i(!1)},a[0]=b):b=a[0];a[1]!==e?(b={align:"middle","aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),arrowStyle:"inset",content:e,onHide:b,position:"below",type:"accent",xstyle:k.tooltip},a[1]=e,a[2]=b):b=a[2];e=c("useFDSCallout")(b,g);b=e.anchorRef;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){a.type==="success"&&(a==null?void 0:a.label)!=null&&(f(h._(/*BTDS*/"__JHASH__xIaTmsw2oh6__JHASH__",[h._param("privacy_option",a==null?void 0:a.label)])),i(!0))},a[3]=g):g=a[3];e=g;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){f(h._(/*BTDS*/"__JHASH__SaawGxW3FoD__JHASH__")),i(!0)},a[4]=g):g=a[4];g=g;a[5]!==b?(e={calloutRef:b,handleIPSResult:e,handleNuxAutoOptIn:g},a[5]=b,a[6]=e):e=a[6];return e}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("EBAPIQPLPoints",["QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";e={GRAPHQL_QUERY_END:"graphql_query_end",GRAPHQL_QUERY_START:"graphql_query_start"};f={EB_NOT_ENABLED:"eb_not_enabled",EBLS_NOT_INITIALIZED:"ebls_not_initialized",EMPTY_DECRYPTION_RESPONSE:"empty_decryption_response",INVALID_CLIENT_STATE:"invalid_client_state",INVALID_GRAPHQL_RESPONSE:"invalid_graphql_response",NO_CLIENT_STATE:"no_client_state",RUNTIME_ERROR:"runtime_error"};var h=babelHelpers["extends"]({},e),i=babelHelpers["extends"]({},e,f,{BACKUP_ID_NULL:"backup_id_null",DECRYPT_MESSAGES_ECHO_AND_PROTOBUF_END:"decrypt_messages_echo_and_protobuf_end",DECRYPT_MESSAGES_ECHO_AND_PROTOBUF_START:"decrypt_messages_echo_and_protobuf_start",DECRYPT_MESSAGES_ECHO_END:"decrypt_messages_echo_end",DECRYPT_MESSAGES_ECHO_START:"decrypt_messages_echo_start",DECRYPT_MESSAGES_PROTOBUF_END:"decrypt_messages_protobuf_end",DECRYPT_MESSAGES_PROTOBUF_START:"decrypt_messages_protobuf_start",DECRYPTED_PROTOBUFS_NULL:"decrypted_protobufs_null",DELETE_MAILBOX:"delete_mailbox",DERIVE_AND_STORE_EPOCHS_END:"derive_and_store_epochs_end",DERIVE_AND_STORE_EPOCHS_START:"derive_and_store_epochs_start",ECHO_DECODE_END:"echo_decode_end",ECHO_DECODE_START:"echo_decode_start",ECHO_TO_PROTOBUF_CONVERSION_END:"echo_to_protobuf_conversion_end",ECHO_TO_PROTOBUF_CONVERSION_FAILURE:"echo_to_protobuf_conversion_failure",ECHO_TO_PROTOBUF_CONVERSION_START:"echo_to_protobuf_conversion_start",MISSING_RANGE_INFO:"missing_range_info",NO_MESSAGES_TO_RESTORE:"no_messages_to_restore",NULL_MESSAGES:"null_messages",PROCESS_AND_DECRYPT_MESSAGES_END:"process_and_decrypt_messages_end",PROCESS_AND_DECRYPT_MESSAGES_START:"process_and_decrypt_messages_start",PROTOBUF_DECRYPTION_FAILURE:"protobuf_decryption_failure",RESTORING_MIXED_ECHO_PROTOBUF_PAYLOAD:"restoring_mixed_echo_protobuf_payload",SERVER_SIDE_EXCEPTION:"server_side_exception"}),j={ADDED_ATTACHMENT_CONTEXT:"added_attachment_context",ADDED_ATTACHMENT_CONTEXT_LEGACY:"added_attachment_context_legacy",MESSAGE_RESULT_FAILURE_OR_NULL:"message_result_failure_or_null",NO_INCOMING_MESSAGES:"no_incoming_messages",NO_PROCESSED_MESSAGES:"no_processed_messages",PROCESSED_MESSAGES:"processed_messages",RUNTIME_ERROR:"runtime_error",SUCCESSFULLY_PROCESSED_MESSAGE:"successfully_processed_message",UKNOWN_MESSAGE_VERSION_OR_PROTOCOL:"unknown_message_version_or_protocol",UNABLE_TO_CREATE_BACKUP_DIRECTIVE:"unable_to_create_backup_directive",UNKNOWN_MESSAGE_TYPE:"unknown_message_type",UNSUPPORTED_MESSAGE_TYPE:"unsupported_message_type",UPLOAD_DELETED_MESSAGE:"upload_deleted_message"};function a(a,b,d,e,f){c("QPLUserFlow").addPoint(b,d,{data:babelHelpers["extends"]({},e,{bool:{runningInWorker:a}}),instanceKey:f})}function b(a,b,d,e,f){c("QPLUserFlow").endFailure(b,d,{annotations:babelHelpers["extends"]({},f,{bool:{runningInWorker:a}}),instanceKey:e})}function d(a,b,d,e){c("QPLUserFlow").endSuccess(b,{annotations:babelHelpers["extends"]({},e,{bool:{runningInWorker:a}}),instanceKey:d})}g.EBAPIQPLCommonPoints=e;g.EBAPIQPLCommonErrorPoints=f;g.EBMessageMetadataQPLPoints=h;g.EBMessageRestoreQueryQPLPoints=i;g.EBUploadQueueQPLPoints=j;g.ebAPIAddQPLPoint=a;g.ebAPIEndFailure=b;g.ebAPIEndSuccess=d}),98);
__d("LSDeleteAndReenrollDeviceState",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure] Beginning execution."),function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure] No reenrollment trigger table. Doing nothing."),d[1]=c.createArray(),void 0!==void 0?d[8]=(d[1].push(void 0),d[1]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure","No reenrollment trigger table. Doing nothing.",d[1],c.i64.cast([0,3]))},function(a){return d[2]=c.i64.of_float(Date.now()),d[3]=c.i64.random(),d[5]="Finishing execution. Execution time: ",d[6]=c.i64.to_string(c.i64.sub(d[2],d[0])),d[7]=" ms",d[4]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure] ",d[4],d[5],d[4],d[6],d[4],d[7]].join("")),c.i64.eq(c.i64.mod_(d[3],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[8]=",",d[9]=c.createArray(),void 0!==void 0?d[10]=(d[9].push(void 0),d[9]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure",[d[5],d[8],d[6],d[8],d[7]].join(""),d[9],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSDeleteAndReenrollDeviceStateStoredProcedure",["LSDeleteAndReenrollDeviceState","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSDeleteAndReenrollDeviceState"),e.targetDeviceId,e.reenrollmentReason);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSMEBDeviceReenrollmentReason",[],(function(a,b,c,d,e,f){a=Object.freeze({UNIT_TEST:1,UPLOAD_FAILED_WITH_NO_DEVICE_FOUND:2,LOCAL_DEVICE_ID_NOT_IN_FETCH_BACKUPS_RESULT:3,RESTORE_FAILED_WITH_NO_DEVICE_FOUND:4,EPOCH_DOWNLOAD_UNRECOVERABLE_ERROR:5,OPT_OUT_DELTA_FROM_DEVICE_PRUNING:6,UPLOAD_FAILED_WITH_INCORRECT_FINGERPRINT_FROM_CORRUPT_EPOCH:7,INIT_SEV_REMEDIATION:8,INIT_SEV_REMEDIATION_V2:9,GRAPHQL_INIT_SEV_REMEDIATION:10});f["default"]=a}),66);
__d("LSDecryptMessageProtobufsStoredProcedure",["LSDecryptMessageProtobufs","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSDecryptMessageProtobufs"),e.encryptedMessagesWithProtobufs,e.actThreadId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSDecryptMessagesStoredProcedure",["LSDecryptMessages","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSDecryptMessages"),e.encryptedMessages,e.actThreadId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSGetNextEpochAnonId.nop",["CryptoLogger","LSCryptoUtils","LSResult","Promise","XPlatReactTextDecoder"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f){a=d("LSCryptoUtils").strToBuf("0");if(f!=null){e=f;if(e.byteLength===0)f=a;else{var g=new(d("XPlatReactTextDecoder").TextDecoder)();g=g.decode(e);e=Number.parseInt(g,10);g=e+1;f=d("LSCryptoUtils").strToBuf(String(g))}}else f=a;return(h||(h=b("Promise"))).resolve(c("LSResult")(f))["catch"](function(a){d("CryptoLogger").captureError(d("CryptoLogger").CryptoLogger("get_next_epoch_anonid"),a).mustfix("Getting next epoch anon id failed");throw a})};g["default"]=a}),98);
__d("LSDeriveAndStoreEpochs",["LSArrayGetObjectAt","LSBase64Decode.nop","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSGetNextEpochAnonId.nop","LSIsEncryptionVersionSecure","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop","LSPublicEncryptionCreateDecryptedData.nop","LSSymmetricEncryptionCreateDecryptedString.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure] Beginning execution."),d[1]=c.i64.of_int32(a[0].length),c.i64.gt(d[1],c.i64.cast([0,0]))?c.sequence([function(e){return d[8]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure] Unable to load client state: 1"),d[21]=c.createArray(),void 0!==void 0?d[24]=(d[21].push(void 0),d[21]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure","Unable to load client state: 1",d[21],c.i64.cast([0,3]))},function(e){return d[22]=c.createArray(),d[23]=c.i64.of_int32(a[0].length),c.i64.gt(d[23],c.i64.cast([0,0]))?c.loopAsync(d[23],function(e){return d[24]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[24]).then(function(a){return a=a,d[25]=a[0],d[26]=a[1],a})},function(a){return d[27]=d[25].get("from_epoch"),d[28]=d[27].get("epoch_anon_id"),c.nativeOperation(b("LSBase64Encode.nop"),d[28]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[29]!==void 0?d[30]=d[29]:d[30]="",d[31]=d[25].get("from_epoch"),d[32]=d[31].get("epoch_id"),d[33]=new c.Map(),d[33].set("anon_id",d[30]),d[33].set("epoch_id",d[32]),d[34]=d[25].get("to_epoch"),d[35]=d[34].get("epoch_anon_id"),c.nativeOperation(b("LSBase64Encode.nop"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]!==void 0?d[37]=d[36]:d[37]="",d[38]=d[25].get("to_epoch"),d[39]=d[38].get("epoch_id"),d[40]=new c.Map(),d[40].set("anon_id",d[37]),d[40].set("epoch_id",d[39]),d[41]=d[25].get("forward_edge"),d[41]?d[42]=!1:d[42]=!0,d[42]?d[43]=!1:d[43]=!0,d[44]=d[25].get("backward_edge"),c.blobs.neq(d[44],void 0)?d[45]=!0:d[45]=!1,d[46]=new c.Map(),d[46].set("from",d[33]),d[46].set("to",d[40]),d[46].set("has_forward_edge",d[43]),d[46].set("has_backward_edge",d[45]),d[46].set("result_code",c.i64.cast([0,7])),d[46].set("error_message",void 0),d[47]=(d[22].push(d[46]),d[22])}])}):c.resolve()},function(b){return b=[void 0,void 0,void 0,a[2],c.i64.cast([0,0]),c.i64.cast([0,0]),d[22]],d[9]=b[0],d[10]=b[1],d[11]=b[2],d[12]=b[3],d[13]=b[4],d[14]=b[5],d[15]=b[6],b}]):(f=e.item,c.sequence([function(a){return d[35]=f.epochStoragePublicKeyBlob,d[34]=f.deviceId,d[33]=f.backupTenancy,d[32]=f.encryptionVersion,d[21]=void 0,c.i64.neq(d[21],void 0)?c.resolve(d[22]=d[21]):c.sequence([function(a){return d[36]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[46]=(d[36].push(c.i64.cast([0,0])),d[36]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[38]?d[46]=(d[36].push(c.i64.cast([0,2])),d[36]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[39]=a[0],a})},function(a){return d[39]?d[46]=(d[36].push(c.i64.cast([0,3])),d[36]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[40]=a[0],a})},function(a){return d[40]?d[46]=(d[36].push(c.i64.cast([0,4])),d[36]):0,d[41]=c.createArray(),d[42]=c.i64.of_int32(d[36].length),c.i64.gt(d[42],c.i64.cast([0,0]))?c.loopAsync(d[42],function(a){return d[46]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[36],d[46]).then(function(a){return a=a,d[47]=a[0],d[48]=a[1],a})},function(a){return d[49]=(d[41].push(d[47]),d[41])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[46]=c.createArray(),d[47]=c.i64.of_int32(d[41].length),c.i64.gt(d[47],c.i64.cast([0,0]))?c.loopAsync(d[47],function(a){return d[49]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[41],d[49]).then(function(a){return a=a,d[50]=a[0],d[51]=a[1],a})},function(a){return d[52]=(d[46].push(c.i64.to_string(d[50])),d[46])}])}):c.resolve()},function(a){return d[48]=d[46].join(","),d[43]=d[48]}])},function(a){return d[41].some(function(a){return c.i64.eq(d[32],a)})?d[44]=d[32]:d[44]=void 0,c.i64.neq(d[44],void 0)?d[45]=d[44]:d[45]=void 0,d[22]=d[45]}])},function(e){return c.i64.neq(d[22],void 0)?d[23]=d[22]:d[23]=c.i64.cast([0,0]),c.i64.neq(d[33],void 0)?d[24]=d[33]:d[24]=c.i64.cast([0,1]),c.i64.neq(d[34],void 0)?c.sequence([function(b){return c.i64.neq(a[1],void 0)?c.sequence([function(b){return c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}).next().then(function(e,f){var b=e.done;e=e.value;return b?d[44]=!1:(f=e.item,d[47]=f.deviceId,c.i64.neq(d[47],void 0)?d[46]=c.i64.neq(d[47],a[1]):d[46]=!1,d[44]=d[46])})},function(a){return d[36]=d[44]}]):c.resolve(d[36]=!1)},function(e){return d[36]?c.sequence([function(e){return d[44]=c.createArray(),d[45]=c.i64.of_int32(a[0].length),c.i64.gt(d[45],c.i64.cast([0,0]))?c.loopAsync(d[45],function(e){return d[46]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[46]).then(function(a){return a=a,d[47]=a[0],d[48]=a[1],a})},function(a){return d[49]=d[47].get("from_epoch"),d[50]=d[49].get("epoch_anon_id"),c.nativeOperation(b("LSBase64Encode.nop"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return d[51]!==void 0?d[52]=d[51]:d[52]="",d[53]=d[47].get("from_epoch"),d[54]=d[53].get("epoch_id"),d[55]=new c.Map(),d[55].set("anon_id",d[52]),d[55].set("epoch_id",d[54]),d[56]=d[47].get("to_epoch"),d[57]=d[56].get("epoch_anon_id"),c.nativeOperation(b("LSBase64Encode.nop"),d[57]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return d[58]!==void 0?d[59]=d[58]:d[59]="",d[60]=d[47].get("to_epoch"),d[61]=d[60].get("epoch_id"),d[62]=new c.Map(),d[62].set("anon_id",d[59]),d[62].set("epoch_id",d[61]),d[63]=d[47].get("forward_edge"),d[63]?d[64]=!1:d[64]=!0,d[64]?d[65]=!1:d[65]=!0,d[66]=d[47].get("backward_edge"),c.blobs.neq(d[66],void 0)?d[67]=!0:d[67]=!1,d[68]=new c.Map(),d[68].set("from",d[55]),d[68].set("to",d[62]),d[68].set("has_forward_edge",d[65]),d[68].set("has_backward_edge",d[67]),d[68].set("result_code",c.i64.cast([0,8])),d[68].set("error_message",void 0),d[69]=(d[44].push(d[68]),d[44])}])}):c.resolve()},function(b){return b=[d[34],d[34],a[1],a[2],c.i64.cast([0,0]),c.i64.cast([0,0]),d[44]],d[37]=b[0],d[38]=b[1],d[39]=b[2],d[40]=b[3],d[41]=b[4],d[42]=b[5],d[43]=b[6],b}]):c.sequence([function(e){return d[44]=c.createArray(),d[45]=c.i64.of_int32(a[0].length),c.i64.gt(d[45],c.i64.cast([0,0]))?c.loopAsync(d[45],function(e){return d[46]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[46]).then(function(a){return a=a,d[47]=a[0],d[48]=a[1],a})},function(a){return d[49]=d[47].get("from_epoch"),d[50]=d[49].get("epoch_id"),c.count(c.db.table(169).fetch([[[d[50]]]])).then(function(a){return d[51]=a})},function(a){return c.i64.le(d[51],c.i64.cast([0,1]))?c.sequence([function(a){return c.db.table(169).fetch([[[d[50]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?(d[77]=new c.Map(),d[77].set("error_msg","Expected a nonempty query result"),d[77].set("code",c.i64.cast([0,3])),d[77].set("src_line","MEBEpochClientUtils.php:69 MEBEpochClientUtils::maybeEpoch()"),d[78]=c.createArray(),d[79]=(d[78].push(d[77]),d[78]),a=[void 0,d[78]],d[73]=a[0],d[74]=a[1],a):(e=b.item,d[77]=new c.Map(),d[77].set("epoch_id",e.epochId),d[77].set("backup_id",e.backupId),d[77].set("epoch_anon_id_blob",e.epochAnonIdBlob),d[77].set("epoch_root_key_blob",e.epochRootKeyBlob),d[77].set("epoch_status",e.epochStatus),d[77].set("authority_level",e.authorityLevel),a=[d[77],void 0],d[73]=a[0],d[74]=a[1],a)})},function(a){return d[76]=new c.Map(),d[76].set("value",d[73]),d[76].set("errors",d[74]),d[52]=d[76]}]):c.resolve((d[73]=new c.Map(),d[73].set("error_msg","Expected at most one result"),d[73].set("code",c.i64.cast([0,4])),d[73].set("src_line","MEBEpochClientUtils.php:69 MEBEpochClientUtils::maybeEpoch()"),d[74]=c.createArray(),d[76]=(d[74].push(d[73]),d[74]),d[75]=new c.Map(),d[75].set("value",void 0),d[75].set("errors",d[74]),d[52]=d[75]))},function(a){return d[53]=d[52].get("value"),d[53]!==void 0?(d[73]=d[53].get("epoch_id"),d[74]=d[53].get("backup_id"),d[75]=d[53].get("epoch_anon_id_blob"),d[76]=d[53].get("epoch_root_key_blob"),d[77]=d[53].get("epoch_status"),d[78]=d[53].get("authority_level"),d[54]=d[52]):(d[73]=d[52].get("errors"),d[74]=d[52].get("errors"),d[75]=new c.Map(),d[75].set("error_msg","EB_EPOCH_SRC_EPOCH_MISSING"),d[75].set("code",c.i64.cast([0,10003])),d[75].set("src_line","LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure.php:372 Closure$LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure::processEdge()"),d[77]=(d[73].push(d[75]),d[73]),d[76]=new c.Map(),d[76].set("value",void 0),d[76].set("errors",d[73]),d[54]=d[76]),d[55]=d[54].get("value"),d[55]!==void 0?(d[73]=d[55].get("epoch_id"),d[74]=d[55].get("backup_id"),d[75]=d[55].get("epoch_anon_id_blob"),d[76]=d[55].get("epoch_root_key_blob"),d[77]=d[55].get("epoch_status"),d[78]=d[55].get("authority_level"),d[79]=d[47].get("from_epoch"),d[80]=d[79].get("epoch_anon_id"),c.blobs.eq(d[80],d[75])?d[81]=d[54]:(d[82]=new c.Map(),d[82].set("error_msg","EB_EPOCH_DERIVATION_SRC_ANON_ID_MISMATCH"),d[82].set("code",c.i64.cast([0,10007])),d[82].set("src_line","LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure.php:377 Closure$LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure::processEdge#2()"),d[83]=c.createArray(),d[85]=(d[83].push(d[82]),d[83]),d[84]=new c.Map(),d[84].set("value",void 0),d[84].set("errors",d[83]),d[81]=d[84]),d[56]=d[81]):(d[73]=d[54].get("errors"),d[74]=d[54].get("errors"),d[75]=new c.Map(),d[75].set("value",void 0),d[75].set("errors",d[73]),d[56]=d[75]),d[57]=d[56].get("value"),d[57]!==void 0?c.sequence([function(a){return d[73]=d[57].get("epoch_id"),d[74]=d[57].get("backup_id"),d[75]=d[57].get("epoch_anon_id_blob"),d[76]=d[57].get("epoch_root_key_blob"),d[77]=d[57].get("epoch_status"),d[78]=d[57].get("authority_level"),d[79]=d[47].get("from_epoch_fingerprint"),d[80]=c.createArray(),d[85]=(d[80].push(c.i64.cast([0,18])),d[80]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,d[76],d[80]).then(function(a){return a=a,d[81]=a[0],a})},function(a){return d[81]!==void 0?c.sequence([function(a){return d[85]=c.i64.of_int32(d[81].length),c.i64.ge(d[85],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[81],c.i64.cast([0,0])).then(function(a){return a=a,d[87]=a[0],d[88]=a[1],a})},function(a){return d[86]=d[87]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[87]=c.createArray(),void 0!==void 0?d[88]=(d[87].push(void 0),d[87]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[87],c.i64.cast([0,3]))},function(a){return d[86]=void 0}])},function(a){return d[82]=d[86]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[85]=c.createArray(),void 0!==void 0?d[86]=(d[85].push(void 0),d[85]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[85],c.i64.cast([0,3]))},function(a){return d[82]=void 0}])},function(a){return c.blobs.neq(d[82],void 0)?d[83]=!0:d[83]=!1,d[83]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.blobs.eq(d[79],void 0)||c.blobs.eq(d[79],d[82])?d[84]=d[56]:(d[85]=new c.Map(),d[85].set("error_msg","EB_EPOCH_DERIVATION_SRC_FINGERPRINT_MISMATCH"),d[85].set("code",c.i64.cast([0,10002])),d[85].set("src_line","LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure.php:386 Closure$LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure::processEdge#4()"),d[86]=c.createArray(),d[88]=(d[86].push(d[85]),d[86]),d[87]=new c.Map(),d[87].set("value",void 0),d[87].set("errors",d[86]),d[84]=d[87]),d[58]=d[84]}]):c.resolve((d[73]=d[56].get("errors"),d[74]=d[56].get("errors"),d[75]=new c.Map(),d[75].set("value",void 0),d[75].set("errors",d[73]),d[58]=d[75]))},function(a){return d[59]=d[47].get("forward_edge"),d[59]!==void 0?c.sequence([function(a){return d[73]=d[58].get("value"),d[73]!==void 0?c.sequence([function(a){return d[87]=d[73].get("epoch_id"),d[88]=d[73].get("backup_id"),d[89]=d[73].get("epoch_anon_id_blob"),d[90]=d[73].get("epoch_root_key_blob"),d[91]=d[73].get("epoch_status"),d[92]=d[73].get("authority_level"),c.nativeOperation(b("LSGetNextEpochAnonId.nop"),d[89]).then(function(a){return a=a,d[93]=a[0],a})},function(a){return d[94]=d[47].get("to_epoch"),d[95]=d[94].get("epoch_anon_id"),c.blobs.eq(d[93],d[95])?d[96]=d[58]:(d[97]=new c.Map(),d[97].set("error_msg","EB_EPOCH_FORWARD_EDGE_NOT_CONSECUTIVE"),d[97].set("code",c.i64.cast([0,10009])),d[97].set("src_line","LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure.php:104 Closure$LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure::processForwardEdge()"),d[98]=c.createArray(),d[100]=(d[98].push(d[97]),d[98]),d[99]=new c.Map(),d[99].set("value",void 0),d[99].set("errors",d[98]),d[96]=d[99]),d[74]=d[96]}]):c.resolve((d[87]=d[58].get("errors"),d[88]=d[58].get("errors"),d[89]=new c.Map(),d[89].set("value",void 0),d[89].set("errors",d[87]),d[74]=d[89]))},function(a){return d[75]=d[74].get("value"),d[75]!==void 0?c.sequence([function(a){return d[87]=d[75].get("epoch_id"),d[88]=d[75].get("backup_id"),d[89]=d[75].get("epoch_anon_id_blob"),d[90]=d[75].get("epoch_root_key_blob"),d[91]=d[75].get("epoch_status"),d[92]=d[75].get("authority_level"),d[93]=d[47].get("from_epoch"),d[94]=d[93].get("epoch_anon_id"),d[95]=d[47].get("from_epoch"),d[96]=d[95].get("epoch_id"),d[97]=c.createArray(),d[106]=(d[97].push(c.i64.cast([0,32])),d[97]),d[106]=(d[97].push(c.i64.cast([0,32])),d[97]),d[98]="_",c.nativeOperation(b("LSGetBlobFromString.nop"),["epoch_chaining",d[98],c.blobs.to_string(d[94]),d[98],c.i64.to_string(d[96])].join("")).then(function(a){return a=a,d[99]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[99],void 0,d[90],d[97]).then(function(a){return a=a,d[100]=a[0],a})},function(a){return d[100]?d[101]=!1:d[101]=!0,d[101]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] Failed to generate epoch_chaining_key and epoch_distribution_pre_shared_key."),d[106]=c.createArray(),void 0!==void 0?d[109]=(d[106].push(void 0),d[106]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils","Failed to generate epoch_chaining_key and epoch_distribution_pre_shared_key.",d[106],c.i64.cast([0,3]))},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,d[107]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,d[108]=a[0],a})},function(a){return a=[d[107],d[108]],d[102]=a[0],d[103]=a[1],a}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[100],c.i64.cast([0,0])).then(function(a){return a=a,d[106]=a[0],d[107]=a[1],a})},function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[100],c.i64.cast([0,1])).then(function(a){return a=a,d[108]=a[0],d[109]=a[1],a})},function(a){return a=[d[106],d[108]],d[102]=a[0],d[103]=a[1],a}])},function(a){return d[104]=new c.Map(),d[104].set("epoch_chaining_key",d[102]),d[104].set("epoch_distribution_pre_shared_key",d[103]),d[105]=new c.Map(),d[105].set("value",d[104]),d[105].set("errors",void 0),d[76]=d[105]}]):c.resolve((d[87]=d[74].get("errors"),d[88]=d[74].get("errors"),d[89]=new c.Map(),d[89].set("value",void 0),d[89].set("errors",d[87]),d[76]=d[89]))},function(a){return d[77]=d[76].get("value"),d[77]!==void 0?c.sequence([function(a){return d[87]=d[77].get("epoch_chaining_key"),d[88]=d[77].get("epoch_distribution_pre_shared_key"),d[89]=d[59].get("psk_fingerprint"),d[90]=c.createArray(),d[95]=(d[90].push(c.i64.cast([0,18])),d[90]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkNyeXB0b1ByZVNoYXJlZEtleQ=="),void 0,d[88],d[90]).then(function(a){return a=a,d[91]=a[0],a})},function(a){return d[91]!==void 0?c.sequence([function(a){return d[95]=c.i64.of_int32(d[91].length),c.i64.ge(d[95],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[91],c.i64.cast([0,0])).then(function(a){return a=a,d[97]=a[0],d[98]=a[1],a})},function(a){return d[96]=d[97]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[97]=c.createArray(),void 0!==void 0?d[98]=(d[97].push(void 0),d[97]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[97],c.i64.cast([0,3]))},function(a){return d[96]=void 0}])},function(a){return d[92]=d[96]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[95]=c.createArray(),void 0!==void 0?d[96]=(d[95].push(void 0),d[95]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[95],c.i64.cast([0,3]))},function(a){return d[92]=void 0}])},function(a){return c.blobs.neq(d[92],void 0)?d[93]=!0:d[93]=!1,d[93]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.blobs.eq(d[89],void 0)||c.blobs.eq(d[89],d[92])?d[94]=d[76]:(d[95]=new c.Map(),d[95].set("error_msg","EB_EPOCH_DERIVATION_PSK_FINGERPRINT_MISMATCH"),d[95].set("code",c.i64.cast([0,10005])),d[95].set("src_line","LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure.php:130 Closure$LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure::processForwardEdge#4()"),d[96]=c.createArray(),d[98]=(d[96].push(d[95]),d[96]),d[97]=new c.Map(),d[97].set("value",void 0),d[97].set("errors",d[96]),d[94]=d[97]),d[78]=d[94]}]):c.resolve((d[87]=d[76].get("errors"),d[88]=d[76].get("errors"),d[89]=new c.Map(),d[89].set("value",void 0),d[89].set("errors",d[87]),d[78]=d[89]))},function(a){return d[79]=d[78].get("value"),d[79]!==void 0?(d[87]=d[79].get("epoch_chaining_key"),d[88]=d[79].get("epoch_distribution_pre_shared_key"),d[89]=d[59].get("epoch_storage_public_key"),c.blobs.eq(d[89],void 0)||c.blobs.eq(d[89],d[35])?d[90]=d[78]:(d[91]=new c.Map(),d[91].set("error_msg","EB_EPOCH_DERIVATION_STORAGE_KEY_MISMATCH"),d[91].set("code",c.i64.cast([0,10006])),d[91].set("src_line","LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure.php:144 Closure$LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure::processForwardEdge#7()"),d[92]=c.createArray(),d[94]=(d[92].push(d[91]),d[92]),d[93]=new c.Map(),d[93].set("value",void 0),d[93].set("errors",d[92]),d[90]=d[93]),d[80]=d[90]):(d[87]=d[78].get("errors"),d[88]=d[78].get("errors"),d[89]=new c.Map(),d[89].set("value",void 0),d[89].set("errors",d[87]),d[80]=d[89]),d[81]=d[80].get("value"),d[81]!==void 0?c.sequence([function(a){return d[87]=d[81].get("epoch_chaining_key"),d[88]=d[81].get("epoch_distribution_pre_shared_key"),d[89]=d[59].get("auth_public_key"),d[90]=d[47].get("to_epoch"),d[91]=d[90].get("epoch_anon_id"),d[92]=d[59].get("encrypted_entropy"),c.nativeOperation(b("LSPublicEncryptionCreateDecryptedData.nop"),d[35],f.epochStoragePrivateKeyBlob,d[89],d[88],c.blobs.of_string(["epoch_","_",c.blobs.to_string(d[91])].join("")),d[92]).then(function(a){return a=a,d[93]=a[0],a})},function(a){return c.blobs.neq(d[93],void 0)?c.resolve(d[94]=d[93]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] Couldn't decrypt epoch key. Returning null entropy"),d[100]=c.createArray(),void 0!==void 0?d[101]=(d[100].push(void 0),d[100]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils","Couldn't decrypt epoch key. Returning null entropy",d[100],c.i64.cast([0,3]))},function(a){return d[94]=void 0}])},function(a){return c.blobs.neq(d[94],void 0)?(d[100]=new c.Map(),d[100].set("entropy",d[94]),d[101]=new c.Map(),d[101].set("value",d[100]),d[101].set("errors",void 0),d[102]=d[101].get("value"),d[103]=d[101].get("errors"),a=[d[102],d[103]],d[95]=a[0],d[96]=a[1],a):(d[100]=c.createArray(),c.blobs.eq(d[94],void 0)?d[107]=(d[100].push("entropy"),d[100]):0,d[101]=d[100].join(", "),d[102]=new c.Map(),d[102].set("error_msg",["The following required nullables are null: ","",d[101]].join("")),d[102].set("code",c.i64.cast([0,2])),d[102].set("src_line","LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure.php:169 Closure$LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure::processForwardEdge#11()"),d[103]=c.createArray(),d[107]=(d[103].push(d[102]),d[103]),d[104]=new c.Map(),d[104].set("value",void 0),d[104].set("errors",d[103]),d[105]=d[104].get("value"),d[106]=d[104].get("errors"),a=[d[105],d[106]],d[95]=a[0],d[96]=a[1],a),d[97]=new c.Map(),d[97].set("value",d[95]),d[97].set("errors",d[96]),d[98]=d[97].get("value"),d[98]!==void 0?(d[100]=d[98].get("entropy"),d[99]=d[97]):(d[100]=d[97].get("errors"),d[101]=d[97].get("errors"),d[102]=new c.Map(),d[102].set("error_msg","EB_EPOCH_FORWARD_DECRYPTION_FAILED"),d[102].set("code",c.i64.cast([0,10004])),d[102].set("src_line","LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure.php:171 Closure$LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure::processForwardEdge#10()"),d[104]=(d[100].push(d[102]),d[100]),d[103]=new c.Map(),d[103].set("value",void 0),d[103].set("errors",d[100]),d[99]=d[103]),d[82]=d[99]}]):c.resolve((d[87]=d[80].get("errors"),d[88]=d[80].get("errors"),d[89]=new c.Map(),d[89].set("value",void 0),d[89].set("errors",d[87]),d[82]=d[89]))},function(a){return d[83]=d[80].get("value"),d[83]!==void 0?c.sequence([function(a){return d[87]=d[83].get("epoch_chaining_key"),d[88]=d[83].get("epoch_distribution_pre_shared_key"),d[89]=d[82].get("value"),d[89]!==void 0?c.sequence([function(a){return d[91]=d[89].get("entropy"),d[92]=c.createArray(),d[99]=(d[92].push(c.i64.cast([0,32])),d[92]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key").then(function(a){return a=a,d[93]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[93],d[87],d[91],d[92]).then(function(a){return a=a,d[94]=a[0],a})},function(a){return d[94]?d[95]=!1:d[95]=!0,d[95]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] Unable to generate epoch root key."),d[99]=c.createArray(),void 0!==void 0?d[101]=(d[99].push(void 0),d[99]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils","Unable to generate epoch root key.",d[99],c.i64.cast([0,3]))},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,d[100]=a[0],a})},function(a){return d[96]=d[100]}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[94],c.i64.cast([0,0])).then(function(a){return a=a,d[99]=a[0],d[100]=a[1],a})},function(a){return d[96]=d[99]}])},function(a){return d[97]=new c.Map(),d[97].set("root_key",d[96]),d[98]=new c.Map(),d[98].set("value",d[97]),d[98].set("errors",void 0),d[90]=d[98]}]):c.resolve((d[91]=d[82].get("errors"),d[92]=d[82].get("errors"),d[93]=new c.Map(),d[93].set("value",void 0),d[93].set("errors",d[91]),d[90]=d[93]))},function(a){return d[84]=d[90]}]):c.resolve((d[87]=d[80].get("errors"),d[88]=d[80].get("errors"),d[89]=new c.Map(),d[89].set("value",void 0),d[89].set("errors",d[87]),d[84]=d[89]))},function(a){return d[85]=d[84].get("value"),d[86]=d[84].get("errors"),a=[d[85],d[86]],d[60]=a[0],d[61]=a[1],a}]):c.sequence([function(a){return d[73]=d[47].get("backward_edge"),c.blobs.neq(d[73],void 0)?c.sequence([function(a){return d[79]=d[58].get("value"),d[79]!==void 0?c.sequence([function(a){return d[87]=d[79].get("epoch_id"),d[88]=d[79].get("backup_id"),d[89]=d[79].get("epoch_anon_id_blob"),d[90]=d[79].get("epoch_root_key_blob"),d[91]=d[79].get("epoch_status"),d[92]=d[79].get("authority_level"),d[93]=d[47].get("to_epoch"),d[94]=d[93].get("epoch_anon_id"),c.nativeOperation(b("LSGetNextEpochAnonId.nop"),d[94]).then(function(a){return a=a,d[95]=a[0],a})},function(a){return c.blobs.eq(d[95],d[89])?d[96]=d[58]:(d[97]=new c.Map(),d[97].set("error_msg","EB_EPOCH_BACKWARD_EDGE_NOT_CONSECUTIVE"),d[97].set("code",c.i64.cast([0,10010])),d[97].set("src_line","LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure.php:198 Closure$LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure::processBackwardEdge()"),d[98]=c.createArray(),d[100]=(d[98].push(d[97]),d[98]),d[99]=new c.Map(),d[99].set("value",void 0),d[99].set("errors",d[98]),d[96]=d[99]),d[80]=d[96]}]):c.resolve((d[87]=d[58].get("errors"),d[88]=d[58].get("errors"),d[89]=new c.Map(),d[89].set("value",void 0),d[89].set("errors",d[87]),d[80]=d[89]))},function(a){return d[81]=d[80].get("value"),d[81]!==void 0?c.sequence([function(a){return d[87]=d[81].get("epoch_id"),d[88]=d[81].get("backup_id"),d[89]=d[81].get("epoch_anon_id_blob"),d[90]=d[81].get("epoch_root_key_blob"),d[91]=d[81].get("epoch_status"),d[92]=d[81].get("authority_level"),d[93]=c.createArray(),d[98]=(d[93].push(c.i64.cast([0,32])),d[93]),c.nativeOperation(b("LSBase64Encode.nop"),d[89]).then(function(a){return a=a,d[94]=a[0],a})},function(a){return d[94]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blobs.of_string(["epoch_data_storage","_",d[94]].join("")),void 0,d[90],d[93]).then(function(a){return a=a,d[98]=a[0],a})},function(a){return d[98]?d[99]=!1:d[99]=!0,d[99]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish"),d[101]=c.createArray(),void 0!==void 0?d[103]=(d[101].push(void 0),d[101]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils","THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish",d[101],c.i64.cast([0,3]))},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,d[102]=a[0],a})},function(a){return d[100]=d[102]}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[98],c.i64.cast([0,0])).then(function(a){return a=a,d[101]=a[0],d[102]=a[1],a})},function(a){return d[100]=d[101]}])},function(a){return d[95]=d[100]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish"),d[98]=c.createArray(),void 0!==void 0?d[100]=(d[98].push(void 0),d[98]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils","THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish",d[98],c.i64.cast([0,3]))},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,d[99]=a[0],a})},function(a){return d[95]=d[99]}])},function(a){return d[96]=new c.Map(),d[96].set("epoch_data_storage_key",d[95]),d[97]=new c.Map(),d[97].set("value",d[96]),d[97].set("errors",void 0),d[82]=d[97]}]):c.resolve((d[87]=d[80].get("errors"),d[88]=d[80].get("errors"),d[89]=new c.Map(),d[89].set("value",void 0),d[89].set("errors",d[87]),d[82]=d[89]))},function(a){return d[83]=d[82].get("value"),d[83]!==void 0?c.sequence([function(a){return d[87]=d[83].get("epoch_data_storage_key"),c.nativeOperation(b("LSBase64Encode.nop"),d[73]).then(function(a){return a=a,d[88]=a[0],a})},function(a){return d[95]=d[88],d[95]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),d[87],c.blob("ZXBvY2hfZGF0YV9tZXRhZGF0YQ=="),d[95]).then(function(a){return a=a,d[96]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Decode.nop"),d[96]).then(function(a){return a=a,d[97]=a[0],a})},function(a){return d[89]=d[97]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] Unable to base64 encode backward edge."),d[96]=c.createArray(),void 0!==void 0?d[97]=(d[96].push(void 0),d[96]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils","Unable to base64 encode backward edge.",d[96],c.i64.cast([0,3]))},function(a){return d[89]=void 0}])},function(a){return c.blobs.neq(d[89],void 0)?(d[96]=new c.Map(),d[96].set("root_key",d[89]),d[97]=new c.Map(),d[97].set("value",d[96]),d[97].set("errors",void 0),d[98]=d[97].get("value"),d[99]=d[97].get("errors"),a=[d[98],d[99]],d[90]=a[0],d[91]=a[1],a):(d[96]=c.createArray(),c.blobs.eq(d[89],void 0)?d[103]=(d[96].push("root_key"),d[96]):0,d[97]=d[96].join(", "),d[98]=new c.Map(),d[98].set("error_msg",["The following required nullables are null: ","",d[97]].join("")),d[98].set("code",c.i64.cast([0,2])),d[98].set("src_line","LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure.php:227 Closure$LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure::processBackwardEdge#5()"),d[99]=c.createArray(),d[103]=(d[99].push(d[98]),d[99]),d[100]=new c.Map(),d[100].set("value",void 0),d[100].set("errors",d[99]),d[101]=d[100].get("value"),d[102]=d[100].get("errors"),a=[d[101],d[102]],d[90]=a[0],d[91]=a[1],a),d[92]=new c.Map(),d[92].set("value",d[90]),d[92].set("errors",d[91]),d[93]=d[92].get("value"),d[93]!==void 0?(d[96]=d[93].get("root_key"),d[94]=d[92]):(d[96]=d[92].get("errors"),d[97]=d[92].get("errors"),d[98]=new c.Map(),d[98].set("error_msg","EB_EPOCH_BACKWARD_DECRYPTION_FAILED"),d[98].set("code",c.i64.cast([0,10013])),d[98].set("src_line","LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure.php:229 Closure$LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure::processBackwardEdge#4()"),d[100]=(d[96].push(d[98]),d[96]),d[99]=new c.Map(),d[99].set("value",void 0),d[99].set("errors",d[96]),d[94]=d[99]),d[84]=d[94]}]):c.resolve((d[87]=d[82].get("errors"),d[88]=d[82].get("errors"),d[89]=new c.Map(),d[89].set("value",void 0),d[89].set("errors",d[87]),d[84]=d[89]))},function(a){return d[85]=d[84].get("value"),d[86]=d[84].get("errors"),a=[d[85],d[86]],d[74]=a[0],d[75]=a[1],a}]):c.resolve((d[79]=new c.Map(),d[79].set("error_msg","EB_EPOCH_EDGE_NEITHER_FORWARD_NOR_BACKWARD"),d[79].set("code",c.i64.cast([0,10008])),d[79].set("src_line","LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure.php:411 Closure$LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure::processEdge#9()"),d[80]=c.createArray(),d[84]=(d[80].push(d[79]),d[80]),d[81]=new c.Map(),d[81].set("value",void 0),d[81].set("errors",d[80]),d[82]=d[81].get("value"),d[83]=d[81].get("errors"),a=[d[82],d[83]],d[74]=a[0],d[75]=a[1],a))},function(a){return d[76]=new c.Map(),d[76].set("value",d[74]),d[76].set("errors",d[75]),d[77]=d[76].get("value"),d[78]=d[76].get("errors"),a=[d[77],d[78]],d[60]=a[0],d[61]=a[1],a}])},function(a){return d[62]=new c.Map(),d[62].set("value",d[60]),d[62].set("errors",d[61]),d[63]=d[62].get("value"),d[63]!==void 0?c.sequence([function(a){return d[73]=d[63].get("root_key"),d[74]=d[47].get("to_epoch_fingerprint"),d[75]=c.createArray(),d[80]=(d[75].push(c.i64.cast([0,18])),d[75]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,d[73],d[75]).then(function(a){return a=a,d[76]=a[0],a})},function(a){return d[76]!==void 0?c.sequence([function(a){return d[80]=c.i64.of_int32(d[76].length),c.i64.ge(d[80],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[76],c.i64.cast([0,0])).then(function(a){return a=a,d[82]=a[0],d[83]=a[1],a})},function(a){return d[81]=d[82]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[82]=c.createArray(),void 0!==void 0?d[83]=(d[82].push(void 0),d[82]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",d[82],c.i64.cast([0,3]))},function(a){return d[81]=void 0}])},function(a){return d[77]=d[81]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[80]=c.createArray(),void 0!==void 0?d[81]=(d[80].push(void 0),d[80]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint","CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",d[80],c.i64.cast([0,3]))},function(a){return d[77]=void 0}])},function(a){return c.blobs.neq(d[77],void 0)?d[78]=!0:d[78]=!1,d[78]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.blobs.eq(d[74],void 0)||c.blobs.eq(d[74],d[77])?d[79]=d[62]:(d[80]=new c.Map(),d[80].set("error_msg","EB_EPOCH_DERIVATION_DEST_FINGERPRINT_MISMATCH"),d[80].set("code",c.i64.cast([0,10001])),d[80].set("src_line","LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure.php:415 Closure$LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure::processEdge#11()"),d[81]=c.createArray(),d[83]=(d[81].push(d[80]),d[81]),d[82]=new c.Map(),d[82].set("value",void 0),d[82].set("errors",d[81]),d[79]=d[82]),d[64]=d[79]}]):c.resolve((d[73]=d[62].get("errors"),d[74]=d[62].get("errors"),d[75]=new c.Map(),d[75].set("value",void 0),d[75].set("errors",d[73]),d[64]=d[75]))},function(a){return d[65]=d[64].get("value"),d[65]!==void 0?c.sequence([function(a){return d[73]=d[65].get("root_key"),d[74]=d[47].get("to_epoch"),d[75]=d[74].get("epoch_id"),d[76]=d[47].get("to_epoch"),d[77]=d[76].get("epoch_anon_id"),d[98]="Storing newly derived epoch ",d[99]=c.blobs.to_string(d[77]),d[100]=" authority_level:",d[101]="AUTHORITATIVE",d[102]=" status:",d[103]=c.i64.to_string(c.i64.cast([0,2])),d[78]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[78],d[98],d[78],d[99],d[78],d[100],d[78],d[101],d[78],d[102],d[78],d[103]].join("")),c.resolve()},function(a){return c.filter(c.db.table(169).fetch([[[d[75]]]]),function(a){return c.i64.eq(a.epochId,d[75])&&c.i64.gt(a.authorityLevel,c.i64.cast([0,80]))}).next().then(function(b){var a=b.done;b.value;return a?c.db.table(169).put({epochId:d[75],backupId:f.backupId,epochAnonIdBlob:d[77],epochRootKeyBlob:d[73],epochStatus:c.i64.cast([0,2]),authorityLevel:c.i64.cast([0,80])}):0})},function(a){return d[79]=d[47].get("from_epoch"),d[80]=d[79].get("epoch_anon_id"),c.nativeOperation(b("LSBase64Encode.nop"),d[80]).then(function(a){return a=a,d[81]=a[0],a})},function(a){return d[81]!==void 0?d[82]=d[81]:d[82]="",d[83]=d[47].get("from_epoch"),d[84]=d[83].get("epoch_id"),d[85]=new c.Map(),d[85].set("anon_id",d[82]),d[85].set("epoch_id",d[84]),d[86]=d[47].get("to_epoch"),d[87]=d[86].get("epoch_anon_id"),c.nativeOperation(b("LSBase64Encode.nop"),d[87]).then(function(a){return a=a,d[88]=a[0],a})},function(a){return d[88]!==void 0?d[89]=d[88]:d[89]="",d[90]=d[47].get("to_epoch"),d[91]=d[90].get("epoch_id"),d[92]=new c.Map(),d[92].set("anon_id",d[89]),d[92].set("epoch_id",d[91]),d[93]=d[47].get("forward_edge"),d[93]?d[94]=!1:d[94]=!0,d[94]?d[95]=!1:d[95]=!0,d[96]=d[47].get("backward_edge"),c.blobs.neq(d[96],void 0)?d[97]=!0:d[97]=!1,a=[d[85],d[92],d[95],d[97],void 0,c.i64.cast([0,0])],d[66]=a[0],d[67]=a[1],d[68]=a[2],d[69]=a[3],d[70]=a[4],d[71]=a[5],a}]):c.sequence([function(a){return d[73]=d[64].get("errors"),d[74]=d[64].get("errors"),d[75]=c.i64.of_int32(d[73].length),c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[73],c.i64.sub(d[75],c.i64.cast([0,1]))).then(function(a){return a=a,d[76]=a[0],d[77]=a[1],a})},function(a){return d[78]=d[76].get("code"),d[79]=d[76].get("src_line"),d[80]=d[76].get("error_msg"),c.i64.eq(d[78],c.i64.cast([0,10004]))?d[81]=c.i64.cast([0,3]):(c.i64.eq(d[78],c.i64.cast([0,10003]))?d[103]=c.i64.cast([0,13]):(c.i64.eq(d[78],c.i64.cast([0,10002]))?d[104]=c.i64.cast([0,9]):(c.i64.eq(d[78],c.i64.cast([0,10001]))?d[105]=c.i64.cast([0,10]):(c.i64.eq(d[78],c.i64.cast([0,10005]))?d[106]=c.i64.cast([0,12]):(c.i64.eq(d[78],c.i64.cast([0,10006]))?d[107]=c.i64.cast([0,11]):(c.i64.eq(d[78],c.i64.cast([0,10008]))?d[108]=c.i64.cast([0,2]):(c.i64.eq(d[78],c.i64.cast([0,10009]))?d[109]=c.i64.cast([0,14]):(c.i64.eq(d[78],c.i64.cast([0,10010]))?d[110]=c.i64.cast([0,15]):(c.i64.eq(d[78],c.i64.cast([0,10011]))?d[111]=c.i64.cast([0,16]):(c.i64.eq(d[78],c.i64.cast([0,10012]))?d[112]=c.i64.cast([0,17]):(c.i64.eq(d[78],c.i64.cast([0,10013]))?d[113]=c.i64.cast([0,6]):d[113]=c.i64.cast([0,1]),d[112]=d[113]),d[111]=d[112]),d[110]=d[111]),d[109]=d[110]),d[108]=d[109]),d[107]=d[108]),d[106]=d[107]),d[105]=d[106]),d[104]=d[105]),d[103]=d[104]),d[81]=d[103]),d[82]=d[47].get("from_epoch"),d[83]=d[82].get("epoch_anon_id"),c.nativeOperation(b("LSBase64Encode.nop"),d[83]).then(function(a){return a=a,d[84]=a[0],a})},function(a){return d[84]!==void 0?d[85]=d[84]:d[85]="",d[86]=d[47].get("from_epoch"),d[87]=d[86].get("epoch_id"),d[88]=new c.Map(),d[88].set("anon_id",d[85]),d[88].set("epoch_id",d[87]),d[89]=d[47].get("to_epoch"),d[90]=d[89].get("epoch_anon_id"),c.nativeOperation(b("LSBase64Encode.nop"),d[90]).then(function(a){return a=a,d[91]=a[0],a})},function(a){return d[91]!==void 0?d[92]=d[91]:d[92]="",d[93]=d[47].get("to_epoch"),d[94]=d[93].get("epoch_id"),d[95]=new c.Map(),d[95].set("anon_id",d[92]),d[95].set("epoch_id",d[94]),d[96]=d[47].get("forward_edge"),d[96]?d[97]=!1:d[97]=!0,d[97]?d[98]=!1:d[98]=!0,d[99]=d[47].get("backward_edge"),c.blobs.neq(d[99],void 0)?d[100]=!0:d[100]=!1,d[101]="",d[102]=c.i64.of_int32(d[73].length),c.i64.gt(d[102],c.i64.cast([0,0]))?c.loopAsync(d[102],function(a){return d[103]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[73],d[103]).then(function(a){return a=a,d[104]=a[0],d[105]=a[1],a})},function(a){return d[106]=d[104].get("code"),d[107]=d[104].get("src_line"),d[108]=d[104].get("error_msg"),d[109]=d[104].get("code"),d[110]=d[104].get("src_line"),d[111]=d[104].get("error_msg"),d[112]=d[104].get("code"),d[113]=d[104].get("src_line"),d[114]=d[104].get("error_msg"),d[101]=[d[101],["at ",d[107],": ","error code ",c.i64.to_string(d[109]),": ",d[114]].join(""),"\n"].join("")}])}):c.resolve()},function(a){return a=[d[88],d[95],d[98],d[100],d[101],d[81]],d[66]=a[0],d[67]=a[1],d[68]=a[2],d[69]=a[3],d[70]=a[4],d[71]=a[5],a}])},function(a){return d[72]=new c.Map(),d[72].set("from",d[66]),d[72].set("to",d[67]),d[72].set("has_forward_edge",d[68]),d[72].set("has_backward_edge",d[69]),d[72].set("error_message",d[70]),d[72].set("result_code",d[71]),d[73]=(d[44].push(d[72]),d[44])}])}):c.resolve()},function(b){return b=[d[34],d[34],a[1],a[2],c.i64.cast([0,0]),c.i64.cast([0,0]),d[44]],d[37]=b[0],d[38]=b[1],d[39]=b[2],d[40]=b[3],d[41]=b[4],d[42]=b[5],d[43]=b[6],b}])},function(a){return a=[d[37],d[38],d[39],d[40],d[41],d[42],d[43]],d[25]=a[0],d[26]=a[1],d[27]=a[2],d[28]=a[3],d[29]=a[4],d[30]=a[5],d[31]=a[6],a}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure] Unable to load client state: 24"),d[36]=c.createArray(),void 0!==void 0?d[39]=(d[36].push(void 0),d[36]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure","Unable to load client state: 24",d[36],c.i64.cast([0,3]))},function(e){return d[37]=c.createArray(),d[38]=c.i64.of_int32(a[0].length),c.i64.gt(d[38],c.i64.cast([0,0]))?c.loopAsync(d[38],function(e){return d[39]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[39]).then(function(a){return a=a,d[40]=a[0],d[41]=a[1],a})},function(a){return d[42]=d[40].get("from_epoch"),d[43]=d[42].get("epoch_anon_id"),c.nativeOperation(b("LSBase64Encode.nop"),d[43]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[44]!==void 0?d[45]=d[44]:d[45]="",d[46]=d[40].get("from_epoch"),d[47]=d[46].get("epoch_id"),d[48]=new c.Map(),d[48].set("anon_id",d[45]),d[48].set("epoch_id",d[47]),d[49]=d[40].get("to_epoch"),d[50]=d[49].get("epoch_anon_id"),c.nativeOperation(b("LSBase64Encode.nop"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return d[51]!==void 0?d[52]=d[51]:d[52]="",d[53]=d[40].get("to_epoch"),d[54]=d[53].get("epoch_id"),d[55]=new c.Map(),d[55].set("anon_id",d[52]),d[55].set("epoch_id",d[54]),d[56]=d[40].get("forward_edge"),d[56]?d[57]=!1:d[57]=!0,d[57]?d[58]=!1:d[58]=!0,d[59]=d[40].get("backward_edge"),c.blobs.neq(d[59],void 0)?d[60]=!0:d[60]=!1,d[61]=new c.Map(),d[61].set("from",d[48]),d[61].set("to",d[55]),d[61].set("has_forward_edge",d[58]),d[61].set("has_backward_edge",d[60]),d[61].set("result_code",c.i64.cast([0,7])),d[61].set("error_message",void 0),d[62]=(d[37].push(d[61]),d[37])}])}):c.resolve()},function(b){return b=[void 0,void 0,void 0,a[2],c.i64.cast([0,0]),c.i64.cast([0,0]),d[37]],d[25]=b[0],d[26]=b[1],d[27]=b[2],d[28]=b[3],d[29]=b[4],d[30]=b[5],d[31]=b[6],b}])},function(a){return a=[d[25],d[26],d[27],d[28],d[29],d[30],d[31]],d[9]=a[0],d[10]=a[1],d[11]=a[2],d[12]=a[3],d[13]=a[4],d[14]=a[5],d[15]=a[6],a}]))})},function(a){return d[17]=c.i64.of_float(Date.now()),d[18]=new c.Map(),d[18].set("local_device_id",d[9]),d[18].set("decryption_device_id",d[10]),d[18].set("target_device_id",d[11]),d[18].set("epoch_sync_reason",d[12]),d[18].set("start_ms",d[8]),d[18].set("end_ms",d[17]),d[18].set("results",d[15]),d[19]=c.toJSON(d[18]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"meb_record_epoch_sync",c.i64.cast([0,50039]),d[19],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[20]=a[0],a})}]):c.resolve()},function(a){return d[2]=c.i64.of_float(Date.now()),d[3]=c.i64.random(),d[5]="Finishing execution. Execution time: ",d[6]=c.i64.to_string(c.i64.sub(d[2],d[0])),d[7]=" ms",d[4]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure] ",d[4],d[5],d[4],d[6],d[4],d[7]].join("")),c.i64.eq(c.i64.mod_(d[3],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[8]=",",d[9]=c.createArray(),void 0!==void 0?d[10]=(d[9].push(void 0),d[9]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure",[d[5],d[8],d[6],d[8],d[7]].join(""),d[9],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsDeriveAndStoreEpochsStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSDeriveAndStoreEpochsStoredProcedure",["LSDeriveAndStoreEpochs","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSDeriveAndStoreEpochs"),e.epochEdges,e.targetDeviceId,e.epochSyncReason,e.traceId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MEBEncryptionVersion",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,ENCRYPTION_KDF_WITH_VERSION:2,ENCRYPTION_KDF_WITH_NULL_SALT:3,ENCRYPTION_KDF_WITH_NULL_SALT_DF_CANARY:4,TEST_VERSION:99});f["default"]=a}),66);
__d("MEBEpochSyncReason",[],(function(a,b,c,d,e,f){a=Object.freeze({EMPTY_RESTORE_PAYLOAD:-3,NONE_PROVIDED_BY_CLIENT:-2,NONE_PROVIDED_BY_SERVER:-1,SNAPSHOT_RESTORE:0,POINT_QUERY_RESTORE:1,RANGE_QUERY_RESTORE:2,MESSAGE_QUERY_RESTORE:3,SURROUNDING_RESTORE:4,DOWNLOAD_EPOCHS_V2:5,PREPARE_OPEN_EPOCH:6,HANDLE_OPEN_EPOCH_SUCCESS:7,HANDLE_INIT_GET_SECRETS:8,DERIVE_ONBOARDING_MATERIAL:9,DECRYPT_AND_WRITE_MESSAGES:10,RESTORE_WITH_SERIALIZER:11,FINISH_ADD_PEER_DEVICE:12});f["default"]=a}),66);
__d("createWorkerMutation",["WorkerRelayEnvironment","asyncToGeneratorRuntime","err","executeGraphQLQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=d("relay-runtime").getRequest(a);if(e.params.operationKind!=="mutation")throw c("err")("createWorkerMutation: Expected mutation operation");var f=d("WorkerRelayEnvironment").getWorkerRelayEnvironment();e=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield f);return d("executeGraphQLQuery").executeGraphQLQuery(c,a,b).then(function(a){return a.toPromise()}).then(function(a){if(Array.isArray(a)){return(a=a[0])==null?void 0:a.data}else return null})});return function(a){return c.apply(this,arguments)}}();return[e]}g["default"]=a}),98);
__d("WorkerRelay",["WorkerRelayEnvironment","createWorkerMutation","createWorkerQuery","executeGraphQLQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";f.exports={createWorkerMutation:c("createWorkerMutation"),createWorkerQuery:c("createWorkerQuery"),executeGraphQLQuery:d("executeGraphQLQuery").executeGraphQLQuery,getWorkerRelayEnvironment:d("WorkerRelayEnvironment").getWorkerRelayEnvironment,graphql:d("relay-runtime").graphql}}),34);
__d("handleRestoreMessagesGraphQLResponse_XFBEncryptedBackupMessages.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"encryption_version",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"epoch_anon_id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"epoch_id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"encrypted_protobuf_stanza",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"protobuf_timestamp_ms",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"sk_ciphertext",storageKey:null},g=[b,c];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"handleRestoreMessagesGraphQLResponse_XFBEncryptedBackupMessages",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMessage",kind:"LinkedField",name:"encrypted_messages",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEchoDocument",kind:"LinkedField",name:"echo_document",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"echo_document_string",storageKey:null},a,b,c,{alias:null,args:null,kind:"ScalarField",name:"epoch_fingerprint",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"otid",storageKey:null},{alias:null,args:null,concreteType:"XFBProtobufStanzas",kind:"LinkedField",name:"protobuf_stanzas",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBProtobufStanza",kind:"LinkedField",name:"top_level_protobuf",plural:!1,selections:[d,a,b,c,e,f],storageKey:null},{alias:null,args:null,concreteType:"XFBProtobufStanza",kind:"LinkedField",name:"supplemental_protobufs",plural:!0,selections:[d,a,b,c,e,f,{alias:null,args:null,kind:"ScalarField",name:"supplemental_key",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_id",storageKey:null},{alias:null,args:null,concreteType:"XFBMessageRangeInfo",kind:"LinkedField",name:"message_range_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_more_before",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_more_after",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_message_timestamp_ms_before",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_message_timestamp_ms_after",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_delete_mailbox",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"exception_string",storageKey:null},{alias:null,args:null,concreteType:"XFBEpochDerivationSet",kind:"LinkedField",name:"epoch_derivation_set",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupsEpochEdge",kind:"LinkedField",name:"epoch_edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"backward_edge",storageKey:null},{alias:null,args:null,concreteType:"XFBEpochForwardEdge",kind:"LinkedField",name:"forward_edge",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"auth_public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_entropy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entropy_fingerprint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"epoch_storage_public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"psk_fingerprint",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEpochIds",kind:"LinkedField",name:"from_epoch",plural:!1,selections:g,storageKey:null},{alias:null,args:null,concreteType:"XFBEpochIds",kind:"LinkedField",name:"to_epoch",plural:!1,selections:g,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"from_epoch_fingerprint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"to_epoch_fingerprint",storageKey:null}],storageKey:null}],storageKey:null}],type:"XFBEncryptedBackupMessages",abstractKey:null}}();e.exports=a}),null);
__d("handleRestoreMessagesGraphQLResponse",["EBAPIQPLPoints","I64","LSAuthorityLevel","LSDecryptMessageProtobufsStoredProcedure","LSDecryptMessagesStoredProcedure","LSDeleteAndReenrollDeviceStateStoredProcedure","LSDeriveAndStoreEpochsStoredProcedure","LSDict","LSFactory","LSIntEnum","LSMEBDeviceReenrollmentReason","LSMEBTaskCreationSource","LSShape","LSVec","MAWEBRestoreTrackingUtils","MAWEncryptedBackupUtils","MAWJobDefinitions","MEBEncryptionVersion","MEBEpochSyncReason","QPLUserFlow","ReQL","WAHashStringToNumber","WALogger","asyncToGeneratorRuntime","handleRestoreMessagesGraphQLResponse_XFBEncryptedBackupMessages.graphql","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Protobuf decryption failed in search range restore response"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] message range info is not complete - cannot proceed with graphQL restore"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] backup_id is null during graphQL restore"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] message range info is null - cannot proceed with graphQL restore"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] server side exception during graphql restore - ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web Client state is null - unable to proceed with GQL restore"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] message with no echo document and no protobuf data"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] echo_document_string or echo_epoch_anon_id is null for a message in the GraphQL range restore response"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] otid is null for a message in the GraphQL range restore response"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] message is null in the GraphQL range restore response"]);t=function(){return a};return a}var u=c("requireDeferred")("LSRestoreEchoBlobs.nop").__setRef("handleRestoreMessagesGraphQLResponse"),v=c("requireDeferred")("LSRestoreProtobufs.nop").__setRef("handleRestoreMessagesGraphQLResponse");function w(a){if(a==null)return c("MEBEncryptionVersion").UNKNOWN;switch(a){case"ENCRYPTION_KDF_WITH_NULL_SALT":return c("MEBEncryptionVersion").ENCRYPTION_KDF_WITH_NULL_SALT;case"ENCRYPTION_KDF_WITH_VERSION":return c("MEBEncryptionVersion").ENCRYPTION_KDF_WITH_VERSION;case"ENCRYPTION_KDF_WITH_NULL_SALT_DF_CANARY":return c("MEBEncryptionVersion").ENCRYPTION_KDF_WITH_NULL_SALT_DF_CANARY;case"TEST_VERSION":return c("MEBEncryptionVersion").TEST_VERSION;default:return c("MEBEncryptionVersion").UNKNOWN}}function x(a,b){b=b;b==null&&(b="ENCRYPTION_VERSION_MISSING");var c=a.get(b);a.has(b)&&c!=null?a.set(b,c+1):a.set(b,1)}function y(a,b,e,f){if(b==null)return{encryptedEchoMessages:[],encryptedMessagesWithProtobufs:[]};var g=new Map(),h=new Map(),k=new Map(),l=[];a=(a=a==null?void 0:a.map(function(a){var e,f,m,n,o,p,u;if(a==null){d("WALogger").ERROR(t());return}var v=a.otid;if(v==null){d("WALogger").ERROR(s());return}e=(e=a.echo_document)==null?void 0:e.echo_document_string;f=(f=a.echo_document)==null?void 0:f.epoch_anon_id;m=(m=a.echo_document)==null?void 0:m.epoch_fingerprint;var y=a.protobuf_stanzas;n=y==null?void 0:(n=y.top_level_protobuf)==null?void 0:n.encrypted_protobuf_stanza;o=y==null?void 0:(o=y.top_level_protobuf)==null?void 0:o.epoch_anon_id;p=y==null?void 0:(p=y.top_level_protobuf)==null?void 0:p.epoch_id;u=y==null?void 0:(u=y.top_level_protobuf)==null?void 0:u.protobuf_timestamp_ms;var z=y==null?void 0:y.supplemental_protobufs;if(e==null||f==null){d("WALogger").ERROR(r());return}if(n==null||o==null||p==null||u==null)if(e.length===0){d("WALogger").ERROR(q());return}else{var A,B;A=w((A=a.echo_document)==null?void 0:A.encryption_version);x(g,(B=a.echo_document)==null?void 0:B.encryption_version);l.push(d("LSShape").ofRecord({backup_id:Number(b),encryption_version:(i||(i=d("LSIntEnum"))).ofNumber(A),epoch_anon_id:new TextEncoder().encode(f).buffer,epoch_fingerprint:m!=null?new TextEncoder().encode(m).buffer:void 0,epoch_id:((B=a.echo_document)==null?void 0:B.epoch_id)!=null?(j||(j=d("I64"))).of_string(a.echo_document.epoch_id):void 0,otid:v,value:e}));return}if(y!=null){B=w((A=a.echo_document)==null?void 0:A.encryption_version);x(g,(A=a.echo_document)==null?void 0:A.encryption_version);a=d("LSShape").ofRecord({backup_id:Number(b),encryption_version:(i||(i=d("LSIntEnum"))).ofNumber(B),epoch_anon_id:new TextEncoder().encode(f).buffer,epoch_fingerprint:m!=null?new TextEncoder().encode(m).buffer:void 0,value:e});B=w(y==null?void 0:(A=y.top_level_protobuf)==null?void 0:A.encryption_version);x(h,y==null?void 0:(f=y.top_level_protobuf)==null?void 0:f.encryption_version);m=d("LSShape").ofRecord({encrypted_protobuf:n,encryption_version:i.ofNumber(B),epoch_anon_id:new TextEncoder().encode(o).buffer,epoch_id:(j||(j=d("I64"))).of_string(p),protobuf_timestamp_ms:j.of_string(u)});var C=new(c("LSDict"))();z==null?void 0:z.forEach(function(a){var b=a==null?void 0:a.supplemental_key,c=a==null?void 0:a.encrypted_protobuf_stanza,e=a.epoch_anon_id,f=a==null?void 0:a.epoch_id,g=a==null?void 0:a.protobuf_timestamp_ms;if(c==null||e==null||f==null||g==null||b==null)return;var h=w(a==null?void 0:a.encryption_version);x(k,a==null?void 0:a.encryption_version);C.set(b,d("LSShape").ofRecord({encrypted_protobuf:c,encryption_version:(i||(i=d("LSIntEnum"))).ofNumber(h),epoch_anon_id:new TextEncoder().encode(e).buffer,epoch_id:(j||(j=d("I64"))).of_string(f),protobuf_timestamp_ms:j.of_string(g),sk_ciphertext:a==null?void 0:a.sk_ciphertext}))});return d("LSShape").ofRecord({encrypted_echo_message:a,encrypted_protobufs:d("LSShape").ofRecord({supplemental_protobufs:C,toplevel_protobuf:m}),otid:v})}}).filter(Boolean))!=null?a:[];if(f!=null&&e!=null){c("QPLUserFlow").addPoint(e,"processing_encrypted_messages_complete",{instanceKey:f});for(var m of g.entries()){var n,o=m[0],p=m[1];o=o+"_echo";c("QPLUserFlow").addAnnotations(e,{"int":(n={},n[o]=p,n)},{instanceKey:f})}for(o of h.entries()){p=o[0];n=o[1];m=p+"_protobuf_top_level";c("QPLUserFlow").addAnnotations(e,{"int":(p={},p[m]=n,p)},{instanceKey:f})}for(m of k.entries()){n=m[0];p=m[1];o=n+"_protobuf_supplemental";c("QPLUserFlow").addAnnotations(e,{"int":(n={},n[o]=p,n)},{instanceKey:f})}}return{encryptedEchoMessages:l,encryptedMessagesWithProtobufs:a}}function z(a){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.backupId,e=a.encryptedMessages,g=a.isPointQuery,h=a.messageRangeInfo,k=a.sortOrderMs,l=a.source,m=a.storage,n=a.threadId,o=a.traceId;a=y(e,b);var p=a.encryptedEchoMessages,q=a.encryptedMessagesWithProtobufs;b=(e=h)!=null?e:{};var r=b.has_more_after,s=b.has_more_before,t=b.next_message_timestamp_ms_after,w=b.next_message_timestamp_ms_before;if(s==null||r==null||t==null||w==null)return;if(q.length===0){a=(yield m.runInTransaction(function(a){return c("LSDecryptMessagesStoredProcedure")(c("LSFactory")(a),{actThreadId:n,encryptedMessages:c("LSVec").ofArray(p)})},"readwrite",void 0,void 0,f.id+":432"));h=a[0];if(h!=null){var x=c("LSVec").toArray(h).map(function(a){return d("LSShape").toRecord(a).value});c("promiseDone")(u.load().then(function(a){return m.runInTransaction(function(b){return a(b,0,(j||(j=d("I64"))).zero,c("LSVec").ofArray(x),s,j.of_string(w),r,j.of_string(t),g,n,o,k!=null?k:void 0,(i||(i=d("LSIntEnum"))).ofNumber((b=l)!=null?b:c("LSMEBTaskCreationSource").UNKNOWN),void 0)},"readwrite",void 0,void 0,f.id+":448")}))}}else{var z=(yield m.runInTransaction(function(a){return c("LSDecryptMessageProtobufsStoredProcedure")(c("LSFactory")(a),{actThreadId:n,encryptedMessagesWithProtobufs:c("LSVec").ofArray(q)})},"readwrite",void 0,void 0,f.id+":471"));c("promiseDone")(v.load().then(function(a){return m.runInTransaction(function(b){return a(b,0,n,(b=z[0])!=null?b:c("LSVec").ofArray([]),s,(j||(j=d("I64"))).of_string(w),r,j.of_string(t),g,o,k!=null?k:void 0,void 0,c("LSVec").ofArray([]),(i||(i=d("LSIntEnum"))).ofNumber((b=l)!=null?b:c("LSMEBTaskCreationSource").UNKNOWN))},"readwrite",void 0,void 0,f.id+":481")}))}});return A.apply(this,arguments)}function a(a){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,e=(yield (b=d("ReQL")).firstAsync(b.fromTableAscending(a.tables.secure_encrypted_backups_client_state)));b=(yield b.toArrayAsync(b.fromTableAscending(a.tables.secure_encrypted_backups_epochs)));a=b.filter(function(a){return a.authorityLevel!==c("LSAuthorityLevel").AUTHORITATIVE}).map(function(a){return(j||(j=d("I64"))).to_float(a.epochId)});if(e==null){d("WALogger").ERROR(p());return}b=e.deviceId;var f=e.mailboxRootKeyBlob;e=e.ocmfClientStateBlob;return{device_id:b,locally_available_epochs:a,mailboxRootKey:f,ocmfClientStateBlob:e}});return B.apply(this,arguments)}function C(a,b,c,d,e){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,g,h){g!=null&&(h!=null&&h?d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotationsWorker({annotations:{bool:{has_epochs:a!=null&&a.epoch_edges.length>0}},pointName:"derive_and_store_epochs",traceId:g}):d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotations({annotations:{bool:{has_epochs:a!=null&&a.epoch_edges.length>0}},pointName:"derive_and_store_epochs",traceId:g}));if(a!=null){h=a.epoch_edges;var k=[],l=new TextEncoder();h!=null&&(h.forEach(function(a){var b=a.from_epoch,c=a.to_epoch,e=a.forward_edge,f=e==null?void 0:e.auth_public_key,g=e==null?void 0:e.encrypted_entropy,h=e==null?void 0:e.entropy_fingerprint,i=e==null?void 0:e.epoch_storage_public_key;e=e==null?void 0:e.psk_fingerprint;var m;f!=null&&g!=null&&(m=d("LSShape").ofRecord({auth_public_key:l.encode(f).buffer,encrypted_entropy:l.encode(g).buffer,entropy_fingerprint:h!=null?l.encode(h).buffer:void 0,epoch_storage_public_key:i!=null?l.encode(i).buffer:void 0,psk_fingerprint:e!=null?l.encode(e).buffer:void 0}));f=b==null?void 0:b.epoch_anon_id;g=b==null?void 0:b.epoch_id;h=c==null?void 0:c.epoch_anon_id;i=c==null?void 0:c.epoch_id;f!=null&&g!=null&&h!=null&&i!=null&&k.push(d("LSShape").ofRecord({backward_edge:a.backward_edge!=null?l.encode(a.backward_edge).buffer:void 0,forward_edge:m,from_epoch:d("LSShape").ofRecord({epoch_anon_id:l.encode(f).buffer,epoch_id:(j||(j=d("I64"))).of_string(g)}),from_epoch_fingerprint:a.from_epoch_fingerprint!=null?l.encode(a.from_epoch_fingerprint).buffer:void 0,to_epoch:d("LSShape").ofRecord({epoch_anon_id:l.encode(h).buffer,epoch_id:j.of_string(i)}),to_epoch_fingerprint:a.to_epoch_fingerprint!=null?l.encode(a.to_epoch_fingerprint).buffer:void 0}))}),yield b.runInTransaction(function(a){return c("LSDeriveAndStoreEpochsStoredProcedure")(c("LSFactory")(a),{epochEdges:c("LSVec").ofArray(k),epochSyncReason:(i||(i=d("LSIntEnum"))).ofNumber(c("MEBEpochSyncReason").DECRYPT_AND_WRITE_MESSAGES),targetDeviceId:e,traceId:g})},"readwrite",void 0,void 0,f.id+":648"))}});return D.apply(this,arguments)}function e(a,b,c,d,e,f,g,h){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,g,h,j,k,p){var q=a;if(q==null){j!=null&&(d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"null_messages",traceId:j,type:"none"}),d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(j));return}var r=q.backup_id,s=q.encrypted_messages,t=q.epoch_derivation_set,u=q.exception_string,v=q.message_range_info;q=q.should_delete_mailbox;if(u!=null){d("WALogger").ERROR(o(),u);q===!0&&(j!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"delete_mailbox",traceId:j,type:"none"}),yield b.runInTransaction(function(a){return c("LSDeleteAndReenrollDeviceStateStoredProcedure")(c("LSFactory")(a),{reenrollmentReason:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMEBDeviceReenrollmentReason").RESTORE_FAILED_WITH_NO_DEVICE_FOUND),targetDeviceId:g})},"readwrite",void 0,void 0,f.id+":715"));j!=null&&d("MAWEBRestoreTrackingUtils").markEBRestoreFail(j,!1,"server-side-exception",{string:{exception:u}});return}yield C(t,b,g,j);if(s.length===0){j!=null&&(d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"no_messages",traceId:j,type:"none"}),d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(j));return}if(v==null){j!=null&&(d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"message_range_info_null",traceId:j,type:"none"}),d("MAWEBRestoreTrackingUtils").markEBRestoreFail(j));d("WALogger").ERROR(n());return}r==null&&(d("WALogger").WARN(m()),j!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"backup_id_null",traceId:j,type:"none"}));q=v.has_more_after;u=v.has_more_before;t=v.next_message_timestamp_ms_after;var w=v.next_message_timestamp_ms_before;if(u==null||q==null||t==null||w==null){j!=null&&(d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:" message_range_info_incomplete",traceId:j,type:"none"}),d("MAWEBRestoreTrackingUtils").markEBRestoreFail(j));d("WALogger").ERROR(l());return}yield z({backupId:r,encryptedMessages:s,isPointQuery:p,messageRangeInfo:v,sortOrderMs:h,source:k,storage:b,threadId:e,traceId:j});return a});return E.apply(this,arguments)}h!==void 0?h:h=b("handleRestoreMessagesGraphQLResponse_XFBEncryptedBackupMessages.graphql");function F(a){return G.apply(this,arguments)}function G(){G=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.backupId,e=a.encryptedMessages,g=a.messageRangeInfo,h=a.qplEvent,i=a.runningInWorker,l=a.sortOrderMs,m=a.source,n=a.storage,o=a.threadId;a=a.traceId;var p=a!=null?d("WAHashStringToNumber").hashStringToNumber(a):void 0;e=y(e,b);var q=e.encryptedEchoMessages,r=e.encryptedMessagesWithProtobufs;e=(b=g)!=null?b:{};g=e.has_more_after;b=e.has_more_before;var s=e.next_message_timestamp_ms_after;e=e.next_message_timestamp_ms_before;if(b==null||g==null||s==null||e==null){d("EBAPIQPLPoints").ebAPIAddQPLPoint(i,h,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO,void 0,p);return}if(r.length===0){var t;(t=d("EBAPIQPLPoints")).ebAPIAddQPLPoint(i,h,t.EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_START,void 0,p);var u=(yield n.runInTransaction(function(a){return c("LSDecryptMessagesStoredProcedure")(c("LSFactory")(a),{actThreadId:o,encryptedMessages:c("LSVec").ofArray(q)})},"readwrite",void 0,void 0,f.id+":931"));t.ebAPIAddQPLPoint(i,h,t.EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_END,void 0,p);u=u[0];if(u!=null){d("EBAPIQPLPoints").ebAPIAddQPLPoint(i,h,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.ECHO_DECODE_START,void 0,p);u=c("LSVec").toArray(u).map(function(a){return d("LSShape").toRecord(a).value}).map(function(a){return d("MAWJobDefinitions").toEncodedEchoMessage(a)});u={echoMessages:u,hasMoreAfter:g,hasMoreBefore:b,isPointQuery:!1,mpsMessageQuery:void 0,nextMessageTimestampMsAfter:(j||(j=d("I64"))).of_string(s),nextMessageTimestampMsBefore:j.of_string(e),referenceTimestamp:l!=null?l:void 0,requestId:a,taskSource:m!=null?m:void 0};return u}}else{var t;(t=d("EBAPIQPLPoints")).ebAPIAddQPLPoint(i,h,t.EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_PROTOBUF_START,void 0,p);u=(yield n.runInTransaction(function(a){return c("LSDecryptMessageProtobufsStoredProcedure")(c("LSFactory")(a),{actThreadId:o,encryptedMessagesWithProtobufs:c("LSVec").ofArray(r)})},"readwrite",void 0,void 0,f.id+":993"));t.ebAPIAddQPLPoint(i,h,t.EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_PROTOBUF_END,void 0,p);if(u[0]==null){d("WALogger").ERROR(k());d("EBAPIQPLPoints").ebAPIAddQPLPoint(i,h,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.PROTOBUF_DECRYPTION_FAILURE,void 0,p);return}n=d("MAWEncryptedBackupUtils").convertLSTypesToJSTypesForRestoreJob(u[0]);t={hasMoreAfter:g,hasMoreBefore:b,isPointQuery:!1,mpsMessageQuery:void 0,nextMessageTimestampMsAfter:(j||(j=d("I64"))).of_string(s),nextMessageTimestampMsBefore:j.of_string(e),protobufMessages:n,referenceTimestamp:l!=null?l:void 0,requestId:a,taskSource:m!=null?m:void 0};return t}});return G.apply(this,arguments)}g.processMessageArray=y;g.getClientState=a;g.deriveAndStoreEpochs=C;g.handleGraphQLRestoreResponse=e;g.processEncryptedMessagesWithoutPersisting=F}),98);
__d("EBAPISharedUtils",["EBAPIQPLPoints","LSDeleteAndReenrollDeviceStateStoredProcedure","LSFactory","LSIntEnum","LSMEBDeviceReenrollmentReason","MAWBridgeSendAndReceive","MAWHandleEBRestoreWithHIM","MWEBODSEntityName.enum","ODS","WALogger","asyncToGeneratorRuntime","gkx","handleRestoreMessagesGraphQLResponse"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Echo to protobuf conversion failed in search range restore response: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] backup_id is null during graphQL restore"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] message range info is not complete - cannot proceed with graphQL restore"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] message range info is null - cannot proceed with graphQL restore"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] server side exception during graphql restore - ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] GQL worker range restore query returned null for message response"]);o=function(){return a};return a}function a(a){(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,a)}function e(a,b,c,d,e,f,g,h,i,j,k){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,g,h,p,q,r,s,t,u){var v;d("EBAPIQPLPoints").ebAPIAddQPLPoint(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_END,void 0,h);if(a==null||(a==null?void 0:(v=a.viewer)==null?void 0:(v=v.encrypted_backup)==null?void 0:v.mailbox)==null){d("EBAPIQPLPoints").ebAPIEndFailure(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE,h);return{response:"invalid-graphql-response",success:!1}}a=a==null?void 0:(v=a.viewer)==null?void 0:(a=v.encrypted_backup)==null?void 0:(v=a.mailbox)==null?void 0:v.messages;if(a==null){d("WALogger").ERROR(o());d("EBAPIQPLPoints").ebAPIEndFailure(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE,h);return{response:"invalid-graphql-response",success:!1}}v=a;if((v==null?void 0:v.encrypted_messages)==null){d("EBAPIQPLPoints").ebAPIEndFailure(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NULL_MESSAGES,h);return{response:"invalid-graphql-response",success:!1}}a=v.backup_id;var w=v.encrypted_messages,x=v.epoch_derivation_set,y=v.exception_string,z=v.message_range_info;v=v.should_delete_mailbox;if(y!=null){d("WALogger").ERROR(n(),y);v===!0&&(d("EBAPIQPLPoints").ebAPIAddQPLPoint(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DELETE_MAILBOX,void 0,h),yield g.runInTransaction(function(a){return c("LSDeleteAndReenrollDeviceStateStoredProcedure")(c("LSFactory")(a),{reenrollmentReason:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMEBDeviceReenrollmentReason").RESTORE_FAILED_WITH_NO_DEVICE_FOUND),targetDeviceId:p})},"readwrite",void 0,void 0,f.id+":136"));d("EBAPIQPLPoints").ebAPIEndFailure(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.SERVER_SIDE_EXCEPTION,h,{string:{exception:y}});return{response:"server-side-exception",success:!1}}d("EBAPIQPLPoints").ebAPIAddQPLPoint(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DERIVE_AND_STORE_EPOCHS_START,void 0,h);yield d("handleRestoreMessagesGraphQLResponse").deriveAndStoreEpochs(x,g,p,t,b);d("EBAPIQPLPoints").ebAPIAddQPLPoint(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DERIVE_AND_STORE_EPOCHS_END,void 0,h);if(z==null){d("WALogger").ERROR(m());d("EBAPIQPLPoints").ebAPIEndFailure(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE,h);return{response:"invalid-graphql-response",success:!1}}v=z.has_more_after;y=z.has_more_before;x=z.next_message_timestamp_ms_after;var A=z.next_message_timestamp_ms_before;if(y==null||v==null||x==null||A==null){d("WALogger").ERROR(l());d("EBAPIQPLPoints").ebAPIEndFailure(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE,h);return{response:"invalid-graphql-response",success:!1}}a==null&&(d("WALogger").WARN(k()),d("EBAPIQPLPoints").ebAPIAddQPLPoint(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.BACKUP_ID_NULL,void 0,h));d("EBAPIQPLPoints").ebAPIAddQPLPoint(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.PROCESS_AND_DECRYPT_MESSAGES_START,void 0,h);y=(yield d("handleRestoreMessagesGraphQLResponse").processEncryptedMessagesWithoutPersisting({backupId:a,encryptedMessages:w,messageRangeInfo:z,qplEvent:e,runningInWorker:b,sortOrderMs:u,source:s,storage:g,threadId:q,traceId:t}));d("EBAPIQPLPoints").ebAPIAddQPLPoint(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.PROCESS_AND_DECRYPT_MESSAGES_END,void 0,h);if(y==null){d("EBAPIQPLPoints").ebAPIEndFailure(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.EMPTY_DECRYPTION_RESPONSE,h);return{response:"empty-decryption-response",success:!1}}v=c("gkx")("8673");if(v&&y.echoMessages!=null){x=y;A=x.echoMessages;d("EBAPIQPLPoints").ebAPIAddQPLPoint(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.ECHO_TO_PROTOBUF_CONVERSION_START,void 0,h);try{a=b?yield d("MAWHandleEBRestoreWithHIM").convertEchoMessagesToEBProtobufs(A,r):yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","convertEchoMessagesToEBProtobufs",{chatJid:r,encodedEchoMessages:A});d("EBAPIQPLPoints").ebAPIAddQPLPoint(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.ECHO_TO_PROTOBUF_CONVERSION_END,void 0,h);y=babelHelpers["extends"]({},y,{echoMessages:void 0,protobufMessages:(y.protobufMessages||[]).concat(a)})}catch(a){d("WALogger").ERROR(j(),a.message);d("EBAPIQPLPoints").ebAPIEndFailure(b,e,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.ECHO_TO_PROTOBUF_CONVERSION_FAILURE,h);return{response:"echo-to-protobuf-conversion-error",success:!1}}}d("EBAPIQPLPoints").ebAPIEndSuccess(b,e,h,{bool:{isEcho:((w=y)==null?void 0:w.echoMessages)?((z=y)==null?void 0:z.echoMessages.length)>0:!1,isProtobuf:((u=y)==null?void 0:u.protobufMessages)?((s=y)==null?void 0:s.protobufMessages.length)>0:!1}});return{response:y,success:!0}});return p.apply(this,arguments)}g.bumpOdsRestoreKey=a;g.constructEBRestoreResponse=e}),98);
__d("EBMessagePointQueryWithPersistenceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9085258601531441"}),null);
__d("EBMessagePointQueryWithPersistenceQuery.graphql",["EBMessagePointQueryWithPersistenceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"app_id"},c={defaultValue:null,kind:"LocalArgument",name:"restore_payload_string"},d={defaultValue:null,kind:"LocalArgument",name:"restore_type"},e=[{kind:"Variable",name:"app_id",variableName:"app_id"},{kind:"Variable",name:"restore_payload_string",variableName:"restore_payload_string"},{kind:"Variable",name:"restore_type",variableName:"restore_type"}],f={alias:null,args:null,kind:"ScalarField",name:"encryption_version",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"epoch_anon_id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"epoch_id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"encrypted_protobuf_stanza",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"protobuf_timestamp_ms",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"sk_ciphertext",storageKey:null},l=[g,h];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"EBMessagePointQueryWithPersistenceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:e,concreteType:"XFBEncryptedBackupMessages",kind:"LinkedField",name:"messages_point_restore",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"handleRestoreMessagesGraphQLResponse_XFBEncryptedBackupMessages"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,a],kind:"Operation",name:"EBMessagePointQueryWithPersistenceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:e,concreteType:"XFBEncryptedBackupMessages",kind:"LinkedField",name:"messages_point_restore",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMessage",kind:"LinkedField",name:"encrypted_messages",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEchoDocument",kind:"LinkedField",name:"echo_document",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"echo_document_string",storageKey:null},f,g,h,{alias:null,args:null,kind:"ScalarField",name:"epoch_fingerprint",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"otid",storageKey:null},{alias:null,args:null,concreteType:"XFBProtobufStanzas",kind:"LinkedField",name:"protobuf_stanzas",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBProtobufStanza",kind:"LinkedField",name:"top_level_protobuf",plural:!1,selections:[i,f,g,h,j,k],storageKey:null},{alias:null,args:null,concreteType:"XFBProtobufStanza",kind:"LinkedField",name:"supplemental_protobufs",plural:!0,selections:[i,f,g,h,j,k,{alias:null,args:null,kind:"ScalarField",name:"supplemental_key",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_id",storageKey:null},{alias:null,args:null,concreteType:"XFBMessageRangeInfo",kind:"LinkedField",name:"message_range_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_more_before",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_more_after",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_message_timestamp_ms_before",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_message_timestamp_ms_after",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_delete_mailbox",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"exception_string",storageKey:null},{alias:null,args:null,concreteType:"XFBEpochDerivationSet",kind:"LinkedField",name:"epoch_derivation_set",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupsEpochEdge",kind:"LinkedField",name:"epoch_edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"backward_edge",storageKey:null},{alias:null,args:null,concreteType:"XFBEpochForwardEdge",kind:"LinkedField",name:"forward_edge",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"auth_public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_entropy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entropy_fingerprint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"epoch_storage_public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"psk_fingerprint",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEpochIds",kind:"LinkedField",name:"from_epoch",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"XFBEpochIds",kind:"LinkedField",name:"to_epoch",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"from_epoch_fingerprint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"to_epoch_fingerprint",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("EBMessagePointQueryWithPersistenceQuery_facebookRelayOperation"),metadata:{},name:"EBMessagePointQueryWithPersistenceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("XFBLSRestoreOperationType.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["DELTA_GENERIC_MESSAGE_SYNC","INITIAL_RESTORE","MESSAGE_QUERY_RESTORE","POINT_QUERY_RESTORE","RANGE_QUERY_RESTORE","SNAPSHOT_RESTORE","SURROUNDING_RESTORE","UNKNOWN"]);c=a;f["default"]=c}),66);
__d("EBMessagePointQueryWithPersistence",["EBAPIQPLPoints","EBAPISharedUtils","EBAPIWorkerCheck","EBMessagePointQueryWithPersistenceQuery.graphql","I64","LSDecryptMessageProtobufsStoredProcedure","LSDecryptMessagesStoredProcedure","LSDeleteAndReenrollDeviceStateStoredProcedure","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSMEBDeviceReenrollmentReason","LSMEBTaskCreationSource","LSShape","LSVec","MAWBridge","MAWCurrentUser","MAWEBRestoreTrackingUtils","MAWEncryptedBackupUtils","MAWJobDefinitions","MAWMainTraceUtils","QPLUserFlow","WABase64","WAHashStringToNumber","WALogger","WAResultOrError","WorkerRelay","WorkerRelayEnvironment","asyncToGeneratorRuntime","cr:3034","handleRestoreMessagesGraphQLResponse","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] graphQL point restore error ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] message range info is not complete - cannot proceed with graphQL restore"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] backup_id is null during graphQL restore"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] message range info is null - cannot proceed with graphQL restore"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] server side exception during graphql restore - ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] GQL worker point restore query returned null for message response"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] mandatory params of client state are null"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] No client state found - unable to restore"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Calling EBLS without EBLS being available for message point query"]);s=function(){return a};return a}var t=h!==void 0?h:h=b("EBMessagePointQueryWithPersistenceQuery.graphql");function a(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.jid,f=a.messageId,g=a.sortOrderMs,h=a.source,u=a.threadId;a=a.traceId;if(!d("EBAPIWorkerCheck").runningInWorker())return d("WAResultOrError").makeError("unsupported-context");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql");a=a!=null?a:d("MAWMainTraceUtils").createTraceId();var v=d("WAHashStringToNumber").hashStringToNumber(a),w=c("qpl")._(521474469,"2612");try{var x;c("QPLUserFlow").start(w,{annotations:{bool:{mainThreadRestore:!1,workerThreadRestore:!0},"int":{source:(x=h)!=null?x:c("LSMEBTaskCreationSource").UNKNOWN}},instanceKey:v});d("MAWEBRestoreTrackingUtils").markEBRestorePoint(h,a,"GQL_WORKER",!0);if(b("cr:3034")==null){d("WALogger").ERROR(s());c("QPLUserFlow").endFailure(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.EBLS_NOT_INITIALIZED,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.EBLS_NOT_INITIALIZED}},instanceKey:v});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a,!0,"ebls_not_initialized");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("ebls-not-intialized")}yield b("cr:3034").init();x=(yield b("cr:3034").getLSStorage());var y=(yield d("MAWEncryptedBackupUtils").getBackupTenancy(x.tables));if(y==null||!(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION))){c("QPLUserFlow").addPoint(w,"eb_not_enabled",{instanceKey:v});c("QPLUserFlow").endSuccess(w,{instanceKey:v});d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"eb_not_enabled",traceId:a});d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(a,!0);d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.success");return d("WAResultOrError").makeResult()}d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"lsdb_singleton_retrieved",traceId:a});c("QPLUserFlow").addPoint(w,"lsdb_singleton_retrieved",{instanceKey:v});y=(yield d("handleRestoreMessagesGraphQLResponse").getClientState(x));d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"client_state_retrieved",traceId:a});c("QPLUserFlow").addPoint(w,"client_state_retrieved",{instanceKey:v});if(y==null){d("WALogger").ERROR(r());c("QPLUserFlow").endFailure(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE}},instanceKey:v});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a,!0,"no_client_state");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("no-client-state")}var z=y.device_id,A=y.locally_available_epochs,B=y.mailboxRootKey;y=y.ocmfClientStateBlob;if(z==null||B==null||y==null){d("WALogger").ERROR(q());c("QPLUserFlow").endFailure(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE}},instanceKey:v});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a,!0,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE);d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("invalid-client-state")}var C=d("MAWCurrentUser").getAppID();d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"app_id_retrieved",traceId:a});c("QPLUserFlow").addPoint(w,"app_id_retrieved",{instanceKey:v});A={restore_context:{act_thread_id:d("MAWJobDefinitions").toThreadJidPrimaryId(u),site:"www",tam_thread_subtype:0},success:babelHelpers["extends"]({device_context:{device_id:(i||(i=d("I64"))).to_float(z),locally_available_epochs:A,raw_tokens:{mailbox_root_key:d("WABase64").encodeB64(B),ocmf_client_state_blob:d("WABase64").encodeB64(y)}},message_id:f},g!=null?{reference_timestamp:g}:{})};d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"graphql_query_start",traceId:a});c("QPLUserFlow").addPoint(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_START,{instanceKey:v});yield d("WorkerRelayEnvironment").createWorkerRelayEnvironment();y=(yield d("WorkerRelay").createWorkerQuery(t,{app_id:String((B=C)!=null?B:"0"),restore_payload_string:JSON.stringify(A),restore_type:"POINT_QUERY_RESTORE"}));d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"graphql_query_end",traceId:a});c("QPLUserFlow").addPoint(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_END,{instanceKey:v});if(y==null||(y==null?void 0:(f=y.viewer)==null?void 0:(C=f.encrypted_backup)==null?void 0:C.mailbox)==null){c("QPLUserFlow").endFailure(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE}},instanceKey:v});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a,!0,"gql_point_restore_exception");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}C=y==null?void 0:(B=y.viewer)==null?void 0:(A=B.encrypted_backup)==null?void 0:(f=A.mailbox)==null?void 0:f.messages_point_restore;if(C==null){d("WALogger").ERROR(p());c("QPLUserFlow").endFailure(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE}},instanceKey:v});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a,!0,"gql_point_restore_exception");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}y=C;if((y==null?void 0:y.encrypted_messages)==null){c("QPLUserFlow").endFailure(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NULL_MESSAGES,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NULL_MESSAGES}},instanceKey:v});d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"null_messages",traceId:a});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a,!0,"null_messages");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}B=y.backup_id;A=y.encrypted_messages;f=y.epoch_derivation_set;C=y.exception_string;var D=y.message_range_info;y=y.should_delete_mailbox;if(C!=null){d("WALogger").ERROR(o(),C);y===!0&&(c("QPLUserFlow").addPoint(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DELETE_MAILBOX,{instanceKey:v}),yield x.runInTransaction(function(a){return c("LSDeleteAndReenrollDeviceStateStoredProcedure")(c("LSFactory")(a),{reenrollmentReason:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMEBDeviceReenrollmentReason").RESTORE_FAILED_WITH_NO_DEVICE_FOUND),targetDeviceId:z})},"readwrite"),d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"delete_mailbox",traceId:a}));c("QPLUserFlow").endFailure(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.SERVER_SIDE_EXCEPTION,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.SERVER_SIDE_EXCEPTION,exception:C}},instanceKey:v});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a,!0,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.SERVER_SIDE_EXCEPTION,{string:{exception:C}});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("server-side-exception")}d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"derive_and_store_epochs_start",traceId:a});c("QPLUserFlow").addPoint(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DERIVE_AND_STORE_EPOCHS_START,{instanceKey:v});c("QPLUserFlow").addAnnotations(w,{bool:{hasEpochs:f!=null&&f.epoch_edges.length>0}},{instanceKey:v});yield d("handleRestoreMessagesGraphQLResponse").deriveAndStoreEpochs(f,x,z,a,!0);d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"derive_and_store_epochs_end",traceId:a});c("QPLUserFlow").addPoint(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DERIVE_AND_STORE_EPOCHS_END,{instanceKey:v});A.length===0&&(c("QPLUserFlow").addPoint(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_MESSAGES_TO_RESTORE,{instanceKey:v}),d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"no_messages",traceId:a}));if(D==null){d("WALogger").ERROR(n());c("QPLUserFlow").endFailure(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO}},instanceKey:v});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a,!0,"missing_message_range_info");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("missing-message-range-info")}B==null&&(d("WALogger").WARN(m()),c("QPLUserFlow").addPoint(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.BACKUP_ID_NULL,{instanceKey:v}),d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"backup_id_null",traceId:a}));y=D.has_more_after;C=D.has_more_before;f=D.next_message_timestamp_ms_after;D=D.next_message_timestamp_ms_before;if(C==null||y==null||f==null||D==null){d("WALogger").ERROR(l());c("QPLUserFlow").endFailure(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO}},instanceKey:v});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a,!0,"message_range_info_null");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("missing-message-range-info")}A=d("handleRestoreMessagesGraphQLResponse").processMessageArray(A,B,w,v);var E=A.encryptedEchoMessages,F=A.encryptedMessagesWithProtobufs;if(F.length===0){d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"decrypt_messages_echo_start",traceId:a});c("QPLUserFlow").addPoint(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_START,{instanceKey:v});B=(yield x.runInTransaction(function(a){return c("LSDecryptMessagesStoredProcedure")(c("LSFactory")(a),{actThreadId:u,encryptedMessages:c("LSVec").ofArray(E)})},"readwrite"));d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"decrypt_messages_echo_end",traceId:a});c("QPLUserFlow").addPoint(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_END,{instanceKey:v});A=B[0];if(A!=null){B=c("LSVec").toArray(A).map(function(a){return d("LSShape").toRecord(a).value});c("promiseDone")(d("MAWBridge").getBridge().sendAndReceive("event","uiUpdate",{events:[{tag:"RestoreNativeOp",value:{chatJid:e,echoMessages:c("LSVec").ofArray(B),hasMoreAfter:y,hasMoreBefore:C,isPointQuery:!0,nextMessageTimestampMsAfter:(i||(i=d("I64"))).of_string(f),nextMessageTimestampMsBefore:i.of_string(D),referenceTimestamp:g!=null?(i||(i=d("I64"))).to_string(g):void 0,requestId:a,taskSource:(j||(j=d("LSIntEnum"))).ofNumber((A=h)!=null?A:c("LSMEBTaskCreationSource").UNKNOWN),threadId:u}}]}))}}else{d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"decrypt_messages_protobuf_start",traceId:a});c("QPLUserFlow").addPoint(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_PROTOBUF_START,{instanceKey:v});B=(yield x.runInTransaction(function(a){return c("LSDecryptMessageProtobufsStoredProcedure")(c("LSFactory")(a),{actThreadId:u,encryptedMessagesWithProtobufs:c("LSVec").ofArray(F)})},"readwrite"));d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"decrypt_messages_protobuf_end",traceId:a});c("QPLUserFlow").addPoint(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_PROTOBUF_END,{instanceKey:v});if(B[0]!=null){A=d("MAWEncryptedBackupUtils").convertLSTypesToJSTypesForRestoreJob(B[0]);c("promiseDone")(d("MAWBridge").getBridge().sendAndReceive("event","uiUpdate",{events:[{tag:"RestoreNativeOp",value:{chatJid:e,decryptedMessagesProtobufs:A,hasMoreAfter:y,hasMoreBefore:C,isPointQuery:!0,nextMessageTimestampMsAfter:(i||(i=d("I64"))).of_string(f),nextMessageTimestampMsBefore:i.of_string(D),referenceTimestamp:g!=null?(i||(i=d("I64"))).to_string(g):void 0,requestId:a,taskSource:(j||(j=d("LSIntEnum"))).ofNumber((x=h)!=null?x:c("LSMEBTaskCreationSource").UNKNOWN),threadId:u}}]}))}else{c("QPLUserFlow").endFailure(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPTED_PROTOBUFS_NULL,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPTED_PROTOBUFS_NULL}},instanceKey:v});d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"decrypted_protobufs_null",traceId:a});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a,!0,"decrypted_protobufs_null");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}}c("QPLUserFlow").endSuccess(w,{annotations:{bool:{isEcho:F.length===0,isProtobuf:F.length>0}},instanceKey:v});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.success");return d("WAResultOrError").makeResult()}catch(b){d("WALogger").ERROR(k(),b);c("QPLUserFlow").endFailure(w,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,errorStackTrace:(B=b.stack)!=null?B:""}},error:b,instanceKey:v});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a,!0,"gql_point_restore_exception");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("runtime-error",b)}});return u.apply(this,arguments)}g.pointRestoreQuery=t;g.messagePointQueryWithPersistence=a}),98);
__d("EBMessageBulkPointQuery",["EBAPIQPLPoints","EBAPISharedUtils","EBAPIWorkerCheck","EBMessagePointQueryWithPersistence","I64","LSEncryptedBackupsBackupTenancy","LSIntEnum","LSMEBTaskCreationSource","LSVec","MAWCurrentUser","MAWEncryptedBackupUtils","QPLUserFlow","WABase64","WAHashStringToNumber","WALogger","WAPushSafeTypes","WAResultOrError","WorkerRelay","asyncToGeneratorRuntime","cr:7713","handleRestoreMessagesGraphQLResponse","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] graphQL bulk point restore error ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] mandatory params of client state are null"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] No client state found - unable to restore"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Calling EBLS without EBLS being available for message bulk point query"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] GQL bulk point query called from non-worker context"]);n=function(){return a};return a}function a(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!d("EBAPIWorkerCheck").runningInWorker()){d("WALogger").ERROR(n());return d("WAResultOrError").makeError("called-from-main-thread")}d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql");a=d("WAPushSafeTypes").unsafeNotNullable(a);var e=a.chatJid,f=a.mpsMessageQuery,g=a.sortOrderMsList,o=a.source,p=a.threadId;a=a.traceId;var q=a!=null?d("WAHashStringToNumber").hashStringToNumber(a):void 0,r=c("qpl")._(521482281,"2703");try{var s;c("QPLUserFlow").start(r,{annotations:{bool:{bulkPointQuery:!0,mainThreadRestore:!1,workerThreadRestore:!0},"int":{source:(s=o)!=null?s:c("LSMEBTaskCreationSource").UNKNOWN}},instanceKey:q});if(b("cr:7713")==null){d("WALogger").ERROR(m());c("QPLUserFlow").endFailure(r,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.EBLS_NOT_INITIALIZED,{instanceKey:q});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").makeError("ebls-not-intialized")}yield b("cr:7713").init();s=(yield b("cr:7713").getLSStorage());var t=(yield d("MAWEncryptedBackupUtils").getBackupTenancy(s.tables));if(t==null||!(h||(h=d("I64"))).equal(t,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION))){c("QPLUserFlow").addPoint(r,"eb_not_enabled",{instanceKey:q});c("QPLUserFlow").endSuccess(r,{instanceKey:q});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").makeError("eb-not-enabled")}t=(yield d("handleRestoreMessagesGraphQLResponse").getClientState(s));if(t==null){d("WALogger").ERROR(l());c("QPLUserFlow").endFailure(r,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE,{instanceKey:q});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").makeError("no-client-state")}var u=t.device_id,v=t.locally_available_epochs,w=t.mailboxRootKey;t=t.ocmfClientStateBlob;if(u==null||w==null||t==null){d("WALogger").ERROR(k());c("QPLUserFlow").endFailure(r,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE,{instanceKey:q});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").makeError("invalid-client-state")}var x=d("MAWCurrentUser").getAppID();v={restore_context:{act_thread_id:p,site:"www",tam_thread_subtype:0},success:{device_context:{device_id:(h||(h=d("I64"))).to_float(u),locally_available_epochs:v,raw_tokens:{mailbox_root_key:d("WABase64").encodeB64(w),ocmf_client_state_blob:d("WABase64").encodeB64(t)}},mps_message_query:f}};if(g!=null){w=c("LSVec").ofArray(g.map(function(a){return(h||(h=d("I64"))).of_string(""+a)}));v=babelHelpers["extends"]({},v,{sort_order_ms_list:w})}c("QPLUserFlow").addPoint(r,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_START,{instanceKey:q});f=(yield d("WorkerRelay").createWorkerQuery(d("EBMessagePointQueryWithPersistence").pointRestoreQuery,{app_id:String((t=x)!=null?t:"0"),restore_payload_string:JSON.stringify(v),restore_type:"MESSAGE_QUERY_RESTORE"}));g=(yield d("EBAPISharedUtils").constructEBRestoreResponse(f,!0,r,s,q,u,p,e,o,a,void 0));if(g.success){d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.success");return d("WAResultOrError").makeResult(g.response)}else{d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").makeError(g.response)}}catch(a){d("WALogger").ERROR(j(),a);c("QPLUserFlow").endFailure(r,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,{error:a,instanceKey:q});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").makeError("runtime-error",a)}});return o.apply(this,arguments)}g.messageBulkPointQuery=a}),98);
__d("EBMessageMetadataQueryQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8744995708862431"}),null);
__d("EBMessageMetadataQueryQuery.graphql",["EBMessageMetadataQueryQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"data"}],c={alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"data",variableName:"data"}],concreteType:"XFBTDeanonMessagesResponse",kind:"LinkedField",name:"deanon_messages_metadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sort_order_ms",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"EBMessageMetadataQueryQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[c],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"EBMessageMetadataQueryQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("EBMessageMetadataQueryQuery_facebookRelayOperation"),metadata:{},name:"EBMessageMetadataQueryQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EBMessageMetadataQuery",["CometRelay","EBAPIQPLPoints","EBAPIWorkerCheck","EBMessageMetadataQueryQuery.graphql","FBLogger","I64","LSDatabaseSingleton","QPLUserFlow","ReQL","WAHashStringToNumber","WAResultOrError","XPlatRelayEnvironment","asyncToGeneratorRuntime","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h!==void 0?h:h=b("EBMessageMetadataQueryQuery.graphql"),l=new Map();function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l.has(a))return l.get(a);var b=(yield (i||(i=d("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue());b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table.index("jid")).getKeyRange((j||(j=d("I64"))).of_string(a))));if((b==null?void 0:b.serverThreadKey)!=null){l.set(a,(j||(j=d("I64"))).to_float(b.serverThreadKey));return j.to_float(b.serverThreadKey)}return});return n.apply(this,arguments)}function a(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.direction,e=a.fetchPolicy,f=a.includeAnonymizedMessages;f=f===void 0?!1:f;var g=a.instanceKey,h=a.networkCacheConfig,i=a.numberOfMessages,j=a.referenceTimestamp;j=j===void 0?null:j;a=a.threadId;if(d("EBAPIWorkerCheck").runningInWorker())return d("WAResultOrError").makeError("unsupported-context");var l=g!=null?d("WAHashStringToNumber").hashStringToNumber(g):void 0;try{c("QPLUserFlow").start(c("qpl")._(521476771,"2454"),{instanceKey:l});var n=d("XPlatRelayEnvironment").getRelayEnvironment();b=b==="after"?"AFTER":"BEFORE";c("QPLUserFlow").addPoint(c("qpl")._(521476771,"2454"),d("EBAPIQPLPoints").EBMessageMetadataQPLPoints.GRAPHQL_QUERY_START,{instanceKey:l});var o=(yield m(a));b=(yield d("CometRelay").fetchQuery(n,k,{data:{act_thread_id:a,direction:b,include_anonymized_messages:f,reference_timestamp:j,requested_messages:i,server_thread_key:o}},{fetchPolicy:(n=e)!=null?n:void 0,networkCacheConfig:(a=h)!=null?a:void 0}).toPromise());c("QPLUserFlow").addPoint(c("qpl")._(521476771,"2454"),d("EBAPIQPLPoints").EBMessageMetadataQPLPoints.GRAPHQL_QUERY_END,{instanceKey:l});e=(o=b==null?void 0:(f=b.viewer)==null?void 0:(j=f.encrypted_backup)==null?void 0:(i=j.mailbox)==null?void 0:i.deanon_messages_metadata)!=null?o:[];n=e.map(function(a){var b=a.offline_threading_id;a=a.sort_order_ms;return{offlineThreadingId:b,sortOrderMs:a}});c("QPLUserFlow").endSuccess(c("qpl")._(521476771,"2454"),{instanceKey:l});return d("WAResultOrError").makeResult({instanceKey:g,messages:n})}catch(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("Error querying messaging metadata from EBMessageMetadataQuery");c("QPLUserFlow").endFailure(c("qpl")._(521476771,"2454"),"error",{error:a,instanceKey:l});return d("WAResultOrError").makeError("error",a)}});return o.apply(this,arguments)}g.messageMetadataQuery=a}),98);
__d("EBMessageRangeQueryWithPersistenceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8765464933531736"}),null);
__d("EBMessageRangeQueryWithPersistenceQuery.graphql",["EBMessageRangeQueryWithPersistenceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"app_id"},c={defaultValue:null,kind:"LocalArgument",name:"restore_payload_string"},d={defaultValue:null,kind:"LocalArgument",name:"restore_type"},e=[{kind:"Variable",name:"app_id",variableName:"app_id"},{kind:"Variable",name:"restore_payload_string",variableName:"restore_payload_string"},{kind:"Variable",name:"restore_type",variableName:"restore_type"}],f={alias:null,args:null,kind:"ScalarField",name:"encryption_version",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"epoch_anon_id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"epoch_id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"encrypted_protobuf_stanza",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"protobuf_timestamp_ms",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"sk_ciphertext",storageKey:null},l=[g,h];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"EBMessageRangeQueryWithPersistenceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:e,concreteType:"XFBEncryptedBackupMessages",kind:"LinkedField",name:"messages",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"handleRestoreMessagesGraphQLResponse_XFBEncryptedBackupMessages"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,a],kind:"Operation",name:"EBMessageRangeQueryWithPersistenceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:e,concreteType:"XFBEncryptedBackupMessages",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMessage",kind:"LinkedField",name:"encrypted_messages",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEchoDocument",kind:"LinkedField",name:"echo_document",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"echo_document_string",storageKey:null},f,g,h,{alias:null,args:null,kind:"ScalarField",name:"epoch_fingerprint",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"otid",storageKey:null},{alias:null,args:null,concreteType:"XFBProtobufStanzas",kind:"LinkedField",name:"protobuf_stanzas",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBProtobufStanza",kind:"LinkedField",name:"top_level_protobuf",plural:!1,selections:[i,f,g,h,j,k],storageKey:null},{alias:null,args:null,concreteType:"XFBProtobufStanza",kind:"LinkedField",name:"supplemental_protobufs",plural:!0,selections:[i,f,g,h,j,k,{alias:null,args:null,kind:"ScalarField",name:"supplemental_key",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_id",storageKey:null},{alias:null,args:null,concreteType:"XFBMessageRangeInfo",kind:"LinkedField",name:"message_range_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_more_before",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_more_after",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_message_timestamp_ms_before",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_message_timestamp_ms_after",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_delete_mailbox",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"exception_string",storageKey:null},{alias:null,args:null,concreteType:"XFBEpochDerivationSet",kind:"LinkedField",name:"epoch_derivation_set",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupsEpochEdge",kind:"LinkedField",name:"epoch_edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"backward_edge",storageKey:null},{alias:null,args:null,concreteType:"XFBEpochForwardEdge",kind:"LinkedField",name:"forward_edge",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"auth_public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_entropy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entropy_fingerprint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"epoch_storage_public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"psk_fingerprint",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEpochIds",kind:"LinkedField",name:"from_epoch",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"XFBEpochIds",kind:"LinkedField",name:"to_epoch",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"from_epoch_fingerprint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"to_epoch_fingerprint",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("EBMessageRangeQueryWithPersistenceQuery_facebookRelayOperation"),metadata:{},name:"EBMessageRangeQueryWithPersistenceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("LSEncryptedBackupsMessagesRangeQueryDirection",[],(function(a,b,c,d,e,f){a=Object.freeze({BEFORE:1,AFTER:2});f["default"]=a}),66);
__d("EBMessageRangeQueryWithPersistence",["EBAPIQPLPoints","EBAPISharedUtils","EBAPIWorkerCheck","EBMessageRangeQueryWithPersistenceQuery.graphql","I64","LSDatabaseSingleton","LSDecryptMessageProtobufsStoredProcedure","LSDecryptMessagesStoredProcedure","LSDeleteAndReenrollDeviceStateStoredProcedure","LSEncryptedBackupsMessagesRangeQueryDirection","LSFactory","LSIntEnum","LSMEBDeviceReenrollmentReason","LSMEBTaskCreationSource","LSShape","LSVec","MAWCurrentUser","MAWEBRestoreTrackingUtils","MAWJobDefinitions","MAWMainTraceUtils","QPLUserFlow","WABase64","WAHashStringToNumber","WAJids","WALogger","WAResultOrError","WorkerRelay","WorkerRelayEnvironment","asyncToGeneratorRuntime","handleRestoreMessagesGraphQLResponse","justknobx","promiseDone","qpl","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] graphQL range restore error ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] message range info is not complete - cannot proceed with graphQL restore"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] backup_id is null during graphQL restore"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] message range info is null - cannot proceed with graphQL restore"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] server side exception during graphql restore - ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] GQL worker range restore query returned null for message response"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] mandatory params of client state are null"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] No client state found - unable to restore"]);s=function(){return a};return a}var t=c("requireDeferred")("LSEBUnifiedRestoreUtils").__setRef("EBMessageRangeQueryWithPersistence"),u=c("requireDeferred")("LSRestoreEchoBlobs.nop").__setRef("EBMessageRangeQueryWithPersistence"),v=c("requireDeferred")("LSRestoreProtobufs.nop").__setRef("EBMessageRangeQueryWithPersistence"),w=c("justknobx")._("3177"),x=h!==void 0?h:h=b("EBMessageRangeQueryWithPersistenceQuery.graphql");function a(a){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.chatJid,f=a.direction,g=a.includeOffset;g=g===void 0?!1:g;var h=a.instanceKey,y=a.sortOrderMs,z=a.source;if(d("EBAPIWorkerCheck").runningInWorker())return d("WAResultOrError").makeError("unsupported-context");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql");var A=h!=null?h:d("MAWMainTraceUtils").createTraceId();a=h!=null?d("WAHashStringToNumber").hashStringToNumber(h):void 0;var B=c("qpl")._(521471755,"2586");try{var C;c("QPLUserFlow").start(B,{annotations:{bool:{mainThreadRestore:!0,workerThreadRestore:!1},"int":{source:(C=z)!=null?C:c("LSMEBTaskCreationSource").UNKNOWN}},instanceKey:a,timeoutInMs:c("justknobx")._("2950")});d("MAWEBRestoreTrackingUtils").markEBRestorePaginated(z,A,"GQL_MAIN_THREAD");var D=(yield (i||(i=d("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue());d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"lsdb_singleton_retrieved",traceId:A,type:"none"});c("QPLUserFlow").addPoint(B,"lsdb_singleton_retrieved",{instanceKey:a});C=(yield d("handleRestoreMessagesGraphQLResponse").getClientState(D));d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"client_state_retrieved",traceId:A,type:"none"});c("QPLUserFlow").addPoint(B,"client_state_retrieved",{instanceKey:a});if(C==null){d("WALogger").ERROR(s());c("QPLUserFlow").endFailure(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE}},instanceKey:a});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(A,!1,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE);d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("no-client-state")}var E=C.device_id,F=C.locally_available_epochs,G=C.mailboxRootKey;C=C.ocmfClientStateBlob;if(E==null||G==null||C==null){d("WALogger").ERROR(r());c("QPLUserFlow").endFailure(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE}},instanceKey:a});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(A,!1,"client_state_null");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("invalid-client-state")}var H=d("MAWCurrentUser").getAppID();d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"app_id_retrieved",traceId:A,type:"none"});c("QPLUserFlow").addPoint(B,"app_id_retrieved",{instanceKey:a});var I=d("WAJids").threadIdForChatJid(e);d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"converted_threadid_to_chatjid",traceId:A,type:"none"});c("QPLUserFlow").addPoint(B,"converted_threadid_to_chatjid",{instanceKey:a});f=f==="before"?c("LSEncryptedBackupsMessagesRangeQueryDirection").BEFORE:c("LSEncryptedBackupsMessagesRangeQueryDirection").AFTER;F={restore_context:{act_thread_id:d("MAWJobDefinitions").toThreadJidPrimaryId(I),site:"www",tam_thread_subtype:0},success:babelHelpers["extends"]({device_context:{device_id:(j||(j=d("I64"))).to_float(E),locally_available_epochs:F,raw_tokens:{mailbox_root_key:d("WABase64").encodeB64(G),ocmf_client_state_blob:d("WABase64").encodeB64(C)}},direction:f,include_offset:g,server_thread_key:I},y!=null?{reference_timestamp:y}:{})};c("QPLUserFlow").addPoint(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_START,{instanceKey:a});d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"graphql_query_start",traceId:A,type:"none"});yield d("WorkerRelayEnvironment").createWorkerRelayEnvironment();C=(yield d("WorkerRelay").createWorkerQuery(x,{app_id:String((G=H)!=null?G:"0"),restore_payload_string:JSON.stringify(F),restore_type:"RANGE_QUERY_RESTORE"}));c("QPLUserFlow").addPoint(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_END,{instanceKey:a});d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"graphql_query_end",traceId:A,type:"none"});if(C==null||(C==null?void 0:(f=C.viewer)==null?void 0:(g=f.encrypted_backup)==null?void 0:g.mailbox)==null){c("QPLUserFlow").endFailure(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE}},instanceKey:a});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(A,!1,"gql_range_restore_exception");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}f=C==null?void 0:(H=C.viewer)==null?void 0:(G=H.encrypted_backup)==null?void 0:(F=G.mailbox)==null?void 0:F.messages;if(f==null){d("WALogger").ERROR(q());c("QPLUserFlow").endFailure(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE}},instanceKey:a});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(A,!1,"gql_range_restore_exception");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}g=f;if((g==null?void 0:g.encrypted_messages)==null){c("QPLUserFlow").endFailure(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NULL_MESSAGES,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NULL_MESSAGES}},instanceKey:a});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(A,!1,"null_messages");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}C=g.backup_id;H=g.encrypted_messages;G=g.epoch_derivation_set;F=g.exception_string;f=g.message_range_info;g=g.should_delete_mailbox;if(F!=null){d("WALogger").ERROR(p(),F);g===!0&&(c("QPLUserFlow").addPoint(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DELETE_MAILBOX,{instanceKey:a}),yield D.runInTransaction(function(a){return c("LSDeleteAndReenrollDeviceStateStoredProcedure")(c("LSFactory")(a),{reenrollmentReason:(k||(k=d("LSIntEnum"))).ofNumber(c("LSMEBDeviceReenrollmentReason").RESTORE_FAILED_WITH_NO_DEVICE_FOUND),targetDeviceId:E})},"readwrite"),d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"delete_mailbox",traceId:A,type:"none"}));c("QPLUserFlow").endFailure(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.SERVER_SIDE_EXCEPTION,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NULL_MESSAGES,exception:F}},instanceKey:a});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(A,!0,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.SERVER_SIDE_EXCEPTION,{string:{exception:F}});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("server-side-exception")}c("QPLUserFlow").addPoint(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DERIVE_AND_STORE_EPOCHS_START,{instanceKey:a});yield d("handleRestoreMessagesGraphQLResponse").deriveAndStoreEpochs(G,D,E,h);c("QPLUserFlow").addAnnotations(B,{bool:{hasEpochs:G!=null&&G.epoch_edges.length>0}},{instanceKey:a});c("QPLUserFlow").addPoint(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DERIVE_AND_STORE_EPOCHS_END,{instanceKey:a});H.length===0&&(c("QPLUserFlow").addPoint(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_MESSAGES_TO_RESTORE,{instanceKey:a}),d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"no_messages",traceId:A,type:"none"}));if(f==null){d("WALogger").ERROR(o());c("QPLUserFlow").endFailure(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO}},instanceKey:a});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(A,!1,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO);d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("missing-message-range-info")}C==null&&(d("WALogger").WARN(n()),c("QPLUserFlow").addPoint(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.BACKUP_ID_NULL,{instanceKey:a}),d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"backup_id_null",traceId:A,type:"none"}));var J=f.has_more_after,K=f.has_more_before,L=f.next_message_timestamp_ms_after,M=f.next_message_timestamp_ms_before;if(K==null||J==null||L==null||M==null){d("WALogger").ERROR(m());c("QPLUserFlow").endFailure(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO}},instanceKey:a});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(A,!1,"message_range_info_null");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("missing-message-range-info")}g=d("handleRestoreMessagesGraphQLResponse").processMessageArray(H,C,B,a);var N=g.encryptedEchoMessages,O=g.encryptedMessagesWithProtobufs;F="none";if(N.length>0&&O.length>0&&N.length+O.length===w){F="mixed";c("QPLUserFlow").addPoint(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RESTORING_MIXED_ECHO_PROTOBUF_PAYLOAD,{instanceKey:a});c("QPLUserFlow").addPoint(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_AND_PROTOBUF_START,{instanceKey:a});h=(yield D.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("LSDecryptMessagesStoredProcedure")(c("LSFactory")(a),{actThreadId:I,encryptedMessages:c("LSVec").ofArray(N)}));a=(yield c("LSDecryptMessageProtobufsStoredProcedure")(c("LSFactory")(a),{actThreadId:I,encryptedMessagesWithProtobufs:c("LSVec").ofArray(O)}));return{decryptedEchoMsgs:b,decryptedProtobufMsgs:a}});return function(b){return a.apply(this,arguments)}}(),"readwrite"));G=h.decryptedEchoMsgs;var P=h.decryptedProtobufMsgs;c("QPLUserFlow").addPoint(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_AND_PROTOBUF_END,{instanceKey:a});var Q;G[0]!=null&&(Q=c("LSVec").toArray(G[0]).map(function(a){return d("LSShape").toRecord(a).value}));c("promiseDone")(t.load().then(function(a){return a.echoProtobufConsolidatedRestoreHelper(I,(a=P[0])!=null?a:c("LSVec").ofArray([]),K,(j||(j=d("I64"))).of_string(M),J,j.of_string(L),!1,A,y,void 0,c("LSVec").ofArray(Q),(k||(k=d("LSIntEnum"))).ofNumber((a=z)!=null?a:c("LSMEBTaskCreationSource").UNKNOWN),e,!0)}))}else if(O.length===0){F="echo";c("QPLUserFlow").addPoint(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_START,{instanceKey:a});f=(yield D.runInTransaction(function(a){return c("LSDecryptMessagesStoredProcedure")(c("LSFactory")(a),{actThreadId:I,encryptedMessages:c("LSVec").ofArray(N)})},"readwrite"));c("QPLUserFlow").addPoint(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_END,{instanceKey:a});H=f[0];if(H!=null){var R=c("LSVec").toArray(H).map(function(a){return d("LSShape").toRecord(a).value});c("promiseDone")(u.load().then(function(a){return D.runInTransaction(function(b){return a(b,0,(j||(j=d("I64"))).zero,c("LSVec").ofArray(R),K,j.of_string(M),J,j.of_string(L),!1,I,A,y,(k||(k=d("LSIntEnum"))).ofNumber((b=z)!=null?b:c("LSMEBTaskCreationSource").UNKNOWN),e)},"readwrite")}))}}else{F="protobuf";c("QPLUserFlow").addPoint(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_PROTOBUF_START,{instanceKey:a});var S=(yield D.runInTransaction(function(a){return c("LSDecryptMessageProtobufsStoredProcedure")(c("LSFactory")(a),{actThreadId:I,encryptedMessagesWithProtobufs:c("LSVec").ofArray(O)})},"readwrite"));c("QPLUserFlow").addPoint(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_PROTOBUF_END,{instanceKey:a});c("promiseDone")(v.load().then(function(a){return D.runInTransaction(function(b){return a(b,0,I,(b=S[0])!=null?b:c("LSVec").ofArray([]),K,(j||(j=d("I64"))).of_string(M),J,j.of_string(L),!1,A,y,void 0,c("LSVec").ofArray([]),(k||(k=d("LSIntEnum"))).ofNumber((b=z)!=null?b:c("LSMEBTaskCreationSource").UNKNOWN),e)},"readwrite")}))}c("QPLUserFlow").endSuccess(B,{annotations:{string:{restoreType:F}},instanceKey:a});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.success");return d("WAResultOrError").makeResult()}catch(b){d("WALogger").ERROR(l(),b);c("QPLUserFlow").endFailure(B,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,errorStackTrace:(C=b.stack)!=null?C:""}},error:b,instanceKey:a});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(A,!1,"gql_range_restore_exception");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("runtime-error",b)}});return y.apply(this,arguments)}g.query=x;g.messageRangeQueryWithPersistence=a}),98);
__d("EBMessageRangeQueryForIndexing",["EBAPIQPLPoints","EBAPISharedUtils","EBAPIWorkerCheck","EBMessageRangeQueryWithPersistence","I64","LSEncryptedBackupsBackupTenancy","LSEncryptedBackupsMessagesRangeQueryDirection","LSIntEnum","LSMEBTaskCreationSource","MAWCurrentUser","MAWEncryptedBackupUtils","MAWJobDefinitions","QPLUserFlow","WABase64","WAHashStringToNumber","WAJids","WALogger","WAPushSafeTypes","WAResultOrError","WorkerRelay","asyncToGeneratorRuntime","cr:7713","gkx","handleRestoreMessagesGraphQLResponse","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] graphQL range restore error ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] mandatory params of client state are null"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] No client state found - unable to restore"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Calling EBLS without EBLS being available for message range query"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] GQL point query called from non-worker context"]);n=function(){return a};return a}function a(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!d("EBAPIWorkerCheck").runningInWorker()){d("WALogger").ERROR(n());return d("WAResultOrError").makeError("called-from-main-thread")}d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql");a=d("WAPushSafeTypes").unsafeNotNullable(a);var e=a.chatJid,f=a.direction,g=a.sortOrderMs,o=a.source;a=a.traceId;var p=a!=null?d("WAHashStringToNumber").hashStringToNumber(a):void 0,q=c("qpl")._(521476367,"2704");try{var r;c("QPLUserFlow").start(q,{annotations:{bool:{mainThreadRestore:!1,rangeQueryForIndexing:!0,workerThreadRestore:!0},"int":{source:(r=o)!=null?r:c("LSMEBTaskCreationSource").UNKNOWN}},instanceKey:p});if(b("cr:7713")==null){d("WALogger").ERROR(m());c("QPLUserFlow").endFailure(q,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.EBLS_NOT_INITIALIZED,{instanceKey:p});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");return d("WAResultOrError").makeError("ebls-not-intialized")}yield b("cr:7713").init();r=(yield b("cr:7713").getLSStorage());var s=(yield d("MAWEncryptedBackupUtils").getBackupTenancy(r.tables));if(s==null||!(h||(h=d("I64"))).equal(s,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION))){c("QPLUserFlow").addPoint(q,"eb_not_enabled",{instanceKey:p});c("QPLUserFlow").endSuccess(q,{instanceKey:p});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");return d("WAResultOrError").makeError("eb-not-enabled")}s=(yield d("handleRestoreMessagesGraphQLResponse").getClientState(r));if(s==null){d("WALogger").ERROR(l());c("QPLUserFlow").endFailure(q,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE,{instanceKey:p});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");return d("WAResultOrError").makeError("no-client-state")}var t=s.device_id,u=s.locally_available_epochs,v=s.mailboxRootKey;s=s.ocmfClientStateBlob;if(t==null||v==null||s==null){d("WALogger").ERROR(k());c("QPLUserFlow").endFailure(q,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE,{instanceKey:p});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");return d("WAResultOrError").makeError("invalid-client-state")}var w=d("MAWCurrentUser").getAppID(),x=d("WAJids").threadIdForChatJid(e);f=f==="before"?c("LSEncryptedBackupsMessagesRangeQueryDirection").BEFORE:c("LSEncryptedBackupsMessagesRangeQueryDirection").AFTER;u={restore_context:{act_thread_id:d("MAWJobDefinitions").toThreadJidPrimaryId(x),site:"www",tam_thread_subtype:0},success:{device_context:{device_id:(h||(h=d("I64"))).to_float(t),locally_available_epochs:u,raw_tokens:{mailbox_root_key:d("WABase64").encodeB64(v),ocmf_client_state_blob:d("WABase64").encodeB64(s)}},direction:f,include_offset:c("gkx")("5340"),server_thread_key:x}};if(g!=null){v=u.success;u.success=babelHelpers["extends"]({},v,{reference_timestamp:g});u=babelHelpers["extends"]({},u,{success:u.success})}if(o!=null){s=u.success;u.success=babelHelpers["extends"]({},s,{source:o});u=babelHelpers["extends"]({},u,{success:u.success})}c("QPLUserFlow").addPoint(q,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_START,{instanceKey:p});v=(yield d("WorkerRelay").createWorkerQuery(d("EBMessageRangeQueryWithPersistence").query,{app_id:String((f=w)!=null?f:"0"),restore_payload_string:JSON.stringify(u),restore_type:"RANGE_QUERY_RESTORE"}));s=(yield d("EBAPISharedUtils").constructEBRestoreResponse(v,!0,q,r,p,t,x,e,o,a,g));if(s.success){d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.success");return d("WAResultOrError").makeResult(s.response)}else{d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");return d("WAResultOrError").makeError(s.response)}}catch(a){d("WALogger").ERROR(j(),a);c("QPLUserFlow").endFailure(q,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,{error:a,instanceKey:p});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");return d("WAResultOrError").makeError("runtime-error",a)}});return o.apply(this,arguments)}g.messageRangeQueryForIndexing=a}),98);
__d("EBUploadDeletedMessage",["EncryptedBackupsUploadQueue","I64","MAWUserJidWrapper","WAAsMessageApplication","WAJids","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.msgId,c=a.sender,e=a.serverTs;a=a.sortOrderMs;d("EncryptedBackupsUploadQueue").putMsgsToEbUpload([{backupDirective:{actionType:3,originalMsgProtocolId:b},messageApplication:d("WAAsMessageApplication").castToMessageApplicationBytes(new Uint8Array(0)),msgId:b,originalMsgProtocolId:b,reportingMeta:null,senderId:(h||(h=d("I64"))).of_string(d("WAJids").authorToUserId(c,d("WAJids").extractUserId(d("MAWUserJidWrapper").getMyUserJid()))),serverTs:e,sortOrderMs:a,triggerSource:"upload-deleted-message"}]);return d("WAResultOrError").makeResult()}g.uploadDeletedMessage=a}),98);
__d("EncryptedBackupsConvertToLegacyAttachmentContext",["MAWCastToMsgrServerMediaType","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["invalid "," media type for legacy attachment upload"]);h=function(){return a};return a}function a(a){var b=[];for(var c=0;c<a.length;c++){var e=a[c],f=d("MAWCastToMsgrServerMediaType").castMediaAttachmentTypeToServerMediaType(e.mediaType);f==null?d("WALogger").ERROR(h(),e.mediaType):b.push({mediaObjectId:e.mediaObjectId,mediaType:f})}return b}g["default"]=a}),98);
__d("EncryptedBackupsCastToAttachmentContextMediaType",["EncryptedBackupsUploadEntity","MAWDbMedia","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Not a valid AttachmentContextMediaType: ",""]);h=function(){return a};return a}function a(a){switch(a){case d("MAWDbMedia").MEDIA_TYPE.IMAGE:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.IMAGE;case d("MAWDbMedia").MEDIA_TYPE.VIDEO:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.VIDEO;case d("MAWDbMedia").MEDIA_TYPE.PTT:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.PTT;case d("MAWDbMedia").MEDIA_TYPE.GIF:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.GIF;case d("MAWDbMedia").MEDIA_TYPE.STICKER:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.STICKER;case d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.DOCUMENT;default:a;d("WALogger").ERROR(h(),a);return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.INVALID}}g["default"]=a}),98);
__d("EncryptedBackupsGetAttachmentContextForReceivedMsg",["EBUploadMediaPreview","EncryptedBackupsCastToAttachmentContextMediaType","EncryptedBackupsUploadEntity","WAMediaUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e=new Map();if(((b=a.decodedMsg)==null?void 0:b.unstoredDbMedia)!=null){b=(b=a.decodedMsg)==null?void 0:b.unstoredDbMedia;var f=b.mediaType;b=d("WAMediaUtils").decodeMediaEntryData(b.mediaEntry);var g=b.downloadableThumbnail;b=b.objectId;g=g==null?void 0:g.objectId;f=c("EncryptedBackupsCastToAttachmentContextMediaType")(f);b!=null&&f!=null&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(b),f);g!=null&&d("EBUploadMediaPreview").getEnableEbUploadMediaPreview()&&g!==b&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(g),d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.MESSENGER_PREVIEW)}if(((f=a.decodedMsg)==null?void 0:f.unstoredXMA)!=null){g=(b=a.decodedMsg)==null?void 0:b.unstoredXMA;if(g.unstoredFavicon!=null){f=d("WAMediaUtils").decodeMediaEntryData(g.unstoredFavicon.mediaEntry);a=f.objectId;a!=null&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(a),d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}if(g.unstoredHeaderMedia!=null){b=d("WAMediaUtils").decodeMediaEntryData(g.unstoredHeaderMedia.mediaEntry);f=b.objectId;f!=null&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(f),d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}if(g.unstoredAssociatedMedia!=null){a=d("WAMediaUtils").decodeMediaEntryData(g.unstoredAssociatedMedia.mediaEntry);b=a.objectId;b!=null&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(b),d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}g.unstoredPreviews!=null&&g.unstoredPreviews.length>0&&g.unstoredPreviews.forEach(function(a){a=a.mediaEntry;a=d("WAMediaUtils").decodeMediaEntryData(a);a=a.objectId;a!=null&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(a),d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)})}return Array.from(e.entries()).map(function(a){var b=a[0];a=a[1];return{mediaObjectId:b,mediaType:a}})}g["default"]=a}),98);
__d("MessageBackupDirectiveGenerator",["FBLogger","I64","MAWJids","MAWMsgType","MessageBackupSupplementalKeyGenerator","WAGlobals","WAJids","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){a=d("MessageBackupSupplementalKeyGenerator").createReactionSupplementalKey(a);if(a!=null)return a;throw c("FBLogger")("labyrinth_web").mustfixThrow("Failed to create reaction supplemental key")}function j(a,b){a=d("MessageBackupSupplementalKeyGenerator").createEditSupplementalKey(a,b);if(a!=null)return a;throw c("FBLogger")("labyrinth_web").mustfixThrow("Failed to create edit supplemental key")}function k(a,b){b=d("MAWJids").toUserJid((h||(h=d("I64"))).to_string(b).toString());return{actionType:2,originalMsgProtocolId:a,supplementalKey:i(b)}}function l(a,b,c){b=d("MAWJids").toUserJid((h||(h=d("I64"))).to_string(b).toString());return{actionType:2,originalMsgProtocolId:a,supplementalKey:j(b,c)}}function m(a){if(d("WAJids").isAuthorSystem(a.author))return null;if(a.reactToExternalId!=null)return{author:a.reactToAuthor===d("WAGlobals").getMyUserJid()?"@me":a.reactToAuthor,chat:a.threadJid,externalId:a.reactToExternalId};else if(a.originalMsgExternalId!=null)return{author:a.author,chat:a.threadJid,externalId:a.originalMsgExternalId};else if(a.revokedExternalId!=null)return{author:a.author,chat:a.threadJid,externalId:a.revokedExternalId};return a.externalId==null?null:{author:a.author,chat:a.threadJid,externalId:a.externalId}}function a(a){var b=(h||(h=d("I64"))).of_string(d("WAJids").authorToUserId(a.author,d("WAJids").extractUserId(d("WAGlobals").getMyUserJid()))),e=m(a);if(e==null)return null;if(a.originalMsgExternalId!=null){if(a.editTs==null){c("FBLogger")("labyrinth_web").mustfix("editTs is null for edit message during createMessageBackupDirectiveFromDbMsg");return null}return l(e,b,d("WATimeUtils").castUnixTimeToMillisTime(a.editTs))}return a.reactToExternalId!=null?k(e,b):n(e,b,a.type,null)}function n(a,b,e,f){switch(e){case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:return{actionType:1,originalMsgProtocolId:a};case d("MAWMsgType").MSG_TYPE.REACTION:return k(a,b);case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:if(f==null)throw c("FBLogger")("labyrinth_web").mustfixThrow("editTs is null for edit message during createMessageBackupDirective");return l(a,b,f);case d("MAWMsgType").MSG_TYPE.REVOKED:return{actionType:4,originalMsgProtocolId:a};case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:return{actionType:3,originalMsgProtocolId:a};default:c("FBLogger")("labyrinth_web").mustfix("Unsupported message type %s",e);return{actionType:0,originalMsgProtocolId:a}}}g.createMessageBackupDirectiveFromDbMsg=a;g.createMessageBackupDirective=n}),98);
__d("EncryptedBackupsCreateUploadMessage",["EBAPIQPLPoints","EncryptedBackupsConvertToLegacyAttachmentContext","EncryptedBackupsGetAttachmentContextForReceivedMsg","I64","LSRequestId","MAWEBSwitch","MAWEBUploadMessageUtils","MAWMsgType","MessageBackupDirectiveGenerator","QPLUserFlow","WAAsMessageApplication","WAByteArray","WAConsumerApplication.pb","WAGlobals","WAJids","WALogger","WAMsgApplication.pb","WATimeUtils","decodeProtobuf","encodeProtobuf","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] no result or failed for incoming stanza ",""]);i=function(){return a};return a}function j(a){if(a==null)return null;var b;if(a.unstoredDbReaction!=null)return d("MAWMsgType").MSG_TYPE.REACTION;else if(a.unstoredDbEditActionMsg!=null)return d("MAWMsgType").MSG_TYPE.EDIT_ACTION;else if(a.unstoredDbMedia!=null){var c;b=a.unstoredDbMedia.mediaType;c=(c=a.unstoredDbMsg)==null?void 0:c.ephemeralSetting}else if(a.unstoredXMA!=null){var e;b=d("MAWMsgType").MSG_TYPE.XMA;c=(e=(e=a.unstoredDbMsg)==null?void 0:e.ephemeralSetting)!=null?e:(e=a.unstoredXMA.unstoredAssociatedMsg)==null?void 0:e.ephemeralSetting}else if(a.unstoredDbMsg!=null)b=a.unstoredDbMsg.type,c=a.unstoredDbMsg.ephemeralSetting;else return null;return d("MAWMsgType").isEBSupportedMsgType(b)&&!(c!=null&&c.ephemeralExpirationInSec>0)?b:null}function k(a){var b,c=a.stanza.message.decrypted.id;if(((b=a.decodedMsg)==null?void 0:b.unstoredDbReaction)!=null)return{author:a.decodedMsg.unstoredDbReaction.reactToAuthor,chat:c.chat,externalId:a.decodedMsg.unstoredDbReaction.reactToExternalId};else if(((b=a.decodedMsg)==null?void 0:b.unstoredDbEditActionMsg)!=null)return{author:c.author,chat:c.chat,externalId:a.decodedMsg.unstoredDbEditActionMsg.originalMsgExternalId};return c}function l(a){var b;return d("WAAsMessageApplication").castToMessageApplicationBytes(d("encodeProtobuf").encodeProtobuf(d("WAMsgApplication.pb").MessageApplicationSpec,{metadata:a.metadata,payload:{subProtocol:(b={},b[a.subprotocolType]={payload:d("WAByteArray").uint8ArrayToBuffer(a.subprotocol),version:1},b)}}).readByteArray())}function m(a){if(a.subprotocolType!=="consumerMessage")return null;a=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAConsumerApplication.pb").ConsumerApplicationSpec,a.subprotocol);if(a==null)return null;a=(a=a.payload)==null?void 0:a.content;if(a==null)return null;a=a.editMessage;return a==null||a.timestampMs==null?null:d("WATimeUtils").castLongIntToMillisTime(a.timestampMs)}function n(a){var b=a.stanza.message.decrypted.id,e=a.stanza.message.details.ts;a=c("EncryptedBackupsGetAttachmentContextForReceivedMsg")(a);var f=c("EncryptedBackupsConvertToLegacyAttachmentContext")(a),g=[];f.length>0&&f.forEach(function(a){var f=a.mediaObjectId;a=a.mediaType;g.push({deliveryObjectId:f,mediaType:a,messageId:b.externalId,productType:"msgr",threadId:d("WAJids").threadIdForChatJid(b.chat),threadJid:b.chat,traceId:c("LSRequestId").generate(),ts:e})});return{attachmentContext:a,legacyUploadAttachmentArray:g}}function a(a,b,e){var f=j(a.decodedMsg);if(f==null){d("WALogger").WARN(i(),a.stanza.message.decrypted.id);c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UNKNOWN_MESSAGE_TYPE);return null}var g=a.stanza.message.decrypted.id,o=g.author,p=g.externalId,q=k(a),r=a.stanza.message.decrypted.msg;if((r==null?void 0:r.version)!=="v3"||r.type!=="subprotocol"){c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UKNOWN_MESSAGE_VERSION_OR_PROTOCOL);return null}var s=l(r);o=(h||(h=d("I64"))).of_string(d("WAJids").authorToUserId(o,d("WAJids").extractUserId(d("WAGlobals").getMyUserJid())));var t=a.stanza.message.details.reportingMeta,u=a.stanza.message.details.ts;a=n(a);var v=a.attachmentContext;a=a.legacyUploadAttachmentArray;v.length>0&&c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.ADDED_ATTACHMENT_CONTEXT,{data:{"int":{attachmentCount:v.length}}});a.length>0&&c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.ADDED_ATTACHMENT_CONTEXT_LEGACY,{data:{"int":{legacyAttachmentCount:a.length}}});var w=!c("MAWEBSwitch").isEnabled();r=d("MessageBackupDirectiveGenerator").createMessageBackupDirective(q,o,f,f===d("MAWMsgType").MSG_TYPE.EDIT_ACTION?m(r):null);c("QPLUserFlow").addAnnotations(c("qpl")._(521477113,"2698"),{bool:{isRetroactiveUpload:w},"int":{attachmentCount:v.length,backupDirectiveType:r.actionType,legacyAttachmentCount:a.length}});return{attachmentContext:v,backupDirective:r,dbMsgType:f,isRetroactiveUpload:w,legacyAttachmentContext:a,messageApplication:s,msgId:g,originalMsgProtocolId:q,reportingMeta:t,senderId:o,serverTs:u,sortOrderMs:(v=e)!=null?v:d("WATimeUtils").castToMillisTime(d("MAWEBUploadMessageUtils").echoOverrideMessageSortOrder({externalId:p,serverTs:u,ts:u})),triggerSource:(r=b)!=null?r:"unknown"}}g["default"]=a}),98);
__d("EBUploadReceivedMessages",["EBAPIQPLPoints","EncryptedBackupsCreateUploadMessage","EncryptedBackupsUploadQueue","QPLUserFlow","WAHashStringToNumber","WALogger","WAResultOrError","qpl","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] error generating backup directive for received message, ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] no result or failed for incoming stanza ",""]);i=function(){return a};return a}function a(a){var b=a.incomingMessages,e=a.instanceKey,f=a.msgResults;a=e!=null?d("WAHashStringToNumber").hashStringToNumber(e):d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")());e=c("qpl")._(521477113,"2698");try{c("QPLUserFlow").start(e,{annotations:{bool:{received:!0}},instanceKey:a});if(b.length===0){c("QPLUserFlow").addPoint(e,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.NO_INCOMING_MESSAGES);c("QPLUserFlow").endSuccess(e,{instanceKey:a});return d("WAResultOrError").makeResult()}var g=0,j=0,k=0,l=b.map(function(a){try{var b=a.stanza.message.decrypted.id;b=f.get(b);if(b==null||!b.success){d("WALogger").EXPECTED_ERROR(i(),a.stanza.message.decrypted.id);g++;return null}b=c("EncryptedBackupsCreateUploadMessage")(a,"upload-received-messages");b==null?g++:k++;return b}catch(a){d("WALogger").ERROR(h(),a);j++;return null}}).filter(Boolean);c("QPLUserFlow").addPoint(e,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.PROCESSED_MESSAGES,{data:{"int":{failed:g+j,invalidMessageResult:g,runtimeError:j,success:k,total:b.length}}});if(l.length===0){c("QPLUserFlow").addPoint(e,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.NO_PROCESSED_MESSAGES);c("QPLUserFlow").endSuccess(e,{instanceKey:a});return d("WAResultOrError").makeResult()}d("EncryptedBackupsUploadQueue").putMsgsToEbUpload(l);c("QPLUserFlow").endSuccess(e,{instanceKey:a});return d("WAResultOrError").makeResult()}catch(b){c("QPLUserFlow").endFailure(e,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.RUNTIME_ERROR,{instanceKey:a});return d("WAResultOrError").makeError("runtime-exception",b)}}g.uploadReceivedMessages=a}),98);
__d("MAWGetAllMediaIdsForXMAMsgApi",["MAWDbXMATxns","MAWDexieTable","MAWIndexedDb","MAWTransactionMode"],(function(a,b,c,d,e,f,g){"use strict";a=d("MAWIndexedDb").makeMsgrTransactor({xma:d("MAWTransactionMode").READONLY},"getAllMediaIdsForXMAMsg",function(a){return function(b){var c=new Map();b=b.map(function(b){return d("MAWDbXMATxns").maybeGetXMAFromProtocolMsgId(a,b).then(function(a){var d,e=(d=c.get(b))!=null?d:new Set();a!=null&&(a.faviconMediaId!=null&&e.add(a.faviconMediaId),a.headerMediaId!=null&&e.add(a.headerMediaId),a.previewMediaIds!=null&&a.previewMediaIds.forEach(function(a){return e.add(a)}));c.set(b,e)})});return d("MAWDexieTable").dexieAll(b).then(function(a){return c})}});g.getAllMediaIdsForXMAMsg=a}),98);
__d("EncryptedBackupsGetAttachmentContextForSentMsgXMA",["EBUploadMediaPreview","EncryptedBackupsUploadEntity","MAWDbMediaTxns","MAWGetAllMediaIdsForXMAMsgApi","MAWIndexedDb","MAWTransactionMode","WAMediaUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MAWIndexedDb").makeMsgrTransactor({media:d("MAWTransactionMode").READONLY},"bulkGetRetroactiveMedia",function(a){return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return d("MAWDbMediaTxns").bulkGetMedias.apply(void 0,[a].concat(c))}});function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("MAWGetAllMediaIdsForXMAMsgApi").getAllMediaIdsForXMAMsg([a]).then(function(b){b=b.get(a);return b!=null?h(Array.from(b)):[]}));return c.filter(Boolean).flatMap(function(a){var c=b.msgId!=null?a==null?void 0:a.mediaEntries.get(b.msgId):null;c=c!=null?d("WAMediaUtils").decodeMediaEntryData(c):null;var e=[];(c==null?void 0:c.objectId)!=null&&a.mediaType!=null&&e.push({mediaObjectId:c.objectId,mediaType:d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA});c=c==null?void 0:(a=c.downloadableThumbnail)==null?void 0:a.objectId;c!=null&&d("EBUploadMediaPreview").getEnableEbUploadMediaPreview()&&e.push({isPreview:!0,mediaObjectId:d("WAMediaUtils").stringToDeliveryObjectId(c),mediaType:d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.MESSENGER_PREVIEW});return e})});return i.apply(this,arguments)}g["default"]=a}),98);
__d("EncryptedBackupsGetAttachmentContextForSentMsg",["EBUploadMediaPreview","EncryptedBackupsCastToAttachmentContextMediaType","EncryptedBackupsGetAttachmentContextForSentMsgXMA","EncryptedBackupsUploadEntity","WAMediaUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.dbMsg,e=a.isXMAMsg,f=a.media;a=a.protocolMsgIdFromArgs;if(e===!0){e=(yield c("EncryptedBackupsGetAttachmentContextForSentMsgXMA")(a,b));return e.filter(Boolean)}a=[];e=b.msgId!=null?f==null?void 0:f.mediaEntries.get(b.msgId):null;b=e!=null?d("WAMediaUtils").decodeMediaEntryData(e):null;if(f==null||b==null)return[];if(b.objectId!=null&&f.mediaType!=null){a.push({mediaObjectId:b.objectId,mediaType:c("EncryptedBackupsCastToAttachmentContextMediaType")(f.mediaType)});f=(e=b.downloadableThumbnail)==null?void 0:e.objectId;f!=null&&d("EBUploadMediaPreview").getEnableEbUploadMediaPreview()&&a.push({mediaObjectId:d("WAMediaUtils").stringToDeliveryObjectId(f),mediaType:d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.MESSENGER_PREVIEW})}return a});return h.apply(this,arguments)}g["default"]=a}),98);
__d("EncryptedBackupsGetAttachmentContextForSentMsgV2",["EBUploadMediaPreview","EncryptedBackupsCastToAttachmentContextMediaType","EncryptedBackupsUploadEntity","WAMediaUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=new Map(),g=[],h=a.msgId;if(b!=null){a=h!=null?b.mediaEntries.get(h):null;a=a!=null?d("WAMediaUtils").decodeMediaEntryData(a):null;b=c("EncryptedBackupsCastToAttachmentContextMediaType")(b.mediaType);if((a==null?void 0:a.objectId)!=null&&b!=null){var i=a.objectId;f.set(i,b)}b=a==null?void 0:(i=a.downloadableThumbnail)==null?void 0:i.objectId;b!=null&&d("EBUploadMediaPreview").getEnableEbUploadMediaPreview()&&f.set(b,d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.MESSENGER_PREVIEW)}if(e!=null){if(e.favicon!=null){a=e.favicon.objectId;a!=null&&f.set(a,d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}if(e.header!=null){i=e.header.objectId;i!=null&&f.set(i,d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}e.previews!=null&&e.previews.length>0&&e.previews.forEach(function(a){a=a.mediaEntries;a=h!=null?a.get(h):null;a=a!=null?d("WAMediaUtils").decodeMediaEntryData(a):null;if((a==null?void 0:a.objectId)!=null){a=a.objectId;f.set(a,d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}})}f.forEach(function(a,b){g.push({mediaObjectId:b,mediaType:a})});return g}g["default"]=a}),98);
__d("EBUploadSentMessage",["EBAPIQPLPoints","EBEnableUnifiedAttachment","EBUnifyLegacyMediaUpload","EncryptedBackupsConvertToLegacyAttachmentContext","EncryptedBackupsGetAttachmentContextForSentMsg","EncryptedBackupsGetAttachmentContextForSentMsgV2","EncryptedBackupsUploadQueue","I64","LSRequestId","MAWEBSwitch","MAWEBUploadMessageUtils","MAWMsgType","MessageBackupDirectiveGenerator","QPLUserFlow","WAFrankingTypes","WAGenReportingMeta","WAGlobals","WAHashStringToNumber","WAJids","WALogger","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime","gkx","qpl","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg adding message "," attachments to EB upload queue"]);i=function(){return a};return a}var j=c("requireDeferred")("EBAPI").__setRef("EBUploadSentMessage");function k(a){if(a.reactToExternalId!=null)return d("MAWMsgType").MSG_TYPE.REACTION;else if(a.editMsgHistoryId!=null)return d("MAWMsgType").MSG_TYPE.EDIT_ACTION;else if(a.type==null)return null;else return d("MAWMsgType").isEBSupportedMsgType(a.type)&&!(a.ephemeralSetting!=null&&a.ephemeralSetting.ephemeralExpirationInSec>0)?a.type:null}function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.dbMsg,e=a.instanceKey,f=a.isXMAMsg;f=f===void 0?!1:f;var g=a.media,l=a.messageApplication,m=a.messageApplicationBytes,n=a.protocolMsgId,o=a.serverTs,p=a.triggerSource;p=p===void 0?"upload-sent-message":p;a=a.xmaPayload;e=e!=null?d("WAHashStringToNumber").hashStringToNumber(e):d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")());var q=c("qpl")._(521477113,"2698");try{if(d("WAJids").isAuthorSystem(b.author))return d("WAResultOrError").makeResult();c("QPLUserFlow").start(q,{annotations:{bool:{received:!1}},instanceKey:e});var r=k(b);if(r==null){c("QPLUserFlow").endFailure(q,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UNSUPPORTED_MESSAGE_TYPE,{instanceKey:e});return d("WAResultOrError").makeError("Unsupported EB upload message type")}var s=d("MessageBackupDirectiveGenerator").createMessageBackupDirectiveFromDbMsg(b);if(s==null){c("QPLUserFlow").endFailure(q,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UNABLE_TO_CREATE_BACKUP_DIRECTIVE,{instanceKey:e});return d("WAResultOrError").makeError("Unable to create backup directive")}l=l==null?void 0:l.metadata;var t=[];d("EBUnifyLegacyMediaUpload").getEnableUnifyLegacyMediaUpload()||d("EBEnableUnifiedAttachment").getEbEnableUnifiedAttachment()?t=c("EncryptedBackupsGetAttachmentContextForSentMsgV2")(b,g,a):t=(yield c("EncryptedBackupsGetAttachmentContextForSentMsg")({dbMsg:b,isXMAMsg:f,media:g,protocolMsgIdFromArgs:n}));d("WALogger").LOG(i(),(a=t)==null?void 0:a.length);f=(yield d("WAGenReportingMeta").genReportingMeta(m,(l==null?void 0:l.frankingKey)?d("WAFrankingTypes").castToFrankingKey(new Uint8Array(l==null?void 0:l.frankingKey)):null,l==null?void 0:l.frankingVersion));g=c("EncryptedBackupsConvertToLegacyAttachmentContext")(t);var u=[];g.length>0&&g.forEach(function(a){var e=a.mediaObjectId;a=a.mediaType;u.push({deliveryObjectId:e,mediaType:a,messageId:n.externalId,productType:"msgr",threadId:d("WAJids").threadIdForChatJid(n.chat),threadJid:b.threadJid,traceId:c("LSRequestId").generate(),ts:o})});t.length>0&&c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.ADDED_ATTACHMENT_CONTEXT);u.length>0&&c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.ADDED_ATTACHMENT_CONTEXT_LEGACY);a=!c("MAWEBSwitch").isEnabled();var v=d("WATimeUtils").castToMillisTime((l=b.sortOrderMs)!=null?l:d("MAWEBUploadMessageUtils").echoOverrideMessageSortOrder({externalId:n.externalId,originalTs:b.originalTs,revokedExternalId:b.revokedExternalId,serverTs:o,ts:o}));c("QPLUserFlow").addAnnotations(c("qpl")._(521477113,"2698"),{bool:{isRetroactiveUpload:a},"int":{attachmentCount:t.length,backupDirectiveType:s.actionType,legacyAttachmentCount:u.length}});d("EncryptedBackupsUploadQueue").putMsgsToEbUpload([{attachmentContext:t,backupDirective:s,dbMsgType:r,isRetroactiveUpload:a,legacyAttachmentContext:u,messageApplication:m,msgId:n,originalMsgProtocolId:s.originalMsgProtocolId.externalId!==n.externalId?s.originalMsgProtocolId:n,reportingMeta:f,senderId:(h||(h=d("I64"))).of_string(d("WAJids").authorToUserId(n.author,d("WAJids").extractUserId(d("WAGlobals").getMyUserJid()))),serverTs:o,sortOrderMs:v,triggerSource:p}]);c("gkx")("6929")&&b.type===d("MAWMsgType").MSG_TYPE.REVOKED&&b.originalMsgExternalId==null&&b.reactToExternalId==null&&(c("QPLUserFlow").addPoint(q,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UPLOAD_DELETED_MESSAGE),yield j.load().then(function(a){return a.uploadDeletedMessage({msgId:{author:n.author,chat:b.threadJid,externalId:b.revokedExternalId},sender:b.author,serverTs:(a=(a=b.originalTs)!=null?a:b.serverTs)!=null?a:b.ts,sortOrderMs:v})}));c("QPLUserFlow").endSuccess(q,{instanceKey:e});return d("WAResultOrError").makeResult()}catch(a){c("QPLUserFlow").endFailure(q,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.RUNTIME_ERROR,{instanceKey:e});return d("WAResultOrError").makeError("runtime-error",a)}});return l.apply(this,arguments)}g.uploadSentMessage=a}),98);
__d("EchoSerializationFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5722");b=d("FalcoLoggerInternal").create("echo_serialization_failure",a);e=b;g["default"]=e}),98);
__d("EchoSerializationSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5723");b=d("FalcoLoggerInternal").create("echo_serialization_success",a);e=b;g["default"]=e}),98);
__d("LsDataTraceFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743851");b=d("FalcoLoggerInternal").create("ls_data_trace",a);e=b;g["default"]=e}),98);
__d("LSDataTraceFlush",["ArmadilloDataTraceType","I64","LSDataTraceType","LSIntEnum","LsDataTraceFalcoEvent","ODS","Promise","ReQL","asyncToGeneratorRuntime","clearTimeout","gkx","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||(i=d("I64"))).of_string("120000"),m=i.of_string("600000"),n=new Set(["encrypted_backups_upload","encrypted_backups_media_backup"]);function o(a,b,c){var e=a.length;if(e===0)return[(i||(i=d("I64"))).neg_one,i.neg_one,void 0,void 0,void 0];e=a.find(function(a){return a.errorMessage!=null});e=e==null?void 0:e.errorMessage;a=a[a.length-1|0];var f=(i||(i=d("I64"))).of_float(Date.now()),g=a.timestampMs,h=i.compare(i.sub(f,c),l)>=0;return!b&&h?[(i||(i=d("I64"))).sub(f,c),a.checkPointId,g,e,"trace expired"]:[i.sub(g,c),a.checkPointId,g,e,e]}function p(a){return a.reduce(function(a,b,c){var e,f=(i||(i=d("I64"))).to_string(b.checkPointId),g=b.timestampMs;e=i.to_string((e=b.syncChannel)!=null?e:(i||(i=d("I64"))).neg_one);b=b.tags;b=b!=null?","+b:"";if(c===0)a.pointsList="".concat("(",f,",",e,b,")");else{c=String((i||(i=d("I64"))).to_int32(i.sub(g,a.lastCheckPointTimestamp)));a.pointsList=a.pointsList.concat("-",c,"-(",f,",",e,b,")")}a.lastCheckPointTimestamp=g;return a},{lastCheckPointTimestamp:(i||(i=d("I64"))).zero,pointsList:""}).pointsList}var q=i.of_string("2");function r(a){var b=a.traceType;b=(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").TASK))?"send":(i||(i=d("I64"))).equal(b,d("ArmadilloDataTraceType").armadilloMessageSend)?"armadillo send":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_UPLOAD))?"encrypted_backups_upload":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_RESTORE))?"encrypted_backups_restore":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_MEDIA_BACKUP))?"encrypted_backups_media_backup":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").SAP_VESTA_LOGIN))?"sap_vesta_login":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").SAP_VESTA_REGISTRATION))?"sap_vesta_registration":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_MEDIA_RESTORE))?"encrypted_backups_media_restore":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_INIT))?"shadow_encrypted_backups_init":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE))?"shadow_encrypted_backups_add_device":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_UPLOAD))?"shadow_encrypted_backups_upload":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_RESTORE))?"shadow_encrypted_backups_restore":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP))?"shadow_encrypted_backups_delete_backup":a.contextTwo;return b}function s(a,b){var e=b.traceId,f=b.shouldFlush,g=r(b),h=b.traceType,j=(i||(i=d("I64"))).equal(h,d("ArmadilloDataTraceType").armadilloMessageSend)?"tam_message_send":b.contextOne,k=(i||(i=d("I64"))).equal(b.traceType,q)?void 0:b.predefinedId,l=b.initTimestampMs;return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_addon.index("traceIdAddonId")).getKeyRange(e)).then(function(a){var b=o(a,f,l),h=b[0],m=b[1],n=b[3],q=b[4],r=a.length,s=p(a);c("LsDataTraceFalcoEvent").log(function(){var a;return{check_point_count:(i||(i=d("I64"))).to_string(i.of_int32(r)),check_point_list:s,client_event_ts:i.to_string(i.of_float(Date.now())),cold_start_time:void 0,data_trace_id:e,database_id:j,delivered_messages:void 0,error_message:q,first_error_message:n,has_backgrounded:!1,last_check_point:i.to_string(m),latency:i.to_string(h),media_type:void 0,num_of_attachments:void 0,persisted_metadata:void 0,predefined_id:k,sent_rich_media_messages:void 0,sent_text_messages:void 0,start_time:i.to_string(l),trace_flow:(a=g)!=null?a:""}})}).then(function(){return a.data_trace_meta["delete"](e)})}function a(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.data_trace_meta).getKeyRange(c)).then(function(c){if(c!=null)return s(a,c);else return(h||(h=b("Promise"))).resolve()})}var t={contents:void 0};function u(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta.index("shouldFlushInitTimestampMsTraceId")).getKeyRange(!1).bounds({lt:d("ReQL").key((i||(i=d("I64"))).sub(i.of_float(Date.now()),l))})).then(function(a){if(c("gkx")("23914")){var b=(i||(i=d("I64"))).of_float(Date.now());return a.filter(function(a){var c=r(a);if(c!=null&&n.has(c)){c=(i||(i=d("I64"))).compare(i.sub(b,a.initTimestampMs),m)>=0;return c}return!0})}return a})}function v(a){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield u(a.tables));if(c.length===0)return;return a.runInTransaction(function(a){return u(a).then(function(c){return(h||(h=b("Promise"))).all(c.map(function(b){return s(a,b)}))})},"readwrite",void 0,void 0,f.id+":312")});return w.apply(this,arguments)}function x(){var a=t.contents;if(a!=null){c("clearTimeout")(a);return}}function y(a){c("promiseDone")(v(a),function(){x();var b=c("setTimeout")(function(){y(a)},6e4);t.contents=b},function(){x(),(j||(j=d("ODS"))).bumpEntityKey(3185,"mw_trace","error")});return x}e=a;a=y;e={flush:e,flushExpiredDataTraces:a};g["default"]=e}),98);
__d("LogWebQplNOP",["I64","LSIntEnum","Promise","QPLUserFlow","WAHashStringToNumber","WALogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["LSLogWebQpl error: ",""]);k=function(){return a};return a}function l(a){a=a==null?null:(j||(j=d("I64"))).to_int32(a);switch(a){case 521476165:return c("qpl")._(521476165,"2432");case 521481602:return c("qpl")._(521481602,"829");default:return null}}function a(a,e,f,g,m,n){return new(h||(h=b("Promise")))(function(b,h){try{h=m?(i||(i=d("LSIntEnum"))).unwrapIntEnum(m):null;var o=l(e);if(o!=null&&f!=null){h={"int":{num_messages:(j||(j=d("I64"))).to_int32(g)},string:{message_count:String(g),taskSource:(h=h==null?void 0:h.toString())!=null?h:"unknown"}};n===!0?c("QPLUserFlow").endSuccess(o,{annotations:h,instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)}):n===!1?c("QPLUserFlow").endFailure(o,f,{annotations:h,instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)}):(c("QPLUserFlow").addAnnotations(o,h,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)}),c("QPLUserFlow").addPoint(o,f,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)}))}b()}catch(a){d("WALogger").ERROR(k(),a),b()}})}g.call=a}),98);
__d("MAWBridgeTraceRecordCheckpointHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSFlushDataTrace.nop"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=b.checkPointId,f=b.dataTraceId,g=b.errorMessage,i=b.tags;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:e,dataTraceId:f,errorMessage:g,syncChannel:(h||(h=d("I64"))).neg_one,tags:i}).then(function(){if(b.shouldFlush)return c("LSFlushDataTrace.nop")(a,0,f)})}g.call=a}),98);
__d("MAWRestoreMessagesFromEncryptedBackupsNOP",["ExecutionEnvironment","I64","LSDataTraceCheckPoint","LSIntEnum","LSMEBTaskCreationSource","MAWAsyncEBPendingQueryPromise","MAWBridgeTraceRecordCheckpointHandler","MAWBridgeUpdateClientRestoreStatus","MAWChatJid","MAWEBRestoreTrackingUtils","MAWEncryptedBackupsUpdateGlobalRestoreStatus","MAWJobDefinitions","MAWJobManager","MAWMediaGalleryM2Utils","MAWOfflineQueueStatus","MAWTimedJob","MAWUpdateClientRestoreStatusOperationType","Promise","ReQL","WAJobOrchestratorTypes","WALoggerDeferred","WATagsLogger","asyncToGeneratorRuntime","cr:4992","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Failed to restore messages for thread "," with error: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Calling worker job for thread "," StartSortKey: "," messagesCount: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Calling prefetch for thread ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Failed to get thread key for "," when calling restoreMessagesFromEncryptedBackup"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][","] Received echo documents for thread: "," startSortKey: "," messagesCount: ",""]);p=function(){return a};return a}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){try{c=(yield d("MAWChatJid").toThreadKeyMaybeForChatJidInteger(a,(k||(k=d("I64"))).of_string(c)));if(c!=null){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages_ranges_v2__generated).getKeyRange(c)));if(a!=null)return a.minMessageId}}catch(a){return(i||(i=b("Promise"))).reject(a)}return});return r.apply(this,arguments)}function s(a,b,c){if(b===0)return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table)).then(function(a){a.forEach(function(a){a=d("MAWJobDefinitions").toThreadJidPrimaryId((k||(k=d("I64"))).to_string(a.jid));d("MAWEncryptedBackupsUpdateGlobalRestoreStatus").addThreadIdToStatusArray(a,"restore");c&&d("MAWEncryptedBackupsUpdateGlobalRestoreStatus").addThreadIdToStatusArray(a,"ebprefetch")})})}function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,r,t,v,w,x,y,z,A,B,C){B===void 0&&(B=d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);d("WATagsLogger").TAGS(["labyrinth_web","eb_restore",(C=x)!=null?C:""]).LOG(p(),(C=x)!=null?C:"",f,y,g.length);C=(yield d("MAWChatJid").toThreadKeyMaybeForChatJidInteger(a,(k||(k=d("I64"))).of_string(f)));C==null&&void d("WALoggerDeferred").ERROR(o(),f);C=!d("MAWOfflineQueueStatus").isOfflineQueueComplete()&&b("cr:4992")!=null&&y==null&&f!=null;var D=d("MAWEncryptedBackupsUpdateGlobalRestoreStatus").getCurrentGlobalRestoreStatusArrayLength("restore");yield s(a,D,C);try{D=(yield q(a,f));if(C&&b("cr:4992")!=null){d("WATagsLogger").TAGS(["labyrinth_web","eb_prefetch",(C=x)!=null?C:""]).LOG(n(),f);d("MAWEBRestoreTrackingUtils").markEBRestoreFrontloaded(z,x);C={action:d("MAWUpdateClientRestoreStatusOperationType").upsertClientRestoreStatus,threadId:f};yield d("MAWBridgeUpdateClientRestoreStatus").call(a,C);yield b("cr:4992")(a,e,f,g,h,r,t,v,w,x,y,D,z,A,B)}else{d("WATagsLogger").TAGS(["labyrinth_web","eb_restore",(C=x)!=null?C:""]).LOG(m(),f,y,g.length);return u(e,f,g,D,h,t,w,x,y,z,A,B).then(function(){x!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"native_op_end",traceId:x,type:"echo"})})}}catch(e){d("WATagsLogger").TAGS(["labyrinth_web","eb_restore",(r=x)!=null?r:""]).ERROR(l(),f,e);return x!=null?d("MAWBridgeTraceRecordCheckpointHandler").call(a,{checkPointId:(j||(j=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE),dataTraceId:x,errorMessage:e,shouldFlush:!0,syncChannel:-1,tags:void 0}).then(function(){return(i||(i=b("Promise"))).reject(e)}):(i||(i=b("Promise"))).reject(e)}});return t.apply(this,arguments)}function u(a,e,f,g,j,k,l,m,n,o,p,q){var r=(h||(h=c("ExecutionEnvironment"))).isInWorker?d("MAWJobManager").getJobManager():d("MAWTimedJob").TimedUIJobStarters;if(m!=null&&o===c("LSMEBTaskCreationSource").MESSENGER_MESSAGE_LIST_PAGINATION){var s;return r.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.restoreMessagesFromEncryptedBackups(a,e,f,j,k,l,(s=g)!=null?s:void 0,(s=m)!=null?s:void 0,(s=n)!=null?s:void 0,void 0,void 0,o,{priority:q},p)).then(function(a){if(a.success===!0)d("MAWAsyncEBPendingQueryPromise").resolvePendingQueryUponReStore(m);else{var b;d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(m,(b=a.payload)!=null?b:c("err")(a.error))}})}if(o===c("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE&&d("MAWMediaGalleryM2Utils").shouldSkipSyncToLSDB()){return r.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.restoreMessagesFromEncryptedBackups(a,e,f,j,k,l,(s=g)!=null?s:void 0,(q=m)!=null?q:void 0,(s=n)!=null?s:void 0,void 0,void 0,o,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},p)).then(function(){return(i||(i=b("Promise"))).resolve()})}return(i||(i=b("Promise"))).resolve(r.fireAndForget(d("MAWJobDefinitions").jobSerializers.restoreMessagesFromEncryptedBackups(a,e,f,j,k,l,(q=g)!=null?q:void 0,(s=m)!=null?s:void 0,(r=n)!=null?r:void 0,void 0,void 0,o,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},p)))}g.call=a}),98);
__d("MAWRestoreProtobufsFromEncryptedBackupsNOP",["ExecutionEnvironment","I64","LSDataTraceCheckPoint","LSIntEnum","LSMEBTaskCreationSource","MAWAsyncEBPendingQueryPromise","MAWBridgeTraceRecordCheckpointHandler","MAWChatJid","MAWEncryptedBackupUtils","MAWJobDefinitions","MAWJobManager","MAWMediaGalleryM2Utils","MAWTimedJob","Promise","Random","ReQL","WAJobOrchestratorTypes","WALoggerDeferred","asyncToGeneratorRuntime","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Failed to get thread key for "," when calling restoreProtobufsFromEncryptedBackups"]);l=function(){return a};return a}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){try{c=(yield d("MAWChatJid").toThreadKeyMaybeForChatJidInteger(a,(k||(k=d("I64"))).of_string(c)));if(c!=null){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages_ranges_v2__generated).getKeyRange(c)));if(a!=null)return a.minMessageId}}catch(a){return(i||(i=b("Promise"))).reject(a)}return});return n.apply(this,arguments)}function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,p,q){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,n,o,q,r,s,t,u,v,w,x,y){x===void 0&&(x=d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);try{var z=(yield m(a,f));n=(yield d("MAWChatJid").toThreadKeyMaybeForChatJidInteger(a,(k||(k=d("I64"))).of_string(f)));n==null&&void d("WALoggerDeferred").ERROR(l(),f);q=t!=null?Number(t):void 0;u=c("gkx")("8531");n=u?c("justknobx")._("2620"):0;u=d("Random").coinflip(n);n=u?d("MAWEncryptedBackupUtils").getMessageMetadataFromDeanonAPI(f,g.length,q):(i||(i=b("Promise"))).resolve();return n.then(function(a){return p(e,f,v,g,z,h,o,r,s,t,w==null?void 0:w,a,x,y)})}catch(e){if(s!=null)return d("MAWBridgeTraceRecordCheckpointHandler").call(a,{checkPointId:(j||(j=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE),dataTraceId:s,errorMessage:e,shouldFlush:!0,syncChannel:-1,tags:void 0}).then(function(){return(i||(i=b("Promise"))).reject(e)})}return(i||(i=b("Promise"))).resolve()});return o.apply(this,arguments)}function p(a,e,f,g,l,m,n,o,p,q,r,s,t,u){t===void 0&&(t=d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);var v=(h||(h=c("ExecutionEnvironment"))).isInWorker?d("MAWJobManager").getJobManager():d("MAWTimedJob").TimedUIJobStarters;if(p!=null&&r!=null&&(j||(j=d("LSIntEnum"))).unwrapIntEnum(r)===c("LSMEBTaskCreationSource").MESSENGER_MESSAGE_LIST_PAGINATION){var w;return d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(f,a,e,g,m,n,o,(w=l)!=null?w:void 0,(w=p)!=null?w:void 0,(w=q)!=null?w:void 0,void 0,{priority:t},r,s,void 0,(w=u)!=null?w:void 0)).then(function(){d("MAWAsyncEBPendingQueryPromise").resolvePendingQueryUponReStore(p)})}if((j||(j=d("LSIntEnum"))).unwrapIntEnum(r||(k||(k=d("I64"))).zero)===c("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE&&d("MAWMediaGalleryM2Utils").shouldSkipSyncToLSDB()){return d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(f,a,e,g,m,n,o,(t=l)!=null?t:void 0,(w=p)!=null?w:void 0,(t=q)!=null?t:void 0,void 0,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},r,s,void 0,(w=u)!=null?w:void 0))}return(i||(i=b("Promise"))).resolve(v.fireAndForget(d("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(f,a,e,g,m,n,o,(t=l)!=null?t:void 0,(w=p)!=null?w:void 0,(v=q)!=null?v:void 0,void 0,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},r,s,void 0,(f=u)!=null?f:void 0)))}g.call=a}),98);
__d("X25519",["$InternalEnum","Promise","WACryptoCurve25519Dependencies","WASignalKeys","WASignalOther","WASignalSignatures"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum").Mirrored(["Encryption","Signing"]),j=b("$InternalEnum")({PublicKey:0,PrivateKey:1,Signature:2});function k(a,b){if(b===i.Encryption)return[];b=1;switch(a){case j.PublicKey:b=1;break;case j.PrivateKey:b=2;break;case j.Signature:b=3;break}return[255,b]}function l(a,b,c){b=k(b,c);c=b.length;if(c<=0)return a;var d=new Uint8Array(c+a.byteLength);d.set(Array.from(b));d.set(a,c);return d}function m(a,b,c){b=k(b,c).length;return a.slice(b)}function n(a,b){return{privateKey:l(a.privateKey,j.PrivateKey,b),publicKey:l(a.publicKey,j.PublicKey,b)}}function a(a){a=n(d("WASignalKeys").makeKeyPair(),a);return{pk:a.publicKey,sk:a.privateKey}}function o(a,b){if(b===i.Encryption)return 32;switch(a){case j.PublicKey:case j.PrivateKey:return 32;case j.Signature:return 64}}function p(a,b,c){var d=k(b,c),e=d.length;b=o(b,c);c=b!=null?e+b:0;if(a.length!==c)return!1;var f=a.subarray(0,e);b=new Uint8Array(d);return b.length===f.length&&b.every(function(a,b){return a===f[b]})}function q(a,b){if(p(a,j.PublicKey,b))return a;return}function r(a,b){if(p(a,j.PrivateKey,b))return a;return}function c(a,b){var c=q(a.pkBytes,b);a=r(a.skBytes,b);if(c!=null&&a!=null)return{pk:c,sk:a}}function e(a,c){a=m(a,j.PrivateKey,i.Signing);return d("WASignalSignatures").signMsg(d("WASignalKeys").makeKeyPairFrom(d("WASignalOther").ensureSize(a,32)),c).then(function(a){a=l(a,j.Signature,i.Signing);return(h||(h=b("Promise"))).resolve(a)})}function f(a){if(p(a,j.Signature,i.Signing))return a}function s(a,b,c){b=m(b,j.PublicKey,i.Signing);return d("WASignalSignatures").verifyMsgSignalVariant(d("WASignalKeys").serializeIdentity(b),c,d("WASignalOther").ensureSize(m(a,j.Signature,i.Signing),64))}function t(a,c){c=c;a=a;return!p(a,j.PublicKey,i.Encryption)||!p(c,j.PrivateKey,i.Encryption)?(h||(h=b("Promise"))).resolve():d("WACryptoCurve25519Dependencies").calculateAgreement(a,c).then(function(a){return(h||(h=b("Promise"))).resolve(new Uint8Array(a))})}g.KeyPurpose=i;g.generateKeys=a;g.publicKeyFromBytes=q;g.secretKeyFromBytes=r;g.keysFromBytes=c;g.sign=e;g.signatureFromBytes=f;g.verify=s;g.exchangeKeys=t}),98);
__d("PublicKeyCrypto",["Promise","UInt8Array","X25519"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,c){return(h||(h=b("Promise"))).all([a,c]).then(function(a){return(h||(h=b("Promise"))).resolve(a[0]!=null&&a[1]!=null?d("UInt8Array").concatBytes([a[0],a[1]]):void 0)})}function a(a,b,c){return i(d("X25519").exchangeKeys(c,a),d("X25519").exchangeKeys(c,b))}function c(a,b,c){return i(d("X25519").exchangeKeys(c,a),d("X25519").exchangeKeys(b,a))}g.senderDeriveSharedSecret=a;g.receiverDeriveSharedSecret=c}),98);
/**
 * License: https://www.facebook.com/legal/license/ZMc_bSwzLKC/
 */
__d("ristretto255-0.1.1",["tweetnacl-1.0.3"],(function(a,b,c,d,e,f,g){var h=c("tweetnacl-1.0.3")();Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:function(a,b){return new Uint8Array(Array.prototype.slice.call(this,a,b))}});c={};var i=h.lowlevel,j=i.gf([1]);function k(){return[i.gf(),i.gf(),i.gf(),i.gf()]}var l=new Uint8Array([226,242,174,10,106,188,78,113,168,132,169,97,197,0,81,95,88,227,11,106,165,130,221,141,182,166,89,69,224,141,45,118]),m=new Float64Array([235,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function n(a,b,c){var d=new Float64Array(64);for(var e=0;e<32;e++)for(var f=0;f<32;f++)d[e+f]+=b[e]*c[f];i.modL(a,d)}function o(a,b){n(a,b,b)}function p(a,b){for(var c=0;c<32;c++)a[c]=b[c];for(c=251;c>=0;c--)o(a,a),(m[c>>3]>>(c&7)&1)!==0&&n(a,a,b)}var q=i.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),r=i.gf([11803,18811,63136,32407,21693,7032,36364,44957,53757,12789,64713,3900,18604,11139,12735,14185]),s=i.gf([16618,32861,64938,39368,29374,23105,5655,40239,55360,65025,31633,5826,64674,53167,35077,30828]),t=i.gf([49526,37983,2497,57980,13583,52574,41272,11393,57316,48752,43997,39316,57559,45747,29352,656]),u=i.gf([19744,17645,23210,12717,6553,45086,18988,53918,20203,21147,54063,19676,8769,63084,45946,22888]);function v(a){var b=new Uint8Array(32);i.pack25519(b,a);a=1;for(var c=0;c<32;c++)a&=b[c]===0;return a}function w(a,b,c){var d;c=-c;for(var e=0;e<16;e++)d=a[e]^b[e],d&=c,a[e]^=d}function x(a){var b=new Uint8Array(32);i.pack25519(b,a);return b[0]&1}function y(a,b){i.Z(a,i.gf(),b)}function z(a,b,c){var d=i.gf();y(d,b);i.set25519(a,b);w(a,d,c)}function A(a,b){z(a,b,x(b))}function B(a,b,c){var d=i.gf(),e=i.gf(),f=i.gf(),g=i.gf(),h=i.gf(),j=i.gf();i.S(d,c);i.M(d,d,c);i.S(a,d);i.M(a,a,c);i.M(a,a,b);i.pow2523(a,a);i.M(a,a,d);i.M(a,a,b);i.S(e,a);i.M(e,e,c);i.Z(f,e,b);i.A(g,e,b);i.M(h,b,q);i.A(h,e,h);d=v(f);c=v(g);b=v(h);i.M(j,a,q);w(a,j,c|b);A(a,a);return d|c}function C(a){var b=i.gf(),c=i.gf(),d=i.gf(),e=i.gf(),f=i.gf(),g=i.gf(),h=i.gf(),k=i.gf(),l=i.gf(),m=i.gf(),n=i.gf(),o=i.gf(),p=i.gf(),r=i.gf(),t=i.gf(),u=i.gf(),v=i.gf(),y=0,C=new Uint8Array(32);i.A(m,a[2],a[1]);i.Z(v,a[2],a[1]);i.M(m,m,v);i.M(n,a[0],a[1]);i.S(o,n);i.M(o,m,o);B(f,j,o);i.M(b,f,m);i.M(c,f,n);i.M(u,b,c);i.M(u,u,a[3]);i.M(g,a[0],q);i.M(h,a[1],q);i.M(e,b,s);i.M(l,a[3],u);y=x(l);p=i.gf(a[0]);r=i.gf(a[1]);d=i.gf(c);w(p,h,y);w(r,g,y);w(d,e,y);i.M(t,p,u);z(r,r,x(t));i.Z(k,a[2],r);i.M(k,d,k);A(k,k);i.pack25519(C,k);return C}function D(a){var b=a[31]&127^127;for(var c=30;c>0;c--)b|=a[c]^255;b=(b|0>>>0)-1>>8;c=237-1-(a[0]|0>>>0)>>8;return 1-((b&c|a[0])&1|(a[31]&255)>>7)}function E(a,b){var c=i.gf(),d=i.gf(),e=i.gf(),f=i.gf(),g=i.gf(),h=i.gf(),k=i.gf(),l=i.gf(),m=i.gf(),n=i.gf();if(D(b)===0)return-1;i.unpack25519(e,b);i.S(f,e);i.set25519(g,j);i.Z(g,g,f);i.S(k,g);i.set25519(h,j);i.A(h,h,f);i.S(l,h);i.M(m,i.D,k);y(m,m);i.Z(m,m,l);i.M(n,m,l);i.set25519(d,j);b=B(c,d,n);i.M(a[0],c,h);i.M(a[1],c,a[0]);i.M(a[1],a[1],m);i.M(a[0],a[0],e);i.A(a[0],a[0],a[0]);A(a[0],a[0]);i.M(a[1],g,a[1]);i.set25519(a[2],j);i.M(a[3],a[0],a[1]);return-(1-b|x(a[3])|v(a[1]))}function F(a,b){var c=i.gf(),d=i.gf(),e=i.gf(),f=i.gf(),g=i.gf(),h=i.gf(),k=i.gf(),l=i.gf(),m=i.gf(),n=i.gf(),o=i.gf(),p=i.gf(),s=i.gf(),v=i.gf();i.set25519(e,j);i.S(f,b);i.M(f,q,f);i.A(m,f,e);i.M(m,m,t);i.set25519(c,j);y(c,c);i.A(g,f,i.D);i.M(n,f,i.D);i.Z(n,c,n);i.M(n,n,g);g=1-B(h,m,n);i.M(k,h,b);A(k,k);y(k,k);w(h,k,g);w(c,f,g);i.Z(d,f,e);i.M(d,d,c);i.M(d,d,u);i.Z(d,d,n);i.A(o,h,h);i.M(o,o,n);i.M(p,d,r);i.S(l,h);i.Z(s,e,l);i.A(v,e,l);i.M(a[0],o,v);i.M(a[1],s,p);i.M(a[2],p,v);i.M(a[3],o,s)}function G(a){var b=i.gf(),c=i.gf(),d=k(),e=k();i.unpack25519(b,a.slice(0,32));i.unpack25519(c,a.slice(32,64));F(d,b);F(e,c);i.add(d,e);return d}function a(a){var b=k();i.scalarbase(b,a);return C(b)}function b(a,b){var c=k(),d=k();if(E(c,b)!==0)throw new Error("Invalid argument");i.scalarmult(d,c,a);return C(d)}function d(a){var b=k();return E(b,a)===-1?!1:!0}function H(a,b){var c=k(),d=k();if(E(c,a)===-1)throw new Error("Invalid argument");if(E(d,b)===-1)throw new Error("Invalid argument");return[c,d]}function e(a,b){a=H(a,b);b=a[0];a=a[1];i.add(b,a);return C(b)}function I(a,b){var c=i.gf();y(c,b[3]);var d=i.gf();y(d,b[0]);d=[d,b[1],b[2],c];i.add(a,d)}function g(a,b){a=H(a,b);b=a[0];a=a[1];I(b,a);return C(b)}function J(){var a=h.randomBytes(64);return G(a)}function K(a){return C(G(a))}function L(){return C(J())}function M(){var a;new Uint8Array(32);var b=0;do{a=h.randomBytes(32);a[31]&=31;var c=32,d=1;do c--,b|=a[c]-i.L[c]>>8&d,d&=(a[c]^i.L[c])-1>>8;while(c!==0)}while(b===0);return a}function N(a){var b=new Uint8Array(32);p(b,a);return b}function O(a){var b=new Float64Array(64);for(var c=0;c<32;c++)b[c]=-a[c];c=new Uint8Array(32);i.modL(c,b);return c}function P(a,b){var c=new Float64Array(64);for(var d=0;d<32;d++)c[d]=a[d]+b[d];d=new Uint8Array(32);i.modL(d,c);return d}function Q(a,b){return P(a,O(b))}function R(a,b){var c=new Uint8Array(32);n(c,a,b);return c}c.scalarMultBase=a;c.scalarMult=b;c.isValid=d;c.add=e;c.sub=g;c.fromHash=K;c.getRandom=L;c.basePoint=l;c.scalar={};c.scalar.getRandom=M;c.scalar.invert=N;c.scalar.negate=O;c.scalar.add=P;c.scalar.sub=Q;c.scalar.mul=R;c.unsafe={};c.unsafe.point={};c.unsafe.point.toBytes=C;c.unsafe.point.fromBytes=E;c.unsafe.point.fromHash=G;c.unsafe.point.sub=I;c.unsafe.point.add=i.add;c.unsafe.point.scalarMultBase=i.scalarbase;c.unsafe.point.scalarMult=i.scalarmult;c.unsafe.point.getRandom=J;c.unsafe.point.alloc=k;c.unsafe.constants={};c.unsafe.constants.LSub2=m;c.unsafe.constants.sqrtm1=q;c.unsafe.constants.sqrtadm1=r;c.unsafe.constants.invsqrtamd=s;c.unsafe.constants.onemsqd=t;c.unsafe.constants.sqdmone=u;f.exports=c}),34);
__d("ristretto255",["ristretto255-0.1.1"],(function(a,b,c,d,e,f){e.exports=b("ristretto255-0.1.1")}),null);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/yKsQCAUqcFZ/
 */
__d("dexie-4.0.1",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():(b=typeof globalThis!=="undefined"?globalThis:b||self,b.Dexie=c())})(this,function(){var b=function(a,c){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return b(a,c)};function c(a,c){if(typeof c!=="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");b(a,c);function d(){this.constructor=a}a.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d())}var d=function(){d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return d.apply(this,arguments)};function e(a,b,c){if(c||arguments.length===2)for(var d=0,e=b.length,f;d<e;d++)(f||!(d in b))&&(f||(f=Array.prototype.slice.call(b,0,d)),f[d]=b[d]);return a.concat(f||Array.prototype.slice.call(b))}var f=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:typeof window!=="undefined"?window:a,g=Object.keys,h=Array.isArray;typeof Promise!=="undefined"&&!f.Promise&&(f.Promise=Promise);function i(a,b){if(typeof b!=="object")return a;g(b).forEach(function(c){a[c]=b[c]});return a}var j=Object.getPrototypeOf,k={}.hasOwnProperty;function l(a,b){return k.call(a,b)}function m(a,b){typeof b==="function"&&(b=b(j(a))),(typeof Reflect==="undefined"?g:Reflect.ownKeys)(b).forEach(function(c){o(a,c,b[c])})}var n=Object.defineProperty;function o(a,b,c,d){n(a,b,i(c&&l(c,"get")&&typeof c.get==="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},d))}function p(a){return{from:function(b){a.prototype=Object.create(b.prototype);o(a.prototype,"constructor",a);return{extend:m.bind(null,a.prototype)}}}}var q=Object.getOwnPropertyDescriptor;function r(a,b){var c=q(a,b);return c||(c=j(a))&&r(c,b)}var s=[].slice;function t(a,b,c){return s.call(a,b,c)}function u(a,b){return b(a)}function v(a){if(!a)throw new Error("Assertion Failed")}function aa(a){f.setImmediate?setImmediate(a):setTimeout(a,0)}function ba(a,b){return a.reduce(function(a,c,d){c=b(c,d);c&&(a[c[0]]=c[1]);return a},{})}function w(a,b){if(typeof b==="string"&&l(a,b))return a[b];if(!b)return a;if(typeof b!=="string"){var c=[];for(var d=0,e=b.length;d<e;++d){var f=w(a,b[d]);c.push(f)}return c}f=b.indexOf(".");if(f!==-1){d=a[b.substr(0,f)];return d==null?void 0:w(d,b.substr(f+1))}return void 0}function x(a,b,c){if(!a||b===void 0)return;if("isFrozen"in Object&&Object.isFrozen(a))return;if(typeof b!=="string"&&"length"in b){v(typeof c!=="string"&&"length"in c);for(var d=0,e=b.length;d<e;++d)x(a,b[d],c[d])}else{d=b.indexOf(".");if(d!==-1){e=b.substr(0,d);d=b.substr(d+1);if(d==="")c===void 0?h(a)&&!isNaN(parseInt(e))?a.splice(e,1):delete a[e]:a[e]=c;else{var f=a[e];(!f||!l(a,e))&&(f=a[e]={});x(f,d,c)}}else c===void 0?h(a)&&!isNaN(parseInt(b))?a.splice(b,1):delete a[b]:a[b]=c}}function ca(a,b){typeof b==="string"?x(a,b,void 0):"length"in b&&[].map.call(b,function(b){x(a,b,void 0)})}function da(a){var b={};for(var c in a)l(a,c)&&(b[c]=a[c]);return b}var ea=[].concat;function fa(a){return ea.apply([],a)}var y="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(fa([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(b){return b+a+"Array"})}))).filter(function(a){return f[a]}),ga=new Set(y.map(function(a){return f[a]}));function ha(a){var b={};for(var c in a)if(l(a,c)){var d=a[c];b[c]=!d||typeof d!=="object"||ga.has(d.constructor)?d:ha(d)}return b}function ia(a){for(var b in a)if(l(a,b))return!1;return!0}var ja=null;function z(a){ja=new WeakMap();a=ka(a);ja=null;return a}function ka(a){if(!a||typeof a!=="object")return a;var b=ja.get(a);if(b)return b;if(h(a)){b=[];ja.set(a,b);for(var c=0,d=a.length;c<d;++c)b.push(ka(a[c]))}else if(ga.has(a.constructor))b=a;else{c=j(a);b=c===Object.prototype?{}:Object.create(c);ja.set(a,b);for(d in a)l(a,d)&&(b[d]=ka(a[d]))}return b}var la={}.toString;function ma(a){return la.call(a).slice(8,-1)}var na=typeof Symbol!=="undefined"?Symbol.iterator:"@@iterator",oa=typeof na==="symbol"?function(a){var b;return a!=null&&(b=a[na])&&b.apply(a)}:function(){return null};function A(a,b){b=a.indexOf(b);b>=0&&a.splice(b,1);return b>=0}var pa={};function B(a){var b,c,d,e;if(arguments.length===1){if(h(a))return a.slice();if(this===pa&&typeof a==="string")return[a];if(e=oa(a)){c=[];while(d=e.next(),!d.done)c.push(d.value);return c}if(a==null)return[a];b=a.length;if(typeof b==="number"){c=new Array(b);while(b--)c[b]=a[b];return c}return[a]}b=arguments.length;c=new Array(b);while(b--)c[b]=arguments[b];return c}var qa=typeof Symbol!=="undefined"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1};y=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"];var C=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"];y=y.concat(C);var ra={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function sa(a,b){this.name=a,this.message=b}p(sa).from(Error).extend({toString:function(){return this.name+": "+this.message}});function ta(a,b){return a+". Errors: "+Object.keys(b).map(function(a){return b[a].toString()}).filter(function(a,b,c){return c.indexOf(a)===b}).join("\n")}function ua(a,b,c,d){this.failures=b,this.failedKeys=d,this.successCount=c,this.message=ta(a,b)}p(ua).from(sa);function va(a,b){this.name="BulkError",this.failures=Object.keys(b).map(function(a){return b[a]}),this.failuresByPos=b,this.message=ta(a,this.failures)}p(va).from(sa);var wa=y.reduce(function(a,b){return a[b]=b+"Error",a},{}),xa=sa,D=y.reduce(function(b,c){var d=c+"Error";function a(a,b){this.name=d,!a?(this.message=ra[c]||d,this.inner=null):typeof a==="string"?(this.message="".concat(a).concat(b?"\n "+b:""),this.inner=b||null):typeof a==="object"&&(this.message="".concat(a.name," ").concat(a.message),this.inner=a)}p(a).from(xa);b[c]=a;return b},{});D.Syntax=SyntaxError;D.Type=TypeError;D.Range=RangeError;var ya=C.reduce(function(a,b){a[b+"Error"]=D[b];return a},{});function za(a,b){if(!a||a instanceof sa||a instanceof TypeError||a instanceof SyntaxError||!a.name||!ya[a.name])return a;b=new ya[a.name](b||a.message,a);"stack"in a&&o(b,"stack",{get:function(){return this.inner.stack}});return b}C=y.reduce(function(a,b){["Syntax","Type","Range"].indexOf(b)===-1&&(a[b+"Error"]=D[b]);return a},{});C.ModifyError=ua;C.DexieError=sa;C.BulkError=va;function E(){}function Aa(a){return a}function Ba(a,b){return a==null||a===Aa?b:function(c){return b(a(c))}}function F(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function Ca(a,b){return a===E?b:function(){var c=a.apply(this,arguments);c!==void 0&&(arguments[0]=c);var d=this.onsuccess,e=this.onerror;this.onsuccess=null;this.onerror=null;var f=b.apply(this,arguments);d&&(this.onsuccess=this.onsuccess?F(d,this.onsuccess):d);e&&(this.onerror=this.onerror?F(e,this.onerror):e);return f!==void 0?f:c}}function Da(a,b){return a===E?b:function(){a.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null;b.apply(this,arguments);c&&(this.onsuccess=this.onsuccess?F(c,this.onsuccess):c);d&&(this.onerror=this.onerror?F(d,this.onerror):d)}}function Ea(a,b){return a===E?b:function(c){var d=a.apply(this,arguments);i(c,d);var e=this.onsuccess,f=this.onerror;this.onsuccess=null;this.onerror=null;var g=b.apply(this,arguments);e&&(this.onsuccess=this.onsuccess?F(e,this.onsuccess):e);f&&(this.onerror=this.onerror?F(f,this.onerror):f);return d===void 0?g===void 0?void 0:g:i(d,g)}}function Fa(a,b){return a===E?b:function(){return b.apply(this,arguments)===!1?!1:a.apply(this,arguments)}}function Ga(a,b){return a===E?b:function(){var c=a.apply(this,arguments);if(c&&typeof c.then==="function"){var d=this,e=arguments.length,f=new Array(e);while(e--)f[e]=arguments[e];return c.then(function(){return b.apply(d,f)})}return b.apply(this,arguments)}}var G=typeof location!=="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ha(a,b){G=a}var Ia={},Ja=100;y=typeof Promise==="undefined"?[]:function(){var a=Promise.resolve();if(typeof crypto==="undefined"||!crypto.subtle)return[a,j(a),a];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,j(b),a]}();var Ka=y[0],H=y[1];y=y[2];H=H&&H.then;var La=Ka&&Ka.constructor,Ma=!!y;function Na(){queueMicrotask(db)}var Oa=function(a,b){Ua.push([a,b]),Qa&&(Na(),Qa=!1)},Pa=!0,Qa=!0,Ra=[],Sa=[],Ta=Aa,I={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:E,pgp:!1,env:{},finalize:E},J=I,Ua=[],Va=0,Wa=[];function K(a){if(typeof this!=="object")throw new TypeError("Promises must be constructed via new");this._listeners=[];this._lib=!1;var b=this._PSD=J;if(typeof a!=="function"){if(a!==Ia)throw new TypeError("Not a function");this._state=arguments[1];this._value=arguments[2];this._state===!1&&$a(this,this._value);return}this._state=null;this._value=null;++b.ref;Za(this,a)}var Xa={get:function(){var a=J,b=ob;function c(c,d){var e=this,f=!a.global&&(a!==J||b!==ob),g=f&&!O(),h=new K(function(b,h){bb(e,new Ya(wb(c,a,f,g),wb(d,a,f,g),b,h,a))});this._consoleTask&&(h._consoleTask=this._consoleTask);return h}c.prototype=Ia;return c},set:function(a){o(this,"then",a&&a.prototype===Ia?Xa:{get:function(){return a},set:Xa.set})}};m(K.prototype,{then:Xa,_then:function(a,b){bb(this,new Ya(null,null,a,b,J))},"catch":function(b){if(arguments.length===1)return this.then(null,b);var a=arguments[0],c=arguments[1];return typeof a==="function"?this.then(null,function(b){return b instanceof a?c(b):kb(b)}):this.then(null,function(b){return b&&b.name===a?c(b):kb(b)})},"finally":function(a){return this.then(function(b){return K.resolve(a()).then(function(){return b})},function(b){return K.resolve(a()).then(function(){return kb(b)})})},timeout:function(a,b){var c=this;return a<Infinity?new K(function(d,e){var f=setTimeout(function(){return e(new D.Timeout(b))},a);c.then(d,e)["finally"](clearTimeout.bind(null,f))}):this}});typeof Symbol!=="undefined"&&Symbol.toStringTag&&o(K.prototype,Symbol.toStringTag,"Dexie.Promise");I.env=ub();function Ya(a,b,c,d,e){this.onFulfilled=typeof a==="function"?a:null,this.onRejected=typeof b==="function"?b:null,this.resolve=c,this.reject=d,this.psd=e}m(K,{all:function(){var a=B.apply(null,arguments).map(rb);return new K(function(b,c){a.length===0&&b([]);var d=a.length;a.forEach(function(e,f){return K.resolve(e).then(function(c){a[f]=c,--d||b(a)},c)})})},resolve:function(a){if(a instanceof K)return a;if(a&&typeof a.then==="function")return new K(function(b,c){a.then(b,c)});var b=new K(Ia,!0,a);return b},reject:kb,race:function(){var a=B.apply(null,arguments).map(rb);return new K(function(b,c){a.map(function(a){return K.resolve(a).then(b,c)})})},PSD:{get:function(){return J},set:function(a){return J=a}},totalEchoes:{get:function(){return ob}},newPSD:N,usePSD:vb,scheduler:{get:function(){return Oa},set:function(a){Oa=a}},rejectionMapper:{get:function(){return Ta},set:function(a){Ta=a}},follow:function(a,b){return new K(function(c,d){return N(function(b,c){var d=J;d.unhandleds=[];d.onunhandled=c;d.finalize=F(function(){var a=this;hb(function(){a.unhandleds.length===0?b():c(a.unhandleds[0])})},d.finalize);a()},b,c,d)})}});La&&(La.allSettled&&o(K,"allSettled",function(){var a=B.apply(null,arguments).map(rb);return new K(function(b){a.length===0&&b([]);var c=a.length,d=new Array(c);a.forEach(function(a,e){return K.resolve(a).then(function(a){return d[e]={status:"fulfilled",value:a}},function(a){return d[e]={status:"rejected",reason:a}}).then(function(){return--c||b(d)})})})}),La.any&&typeof AggregateError!=="undefined"&&o(K,"any",function(){var a=B.apply(null,arguments).map(rb);return new K(function(b,c){a.length===0&&c(new AggregateError([]));var d=a.length,e=new Array(d);a.forEach(function(a,f){return K.resolve(a).then(function(a){return b(a)},function(a){e[f]=a,--d||c(new AggregateError(e))})})})}));function Za(a,b){try{b(function(b){if(a._state!==null)return;if(b===a)throw new TypeError("A promise cannot be resolved with itself.");var c=a._lib&&eb();b&&typeof b.then==="function"?Za(a,function(a,c){b instanceof K?b._then(a,c):b.then(a,c)}):(a._state=!0,a._value=b,ab(a));c&&fb()},$a.bind(null,a))}catch(b){$a(a,b)}}function $a(a,b){Sa.push(b);if(a._state!==null)return;var c=a._lib&&eb();b=Ta(b);a._state=!1;a._value=b;ib(a);ab(a);c&&fb()}function ab(a){var b=a._listeners;a._listeners=[];for(var c=0,d=b.length;c<d;++c)bb(a,b[c]);c=a._PSD;--c.ref||c.finalize();Va===0&&(++Va,Oa(function(){--Va===0&&gb()},[]))}function bb(a,b){if(a._state===null){a._listeners.push(b);return}var c=a._state?b.onFulfilled:b.onRejected;if(c===null)return(a._state?b.resolve:b.reject)(a._value);++b.psd.ref;++Va;Oa(cb,[c,a,b])}function cb(a,b,c){try{var d,e=b._value;!b._state&&Sa.length&&(Sa=[]);d=G&&b._consoleTask?b._consoleTask.run(function(){return a(e)}):a(e);!b._state&&Sa.indexOf(e)===-1&&jb(b);c.resolve(d)}catch(a){c.reject(a)}finally{--Va===0&&gb(),--c.psd.ref||c.psd.finalize()}}function db(){vb(I,function(){eb()&&fb()})}function eb(){var a=Pa;Pa=!1;Qa=!1;return a}function fb(){var a,b,c;do while(Ua.length>0){a=Ua;Ua=[];c=a.length;for(b=0;b<c;++b){var d=a[b];d[0].apply(null,d[1])}}while(Ua.length>0);Pa=!0;Qa=!0}function gb(){var a=Ra;Ra=[];a.forEach(function(a){a._PSD.onunhandled.call(null,a._value,a)});a=Wa.slice(0);var b=a.length;while(b)a[--b]()}function hb(a){function b(){a(),Wa.splice(Wa.indexOf(b),1)}Wa.push(b);++Va;Oa(function(){--Va===0&&gb()},[])}function ib(a){Ra.some(function(b){return b._value===a._value})||Ra.push(a)}function jb(a){var b=Ra.length;while(b)if(Ra[--b]._value===a._value){Ra.splice(b,1);return}}function kb(a){return new K(Ia,!1,a)}function L(a,b){var c=J;return function(){var d=eb(),e=J;try{P(c,!0);return a.apply(this,arguments)}catch(a){b&&b(a)}finally{P(e,!1),d&&fb()}}}var M={awaits:0,echoes:0,id:0},lb=0,mb=[],nb=0,ob=0,pb=0;function N(b,a,c,d){var e=J,f=Object.create(e);f.parent=e;f.ref=0;f.global=!1;f.id=++pb;I.env;f.env=Ma?{Promise:K,PromiseProp:{value:K,configurable:!0,writable:!0},all:K.all,race:K.race,allSettled:K.allSettled,any:K.any,resolve:K.resolve,reject:K.reject}:{};a&&i(f,a);++e.ref;f.finalize=function(){--this.parent.ref||this.parent.finalize()};a=vb(f,b,c,d);f.ref===0&&f.finalize();return a}function qb(){M.id||(M.id=++lb);++M.awaits;M.echoes+=Ja;return M.id}function O(){if(!M.awaits)return!1;--M.awaits===0&&(M.id=0);M.echoes=M.awaits*Ja;return!0}(""+H).indexOf("[native code]")===-1&&(qb=O=E);function rb(a){if(M.echoes&&a&&a.constructor===La){qb();return a.then(function(a){O();return a},function(a){O();return Q(a)})}return a}function sb(a){++ob,(!M.echoes||--M.echoes===0)&&(M.echoes=M.awaits=M.id=0),mb.push(J),P(a,!0)}function tb(){var a=mb[mb.length-1];mb.pop();P(a,!1)}function P(a,b){var c=J;(b?M.echoes&&(!nb++||a!==J):nb&&(!--nb||a!==J))&&queueMicrotask(b?sb.bind(null,a):tb);if(a===J)return;J=a;c===I&&(I.env=ub());if(Ma){b=I.env.Promise;var d=a.env;(c.global||a.global)&&(Object.defineProperty(f,"Promise",d.PromiseProp),b.all=d.all,b.race=d.race,b.resolve=d.resolve,b.reject=d.reject,d.allSettled&&(b.allSettled=d.allSettled),d.any&&(b.any=d.any))}}function ub(){var a=f.Promise;return Ma?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function vb(a,b,c,d,e){var f=J;try{P(a,!0);return b(c,d,e)}finally{P(f,!1)}}function wb(a,b,c,d){return typeof a!=="function"?a:function(){var e=J;c&&qb();P(b,!0);try{return a.apply(this,arguments)}finally{P(e,!1),d&&queueMicrotask(O)}}}function xb(a){Promise===La&&M.echoes===0?nb===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}var Q=K.reject;function yb(a,b,c,d){if(!a.idbdb||!a._state.openComplete&&!J.letThrough&&!a._vip){if(a._state.openComplete)return Q(new D.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._state.autoOpen)return Q(new D.DatabaseClosed());a.open()["catch"](E)}return a._state.dbReadyPromise.then(function(){return yb(a,b,c,d)})}else{var e=a._createTransaction(b,c,a._dbSchema);try{e.create(),a._state.PR1398_maxLoop=3}catch(e){if(e.name===wa.InvalidState&&a.isOpen()&&--a._state.PR1398_maxLoop>0){a.close({disableAutoOpen:!1});return a.open().then(function(){return yb(a,b,c,d)})}return Q(e)}return e._promise(b,function(a,b){return N(function(){J.trans=e;return d(a,b,e)})}).then(function(a){if(b==="readwrite")try{e.idbtrans.commit()}catch(a){}return b==="readonly"?a:e._completion.then(function(){return a})})}}Ka="4.0.1";var zb=String.fromCharCode(65535),Ab=-Infinity,R="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Bb="String expected.",Cb=[],Db="__dbnames",Eb="readonly",Fb="readwrite";function Gb(a,b){return a?b?function(){return a.apply(this,arguments)&&b.apply(this,arguments)}:a:b}var Hb={type:3,lower:-Infinity,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ib(a){return typeof a==="string"&&!/\./.test(a)?function(b){b[a]===void 0&&a in b&&(b=z(b),delete b[a]);return b}:function(a){return a}}function Jb(){throw D.Type()}function S(a,b){try{var c=Mb(a),d=Mb(b);if(c!==d){if(c==="Array")return 1;if(d==="Array")return-1;if(c==="binary")return 1;if(d==="binary")return-1;if(c==="string")return 1;if(d==="string")return-1;if(c==="Date")return 1;return d!=="Date"?NaN:-1}switch(c){case"number":case"Date":case"string":return a>b?1:a<b?-1:0;case"binary":return Lb(Nb(a),Nb(b));case"Array":return Kb(a,b)}}catch(a){}return NaN}function Kb(a,b){var c=a.length,d=b.length,e=c<d?c:d;for(var f=0;f<e;++f){var g=S(a[f],b[f]);if(g!==0)return g}return c===d?0:c<d?-1:1}function Lb(a,b){var c=a.length,d=b.length,e=c<d?c:d;for(var f=0;f<e;++f)if(a[f]!==b[f])return a[f]<b[f]?-1:1;return c===d?0:c<d?-1:1}function Mb(a){var b=typeof a;if(b!=="object")return b;if(ArrayBuffer.isView(a))return"binary";b=ma(a);return b==="ArrayBuffer"?"binary":b}function Nb(a){if(a instanceof Uint8Array)return a;return ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var Ob=function(){function a(){}a.prototype._trans=function(b,c,d){var e=this._tx||J.trans,f=this.name,a=G&&typeof console!=="undefined"&&console.createTask&&console.createTask("Dexie: ".concat(b==="readonly"?"read":"write"," ").concat(this.name));function g(b,d,a){if(!a.schema[f])throw new D.NotFound("Table "+f+" not part of transaction");return c(a.idbtrans,a)}var h=eb();try{var i=e&&e.db._novip===this.db._novip?e===J.trans?e._promise(b,g,d):N(function(){return e._promise(b,g,d)},{trans:e,transless:J.transless||J}):yb(this.db,b,[this.name],g);a&&(i._consoleTask=a,i=i["catch"](function(a){console.trace(a);return Q(a)}));return i}finally{h&&fb()}};a.prototype.get=function(a,b){var c=this;if(a&&a.constructor===Object)return this.where(a).first(b);return a==null?Q(new D.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return c.core.get({trans:b,key:a}).then(function(a){return c.hook.reading.fire(a)})}).then(b)};a.prototype.where=function(a){if(typeof a==="string")return new this.db.WhereClause(this,a);if(h(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var b=g(a);if(b.length===1)return this.where(b[0]).equals(a[b[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(a){if(a.compound&&b.every(function(b){return a.keyPath.indexOf(b)>=0})){for(var c=0;c<b.length;++c)if(b.indexOf(a.keyPath[c])===-1)return!1;return!0}return!1}).sort(function(a,b){return a.keyPath.length-b.keyPath.length})[0];if(c&&this.db._maxKey!==zb){var d=c.keyPath.slice(0,b.length);return this.where(d).equals(d.map(function(b){return a[b]}))}!c&&G&&!1;var e=this.schema.idxByName,f=this.db._deps.indexedDB;function i(a,b){return f.cmp(a,b)===0}d=b.reduce(function(b,c){var d=b[0];b=b[1];var f=e[c],g=a[c];return[d||f,d||!f?Gb(b,f&&f.multi?function(a){a=w(a,c);return h(a)&&a.some(function(a){return i(g,a)})}:function(a){return i(g,w(a,c))}):b]},[null,null]);var j=d[0];d=d[1];return j?this.where(j.name).equals(a[j.keyPath]).filter(d):c?this.filter(d):this.where(b).equals("")};a.prototype.filter=function(a){return this.toCollection().and(a)};a.prototype.count=function(a){return this.toCollection().count(a)};a.prototype.offset=function(a){return this.toCollection().offset(a)};a.prototype.limit=function(a){return this.toCollection().limit(a)};a.prototype.each=function(a){return this.toCollection().each(a)};a.prototype.toArray=function(a){return this.toCollection().toArray(a)};a.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))};a.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,h(a)?"[".concat(a.join("+"),"]"):a))};a.prototype.reverse=function(){return this.toCollection().reverse()};a.prototype.mapToClass=function(a){var b=this,d=b.db,e=b.name;this.schema.mappedClass=a;a.prototype instanceof Jb&&(a=function(a){c(b,a);function b(){return a!==null&&a.apply(this,arguments)||this}Object.defineProperty(b.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0});b.prototype.table=function(){return e};return b}(a));var f=new Set();for(b=a.prototype;b;b=j(b))Object.getOwnPropertyNames(b).forEach(function(a){return f.add(a)});b=function(b){if(!b)return b;var c=Object.create(a.prototype);for(var d in b)if(!f.has(d))try{c[d]=b[d]}catch(a){}return c};this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook);this.schema.readHook=b;this.hook("reading",b);return a};a.prototype.defineClass=function(){function a(a){i(this,a)}return this.mapToClass(a)};a.prototype.add=function(a,b){var c=this,d=this.schema.primKey,e=d.auto,f=d.keyPath,g=a;f&&e&&(g=Ib(f)(a));return this._trans("readwrite",function(a){return c.core.mutate({trans:a,type:"add",keys:b!=null?[b]:null,values:[g]})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):a.lastResult}).then(function(b){if(f)try{x(a,f,b)}catch(a){}return b})};a.prototype.update=function(a,b){if(typeof a==="object"&&!h(a)){var c=w(a,this.schema.primKey.keyPath);return c===void 0?Q(new D.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(c).modify(b)}else return this.where(":id").equals(a).modify(b)};a.prototype.put=function(a,b){var c=this,d=this.schema.primKey,e=d.auto,f=d.keyPath,g=a;f&&e&&(g=Ib(f)(a));return this._trans("readwrite",function(a){return c.core.mutate({trans:a,type:"put",values:[g],keys:b!=null?[b]:null})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):a.lastResult}).then(function(b){if(f)try{x(a,f,b)}catch(a){}return b})};a.prototype["delete"]=function(a){var b=this;return this._trans("readwrite",function(c){return b.core.mutate({trans:c,type:"delete",keys:[a]})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):void 0})};a.prototype.clear=function(){var a=this;return this._trans("readwrite",function(b){return a.core.mutate({trans:b,type:"deleteRange",range:Hb})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):void 0})};a.prototype.bulkGet=function(a){var b=this;return this._trans("readonly",function(c){return b.core.getMany({keys:a,trans:c}).then(function(a){return a.map(function(a){return b.hook.reading.fire(a)})})})};a.prototype.bulkAdd=function(b,c,d){var e=this,a=Array.isArray(c)?c:void 0;d=d||(a?void 0:c);var f=d?d.allKeys:void 0;return this._trans("readwrite",function(c){var d=e.schema.primKey,g=d.auto;d=d.keyPath;if(d&&a)throw new D.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==b.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");var h=b.length;g=d&&g?b.map(Ib(d)):b;return e.core.mutate({trans:c,type:"add",keys:a,values:g,wantResults:f}).then(function(a){var b=a.numFailures,c=a.results,d=a.lastResult;a=a.failures;c=f?c:d;if(b===0)return c;throw new va("".concat(e.name,".bulkAdd(): ").concat(b," of ").concat(h," operations failed"),a)})})};a.prototype.bulkPut=function(b,c,d){var e=this,a=Array.isArray(c)?c:void 0;d=d||(a?void 0:c);var f=d?d.allKeys:void 0;return this._trans("readwrite",function(c){var d=e.schema.primKey,g=d.auto;d=d.keyPath;if(d&&a)throw new D.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==b.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");var h=b.length;g=d&&g?b.map(Ib(d)):b;return e.core.mutate({trans:c,type:"put",keys:a,values:g,wantResults:f}).then(function(a){var b=a.numFailures,c=a.results,d=a.lastResult;a=a.failures;c=f?c:d;if(b===0)return c;throw new va("".concat(e.name,".bulkPut(): ").concat(b," of ").concat(h," operations failed"),a)})})};a.prototype.bulkUpdate=function(b){var c=this,d=this.core,a=b.map(function(a){return a.key}),e=b.map(function(a){return a.changes}),f=[];return this._trans("readwrite",function(g){return d.getMany({trans:g,keys:a,cache:"clone"}).then(function(h){var i=[],j=[];b.forEach(function(a,b){var d=a.key;a=a.changes;var e=h[b];if(e){for(var g=0,k=Object.keys(a);g<k.length;g++){var l=k[g],m=a[l];if(l===c.schema.primKey.keyPath){if(S(m,d)!==0)throw new D.Constraint("Cannot update primary key in bulkUpdate()")}else x(e,l,m)}f.push(b);i.push(d);j.push(e)}});var k=i.length;return d.mutate({trans:g,type:"put",keys:i,values:j,updates:{keys:a,changeSpecs:e}}).then(function(a){var b=a.numFailures;a=a.failures;if(b===0)return k;for(var d=0,e=Object.keys(a);d<e.length;d++){var g=e[d],h=f[Number(g)];if(h!=null){var i=a[g];delete a[g];a[h]=i}}throw new va("".concat(c.name,".bulkUpdate(): ").concat(b," of ").concat(k," operations failed"),a)})})})};a.prototype.bulkDelete=function(a){var b=this,c=a.length;return this._trans("readwrite",function(c){return b.core.mutate({trans:c,type:"delete",keys:a})}).then(function(a){var d=a.numFailures,e=a.lastResult;a=a.failures;if(d===0)return e;throw new va("".concat(b.name,".bulkDelete(): ").concat(d," of ").concat(c," operations failed"),a)})};return a}();function Pb(a){var b={},c=function(d,e){if(e){var c=arguments.length,f=new Array(c-1);while(--c)f[c-1]=arguments[c];b[d].subscribe.apply(null,f);return a}else if(typeof d==="string")return b[d]};c.addEventType=f;for(var d=1,e=arguments.length;d<e;++d)f(arguments[d]);return c;function f(a,d,e){if(typeof a==="object")return i(a);d||(d=Fa);e||(e=E);var f={subscribers:[],fire:e,subscribe:function(a){f.subscribers.indexOf(a)===-1&&(f.subscribers.push(a),f.fire=d(f.fire,a))},unsubscribe:function(a){f.subscribers=f.subscribers.filter(function(b){return b!==a}),f.fire=f.subscribers.reduce(d,e)}};b[a]=c[a]=f;return f}function i(a){g(a).forEach(function(b){var c=a[b];if(h(c))f(b,a[b][0],a[b][1]);else if(c==="asap")var d=f(b,Aa,function(){var a=arguments.length,b=new Array(a);while(a--)b[a]=arguments[a];d.subscribers.forEach(function(a){aa(function(){a.apply(null,b)})})});else throw new D.InvalidArgument("Invalid event config")})}}function Qb(a,b){p(b).from({prototype:a});return b}function Rb(a){return Qb(Ob.prototype,function(b,c,d){this.db=a,this._tx=d,this.name=b,this.schema=c,this.hook=a._allTables[b]?a._allTables[b].hook:Pb(null,{creating:[Ca,E],reading:[Ba,Aa],updating:[Ea,E],deleting:[Da,E]})})}function Sb(a,b){return!(a.filter||a.algorithm||a.or)&&(b?a.justLimit:!a.replayFilter)}function Tb(a,b){a.filter=Gb(a.filter,b)}function Ub(a,b,c){var d=a.replayFilter;a.replayFilter=d?function(){return Gb(d(),b())}:b;a.justLimit=c&&!d}function Vb(a,b){a.isMatch=Gb(a.isMatch,b)}function Wb(a,b){if(a.isPrimKey)return b.primaryKey;var c=b.getIndexByKeyPath(a.index);if(!c)throw new D.Schema("KeyPath "+a.index+" on object store "+b.name+" is not indexed");return c}function Xb(a,b,c){var d=Wb(a,b.schema);return b.openCursor({trans:c,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:d,range:a.range}})}function Yb(a,b,c,d){var e=a.replayFilter?Gb(a.filter,a.replayFilter()):a.filter;if(!a.or)return Zb(Xb(a,d,c),Gb(a.algorithm,e),b,!a.keysOnly&&a.valueMapper);else{var f={},g=function(a,c,d){if(!e||e(c,d,function(a){return c.stop(a)},function(a){return c.fail(a)})){var g=c.primaryKey,h=""+g;h==="[object ArrayBuffer]"&&(h=""+new Uint8Array(g));l(f,h)||(f[h]=!0,b(a,c,d))}};return Promise.all([a.or._iterate(g,c),Zb(Xb(a,d,c),a.algorithm,g,!a.keysOnly&&a.valueMapper)])}}function Zb(a,b,c,d){var e=d?function(a,b,e){return c(d(a),b,e)}:c,f=L(e);return a.then(function(a){if(a)return a.start(function(){var c=function(){return a["continue"]()};(!b||b(a,function(a){return c=a},function(b){a.stop(b),c=E},function(b){a.fail(b),c=E}))&&f(a.value,a,function(a){return c=a});c()})})}y=Symbol();var $b=function(){function a(a){Object.assign(this,a)}a.prototype.execute=function(a){var b;b=(b=this.replacePrefix)===null||b===void 0?void 0:b[0];return b&&typeof a==="string"&&a.startsWith(b)?this.replacePrefix[1]+a.substring(b.length):a};return a}(),ac=function(){function a(){}a.prototype._read=function(a,b){var c=this._ctx;return c.error?c.table._trans(null,Q.bind(null,c.error)):c.table._trans("readonly",a).then(b)};a.prototype._write=function(a){var b=this._ctx;return b.error?b.table._trans(null,Q.bind(null,b.error)):b.table._trans("readwrite",a,"locked")};a.prototype._addAlgorithm=function(a){var b=this._ctx;b.algorithm=Gb(b.algorithm,a)};a.prototype._iterate=function(a,b){return Yb(this._ctx,a,b,this._ctx.table.core)};a.prototype.clone=function(a){var b=Object.create(this.constructor.prototype),c=Object.create(this._ctx);a&&i(c,a);b._ctx=c;return b};a.prototype.raw=function(){this._ctx.valueMapper=null;return this};a.prototype.each=function(a){var b=this._ctx;return this._read(function(c){return Yb(b,a,c,b.table.core)})};a.prototype.count=function(a){var b=this;return this._read(function(a){var c=b._ctx,d=c.table.core;if(Sb(c,!0))return d.count({trans:a,query:{index:Wb(c,d.schema),range:c.range}}).then(function(a){return Math.min(a,c.limit)});else{var e=0;return Yb(c,function(){++e;return!1},a,d).then(function(){return e})}}).then(a)};a.prototype.sortBy=function(a,b){var c=a.split(".").reverse(),d=c[0],e=c.length-1;function f(a,b){return b?f(a[c[b]],b-1):a[d]}var g=this._ctx.dir==="next"?1:-1;function h(a,b){a=f(a,e);b=f(b,e);return a<b?-g:a>b?g:0}return this.toArray(function(a){return a.sort(h)}).then(b)};a.prototype.toArray=function(a){var b=this;return this._read(function(a){var c=b._ctx;if(c.dir==="next"&&Sb(c,!0)&&c.limit>0){var d=c.valueMapper,e=Wb(c,c.table.core.schema);return c.table.core.query({trans:a,limit:c.limit,values:!0,query:{index:e,range:c.range}}).then(function(a){a=a.result;return d?a.map(d):a})}else{var f=[];return Yb(c,function(a){return f.push(a)},a,c.table.core).then(function(){return f})}},a)};a.prototype.offset=function(a){var b=this._ctx;if(a<=0)return this;b.offset+=a;Sb(b)?Ub(b,function(){var b=a;return function(a,c){if(b===0)return!0;if(b===1){--b;return!1}c(function(){a.advance(b),b=0});return!1}}):Ub(b,function(){var b=a;return function(){return--b<0}});return this};a.prototype.limit=function(a){this._ctx.limit=Math.min(this._ctx.limit,a);Ub(this._ctx,function(){var b=a;return function(a,c,d){--b<=0&&c(d);return b>=0}},!0);return this};a.prototype.until=function(a,b){Tb(this._ctx,function(c,d,e){if(a(c.value)){d(e);return b}else return!0});return this};a.prototype.first=function(a){return this.limit(1).toArray(function(a){return a[0]}).then(a)};a.prototype.last=function(a){return this.reverse().first(a)};a.prototype.filter=function(a){Tb(this._ctx,function(b){return a(b.value)});Vb(this._ctx,a);return this};a.prototype.and=function(a){return this.filter(a)};a.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)};a.prototype.reverse=function(){this._ctx.dir=this._ctx.dir==="prev"?"next":"prev";this._ondirectionchange&&this._ondirectionchange(this._ctx.dir);return this};a.prototype.desc=function(){return this.reverse()};a.prototype.eachKey=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;return this.each(function(b,c){a(c.key,c)})};a.prototype.eachUniqueKey=function(a){this._ctx.unique="unique";return this.eachKey(a)};a.prototype.eachPrimaryKey=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;return this.each(function(b,c){a(c.primaryKey,c)})};a.prototype.keys=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;var c=[];return this.each(function(a,b){c.push(b.key)}).then(function(){return c}).then(a)};a.prototype.primaryKeys=function(a){var b=this._ctx;if(b.dir==="next"&&Sb(b,!0)&&b.limit>0)return this._read(function(a){var c=Wb(b,b.table.core.schema);return b.table.core.query({trans:a,values:!1,limit:b.limit,query:{index:c,range:b.range}})}).then(function(a){a=a.result;return a}).then(a);b.keysOnly=!b.isMatch;var c=[];return this.each(function(a,b){c.push(b.primaryKey)}).then(function(){return c}).then(a)};a.prototype.uniqueKeys=function(a){this._ctx.unique="unique";return this.keys(a)};a.prototype.firstKey=function(a){return this.limit(1).keys(function(a){return a[0]}).then(a)};a.prototype.lastKey=function(a){return this.reverse().firstKey(a)};a.prototype.distinct=function(){var a=this._ctx;a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var b={};Tb(this._ctx,function(a){a=a.primaryKey.toString();var c=l(b,a);b[a]=!0;return!c});return this};a.prototype.modify=function(a){var b=this,c=this._ctx;return this._write(function(d){var e;if(typeof a==="function")e=a;else{var f=g(a),h=f.length;e=function(b){var c=!1;for(var d=0;d<h;++d){var e=f[d],g=a[e],i=w(b,e);g instanceof $b?(x(b,e,g.execute(i)),c=!0):i!==g&&(x(b,e,g),c=!0)}return c}}var i=c.table.core,j=i.schema.primaryKey,k=j.outbound,l=j.extractKey,m=b.db._options.modifyChunkSize||200,n=[],o=0,p=[],q=function(a,b){var c=b.failures;b=b.numFailures;o+=a-b;for(a=0,b=g(c);a<b.length;a++){var d=b[a];n.push(c[d])}};return b.clone().primaryKeys().then(function(b){var f=function(g){var h=Math.min(m,b.length-g);return i.getMany({trans:d,keys:b.slice(g,g+h),cache:"immutable"}).then(function(j){var n=[],o=[],p=k?[]:null,r=[];for(var s=0;s<h;++s){var t=j[s],u={value:z(t),primKey:b[g+s]};e.call(u,u.value,u)!==!1&&(u.value==null?r.push(b[g+s]):!k&&S(l(t),l(u.value))!==0?(r.push(b[g+s]),n.push(u.value)):(o.push(u.value),k&&p.push(b[g+s])))}var v=Sb(c)&&c.limit===Infinity&&(typeof a!=="function"||a===bc)&&{index:c.index,range:c.range};return Promise.resolve(n.length>0&&i.mutate({trans:d,type:"add",values:n}).then(function(a){for(var b in a.failures)r.splice(parseInt(b),1);q(n.length,a)})).then(function(){return(o.length>0||v&&typeof a==="object")&&i.mutate({trans:d,type:"put",keys:p,values:o,criteria:v,changeSpec:typeof a!=="function"&&a}).then(function(a){return q(o.length,a)})}).then(function(){return(r.length>0||v&&a===bc)&&i.mutate({trans:d,type:"delete",keys:r,criteria:v}).then(function(a){return q(r.length,a)})}).then(function(){return b.length>g+h&&f(g+m)})})};return f(0).then(function(){if(n.length>0)throw new ua("Error modifying one or more objects",n,o,p);return b.length})})})};a.prototype["delete"]=function(){var a=this._ctx,b=a.range;return Sb(a)&&(a.isPrimKey||b.type===3)?this._write(function(c){var d=a.table.core.schema.primaryKey,e=b;return a.table.core.count({trans:c,query:{index:d,range:e}}).then(function(b){return a.table.core.mutate({trans:c,type:"deleteRange",range:e}).then(function(a){var c=a.failures;a.lastResult;a.results;a=a.numFailures;if(a)throw new ua("Could not delete some values",Object.keys(c).map(function(a){return c[a]}),b-a);return b-a})})}):this.modify(bc)};return a}(),bc=function(a,b){return b.value=null};function cc(a){return Qb(ac.prototype,function(b,c){this.db=a;var d=Hb,e=null;if(c)try{d=c()}catch(a){e=a}c=b._ctx;b=c.table;var f=b.hook.reading.fire;this._ctx={table:b,index:c.index,isPrimKey:!c.index||b.schema.primKey.keyPath&&c.index===b.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:Infinity,error:e,or:c.or,valueMapper:f!==Aa?f:null}})}function dc(a,b){return a<b?-1:a===b?0:1}function ec(a,b){return a>b?-1:a===b?0:1}function T(a,b,c){a=a instanceof lc?new a.Collection(a):a;a._ctx.error=c?new c(b):new TypeError(b);return a}function fc(a){return new a.Collection(a,function(){return kc("")}).limit(0)}function gc(a){return a==="next"?function(a){return a.toUpperCase()}:function(a){return a.toLowerCase()}}function hc(a){return a==="next"?function(a){return a.toLowerCase()}:function(a){return a.toUpperCase()}}function ic(b,c,d,e,a,f){var g=Math.min(b.length,e.length),h=-1;for(var i=0;i<g;++i){var j=c[i];if(j!==e[i]){if(a(b[i],d[i])<0)return b.substr(0,i)+d[i]+d.substr(i+1);if(a(b[i],e[i])<0)return b.substr(0,i)+e[i]+d.substr(i+1);return h>=0?b.substr(0,h)+c[h]+d.substr(h+1):null}a(b[i],j)<0&&(h=i)}if(g<e.length&&f==="next")return b+d.substr(b.length);return g<b.length&&f==="prev"?b.substr(0,d.length):h<0?null:b.substr(0,h)+e[h]+d.substr(h+1)}function jc(a,b,c,d){var e,f,g,h,i,j,k,l=c.length;if(!c.every(function(a){return typeof a==="string"}))return T(a,Bb);function m(a){e=gc(a);f=hc(a);g=a==="next"?dc:ec;var b=c.map(function(a){return{lower:f(a),upper:e(a)}}).sort(function(a,b){return g(a.lower,b.lower)});h=b.map(function(a){return a.upper});i=b.map(function(a){return a.lower});j=a;k=a==="next"?"":d}m("next");a=new a.Collection(a,function(){return U(h[0],i[l-1]+d)});a._ondirectionchange=function(a){m(a)};var n=0;a._addAlgorithm(function(a,c,d){var e=a.key;if(typeof e!=="string")return!1;var m=f(e);if(b(m,i,n))return!0;else{var o=null;for(var p=n;p<l;++p){var q=ic(e,m,h[p],i[p],g,j);q===null&&o===null?n=p+1:(o===null||g(o,q)>0)&&(o=q)}o!==null?c(function(){a["continue"](o+k)}):c(d);return!1}});return a}function U(a,b,c,d){return{type:2,lower:a,upper:b,lowerOpen:c,upperOpen:d}}function kc(a){return{type:1,lower:a,upper:a}}var lc=function(){function a(){}Object.defineProperty(a.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0});a.prototype.between=function(a,b,c,d){c=c!==!1;d=d===!0;try{return this._cmp(a,b)>0||this._cmp(a,b)===0&&(c||d)&&!(c&&d)?fc(this):new this.Collection(this,function(){return U(a,b,!c,!d)})}catch(a){return T(this,R)}};a.prototype.equals=function(a){return a==null?T(this,R):new this.Collection(this,function(){return kc(a)})};a.prototype.above=function(a){return a==null?T(this,R):new this.Collection(this,function(){return U(a,void 0,!0)})};a.prototype.aboveOrEqual=function(a){return a==null?T(this,R):new this.Collection(this,function(){return U(a,void 0,!1)})};a.prototype.below=function(a){return a==null?T(this,R):new this.Collection(this,function(){return U(void 0,a,!1,!0)})};a.prototype.belowOrEqual=function(a){return a==null?T(this,R):new this.Collection(this,function(){return U(void 0,a)})};a.prototype.startsWith=function(a){return typeof a!=="string"?T(this,Bb):this.between(a,a+zb,!0,!0)};a.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):jc(this,function(a,b){return a.indexOf(b[0])===0},[a],zb)};a.prototype.equalsIgnoreCase=function(a){return jc(this,function(a,b){return a===b[0]},[a],"")};a.prototype.anyOfIgnoreCase=function(){var a=B.apply(pa,arguments);return a.length===0?fc(this):jc(this,function(a,b){return b.indexOf(a)!==-1},a,"")};a.prototype.startsWithAnyOfIgnoreCase=function(){var a=B.apply(pa,arguments);return a.length===0?fc(this):jc(this,function(a,b){return b.some(function(b){return a.indexOf(b)===0})},a,zb)};a.prototype.anyOf=function(){var a=this,b=B.apply(pa,arguments),c=this._cmp;try{b.sort(c)}catch(a){return T(this,R)}if(b.length===0)return fc(this);var d=new this.Collection(this,function(){return U(b[0],b[b.length-1])});d._ondirectionchange=function(d){c=d==="next"?a._ascending:a._descending,b.sort(c)};var e=0;d._addAlgorithm(function(a,d,f){var g=a.key;while(c(g,b[e])>0){++e;if(e===b.length){d(f);return!1}}if(c(g,b[e])===0)return!0;else{d(function(){a["continue"](b[e])});return!1}});return d};a.prototype.notEqual=function(a){return this.inAnyRange([[Ab,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})};a.prototype.noneOf=function(){var a=B.apply(pa,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch(a){return T(this,R)}var b=a.reduce(function(a,b){return a?a.concat([[a[a.length-1][1],b]]):[[Ab,b]]},null);b.push([a[a.length-1],this.db._maxKey]);return this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})};a.prototype.inAnyRange=function(c,d){var e=this,a=this._cmp,f=this._ascending,g=this._descending,h=this._min,i=this._max;if(c.length===0)return fc(this);if(!c.every(function(a){return a[0]!==void 0&&a[1]!==void 0&&f(a[0],a[1])<=0}))return T(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",D.InvalidArgument);var j=!d||d.includeLowers!==!1,k=d&&d.includeUppers===!0;function b(b,c){var d=0,e=b.length;for(;d<e;++d){var f=b[d];if(a(c[0],f[1])<0&&a(c[1],f[0])>0){f[0]=h(f[0],c[0]);f[1]=i(f[1],c[1]);break}}d===e&&b.push(c);return b}var l=f;function m(a,b){return l(a[0],b[0])}var n;try{n=c.reduce(b,[]),n.sort(m)}catch(a){return T(this,R)}var o=0,p=k?function(a){return f(a,n[o][1])>0}:function(a){return f(a,n[o][1])>=0},q=j?function(a){return g(a,n[o][0])>0}:function(a){return g(a,n[o][0])>=0};function r(a){return!p(a)&&!q(a)}var s=p;d=new this.Collection(this,function(){return U(n[0][0],n[n.length-1][1],!j,!k)});d._ondirectionchange=function(a){a==="next"?(s=p,l=f):(s=q,l=g),n.sort(m)};d._addAlgorithm(function(a,b,c){var d=a.key;while(s(d)){++o;if(o===n.length){b(c);return!1}}if(r(d))return!0;else if(e._cmp(d,n[o][1])===0||e._cmp(d,n[o][0])===0)return!1;else{b(function(){l===f?a["continue"](n[o][0]):a["continue"](n[o][1])});return!1}});return d};a.prototype.startsWithAnyOf=function(){var a=B.apply(pa,arguments);if(!a.every(function(a){return typeof a==="string"}))return T(this,"startsWithAnyOf() only works with strings");return a.length===0?fc(this):this.inAnyRange(a.map(function(a){return[a,a+zb]}))};return a}();function mc(a){return Qb(lc.prototype,function(b,c,d){this.db=a;this._ctx={table:b,index:c===":id"?null:c,or:d};this._cmp=this._ascending=S;this._descending=function(a,b){return S(b,a)};this._max=function(a,b){return S(a,b)>0?a:b};this._min=function(a,b){return S(a,b)<0?a:b};this._IDBKeyRange=a._deps.IDBKeyRange;if(!this._IDBKeyRange)throw new D.MissingAPI()})}function V(a){return L(function(b){nc(b);a(b.target.error);return!1})}function nc(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var oc="storagemutated",pc="x-storagemutated-1",W=Pb(null,oc),qc=function(){function a(){}a.prototype._lock=function(){v(!J.global);++this._reculock;this._reculock===1&&!J.global&&(J.lockOwnerFor=this);return this};a.prototype._unlock=function(){v(!J.global);if(--this._reculock===0){J.global||(J.lockOwnerFor=null);while(this._blockedFuncs.length>0&&!this._locked()){var a=this._blockedFuncs.shift();try{vb(a[1],a[0])}catch(a){}}}return this};a.prototype._locked=function(){return this._reculock&&J.lockOwnerFor!==this};a.prototype.create=function(a){var b=this;if(!this.mode)return this;var c=this.db.idbdb,d=this.db._state.dbOpenError;v(!this.idbtrans);if(!a&&!c)switch(d&&d.name){case"DatabaseClosedError":throw new D.DatabaseClosed(d);case"MissingAPIError":throw new D.MissingAPI(d.message,d);default:throw new D.OpenFailed(d)}if(!this.active)throw new D.TransactionInactive();v(this._completion._state===null);a=this.idbtrans=a||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):c.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}));a.onerror=L(function(c){nc(c),b._reject(a.error)});a.onabort=L(function(c){nc(c),b.active&&b._reject(new D.Abort(a.error)),b.active=!1,b.on("abort").fire(c)});a.oncomplete=L(function(){b.active=!1,b._resolve(),"mutatedParts"in a&&W.storagemutated.fire(a.mutatedParts)});return this};a.prototype._promise=function(a,b,c){var d=this;if(a==="readwrite"&&this.mode!=="readwrite")return Q(new D.ReadOnly("Transaction is readonly"));if(!this.active)return Q(new D.TransactionInactive());if(this._locked())return new K(function(e,f){d._blockedFuncs.push([function(){d._promise(a,b,c).then(e,f)},J])});else if(c)return N(function(){var a=new K(function(a,c){d._lock();var e=b(a,c,d);e&&e.then&&e.then(a,c)});a["finally"](function(){return d._unlock()});a._lib=!0;return a});else{var e=new K(function(a,c){var e=b(a,c,d);e&&e.then&&e.then(a,c)});e._lib=!0;return e}};a.prototype._root=function(){return this.parent?this.parent._root():this};a.prototype.waitFor=function(a){var b=this._root(),c=K.resolve(a);if(b._waitingFor)b._waitingFor=b._waitingFor.then(function(){return c});else{b._waitingFor=c;b._waitingQueue=[];var d=b.idbtrans.objectStore(b.storeNames[0]);(function a(){++b._spinCount;while(b._waitingQueue.length)b._waitingQueue.shift()();b._waitingFor&&(d.get(-Infinity).onsuccess=a)})()}var e=b._waitingFor;return new K(function(a,d){c.then(function(c){return b._waitingQueue.push(L(a.bind(null,c)))},function(a){return b._waitingQueue.push(L(d.bind(null,a)))})["finally"](function(){b._waitingFor===e&&(b._waitingFor=null)})})};a.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new D.Abort()))};a.prototype.table=function(a){var b=this._memoizedTables||(this._memoizedTables={});if(l(b,a))return b[a];var c=this.schema[a];if(!c)throw new D.NotFound("Table "+a+" not part of transaction");c=new this.db.Table(a,c,this);c.core=this.db.core.table(a);b[a]=c;return c};return a}();function rc(a){return Qb(qc.prototype,function(b,c,d,e,f){var g=this;this.db=a;this.mode=b;this.storeNames=c;this.schema=d;this.chromeTransactionDurability=e;this.idbtrans=null;this.on=Pb(this,"complete","error","abort");this.parent=f||null;this.active=!0;this._reculock=0;this._blockedFuncs=[];this._resolve=null;this._reject=null;this._waitingFor=null;this._waitingQueue=null;this._spinCount=0;this._completion=new K(function(a,b){g._resolve=a,g._reject=b});this._completion.then(function(){g.active=!1,g.on.complete.fire()},function(a){var b=g.active;g.active=!1;g.on.error.fire(a);g.parent?g.parent._reject(a):b&&g.idbtrans&&g.idbtrans.abort();return Q(a)})})}function sc(a,b,c,d,e,f,g){return{name:a,keyPath:b,unique:c,multi:d,auto:e,compound:f,src:(c&&!g?"&":"")+(d?"*":"")+(e?"++":"")+tc(b)}}function tc(a){return typeof a==="string"?a:a?"["+[].join.call(a,"+")+"]":""}function uc(a,b,c){return{name:a,primKey:b,indexes:c,mappedClass:null,idxByName:ba(c,function(a){return[a.name,a]})}}function vc(a){return a.length===1?a[0]:a}var wc=function(a){try{a.only([[]]);wc=function(){return[[]]};return[[]]}catch(a){wc=function(){return zb};return zb}};function xc(a){if(a==null)return function(){return void 0};else if(typeof a==="string")return yc(a);else return function(b){return w(b,a)}}function yc(a){var b=a.split(".");if(b.length===1)return function(b){return b[a]};else return function(b){return w(b,a)}}function zc(a){return[].slice.call(a)}var Ac=0;function Bc(a){return a==null?":id":typeof a==="string"?a:"[".concat(a.join("+"),"]")}function Cc(a,b,c){function d(a,b){var c=zc(a.objectStoreNames);return{schema:{name:a.name,tables:c.map(function(a){return b.objectStore(a)}).map(function(a){var b=a.keyPath,c=a.autoIncrement,d=h(b),e=b==null,f={};e={name:a.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:e,compound:d,keyPath:b,autoIncrement:c,unique:!0,extractKey:xc(b)},indexes:zc(a.indexNames).map(function(b){return a.index(b)}).map(function(b){var c=b.name,d=b.unique,e=b.multiEntry;b=b.keyPath;var a=h(b);c={name:c,compound:a,keyPath:b,unique:d,multiEntry:e,extractKey:xc(b)};f[Bc(b)]=c;return c}),getIndexByKeyPath:function(a){return f[Bc(a)]}};f[":id"]=e.primaryKey;b!=null&&(f[Bc(b)]=e.primaryKey);return e})},hasGetAll:c.length>0&&"getAll"in b.objectStore(c[0])&&!(typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function e(a){if(a.type===3)return null;if(a.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var c=a.lower,d=a.upper,e=a.lowerOpen;a=a.upperOpen;c=c===void 0?d===void 0?null:b.upperBound(d,!!a):d===void 0?b.lowerBound(c,!!e):b.bound(c,d,!!e,!!a);return c}function f(b){var c=b.name;function d(d){var f=d.trans,b=d.type,a=d.keys,g=d.values,h=d.range;return new Promise(function(d,i){d=L(d);i=f.objectStore(c);var j=i.keyPath==null,k=b==="put"||b==="add";if(!k&&b!=="delete"&&b!=="deleteRange")throw new Error("Invalid operation type: "+b);var l=(a||g||{length:1}).length;if(a&&g&&a.length!==g.length)throw new Error("Given keys array must have same length as given values array.");if(l===0)return d({numFailures:0,failures:{},results:[],lastResult:void 0});var m,n=[],o=[],p=0,q=function(a){++p,nc(a)};if(b==="deleteRange"){if(h.type===4)return d({numFailures:p,failures:o,results:[],lastResult:void 0});h.type===3?n.push(m=i.clear()):n.push(m=i["delete"](e(h)))}else{j=k?j?[g,a]:[g,null]:[a,null];var r=j[0];j=j[1];if(k)for(k=0;k<l;++k)n.push(m=j&&j[k]!==void 0?i[b](r[k],j[k]):i[b](r[k])),m.onerror=q;else for(k=0;k<l;++k)n.push(m=i[b](r[k])),m.onerror=q}var s=function(c){c=c.target.result;n.forEach(function(a,b){return a.error!=null&&(o[b]=a.error)});d({numFailures:p,failures:o,results:b==="delete"?a:n.map(function(a){return a.result}),lastResult:c})};m.onerror=function(a){q(a),s(a)};m.onsuccess=s})}function a(b){var d=b.trans,f=b.values,a=b.query,g=b.reverse,h=b.unique;return new Promise(function(b,i){b=L(b);var j=a.index,k=a.range,l=d.objectStore(c);l=j.isPrimaryKey?l:l.index(j.name);j=g?h?"prevunique":"prev":h?"nextunique":"next";var m=f||!("openKeyCursor"in l)?l.openCursor(e(k),j):l.openKeyCursor(e(k),j);m.onerror=V(i);m.onsuccess=L(function(a){var c=m.result;if(!c){b(null);return}c.___id=++Ac;c.done=!1;var e=c["continue"].bind(c),f=c.continuePrimaryKey;f&&(f=f.bind(c));var g=c.advance.bind(c);a=function(){throw new Error("Cursor not started")};var h=function(){throw new Error("Cursor not stopped")};c.trans=d;c.stop=c["continue"]=c.continuePrimaryKey=c.advance=a;c.fail=L(i);c.next=function(){var a=this,b=1;return this.start(function(){return b--?a["continue"]():a.stop()}).then(function(){return a})};c.start=function(a){var b=new Promise(function(a,b){a=L(a),m.onerror=V(b),c.fail=b,c.stop=function(b){c.stop=c["continue"]=c.continuePrimaryKey=c.advance=h,a(b)}}),d=function(){if(m.result)try{a()}catch(a){c.fail(a)}else c.done=!0,c.start=function(){throw new Error("Cursor behind last entry")},c.stop()};m.onsuccess=L(function(a){m.onsuccess=d,d()});c["continue"]=e;c.continuePrimaryKey=f;c.advance=g;d();return b};b(c)},i)})}function f(a){return function(b){return new Promise(function(f,g){f=L(f);var h=b.trans,i=b.values,j=b.limit,d=b.query,k=j===Infinity?void 0:j,l=d.index;d=d.range;h=h.objectStore(c);h=l.isPrimaryKey?h:h.index(l.name);l=e(d);if(j===0)return f({result:[]});if(a){d=i?h.getAll(l,k):h.getAllKeys(l,k);d.onsuccess=function(a){return f({result:a.target.result})};d.onerror=V(g)}else{var m=0,n=i||!("openKeyCursor"in h)?h.openCursor(l):h.openKeyCursor(l),o=[];n.onsuccess=function(a){a=n.result;if(!a)return f({result:o});o.push(i?a.value:a.primaryKey);if(++m===j)return f({result:o});a["continue"]()};n.onerror=V(g)}})}}return{name:c,schema:b,mutate:d,getMany:function(b){var d=b.trans,a=b.keys;return new Promise(function(b,e){b=L(b);var f=d.objectStore(c),g=a.length,h=new Array(g),i=0,j=0,k=function(a){a=a.target;(h[a._pos]=a.result)!=null;++j===i&&b(h)};e=V(e);for(var l=0;l<g;++l){var m=a[l];m!=null&&(m=f.get(a[l]),m._pos=l,m.onsuccess=k,m.onerror=e,++i)}i===0&&b(h)})},get:function(a){var b=a.trans,d=a.key;return new Promise(function(a,e){a=L(a);var f=b.objectStore(c);f=f.get(d);f.onsuccess=function(b){return a(b.target.result)};f.onerror=V(e)})},query:f(g),openCursor:a,count:function(b){var a=b.query,d=b.trans,f=a.index,g=a.range;return new Promise(function(a,b){var h=d.objectStore(c);h=f.isPrimaryKey?h:h.index(f.name);var i=e(g);i=i?h.count(i):h.count();i.onsuccess=L(function(b){return a(b.target.result)});i.onerror=V(b)})}}}d=d(a,c);c=d.schema;var g=d.hasGetAll;d=c.tables.map(function(a){return f(a)});var i={};d.forEach(function(a){return i[a.name]=a});return{stack:"dbcore",transaction:a.transaction.bind(a),table:function(a){var b=i[a];if(!b)throw new Error("Table '".concat(a,"' not found"));return i[a]},MIN_KEY:-Infinity,MAX_KEY:wc(b),schema:c}}function Dc(a,b){return b.reduce(function(a,b){b=b.create;return d(d({},a),b(a))},a)}function Ec(a,b,c,d){var e=c.IDBKeyRange;c.indexedDB;c=Dc(Cc(b,e,d),a.dbcore);return{dbcore:c}}function Fc(a,b){var c=b.db;c=Ec(a._middlewares,c,a._deps,b);a.core=c.dbcore;a.tables.forEach(function(b){var c=b.name;a.core.schema.tables.some(function(a){return a.name===c})&&(b.core=a.core.table(c),a[c]instanceof a.Table&&(a[c].core=b.core))})}function Gc(a,b,c,d){c.forEach(function(c){var e=d[c];b.forEach(function(b){var d=r(b,c);(!d||"value"in d&&d.value===void 0)&&(b===a.Transaction.prototype||b instanceof a.Transaction?o(b,c,{get:function(){return this.table(c)},set:function(a){n(this,c,{value:a,writable:!0,configurable:!0,enumerable:!0})}}):b[c]=new a.Table(c,e))})})}function Hc(a,b){b.forEach(function(b){for(var c in b)b[c]instanceof a.Table&&delete b[c]})}function Ic(a,b){return a._cfg.version-b._cfg.version}function Jc(a,b,c,d){var e=a._dbSchema;c.objectStoreNames.contains("$meta")&&!e.$meta&&(e.$meta=uc("$meta",Wc("")[0],[]),a._storeNames.push("$meta"));var f=a._createTransaction("readwrite",a._storeNames,e);f.create(c);f._completion["catch"](d);var h=f._reject.bind(f),i=J.transless||J;N(function(){J.trans=f;J.transless=i;if(b===0)g(e).forEach(function(a){Oc(c,a,e[a].primKey,e[a].indexes)}),Fc(a,c),K.follow(function(){return a.on.populate.fire(f)})["catch"](h);else{Fc(a,c);return Lc(a,f,b).then(function(b){return Mc(a,b,f,c)})["catch"](h)}})}function Kc(a,b){Pc(a._dbSchema,b);b.db.version%10===0&&!b.objectStoreNames.contains("$meta")&&b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var c=Sc(a,a.idbdb,b);Vc(a,a._dbSchema,b);c=Nc(c,a._dbSchema);a=function(a){if(a.change.length||a.recreate)return{value:void 0};var c=b.objectStore(a.name);a.add.forEach(function(a){G&&!1,Rc(c,a)})};for(var d=0,c=c.change;d<c.length;d++){var e=c[d];e=a(e);if(typeof e==="object")return e.value}}function Lc(a,b,c){if(b.storeNames.includes("$meta"))return b.table("$meta").get("version").then(function(a){return a!=null?a:c});else return K.resolve(c)}function Mc(a,b,c,d){var e=[],f=a._versions,h=a._dbSchema=Sc(a,a.idbdb,d);f=f.filter(function(a){return a._cfg.version>=b});if(f.length===0)return K.resolve();f.forEach(function(f){e.push(function(){var e=h,i=f._cfg.dbschema;Vc(a,e,d);Vc(a,i,d);h=a._dbSchema=i;var j=Nc(e,i);j.add.forEach(function(a){Oc(d,a[0],a[1].primKey,a[1].indexes)});j.change.forEach(function(a){if(a.recreate)throw new D.Upgrade("Not yet support for changing primary key");else{var b=d.objectStore(a.name);a.add.forEach(function(a){return Rc(b,a)});a.change.forEach(function(a){b.deleteIndex(a.name),Rc(b,a)});a.del.forEach(function(a){return b.deleteIndex(a)})}});var k=f._cfg.contentUpgrade;if(k&&f._cfg.version>b){Fc(a,d);c._memoizedTables={};var l=da(i);j.del.forEach(function(a){l[a]=e[a]});Hc(a,[a.Transaction.prototype]);Gc(a,[a.Transaction.prototype],g(l),l);c.schema=l;var m=qa(k);m&&qb();var n;i=K.follow(function(){n=k(c);if(n&&m){var a=O.bind(null,null);n.then(a,a)}});return n&&typeof n.then==="function"?K.resolve(n):i.then(function(){return n})}}),e.push(function(b){var d=f._cfg.dbschema;Qc(d,b);Hc(a,[a.Transaction.prototype]);Gc(a,[a.Transaction.prototype],a._storeNames,a._dbSchema);c.schema=a._dbSchema}),e.push(function(b){a.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(a.idbdb.version/10)===f._cfg.version?(a.idbdb.deleteObjectStore("$meta"),delete a._dbSchema.$meta,a._storeNames=a._storeNames.filter(function(a){return a!=="$meta"})):b.objectStore("$meta").put(f._cfg.version,"version"))})});function i(){return e.length?K.resolve(e.shift()(c.idbtrans)).then(i):K.resolve()}return i().then(function(){Pc(h,d)})}function Nc(a,b){var c={del:[],add:[],change:[]},d;for(d in a)b[d]||c.del.push(d);for(d in b){var e=a[d],f=b[d];if(!e)c.add.push([d,f]);else{var g={name:d,def:f,recreate:!1,del:[],add:[],change:[]};if(""+(e.primKey.keyPath||"")!==""+(f.primKey.keyPath||"")||e.primKey.auto!==f.primKey.auto)g.recreate=!0,c.change.push(g);else{e=e.idxByName;f=f.idxByName;var h;for(h in e)f[h]||g.del.push(h);for(h in f){var i=e[h],j=f[h];!i?g.add.push(j):i.src!==j.src&&g.change.push(j)}(g.del.length>0||g.add.length>0||g.change.length>0)&&c.change.push(g)}}}return c}function Oc(a,b,c,d){var e=a.db.createObjectStore(b,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});d.forEach(function(a){return Rc(e,a)});return e}function Pc(a,b){g(a).forEach(function(c){b.db.objectStoreNames.contains(c)||(G&&!1,Oc(b,c,a[c].primKey,a[c].indexes))})}function Qc(a,b){[].slice.call(b.db.objectStoreNames).forEach(function(c){return a[c]==null&&b.db.deleteObjectStore(c)})}function Rc(a,b){a.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function Sc(a,b,c){var d={};a=t(b.objectStoreNames,0);a.forEach(function(a){var b=c.objectStore(a),e=b.keyPath,f=sc(tc(e),e||"",!0,!1,!!b.autoIncrement,e&&typeof e!=="string",!0),g=[];for(var h=0;h<b.indexNames.length;++h){var i=b.index(b.indexNames[h]);e=i.keyPath;i=sc(i.name,e,!!i.unique,!!i.multiEntry,!1,e&&typeof e!=="string",!1);g.push(i)}d[a]=uc(a,f,g)});return d}function Tc(a,b,c){a.verno=b.version/10;c=a._dbSchema=Sc(a,b,c);a._storeNames=t(b.objectStoreNames,0);Gc(a,[a._allTables],g(c),c)}function Uc(a,b){b=Sc(a,a.idbdb,b);b=Nc(b,a._dbSchema);return!(b.add.length||b.change.some(function(a){return a.add.length||a.change.length}))}function Vc(a,b,c){var d=c.db.objectStoreNames;for(var e=0;e<d.length;++e){var g=d[e],h=c.objectStore(g);a._hasGetAll="getAll"in h;for(var i=0;i<h.indexNames.length;++i){var j=h.indexNames[i],k=h.index(j).keyPath;k=typeof k==="string"?k:"["+t(k).join("+")+"]";if(b[g]){var l=b[g].idxByName[k];l&&(l.name=j,delete b[g].idxByName[k],b[g].idxByName[j]=l)}}}typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function Wc(a){return a.split(",").map(function(a,b){a=a.trim();var c=a.replace(/([&*]|\+\+)/g,""),d=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return sc(c,d||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),h(d),b===0)})}var Xc=function(){function a(){}a.prototype._parseStoresSpec=function(a,b){g(a).forEach(function(c){if(a[c]!==null){var d=Wc(a[c]),e=d.shift();e.unique=!0;if(e.multi)throw new D.Schema("Primary key cannot be multi-valued");d.forEach(function(a){if(a.auto)throw new D.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new D.Schema("Index must have a name and cannot be an empty string")});b[c]=uc(c,e,d)}})};a.prototype.stores=function(a){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?i(this._cfg.storesSource,a):a;a=b._versions;var c={},d={};a.forEach(function(a){i(c,a._cfg.storesSource),d=a._cfg.dbschema={},a._parseStoresSpec(c,d)});b._dbSchema=d;Hc(b,[b._allTables,b,b.Transaction.prototype]);Gc(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],g(d),d);b._storeNames=g(d);return this};a.prototype.upgrade=function(a){this._cfg.contentUpgrade=Ga(this._cfg.contentUpgrade||E,a);return this};return a}();function Yc(a){return Qb(Xc.prototype,function(b){this.db=a,this._cfg={version:b,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Zc(a,b){var c=a._dbNamesDB;c||(c=a._dbNamesDB=new Y(Db,{addons:[],indexedDB:a,IDBKeyRange:b}),c.version(1).stores({dbnames:"name"}));return c.table("dbnames")}function $c(a){return a&&typeof a.databases==="function"}function ad(a){var b=a.indexedDB;a=a.IDBKeyRange;return $c(b)?Promise.resolve(b.databases()).then(function(a){return a.map(function(a){return a.name}).filter(function(a){return a!==Db})}):Zc(b,a).toCollection().primaryKeys()}function bd(a,b){var c=a.indexedDB;a=a.IDBKeyRange;!$c(c)&&b!==Db&&Zc(c,a).put({name:b})["catch"](E)}function cd(a,b){var c=a.indexedDB;a=a.IDBKeyRange;!$c(c)&&b!==Db&&Zc(c,a)["delete"](b)["catch"](E)}function dd(a){return N(function(){J.letThrough=!0;return a()})}function ed(){var a=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!a||!indexedDB.databases)return Promise.resolve();var b;return new Promise(function(a){var c=function(){return indexedDB.databases()["finally"](a)};b=setInterval(c,100);c()})["finally"](function(){return clearInterval(b)})}function fd(a){return!("from"in a)}var X=function(a,b){if(this)i(this,arguments.length?{d:1,from:a,to:arguments.length>1?b:a}:{d:0});else{var c=new X();a&&"d"in a&&i(c,a);return c}};m(X.prototype,(H={add:function(a){hd(this,a);return this},addKey:function(a){gd(this,a,a);return this},addKeys:function(a){var b=this;a.forEach(function(a){return gd(b,a,a)});return this}},H[na]=function(){return jd(this)},H));function gd(a,b,c){var d=S(b,c);if(isNaN(d))return;if(d>0)throw RangeError();if(fd(a))return i(a,{from:b,to:c,d:1});d=a.l;var e=a.r;if(S(c,a.from)<0){d?gd(d,b,c):a.l={from:b,to:c,d:1,l:null,r:null};return kd(a)}if(S(b,a.to)>0){e?gd(e,b,c):a.r={from:b,to:c,d:1,l:null,r:null};return kd(a)}S(b,a.from)<0&&(a.from=b,a.l=null,a.d=e?e.d+1:1);S(c,a.to)>0&&(a.to=c,a.r=null,a.d=a.l?a.l.d+1:1);b=!a.r;d&&!a.l&&hd(a,d);e&&b&&hd(a,e)}function hd(a,b){function c(a,b){var d=b.from,e=b.to,f=b.l;b=b.r;gd(a,d,e);f&&c(a,f);b&&c(a,b)}fd(b)||c(a,b)}function id(a,b){b=jd(b);var c=b.next();if(c.done)return!1;var d=c.value;a=jd(a);var e=a.next(d.from),f=e.value;while(!c.done&&!e.done){if(S(f.from,d.to)<=0&&S(f.to,d.from)>=0)return!0;S(d.from,f.from)<0?d=(c=b.next(f.from)).value:f=(e=a.next(d.from)).value}return!1}function jd(a){var b=fd(a)?null:{s:0,n:a};return{next:function(a){var c=arguments.length>0;while(b)switch(b.s){case 0:b.s=1;if(c)while(b.n.l&&S(a,b.n.from)<0)b={up:b,n:b.n.l,s:1};else while(b.n.l)b={up:b,n:b.n.l,s:1};case 1:b.s=2;if(!c||S(a,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3;b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function kd(a){var b;b=(((b=a.r)===null||b===void 0?void 0:b.d)||0)-(((b=a.l)===null||b===void 0?void 0:b.d)||0);b=b>1?"r":b<-1?"l":"";if(b){var c=b==="r"?"l":"r",e=d({},a),f=a[b];a.from=f.from;a.to=f.to;a[b]=f[b];e[b]=f[c];a[c]=e;e.d=ld(e)}a.d=ld(a)}function ld(a){var b=a.r;a=a.l;return(b?a?Math.max(b.d,a.d):b.d:a?a.d:0)+1}function md(a,b){g(b).forEach(function(c){a[c]?hd(a[c],b[c]):a[c]=ha(b[c])});return a}function nd(a,b){return a.all||b.all||Object.keys(a).some(function(c){return b[c]&&id(b[c],a[c])})}var od={},pd={},qd=!1;function rd(a,b){md(pd,a),qd||(qd=!0,setTimeout(function(){qd=!1;var a=pd;pd={};sd(a,!1)},0))}function sd(a,b){b===void 0&&(b=!1);var c=new Set();if(a.all)for(var d=0,e=Object.values(od);d<e.length;d++){var f=e[d];td(f,a,c,b)}else for(e in a){d=/^idb\:\/\/(.*)\/(.*)\//.exec(e);if(d){var g=d[1];d=d[2];var f=od["idb://".concat(g,"/").concat(d)];f&&td(f,a,c,b)}}c.forEach(function(a){return a()})}function td(a,b,c,d){var e=[];for(var f=0,g=Object.entries(a.queries.query);f<g.length;f++){var h=g[f],i=h[0];h=h[1];var j=[];for(var k=0,h=h;k<h.length;k++){var l=h[k];nd(b,l.obsSet)?l.subscribers.forEach(function(a){return c.add(a)}):d&&j.push(l)}d&&e.push([i,j])}if(d)for(l=0,k=e;l<k.length;l++){h=k[l];var i=h[0],j=h[1];a.queries.query[i]=j}}function ud(a){var b=a._state,c=a._deps.indexedDB;if(b.isBeingOpened||a.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?Q(b.dbOpenError):a});b.isBeingOpened=!0;b.dbOpenError=null;b.openComplete=!1;var d=b.openCanceller,e=Math.round(a.verno*10),f=!1;function g(){if(b.openCanceller!==d)throw new D.DatabaseClosed("db.open() was cancelled")}var h=b.dbReadyResolve,i=null,j=!1,k=function(){return new K(function(d,h){g();if(!c)throw new D.MissingAPI();var l=a.name,m=b.autoSchema||!e?c.open(l):c.open(l,e);if(!m)throw new D.MissingAPI();m.onerror=V(h);m.onblocked=L(a._fireOnBlocked);m.onupgradeneeded=L(function(d){i=m.transaction;if(b.autoSchema&&!a._options.allowEmptyDB){m.onerror=nc;i.abort();m.result.close();var e=c.deleteDatabase(l);e.onsuccess=e.onerror=L(function(){h(new D.NoSuchDatabase("Database ".concat(l," doesnt exist")))})}else{i.onerror=V(h);e=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;j=e<1;a.idbdb=m.result;f&&Kc(a,i);Jc(a,e/10,i,h)}},h);m.onsuccess=L(function(){i=null;var c=a.idbdb=m.result,g=t(c.objectStoreNames);if(g.length>0)try{g=c.transaction(vc(g),"readonly");if(b.autoSchema)Tc(a,c,g);else{Vc(a,a._dbSchema,g);if(!Uc(a,g)&&!f){c.close();e=c.version+1;f=!0;return d(k())}}Fc(a,g)}catch(a){}Cb.push(a);c.onversionchange=L(function(c){b.vcFired=!0,a.on("versionchange").fire(c)});c.onclose=L(function(b){a.on("close").fire(b)});j&&bd(a._deps,l);d()},h)})["catch"](function(a){switch(a===null||a===void 0?void 0:a.name){case"UnknownError":if(b.PR1398_maxLoop>0){b.PR1398_maxLoop--;return k()}break;case"VersionError":if(e>0){e=0;return k()}break}return K.reject(a)})};return K.race([d,(typeof navigator==="undefined"?K.resolve():ed()).then(k)]).then(function(){g();b.onReadyBeingFired=[];return K.resolve(dd(function(){return a.on.ready.fire(a.vip)})).then(function c(){if(b.onReadyBeingFired.length>0){var d=b.onReadyBeingFired.reduce(Ga,E);b.onReadyBeingFired=[];return K.resolve(dd(function(){return d(a.vip)})).then(c)}})})["finally"](function(){b.openCanceller===d&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)})["catch"](function(c){b.dbOpenError=c;try{i&&i.abort()}catch(a){}d===b.openCanceller&&a._close();return Q(c)})["finally"](function(){b.openComplete=!0,h()}).then(function(){if(j){var b={};a.tables.forEach(function(c){c.schema.indexes.forEach(function(d){d.name&&(b["idb://".concat(a.name,"/").concat(c.name,"/").concat(d.name)]=new X(-Infinity,[[[]]]))}),b["idb://".concat(a.name,"/").concat(c.name,"/")]=b["idb://".concat(a.name,"/").concat(c.name,"/:dels")]=new X(-Infinity,[[[]]])});W(oc).fire(b);sd(b,!0)}return a})}function vd(a){var b=function(b){return a.next(b)},c=function(b){return a["throw"](b)},d=f(b),e=f(c);function f(a){return function(b){b=a(b);var c=b.value;return b.done?c:!c||typeof c.then!=="function"?h(c)?Promise.all(c).then(d,e):d(c):c.then(d,e)}}return f(b)()}function wd(a,b,c){var d=arguments.length;if(d<2)throw new D.InvalidArgument("Too few arguments");var e=new Array(d-1);while(--d)e[d-1]=arguments[d];c=e.pop();var f=fa(e);return[a,f,c]}function xd(a,b,c,d,e){return K.resolve().then(function(){var f=J.transless||J,g=a._createTransaction(b,c,a._dbSchema,d);g.explicit=!0;f={trans:g,transless:f};if(d)g.idbtrans=d.idbtrans;else try{g.create(),g.idbtrans._explicit=!0,a._state.PR1398_maxLoop=3}catch(d){if(d.name===wa.InvalidState&&a.isOpen()&&--a._state.PR1398_maxLoop>0){a.close({disableAutoOpen:!1});return a.open().then(function(){return xd(a,b,c,null,e)})}return Q(d)}var h=qa(e);h&&qb();var i;f=K.follow(function(){i=e.call(g,g);if(i)if(h){var a=O.bind(null,null);i.then(a,a)}else typeof i.next==="function"&&typeof i["throw"]==="function"&&(i=vd(i))},f);return(i&&typeof i.then==="function"?K.resolve(i).then(function(a){return g.active?a:Q(new D.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):f.then(function(){return i})).then(function(a){d&&g._resolve();return g._completion.then(function(){return a})})["catch"](function(a){g._reject(a);return Q(a)})})}function yd(a,b,c){a=h(a)?a.slice():[a];for(var d=0;d<c;++d)a.push(b);return a}function zd(a){return d(d({},a),{table:function(b){var c=a.table(b);b=c.schema;var e={},f=[];function g(a,b,c){var h=Bc(a),i=e[h]=e[h]||[],j=a==null?0:typeof a==="string"?1:a.length,k=b>0;h=d(d({},c),{name:k?"".concat(h,"(virtual-from:").concat(c.name,")"):c.name,lowLevelIndex:c,isVirtual:k,keyTail:b,keyLength:j,extractKey:xc(a),unique:!k&&c.unique});i.push(h);h.isPrimaryKey||f.push(h);if(j>1){k=j===2?a[0]:a.slice(0,j-1);g(k,b+1,c)}i.sort(function(a,b){return a.keyTail-b.keyTail});return h}var h=g(b.primaryKey.keyPath,0,b.primaryKey);e[":id"]=[h];for(var i=0,j=b.indexes;i<j.length;i++){var k=j[i];g(k.keyPath,0,k)}function l(a){a=e[Bc(a)];return a&&a[0]}function m(b,c){return{type:b.type===1?2:b.type,lower:yd(b.lower,b.lowerOpen?a.MAX_KEY:a.MIN_KEY,c),lowerOpen:!0,upper:yd(b.upper,b.upperOpen?a.MIN_KEY:a.MAX_KEY,c),upperOpen:!0}}function n(b){var a=b.query.index;return a.isVirtual?d(d({},b),{query:{index:a.lowLevelIndex,range:m(b.query.range,a.keyTail)}}):b}k=d(d({},c),{schema:d(d({},b),{primaryKey:h,indexes:f,getIndexByKeyPath:l}),count:function(a){return c.count(n(a))},query:function(a){return c.query(n(a))},openCursor:function(d){var b=d.query.index,e=b.keyTail,f=b.isVirtual,g=b.keyLength;if(!f)return c.openCursor(d);function h(b){function c(c){c!=null?b["continue"](yd(c,d.reverse?a.MAX_KEY:a.MIN_KEY,e)):d.unique?b["continue"](b.key.slice(0,g).concat(d.reverse?a.MIN_KEY:a.MAX_KEY,e)):b["continue"]()}c=Object.create(b,{"continue":{value:c},continuePrimaryKey:{value:function(d,c){b.continuePrimaryKey(yd(d,a.MAX_KEY,e),c)}},primaryKey:{get:function(){return b.primaryKey}},key:{get:function(){var a=b.key;return g===1?a[0]:a.slice(0,g)}},value:{get:function(){return b.value}}});return c}return c.openCursor(n(d)).then(function(a){return a&&h(a)})}});return k}})}var Ad={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:zd};function Bd(a,b,c,d){c=c||{};d=d||"";g(a).forEach(function(e){if(!l(b,e))c[d+e]=void 0;else{var f=a[e],g=b[e];if(typeof f==="object"&&typeof g==="object"&&f&&g){var h=ma(f),i=ma(g);h!==i?c[d+e]=b[e]:h==="Object"?Bd(f,g,c,d+e+"."):f!==g&&(c[d+e]=b[e])}else f!==g&&(c[d+e]=b[e])}});g(b).forEach(function(e){l(a,e)||(c[d+e]=b[e])});return c}function Cd(a,b){return b.type==="delete"?b.keys:b.keys||b.values.map(a.extractKey)}var Dd={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return d(d({},a),{table:function(b){var c=a.table(b),f=c.schema.primaryKey,g=d(d({},c),{mutate:function(a){var g=J.trans,h=g.table(b).hook,i=h.deleting,j=h.creating,k=h.updating;switch(a.type){case"add":if(j.fire===E)break;return g._promise("readwrite",function(){return m(a)},!0);case"put":if(j.fire===E&&k.fire===E)break;return g._promise("readwrite",function(){return m(a)},!0);case"delete":if(i.fire===E)break;return g._promise("readwrite",function(){return m(a)},!0);case"deleteRange":if(i.fire===E)break;return g._promise("readwrite",function(){return n(a)},!0)}return c.mutate(a);function m(b){var g=J.trans,a=b.keys||Cd(f,b);if(!a)throw new Error("Keys missing");b=b.type==="add"||b.type==="put"?d(d({},b),{keys:a}):d({},b);b.type!=="delete"&&(b.values=e([],b.values,!0));b.keys&&(b.keys=e([],b.keys,!0));return Ed(c,b,a).then(function(d){var e=a.map(function(a,c){var e=d[c],h={onerror:null,onsuccess:null};if(b.type==="delete")i.fire.call(h,a,e,g);else if(b.type==="add"||e===void 0){var m=j.fire.call(h,a,b.values[c],g);a==null&&m!=null&&(a=m,b.keys[c]=a,f.outbound||x(b.values[c],f.keyPath,a))}else{m=Bd(e,b.values[c]);var n=k.fire.call(h,m,a,e,g);if(n){var o=b.values[c];Object.keys(n).forEach(function(a){l(o,a)?o[a]=n[a]:x(o,a,n[a])})}}return h});return c.mutate(b).then(function(c){var f=c.failures,g=c.results,h=c.numFailures;c=c.lastResult;for(var i=0;i<a.length;++i){var j=g?g[i]:a[i],k=e[i];j==null?k.onerror&&k.onerror(f[i]):k.onsuccess&&k.onsuccess(b.type==="put"&&d[i]?b.values[i]:j)}return{failures:f,results:g,numFailures:h,lastResult:c}})["catch"](function(a){e.forEach(function(b){return b.onerror&&b.onerror(a)});return Promise.reject(a)})})}function n(a){return o(a.trans,a.range,1e4)}function o(a,b,e){return c.query({trans:a,values:!1,query:{index:f,range:b},limit:e}).then(function(c){var f=c.result;return m({type:"delete",keys:f,trans:a}).then(function(c){if(c.numFailures>0)return Promise.reject(c.failures[0]);if(f.length<e)return{failures:[],numFailures:0,lastResult:void 0};else return o(a,d(d({},b),{lower:f[f.length-1],lowerOpen:!0}),e)})})}}});return g}})}};function Ed(a,b,c){return b.type==="add"?Promise.resolve([]):a.getMany({trans:b.trans,keys:c,cache:"immutable"})}function Fd(a,b,c){try{if(!b)return null;if(b.keys.length<a.length)return null;var d=[];for(var e=0,f=0;e<b.keys.length&&f<a.length;++e){if(S(b.keys[e],a[f])!==0)continue;d.push(c?z(b.values[e]):b.values[e]);++f}return d.length===a.length?d:null}catch(a){return null}}var Gd={stack:"dbcore",level:-1,create:function(a){return{table:function(b){var c=a.table(b);return d(d({},c),{getMany:function(a){if(!a.cache)return c.getMany(a);var b=Fd(a.keys,a.trans._cache,a.cache==="clone");return b?K.resolve(b):c.getMany(a).then(function(b){a.trans._cache={keys:a.keys,values:a.cache==="clone"?z(b):b};return b})},mutate:function(a){a.type!=="add"&&(a.trans._cache=null);return c.mutate(a)}})}}}};function Hd(a,b){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function Id(a,b){switch(a){case"query":return b.values&&!b.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var Jd={stack:"dbcore",level:0,name:"Observability",create:function(a){var b=a.schema.name,c=new X(a.MIN_KEY,a.MAX_KEY);return d(d({},a),{transaction:function(b,c,d){if(J.subscr&&c!=="readonly")throw new D.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(J.querier));return a.transaction(b,c,d)},table:function(e){var f=a.table(e),i=f.schema,j=i.primaryKey,k=j.extractKey,l=j.outbound,m=d(d({},f),{mutate:function(g){var k=g.trans,l=g.mutatedParts||(g.mutatedParts={}),m=function(a){a="idb://".concat(b,"/").concat(e,"/").concat(a);return l[a]||(l[a]=new X())},n=m(""),o=m(":dels"),d=g.type,p=g.type==="deleteRange"?[g.range]:g.type==="delete"?[g.keys]:g.values.length<50?[Cd(j,g).filter(function(a){return a}),g.values]:[],a=p[0];p=p[1];var q=g.trans._cache;if(h(a)){n.addKeys(a);d=d==="delete"||a.length===p.length?Fd(a,q):null;d||o.addKeys(a);(d||p)&&Kd(m,i,d,p)}else if(a){q={from:a.lower,to:a.upper};o.add(q);n.add(q)}else n.add(c),o.add(c),i.indexes.forEach(function(a){return m(a.name).add(c)});return f.mutate(g).then(function(b){a&&(g.type==="add"||g.type==="put")&&n.addKeys(b.results);k.mutatedParts=md(k.mutatedParts||{},l);return b})}}),n=function(b){b=b.query;var c=b.index;b=b.range;return[c,new X((c=b.lower)!==null&&c!==void 0?c:a.MIN_KEY,(c=b.upper)!==null&&c!==void 0?c:a.MAX_KEY)]},o={get:function(a){return[j,new X(a.key)]},getMany:function(a){return[j,new X().addKeys(a.keys)]},count:n,query:n,openCursor:n};g(o).forEach(function(a){m[a]=function(g){var h=J.subscr,i=!!h,j=Hd(J,f)&&Id(a,g),m=j?g.obsSet={}:h;if(i){var n=function(a){a="idb://".concat(b,"/").concat(e,"/").concat(a);return m[a]||(m[a]=new X())},p=n(""),q=n(":dels"),r=o[a](g),s=r[0],t=r[1];a==="query"&&s.isPrimaryKey&&!g.values?q.add(t):n(s.name||"").add(t);if(!s.isPrimaryKey)if(a==="count")q.add(c);else{var u=a==="query"&&l&&g.values&&f.query(d(d({},g),{values:!1}));return f[a].apply(this,arguments).then(function(b){if(a==="query"){if(l&&g.values)return u.then(function(a){a=a.result;p.addKeys(a);return b});var c=g.values?b.result.map(k):b.result;g.values?p.addKeys(c):q.addKeys(c)}else if(a==="openCursor"){var d=b,e=g.values;return d&&Object.create(d,{key:{get:function(){q.addKey(d.primaryKey);return d.key}},primaryKey:{get:function(){var a=d.primaryKey;q.addKey(a);return a}},value:{get:function(){e&&p.addKey(d.primaryKey);return d.value}}})}return b})}}return f[a].apply(this,arguments)}});return m}})}};function Kd(a,b,c,d){function e(b){var e=a(b.name||"");function f(a){return a!=null?b.extractKey(a):null}var g=function(a){return b.multiEntry&&h(a)?a.forEach(function(a){return e.addKey(a)}):e.addKey(a)};(c||d).forEach(function(a,b){a=c&&f(c[b]);b=d&&f(d[b]);S(a,b)!==0&&(a!=null&&g(a),b!=null&&g(b))})}b.indexes.forEach(e)}function Ld(a,b,c){if(c.numFailures===0)return b;if(b.type==="deleteRange")return null;a=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1;if(c.numFailures===a)return null;a=d({},b);h(a.keys)&&(a.keys=a.keys.filter(function(a,b){return!(b in c.failures)}));"values"in a&&h(a.values)&&(a.values=a.values.filter(function(a,b){return!(b in c.failures)}));return a}function Md(a,b){return b.lower===void 0?!0:b.lowerOpen?S(a,b.lower)>0:S(a,b.lower)>=0}function Nd(a,b){return b.upper===void 0?!0:b.upperOpen?S(a,b.upper)<0:S(a,b.upper)<=0}function Od(a,b){return Md(a,b)&&Nd(a,b)}function Pd(a,b,c,d,e,f){if(!c||c.length===0)return a;var g=b.query.index,i=g.multiEntry,j=b.query.range;d=d.schema.primaryKey;var k=d.extractKey,l=g.extractKey,m=(g.lowLevelIndex||g).extractKey;d=c.reduce(function(a,c){var d=a,e=c.type==="add"||c.type==="put"?c.values.filter(function(a){a=l(a);return i&&h(a)?a.some(function(a){return Od(a,j)}):Od(a,j)}).map(function(a){a=z(a);f&&Object.freeze(a);return a}):[];switch(c.type){case"add":d=a.concat(b.values?e:e.map(function(a){return k(a)}));break;case"put":var g=new X().addKeys(c.values.map(function(a){return k(a)}));d=a.filter(function(a){a=b.values?k(a):a;return!id(new X(a),g)}).concat(b.values?e:e.map(function(a){return k(a)}));break;case"delete":var m=new X().addKeys(c.keys);d=a.filter(function(a){a=b.values?k(a):a;return!id(new X(a),m)});break;case"deleteRange":var n=c.range;d=a.filter(function(a){return!Od(k(a),n)});break}return d},a);if(d===a)return a;d.sort(function(a,b){return S(m(a),m(b))||S(k(a),k(b))});b.limit&&b.limit<Infinity&&(d.length>b.limit?d.length=b.limit:a.length===b.limit&&d.length<b.limit&&(e.dirty=!0));return f?Object.freeze(d):d}function Qd(a,b){return S(a.lower,b.lower)===0&&S(a.upper,b.upper)===0&&!!a.lowerOpen===!!b.lowerOpen&&!!a.upperOpen===!!b.upperOpen}function Rd(a,b,c,d){if(a===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;a=S(a,b);if(a===0){if(c&&d)return 0;if(c)return 1;if(d)return-1}return a}function Sd(a,b,c,d){if(a===void 0)return b!==void 0?1:0;if(b===void 0)return-1;a=S(a,b);if(a===0){if(c&&d)return 0;if(c)return-1;if(d)return 1}return a}function Td(a,b){return Rd(a.lower,b.lower,a.lowerOpen,b.lowerOpen)<=0&&Sd(a.upper,b.upper,a.upperOpen,b.upperOpen)>=0}function Ud(b,c,a,d){b=od["idb://".concat(b,"/").concat(c)];if(!b)return[];c=b.queries[a];if(!c)return[null,!1,b,null];var e=d.query?d.query.index.name:null;c=c[e||""];if(!c)return[null,!1,b,null];switch(a){case"query":e=c.find(function(a){return a.req.limit===d.limit&&a.req.values===d.values&&Qd(a.req.query.range,d.query.range)});if(e)return[e,!0,b,c];a=c.find(function(a){var b="limit"in a.req?a.req.limit:Infinity;return b>=d.limit&&(d.values?a.req.values:!0)&&Td(a.req.query.range,d.query.range)});return[a,!1,b,c];case"count":e=c.find(function(a){return Qd(a.req.query.range,d.query.range)});return[e,!!e,b,c]}}function Vd(a,b,c,d){a.subscribers.add(c),d.addEventListener("abort",function(){a.subscribers["delete"](c),a.subscribers.size===0&&Wd(a,b)})}function Wd(a,b){setTimeout(function(){a.subscribers.size===0&&A(b,a)},3e3)}var Xd={stack:"dbcore",level:0,name:"Cache",create:function(a){var b=a.schema.name,c=d(d({},a),{transaction:function(c,d,e){var f=a.transaction(c,d,e);if(d==="readwrite"){var g=new AbortController();e=g.signal;var h=function(e){return function(){g.abort();if(d==="readwrite"){var h=new Set();for(var i=0,j=c;i<j.length;i++){var k=j[i],l=od["idb://".concat(b,"/").concat(k)];if(l){k=a.table(k);var m=l.optimisticOps.filter(function(a){return a.trans===f});if(f._explicit&&e&&f.mutatedParts)for(var n=0,o=Object.values(l.queries.query);n<o.length;n++){var p=o[n];for(var q=0,r=p.slice();q<r.length;q++){var s=r[q];nd(s.obsSet,f.mutatedParts)&&(A(p,s),s.subscribers.forEach(function(a){return h.add(a)}))}}else if(m.length>0){l.optimisticOps=l.optimisticOps.filter(function(a){return a.trans!==f});for(q=0,r=Object.values(l.queries.query);q<r.length;q++){var p=r[q];for(n=0,o=p.slice();n<o.length;n++){var s=o[n];if(s.res!=null&&f.mutatedParts)if(e&&!s.dirty){l=Object.isFrozen(s.res);l=Pd(s.res,s.req,m,k,s,l);s.dirty?(A(p,s),s.subscribers.forEach(function(a){return h.add(a)})):l!==s.res&&(s.res=l,s.promise=K.resolve({result:l}))}else s.dirty&&A(p,s),s.subscribers.forEach(function(a){return h.add(a)})}}}}}h.forEach(function(a){return a()})}}};f.addEventListener("abort",h(!1),{signal:e});f.addEventListener("error",h(!1),{signal:e});f.addEventListener("complete",h(!0),{signal:e})}return f},table:function(c){var e=a.table(c),f=e.schema.primaryKey,g=d(d({},e),{mutate:function(a){var g=J.trans;if(f.outbound||g.db._options.cache==="disabled"||g.explicit)return e.mutate(a);var h=od["idb://".concat(b,"/").concat(c)];if(!h)return e.mutate(a);g=e.mutate(a);(a.type==="add"||a.type==="put")&&(a.values.length>=50||Cd(f,a).some(function(a){return a==null}))?g.then(function(b){var c=d(d({},a),{values:a.values.map(function(a,c){var e;e=((e=f.keyPath)===null||e===void 0?void 0:e.includes("."))?z(a):d({},a);x(e,f.keyPath,b.results[c]);return e})});c=Ld(h,c,b);h.optimisticOps.push(c);queueMicrotask(function(){return a.mutatedParts&&rd(a.mutatedParts)})}):(h.optimisticOps.push(a),a.mutatedParts&&rd(a.mutatedParts),g.then(function(b){if(b.numFailures>0){A(h.optimisticOps,a);b=Ld(h,a,b);b&&h.optimisticOps.push(b);a.mutatedParts&&rd(a.mutatedParts)}}),g["catch"](function(){A(h.optimisticOps,a),a.mutatedParts&&rd(a.mutatedParts)}));return g},query:function(a){var d;if(!Hd(J,e)||!Id("query",a))return e.query(a);var f=((d=J.trans)===null||d===void 0?void 0:d.db._options.cache)==="immutable";d=J;var g=d.requery;d=d.signal;var h=Ud(b,c,"query",a),i=h[0],j=h[1],k=h[2],l=h[3];if(i&&j)i.obsSet=a.obsSet;else{h=e.query(a).then(function(a){var b=a.result;i&&(i.res=b);if(f){for(var c=0,d=b.length;c<d;++c)Object.freeze(b[c]);Object.freeze(b)}else a.result=z(b);return a})["catch"](function(a){l&&i&&A(l,i);return Promise.reject(a)});i={obsSet:a.obsSet,promise:h,subscribers:new Set(),type:"query",req:a,dirty:!1};l?l.push(i):(l=[i],k||(k=od["idb://".concat(b,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map(),optimisticOps:[],unsignaledParts:{}}),k.queries.query[a.query.index.name||""]=l)}Vd(i,l,g,d);return i.promise.then(function(b){return{result:Pd(b.result,a,k===null||k===void 0?void 0:k.optimisticOps,e,i,f)}})}});return g}});return c}};function Yd(a,b){return new Proxy(a,{get:function(a,c,d){return c==="db"?b:Reflect.get(a,c,d)}})}var Y=function(){function a(b,c){var e=this;this._middlewares={};this.verno=0;var f=a.dependencies;this._options=c=d({addons:a.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},c);this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange};f=c.addons;this._dbSchema={};this._versions=[];this._storeNames=[];this._allTables={};this.idbdb=null;this._novip=this;var g={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:E,dbReadyPromise:null,cancelOpen:E,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};g.dbReadyPromise=new K(function(a){g.dbReadyResolve=a});g.openCanceller=new K(function(a,b){g.cancelOpen=b});this._state=g;this.name=b;this.on=Pb(this,"populate","blocked","versionchange","close",{ready:[Ga,E]});this.on.ready.subscribe=u(this.on.ready.subscribe,function(b){return function(c,d){a.vip(function(){var a=e._state;if(a.openComplete)a.dbOpenError||K.resolve().then(c),d&&b(c);else if(a.onReadyBeingFired)a.onReadyBeingFired.push(c),d&&b(c);else{b(c);var f=e;d||b(function a(){f.on.ready.unsubscribe(c),f.on.ready.unsubscribe(a)})}})}});this.Collection=cc(this);this.Table=Rb(this);this.Transaction=rc(this);this.Version=Yc(this);this.WhereClause=mc(this);this.on("versionchange",function(a){a.newVersion>0?!1:!1,e.close({disableAutoOpen:!1})});this.on("blocked",function(a){!a.newVersion||a.newVersion<a.oldVersion?!1:!1});this._maxKey=wc(c.IDBKeyRange);this._createTransaction=function(a,b,c,d){return new e.Transaction(a,b,c,e._options.chromeTransactionDurability,d)};this._fireOnBlocked=function(a){e.on("blocked").fire(a),Cb.filter(function(a){return a.name===e.name&&a!==e&&!a._state.vcFired}).map(function(b){return b.on("versionchange").fire(a)})};this.use(Gd);this.use(Xd);this.use(Jd);this.use(Ad);this.use(Dd);var h=new Proxy(this,{get:function(a,b,c){if(b==="_vip")return!0;if(b==="table")return function(a){return Yd(e.table(a),h)};var d=Reflect.get(a,b,c);if(d instanceof Ob)return Yd(d,h);if(b==="tables")return d.map(function(a){return Yd(a,h)});return b==="_createTransaction"?function(){var a=d.apply(this,arguments);return Yd(a,h)}:d}});this.vip=h;f.forEach(function(a){return a(e)})}a.prototype.version=function(a){if(isNaN(a)||a<.1)throw new D.Type("Given version is not a positive number");a=Math.round(a*10)/10;if(this.idbdb||this._state.isBeingOpened)throw new D.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var b=this._versions,c=b.filter(function(b){return b._cfg.version===a})[0];if(c)return c;c=new this.Version(a);b.push(c);b.sort(Ic);c.stores({});this._state.autoSchema=!1;return c};a.prototype._whenReady=function(a){var b=this;return this.idbdb&&(this._state.openComplete||J.letThrough||this._vip)?a():new K(function(a,c){if(b._state.openComplete)return c(new D.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen){c(new D.DatabaseClosed());return}b.open()["catch"](E)}b._state.dbReadyPromise.then(a,c)}).then(a)};a.prototype.use=function(a){var b=a.stack,c=a.create,d=a.level;a=a.name;a&&this.unuse({stack:b,name:a});var e=this._middlewares[b]||(this._middlewares[b]=[]);e.push({stack:b,create:c,level:d==null?10:d,name:a});e.sort(function(a,b){return a.level-b.level});return this};a.prototype.unuse=function(a){var b=a.stack,c=a.name,d=a.create;b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(a){return d?a.create!==d:c?a.name!==c:!1}));return this};a.prototype.open=function(){var a=this;return vb(I,function(){return ud(a)})};a.prototype._close=function(){var a=this._state,b=Cb.indexOf(this);b>=0&&Cb.splice(b,1);if(this.idbdb){try{this.idbdb.close()}catch(a){}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new K(function(b){a.dbReadyResolve=b}),a.openCanceller=new K(function(b,c){a.cancelOpen=c}))};a.prototype.close=function(a){a=a===void 0?{disableAutoOpen:!0}:a;a=a.disableAutoOpen;var b=this._state;a?(b.isBeingOpened&&b.cancelOpen(new D.DatabaseClosed()),this._close(),b.autoOpen=!1,b.dbOpenError=new D.DatabaseClosed()):(this._close(),b.autoOpen=this._options.autoOpen||b.isBeingOpened,b.openComplete=!1,b.dbOpenError=null)};a.prototype["delete"]=function(a){var b=this;a===void 0&&(a={disableAutoOpen:!0});var c=arguments.length>0&&typeof arguments[0]!=="object",d=this._state;return new K(function(e,f){var g=function(){b.close(a);var c=b._deps.indexedDB.deleteDatabase(b.name);c.onsuccess=L(function(){cd(b._deps,b.name),e()});c.onerror=V(f);c.onblocked=b._fireOnBlocked};if(c)throw new D.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(g):g()})};a.prototype.backendDB=function(){return this.idbdb};a.prototype.isOpen=function(){return this.idbdb!==null};a.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"};a.prototype.hasFailed=function(){return this._state.dbOpenError!==null};a.prototype.dynamicallyOpened=function(){return this._state.autoSchema};Object.defineProperty(a.prototype,"tables",{get:function(){var a=this;return g(this._allTables).map(function(b){return a._allTables[b]})},enumerable:!1,configurable:!0});a.prototype.transaction=function(){var a=wd.apply(this,arguments);return this._transaction.apply(this,a)};a.prototype._transaction=function(a,b,c){var d=this,e=J.trans;(!e||e.db!==this||a.indexOf("!")!==-1)&&(e=null);var f=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");var g,h;try{h=b.map(function(a){a=a instanceof d.Table?a.name:a;if(typeof a!=="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return a});if(a=="r"||a===Eb)g=Eb;else if(a=="rw"||a==Fb)g=Fb;else throw new D.InvalidArgument("Invalid transaction mode: "+a);if(e){if(e.mode===Eb&&g===Fb)if(f)e=null;else throw new D.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");e&&h.forEach(function(a){if(e&&e.storeNames.indexOf(a)===-1)if(f)e=null;else throw new D.SubTransaction("Table "+a+" not included in parent transaction.")});f&&e&&!e.active&&(e=null)}}catch(a){return e?e._promise(null,function(b,c){c(a)}):Q(a)}var i=xd.bind(null,this,g,h,e,c);return e?e._promise(g,i,"lock"):J.trans?vb(J.transless,function(){return d._whenReady(i)}):this._whenReady(i)};a.prototype.table=function(a){if(!l(this._allTables,a))throw new D.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]};return a}(),Zd=typeof Symbol!=="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",$d=function(){function a(a){this._subscribe=a}a.prototype.subscribe=function(a,b,c){return this._subscribe(!a||typeof a==="function"?{next:a,error:b,complete:c}:a)};a.prototype[Zd]=function(){return this};return a}(),ae;try{ae={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch(a){ae={indexedDB:null,IDBKeyRange:null}}function be(a){var b=!1,c,d=new $d(function(d){var e=qa(a);function f(b){var c=eb();try{e&&qb();b=N(a,b);e&&(b=b["finally"](O));return b}finally{c&&fb()}}var g=!1,h,i={},j={},k={get closed(){return g},unsubscribe:function(){if(g)return;g=!0;h&&h.abort();l&&W.storagemutated.unsubscribe(o)}};d.start&&d.start(k);var l=!1,m=function(){return xb(p)};function n(){return nd(j,i)}var o=function(a){md(i,a),n()&&m()},p=function(){if(g||!ae.indexedDB)return;i={};var e={};h&&h.abort();h=new AbortController();var k={subscr:e,signal:h.signal,requery:m,querier:a,trans:null},n=f(k);Promise.resolve(n).then(function(a){b=!0;c=a;if(g||k.signal.aborted)return;i={};j=e;!ia(j)&&!l&&(W(oc,o),l=!0);xb(function(){return!g&&d.next&&d.next(a)})},function(a){b=!1,["DatabaseClosedError","AbortError"].includes(a===null||a===void 0?void 0:a.name)||(g||xb(function(){if(g)return;d.error&&d.error(a)}))})};setTimeout(m,0);return k});d.hasValue=function(){return b};d.getValue=function(){return c};return d}var ce=Y;m(ce,d(d({},C),{"delete":function(a){a=new ce(a,{addons:[]});return a["delete"]()},exists:function(a){return new ce(a,{addons:[]}).open().then(function(a){a.close();return!0})["catch"]("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return ad(ce.dependencies).then(a)}catch(a){return Q(new D.MissingAPI())}},defineClass:function(){function a(a){i(this,a)}return a},ignoreTransaction:function(a){return J.trans?vb(J.transless,a):a()},vip:dd,async:function(a){return function(){try{var b=vd(a.apply(this,arguments));return!b||typeof b.then!=="function"?K.resolve(b):b}catch(a){return Q(a)}}},spawn:function(a,b,c){try{a=vd(a.apply(c,b||[]));return!a||typeof a.then!=="function"?K.resolve(a):a}catch(a){return Q(a)}},currentTransaction:{get:function(){return J.trans||null}},waitFor:function(a,b){a=K.resolve(typeof a==="function"?ce.ignoreTransaction(a):a).timeout(b||6e4);return J.trans?J.trans.waitFor(a):a},Promise:K,debug:{get:function(){return G},set:function(a){Ha(a)}},derive:p,extend:i,props:m,override:u,Events:Pb,on:W,liveQuery:be,extendObservabilitySet:md,getByKeyPath:w,setByKeyPath:x,delByKeyPath:ca,shallowClone:da,deepClone:z,getObjectDiff:Bd,cmp:S,asap:aa,minKey:Ab,addons:[],connections:Cb,errnames:wa,dependencies:ae,cache:od,semVer:Ka,version:Ka.split(".").map(function(a){return parseInt(a)}).reduce(function(a,b,c){return a+b/Math.pow(10,c*2)})}));ce.maxKey=wc(ce.dependencies.IDBKeyRange);typeof dispatchEvent!=="undefined"&&typeof addEventListener!=="undefined"&&(W(oc,function(a){if(!Z){a=new CustomEvent(pc,{detail:a});Z=!0;dispatchEvent(a);Z=!1}}),addEventListener(pc,function(a){a=a.detail;Z||de(a)}));function de(a){var b=Z;try{Z=!0,W.storagemutated.fire(a),sd(a,!0)}finally{Z=b}}var Z=!1,$,ee=function(){};typeof BroadcastChannel!=="undefined"&&(ee=function(){$=new BroadcastChannel(pc),$.onmessage=function(a){return a.data&&de(a.data)}},ee(),typeof $.unref==="function"&&$.unref(),W(oc,function(a){Z||$.postMessage(a)}));typeof addEventListener!=="undefined"&&(addEventListener("pagehide",function(a){if(!Y.disableBfCache&&a.persisted){G&&!1;$===null||$===void 0?void 0:$.close();for(var a=0,b=Cb;a<b.length;a++){var c=b[a];c.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(a){!Y.disableBfCache&&a.persisted&&(G&&!1,ee(),de({all:new X(-Infinity,[[]])}))}));function fe(a,b){return new $b({replacePrefix:[a,b]})}K.rejectionMapper=za;Ha(G);H=Object.freeze({__proto__:null,Dexie:Y,liveQuery:be,Entity:Jb,cmp:S,PropModSymbol:y,PropModification:$b,replacePrefix:fe,"default":Y,RangeSet:X,mergeRanges:hd,rangesOverlap:id});d(Y,H,{"default":Y});return Y})}var j=!1;function k(){j||(j=!0,i());return h.exports}function b(a){switch(a){case void 0:return k()}}e.exports=b}),null);
__d("dexie_maw-next",["dexie-4.0.1"],(function(a,b,c,d,e,f){e.exports=b("dexie-4.0.1")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("minisearch-3.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():(b=typeof globalThis!=="undefined"?globalThis:b||self,b.MiniSearch=c())})(this,function(){var a=function(){a=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return a.apply(this,arguments)};function b(a){var b=typeof Symbol==="function"&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&typeof a.length==="number")return{next:function(){a&&d>=a.length&&(a=void 0);return{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(a,b){var c=typeof Symbol==="function"&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{while((b===void 0||b-->0)&&!(d=a.next()).done)e.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error}}return e}function d(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(c(arguments[b]));return a}var e="ENTRIES",f="KEYS",g="VALUES",h="",i=function(){function a(a,b){var c=a._tree,d=Object.keys(c);this.set=a;this._type=b;this._path=d.length>0?[{node:c,keys:d}]:[]}a.prototype.next=function(){var a=this.dive();this.backtrack();return a};a.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var a=j(this._path),b=a.node;a=a.keys;if(j(a)===h)return{done:!1,value:this.result()};this._path.push({node:b[j(a)],keys:Object.keys(b[j(a)])});return this.dive()};a.prototype.backtrack=function(){if(this._path.length===0)return;j(this._path).keys.pop();if(j(this._path).keys.length>0)return;this._path.pop();this.backtrack()};a.prototype.key=function(){return this.set._prefix+this._path.map(function(a){a=a.keys;return j(a)}).filter(function(a){return a!==h}).join("")};a.prototype.value=function(){return j(this._path).node[h]};a.prototype.result=function(){if(this._type===g)return this.value();return this._type===f?this.key():[this.key(),this.value()]};a.prototype[Symbol.iterator]=function(){return this};return a}(),j=function(a){return a[a.length-1]},k=0,l=1,m=2,n=3,o=function(a,b,d){var e=[{distance:0,i:0,key:"",node:a}],f={},g=[];a=function(){var a=e.pop(),i=a.node,j=a.distance,k=a.key,l=a.i,m=a.edit;Object.keys(i).forEach(function(n){if(n===h){var o=j+(b.length-l),a=c(f[k]||[null,Infinity],2);a=a[1];o<=d&&o<a&&(f[k]=[i[n],o])}else p(b,n,d-j,l,m,g).forEach(function(a){var c=a.distance,b=a.i;a=a.edit;e.push({node:i[n],distance:j+c,key:k+n,i:b,edit:a})})})};while(e.length>0)a();return f},p=function(a,b,c,d,e,f){f.push({distance:0,ia:d,ib:0,edit:e});d=[];while(f.length>0){e=f.pop();var g=e.distance,h=e.ia,i=e.ib;e=e.edit;if(i===b.length){d.push({distance:g,i:h,edit:e});continue}if(a[h]===b[i])f.push({distance:g,ia:h+1,ib:i+1,edit:k});else{if(g>=c)continue;e!==m&&f.push({distance:g+1,ia:h,ib:i+1,edit:n});h<a.length&&(e!==n&&f.push({distance:g+1,ia:h+1,ib:i,edit:m}),e!==n&&e!==m&&f.push({distance:g+1,ia:h+1,ib:i+1,edit:l}))}}return d},q=function(){function a(a,b){a===void 0&&(a={}),b===void 0&&(b=""),this._tree=a,this._prefix=b}a.prototype.atPrefix=function(d){var b;if(!d.startsWith(this._prefix))throw new Error("Mismatched prefix");var e=c(r(this._tree,d.slice(this._prefix.length)),2),f=e[0];e=e[1];if(f===void 0){e=c(y(e),2);var g=e[0],i=e[1];e=Object.keys(g).find(function(a){return a!==h&&a.startsWith(i)});if(e!==void 0)return new a((b={},b[e.slice(i.length)]=g[e],b),d)}return new a(f||{},d)};a.prototype.clear=function(){delete this._size,this._tree={}};a.prototype["delete"]=function(a){delete this._size;return v(this._tree,a)};a.prototype.entries=function(){return new i(this,e)};a.prototype.forEach=function(d){var e,a;try{for(var f=b(this),g=f.next();!g.done;g=f.next()){var h=c(g.value,2),i=h[0];h=h[1];d(i,h,this)}}catch(a){e={error:a}}finally{try{g&&!g.done&&(a=f["return"])&&a.call(f)}finally{if(e)throw e.error}}};a.prototype.fuzzyGet=function(a,b){return o(this._tree,a,b)};a.prototype.get=function(a){a=s(this._tree,a);return a!==void 0?a[h]:void 0};a.prototype.has=function(a){a=s(this._tree,a);return a!==void 0&&a.hasOwnProperty(h)};a.prototype.keys=function(){return new i(this,f)};a.prototype.set=function(a,b){if(typeof a!=="string")throw new Error("key must be a string");delete this._size;a=t(this._tree,a);a[h]=b;return this};Object.defineProperty(a.prototype,"size",{get:function(){var a=this;if(this._size)return this._size;this._size=0;this.forEach(function(){a._size+=1});return this._size},enumerable:!1,configurable:!0});a.prototype.update=function(a,b){if(typeof a!=="string")throw new Error("key must be a string");delete this._size;a=t(this._tree,a);a[h]=b(a[h]);return this};a.prototype.values=function(){return new i(this,g)};a.prototype[Symbol.iterator]=function(){return this.entries()};a.from=function(e){var f,d,g=new a();try{for(var h=b(e),i=h.next();!i.done;i=h.next()){e=c(i.value,2);var j=e[0];e=e[1];g.set(j,e)}}catch(a){f={error:a}}finally{try{i&&!i.done&&(d=h["return"])&&d.call(h)}finally{if(f)throw f.error}}return g};a.fromObject=function(b){return a.from(Object.entries(b))};return a}(),r=function(a,b,c){c===void 0&&(c=[]);if(b.length===0||a==null)return[a,c];var d=Object.keys(a).find(function(a){return a!==h&&b.startsWith(a)});if(d===void 0){c.push([a,b]);return r(void 0,"",c)}c.push([a,d]);return r(a[d],b.slice(d.length),c)},s=function(a,b){if(b.length===0||a==null)return a;var c=Object.keys(a).find(function(a){return a!==h&&b.startsWith(a)});return c===void 0?void 0:s(a[c],b.slice(c.length))},t=function(b,c){var a;if(c.length===0||b==null)return b;var d=Object.keys(b).find(function(a){return a!==h&&c.startsWith(a)});if(d===void 0){var e=Object.keys(b).find(function(a){return a!==h&&a.startsWith(c[0])});if(e===void 0)b[c]={};else{var f=u(c,e);b[f]=(a={},a[e.slice(f.length)]=b[e],a);delete b[e];return t(b[f],c.slice(f.length))}return b[c]}return t(b[d],c.slice(d.length))},u=function(a,b,c,d,e){c===void 0&&(c=0);d===void 0&&(d=Math.min(a.length,b.length));e===void 0&&(e="");if(c>=d)return e;return a[c]!==b[c]?e:u(a,b,c+1,d,e+a[c])},v=function(a,b){a=c(r(a,b),2);b=a[0];a=a[1];if(b===void 0)return;delete b[h];var d=Object.keys(b);d.length===0&&w(a);d.length===1&&x(a,d[0],b[d[0]])},w=function(b){if(b.length===0)return;var a=c(y(b),2),d=a[0];a=a[1];delete d[a];Object.keys(d).length===0&&w(b.slice(0,-1))},x=function(a,b,d){if(a.length===0)return;a=c(y(a),2);var e=a[0];a=a[1];e[a+b]=d;delete e[a]},y=function(a){return a[a.length-1]},z,A="or",B="and",C=function(){function b(b){if((b===null||b===void 0?void 0:b.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');this._options=a(a(a({},J),b),{searchOptions:a(a({},K),b.searchOptions||{})});this._index=new q();this._documentCount=0;this._documentIds={};this._fieldIds={};this._fieldLength={};this._averageFieldLength={};this._nextId=0;this._storedFields={};this.addFields(this._options.fields)}b.prototype.add=function(b){var c=this,a=this._options,d=a.extractField,e=a.tokenize,f=a.processTerm,g=a.fields;a=a.idField;var h=d(b,a);if(h==null)throw new Error('MiniSearch: document does not have ID field "'+a+'"');var i=this.addDocumentId(h);this.saveStoredFields(i,b);g.forEach(function(a){var g=d(b,a);if(g==null)return;g=e(g.toString(),a);c.addFieldLength(i,c._fieldIds[a],c.documentCount-1,g.length);g.forEach(function(b){b=f(b,a);b&&c.addTerm(c._fieldIds[a],i,b)})})};b.prototype.addAll=function(a){var b=this;a.forEach(function(a){return b.add(a)})};b.prototype.addAllAsync=function(a,b){var c=this;b===void 0&&(b={});b=b.chunkSize;var d=b===void 0?10:b;b={chunk:[],promise:Promise.resolve()};a=a.reduce(function(a,e,f){var b=a.chunk;a=a.promise;b.push(e);if((f+1)%d===0)return{chunk:[],promise:a.then(function(){return new Promise(function(a){return setTimeout(a,0)})}).then(function(){return c.addAll(b)})};else return{chunk:b,promise:a}},b);var e=a.chunk;b=a.promise;return b.then(function(){return c.addAll(e)})};b.prototype.remove=function(b){var d=this,a=this._options,e=a.tokenize,f=a.processTerm,g=a.extractField,h=a.fields;a=a.idField;var i=g(b,a);if(i==null)throw new Error('MiniSearch: document does not have ID field "'+a+'"');a=c(Object.entries(this._documentIds).find(function(a){a=c(a,2);a[0];a=a[1];return i===a})||[],1);var j=a[0];if(j==null)throw new Error("MiniSearch: cannot remove document with ID "+i+": it is not in the index");h.forEach(function(a){var c=g(b,a);if(c==null)return;c=e(c.toString(),a);c.forEach(function(b){b=f(b,a);b&&d.removeTerm(d._fieldIds[a],j,b)})});delete this._storedFields[j];delete this._documentIds[j];this._documentCount-=1};b.prototype.removeAll=function(a){var b=this;if(a)a.forEach(function(a){return b.remove(a)});else if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");else this._index=new q(),this._documentCount=0,this._documentIds={},this._fieldLength={},this._averageFieldLength={},this._storedFields={},this._nextId=0};b.prototype.search=function(d,e){var f=this;e===void 0&&(e={});var b=this._options,g=b.tokenize,h=b.processTerm;b=b.searchOptions;var i=a(a({tokenize:g,processTerm:h},b),e);g=i.tokenize;var j=i.processTerm;h=g(d).map(function(a){return j(a)}).filter(function(a){return!!a});b=h.map(H(i));e=b.map(function(a){return f.executeQuery(a,i)});g=this.combineResults(e,i.combineWith);return Object.entries(g).reduce(function(d,a){a=c(a,2);var e=a[0];a=a[1];var b=a.score,g=a.match;a=a.terms;a={id:f._documentIds[e],terms:I(a),score:b,match:g};Object.assign(a,f._storedFields[e]);(i.filter==null||i.filter(a))&&d.push(a);return d},[]).sort(function(a,b){a=a.score;b=b.score;return a<b?1:-1})};b.prototype.autoSuggest=function(b,d){d===void 0&&(d={});d=a(a({},L),d);b=this.search(b,d).reduce(function(c,a){var b=a.score;a=a.terms;var d=a.join(" ");c[d]==null?c[d]={score:b,terms:a,count:1}:(c[d].score+=b,c[d].count+=1);return c},{});return Object.entries(b).map(function(a){a=c(a,2);var d=a[0];a=a[1];var b=a.score,e=a.terms;a=a.count;return{suggestion:d,terms:e,score:b/a}}).sort(function(a,b){a=a.score;b=b.score;return a<b?1:-1})};Object.defineProperty(b.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0});b.loadJSON=function(a,c){if(c==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return b.loadJS(JSON.parse(a),c)};b.getDefault=function(a){if(J.hasOwnProperty(a))return D(J,a);else throw new Error('MiniSearch: unknown option "'+a+'"')};b.loadJS=function(a,c){var d=a.index,e=a.documentCount,f=a.nextId,g=a.documentIds,h=a.fieldIds,i=a.fieldLength,j=a.averageFieldLength;a=a.storedFields;c=new b(c);c._index=new q(d._tree,d._prefix);c._documentCount=e;c._nextId=f;c._documentIds=g;c._fieldIds=h;c._fieldLength=i;c._averageFieldLength=j;c._fieldIds=h;c._storedFields=a||{};return c};b.prototype.executeQuery=function(b,d){var e=this;d=a(a({},this._options.searchOptions),d);var f=(d.fields||this._options.fields).reduce(function(c,d){var b;return a(a({},c),(b={},b[d]=D(c,d)||1,b))},d.boost||{}),g=d.boostDocument;d=d.weights;d=a(a({},K.weights),d);var h=d.fuzzy,i=d.prefix;d=this.termResults(b.term,f,g,this._index.get(b.term));if(!b.fuzzy&&!b.prefix)return d;var j=[d];b.prefix&&this._index.atPrefix(b.term).forEach(function(a,c){var d=.3*(a.length-b.term.length)/a.length;j.push(e.termResults(a,f,g,c,i,d))});if(b.fuzzy){d=b.fuzzy===!0?.2:b.fuzzy;d=d<1?Math.round(b.term.length*d):d;Object.entries(this._index.fuzzyGet(b.term,d)).forEach(function(a){a=c(a,2);var b=a[0];a=c(a[1],2);var d=a[0];a=a[1];a=a/b.length;j.push(e.termResults(b,f,g,d,h,a))})}return j.reduce(E[A],{})};b.prototype.combineResults=function(a,b){b===void 0&&(b=A);if(a.length===0)return{};b=b.toLowerCase();return a.reduce(E[b],null)||{}};b.prototype.toJSON=function(){return{index:this._index,documentCount:this._documentCount,nextId:this._nextId,documentIds:this._documentIds,fieldIds:this._fieldIds,fieldLength:this._fieldLength,averageFieldLength:this._averageFieldLength,storedFields:this._storedFields}};b.prototype.termResults=function(a,b,d,e,f,g){var h=this;g===void 0&&(g=0);return e==null?{}:Object.entries(b).reduce(function(f,b){b=c(b,2);var i=b[0],j=b[1],k=h._fieldIds[i];b=e[k]||{ds:{}};var l=b.df;b=b.ds;Object.entries(b).forEach(function(b){b=c(b,2);var e=b[0];b=b[1];var m=d?d(h._documentIds[e],a):1;if(!m)return;var n=h._fieldLength[e][k]/h._averageFieldLength[k];f[e]=f[e]||{score:0,match:{},terms:[]};f[e].terms.push(a);f[e].match[a]=D(f[e].match,a)||[];f[e].score+=m*G(b,l,h._documentCount,n,j,g);f[e].match[a].push(i)});return f},{})};b.prototype.addTerm=function(b,c,d){this._index.update(d,function(d){d=d||{};var e=d[b]||{df:0,ds:{}};e.ds[c]==null&&(e.df+=1);e.ds[c]=(e.ds[c]||0)+1;return a(a({},d),(d={},d[b]=e,d))})};b.prototype.removeTerm=function(b,c,d){var e=this;if(!this._index.has(d)){this.warnDocumentChanged(c,b,d);return}this._index.update(d,function(f){var g=f[b];if(g==null||g.ds[c]==null){e.warnDocumentChanged(c,b,d);return f}if(g.ds[c]<=1){if(g.df<=1){delete f[b];return f}g.df-=1}if(g.ds[c]<=1){delete g.ds[c];return f}g.ds[c]-=1;return a(a({},f),(f={},f[b]=g,f))});Object.keys(this._index.get(d)).length===0&&this._index["delete"](d)};b.prototype.warnDocumentChanged=function(a,b,d){if(console==null||emptyFunction==null)return;a=Object.entries(this._fieldIds).find(function(a){a=c(a,2);a[0];a=a[1];return a===b})[0]};b.prototype.addDocumentId=function(a){var b=this._nextId.toString(36);this._documentIds[b]=a;this._documentCount+=1;this._nextId+=1;return b};b.prototype.addFields=function(a){var b=this;a.forEach(function(a,c){b._fieldIds[a]=c})};b.prototype.addFieldLength=function(a,b,c,d){this._averageFieldLength[b]=this._averageFieldLength[b]||0;var e=this._averageFieldLength[b]*c+d;this._fieldLength[a]=this._fieldLength[a]||{};this._fieldLength[a][b]=d;this._averageFieldLength[b]=e/(c+1)};b.prototype.saveStoredFields=function(b,c){var d=this,a=this._options,e=a.storeFields,f=a.extractField;if(e==null||e.length===0)return;this._storedFields[b]=this._storedFields[b]||{};e.forEach(function(a){var e=f(c,a);if(e===void 0)return;d._storedFields[b][a]=e})};return b}(),D=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:void 0},E=(z={},z[A]=function(a,b){return Object.entries(b).reduce(function(e,a){a=c(a,2);var f=a[0];a=a[1];var b=a.score,g=a.match;a=a.terms;e[f]==null?e[f]={score:b,match:g,terms:a}:(e[f].score+=b,e[f].score*=1.5,(b=e[f].terms).push.apply(b,d(a)),Object.assign(e[f].match,g));return e},a||{})},z[B]=function(b,e){return b==null?e:Object.entries(e).reduce(function(g,e){e=c(e,2);var h=e[0];e=e[1];var f=e.score,i=e.match;e=e.terms;if(b[h]===void 0)return g;g[h]=g[h]||{};g[h].score=b[h].score+f;g[h].match=a(a({},b[h].match),i);g[h].terms=d(b[h].terms,e);return g},{})},z),F=function(a,b,c){return a*Math.log(c/b)},G=function(a,b,c,d,e,f){e=e/(1+.333*e*f);return e*F(a,b,c)/d},H=function(a){return function(b,c,d){var e=typeof a.fuzzy==="function"?a.fuzzy(b,c,d):a.fuzzy||!1;c=typeof a.prefix==="function"?a.prefix(b,c,d):a.prefix===!0;return{term:b,fuzzy:e,prefix:c}}},I=function(a){return a.filter(function(b,c,a){return a.indexOf(b)===c})},J={idField:"id",extractField:function(a,b){return a[b]},tokenize:function(a,b){return a.split(M)},processTerm:function(a,b){return a.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[]},K={combineWith:A,prefix:!1,fuzzy:!1,boost:{},weights:{fuzzy:.9,prefix:.75}},L={prefix:function(a,b,c){return b===c.length-1}},M=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;return C})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("minisearch",["minisearch-3.0.2"],(function(a,b,c,d,e,f){e.exports=b("minisearch-3.0.2")()}),null);